{"seed":1593130495,"processedDockerfileHash":"589ebc69be543abed3fd6714d5790f3b","fixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck"],"processedDockerfile":"#\n#   NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#   PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM rabbitmq:3.8-alpine\nRUN set eux ; rabbitmq-plugins enable --offline rabbitmq_management ; rm -f /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf ; erl -noinput -eval ' { ok, AdminBin } = zip:foldl(fun(FileInArchive, GetInfo, GetBin, Acc) -> case Acc of \"\" -> case lists:suffix(\"/rabbitmqadmin\", FileInArchive) of true -> GetBin(); false -> Acc end; _ -> Acc end end, \"\", init:get_plain_arguments()), io:format(\"~s\", [ AdminBin ]), init:stop(). ' -- /plugins/rabbitmq_management-*.ez > /usr/local/bin/rabbitmqadmin; [ -s /usr/local/bin/rabbitmqadmin ] ; chmod +x /usr/local/bin/rabbitmqadmin ; apk add python3=3.10.11-r0 --no-cache ; rabbitmqadmin --version\nEXPOSE 15671/tcp 15672/tcp\nCOPY docker-healthcheck /usr/local/bin/\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#\n#  NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#  PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM rabbitmq:3.8-alpine\nRUN set eux ; rabbitmq-plugins enable --offline rabbitmq_management ; rm -f /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf ; erl -noinput -eval ' { ok, AdminBin } = zip:foldl(fun(FileInArchive, GetInfo, GetBin, Acc) -> case Acc of \"\" -> case lists:suffix(\"/rabbitmqadmin\", FileInArchive) of true -> GetBin(); false -> Acc end; _ -> Acc end end, \"\", init:get_plain_arguments()), io:format(\"~s\", [ AdminBin ]), init:stop(). ' -- /plugins/rabbitmq_management-*.ez > /usr/local/bin/rabbitmqadmin; [ -s /usr/local/bin/rabbitmqadmin ] ; chmod +x /usr/local/bin/rabbitmqadmin ; apk add python3 --no-cache ; rabbitmqadmin --version\nEXPOSE 15671/tcp 15672/tcp\nCOPY docker-healthcheck /usr/local/bin/\n","injectedSmells":[],"originalDockerfileHash":"202b02b51f3cc97b8c1a83965ef53dff","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#   NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#   PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM rabbitmq:3.8-alpine\nRUN set eux ; rabbitmq-plugins enable --offline rabbitmq_management ; rm -f /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf ; erl -noinput -eval ' { ok, AdminBin } = zip:foldl(fun(FileInArchive, GetInfo, GetBin, Acc) -> case Acc of \"\" -> case lists:suffix(\"/rabbitmqadmin\", FileInArchive) of true -> GetBin(); false -> Acc end; _ -> Acc end end, \"\", init:get_plain_arguments()), io:format(\"~s\", [ AdminBin ]), init:stop(). ' -- /plugins/rabbitmq_management-*.ez > /usr/local/bin/rabbitmqadmin; [ -s /usr/local/bin/rabbitmqadmin ] ; chmod +x /usr/local/bin/rabbitmqadmin ; apk add python3 --no-cache ; rabbitmqadmin --version\nEXPOSE 15671/tcp 15672/tcp\nCOPY docker-healthcheck /usr/local/bin/\n","originalDockerfileUglifiedHash":"941af478bac0047e32359bec8e651ad2","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/rabbitmq__3.8.27-management-alpine__3__injected.dockerfile"}