{"seed":2751168079,"processedDockerfileHash":"6424f114062871777911b2ac677e7717","fixedSmells":["use-copy-instead-of-add","have-a-healthcheck"],"successfullyFixedSmells":["use-copy-instead-of-add","have-a-healthcheck"],"processedDockerfile":"#\n#   NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#   PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM rabbitmq:3.8-alpine\nRUN set eux ; rabbitmq-plugins enable --offline rabbitmq_management ; rm -f /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf ; erl -noinput -eval ' { ok, AdminBin } = zip:foldl(fun(FileInArchive, GetInfo, GetBin, Acc) -> case Acc of \"\" -> case lists:suffix(\"/rabbitmqadmin\", FileInArchive) of true -> GetBin(); false -> Acc end; _ -> Acc end end, \"\", init:get_plain_arguments()), io:format(\"~s\", [ AdminBin ]), init:stop(). ' -- /plugins/rabbitmq_management-*.ez > /usr/local/bin/rabbitmqadmin; [ -s /usr/local/bin/rabbitmqadmin ] ; chmod +x /usr/local/bin/rabbitmqadmin ; apk add --no-cache python3=3.10.11-r0 ; rabbitmqadmin --version\nEXPOSE 15671/tcp 15672/tcp\nCOPY docker-healthcheck /usr/local/bin/\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#\n#  NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#  PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM rabbitmq:3.8-alpine\nRUN set eux ; rabbitmq-plugins enable --offline rabbitmq_management ; rm -f /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf ; erl -noinput -eval ' { ok, AdminBin } = zip:foldl(fun(FileInArchive, GetInfo, GetBin, Acc) -> case Acc of \"\" -> case lists:suffix(\"/rabbitmqadmin\", FileInArchive) of true -> GetBin(); false -> Acc end; _ -> Acc end end, \"\", init:get_plain_arguments()), io:format(\"~s\", [ AdminBin ]), init:stop(). ' -- /plugins/rabbitmq_management-*.ez > /usr/local/bin/rabbitmqadmin; [ -s /usr/local/bin/rabbitmqadmin ] ; chmod +x /usr/local/bin/rabbitmqadmin ; apk add --no-cache python3=3.10.11-r0 ; rabbitmqadmin --version\nEXPOSE 15671/tcp 15672/tcp\nADD docker-healthcheck /usr/local/bin/\n","injectedSmells":[],"originalDockerfileHash":"857ba43ed830116e805d24dea3fb7e4f","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#   NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#   PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM rabbitmq:3.8-alpine\nRUN set eux ; rabbitmq-plugins enable --offline rabbitmq_management ; rm -f /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf ; erl -noinput -eval ' { ok, AdminBin } = zip:foldl(fun(FileInArchive, GetInfo, GetBin, Acc) -> case Acc of \"\" -> case lists:suffix(\"/rabbitmqadmin\", FileInArchive) of true -> GetBin(); false -> Acc end; _ -> Acc end end, \"\", init:get_plain_arguments()), io:format(\"~s\", [ AdminBin ]), init:stop(). ' -- /plugins/rabbitmq_management-*.ez > /usr/local/bin/rabbitmqadmin; [ -s /usr/local/bin/rabbitmqadmin ] ; chmod +x /usr/local/bin/rabbitmqadmin ; apk add --no-cache python3=3.10.11-r0 ; rabbitmqadmin --version\nEXPOSE 15671/tcp 15672/tcp\nADD docker-healthcheck /usr/local/bin/\n","originalDockerfileUglifiedHash":"5ecf67c24bb065c3c92a0d08a41855b0","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/rabbitmq__3.8.27-management-alpine__9__injected.dockerfile"}