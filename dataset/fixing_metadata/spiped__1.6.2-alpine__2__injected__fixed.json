{"seed":585977958,"processedDockerfileHash":"3369a20e17b33eefc7e0507e111eaa9d","fixedSmells":["use-copy-instead-of-add","do-not-have-secrets"],"successfullyFixedSmells":["use-copy-instead-of-add","do-not-have-secrets"],"processedDockerfile":"FROM alpine:3.15\nSHELL [\"/bin/ash\", \"-o\", \"pipefail\", \"-c\"]\nRUN set -x \\\n && addgroup -S spiped \\\n && adduser -S -G spiped spiped\nRUN apk add --no-cache libssl1.1=1.1.1t-r3\nENV SPIPED_VERSION=\"1.6.2\" \\\n    SPIPED_DOWNLOAD_SHA256=\"05d4687d12d11d7f9888d43f3d80c541b7721c987038d085f71c91bb06204567\"\nRUN set -x \\\n && apk add --no-cache --virtual .build-deps curl=8.0.1-r0 gcc=10.3.1_git20211027-r0 make=4.3-r0 musl-dev=1.2.2-r8 openssl-dev=1.1.1t-r3 tar=1.34-r1 \\\n && curl -fsSL \"https://www.tarsnap.com/spiped/spiped-$SPIPED_VERSION.tgz\" -o spiped.tar.gz \\\n && echo \"$SPIPED_DOWNLOAD_SHA256 *spiped.tar.gz\" | sha256sum -c - \\\n && mkdir -p /usr/local/src/spiped \\\n && tar xzf \"spiped.tar.gz\" -C /usr/local/src/spiped --strip-components=1 \\\n && rm \"spiped.tar.gz\" \\\n && CC=gcc make -C /usr/local/src/spiped \\\n && make -C /usr/local/src/spiped install \\\n && rm -rf /usr/local/src/spiped \\\n && apk del --no-network .build-deps\nVOLUME /spiped\nWORKDIR /spiped\nCOPY *.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\nHEALTHCHECK CMD spiped -v || exit 1\nCMD [\"spiped\"]\n# A secret has been removed here. Please do not provide secrets from the Dockerfile as these will leak into the metadata of the resulting docker image. To provide secrets the --secret flag of the docker build command can be used (https://docs.docker.com/develop/develop-images/build_enhancements/#new-docker-build-secret-information).\n","originalDockerfile":"FROM alpine:3.15\nSHELL [\"/bin/ash\", \"-o\", \"pipefail\", \"-c\"]\nRUN set -x \\\n && addgroup -S spiped \\\n && adduser -S -G spiped spiped\nRUN apk add --no-cache libssl1.1=1.1.1t-r3\nENV SPIPED_VERSION=\"1.6.2\" \\\n    SPIPED_DOWNLOAD_SHA256=\"05d4687d12d11d7f9888d43f3d80c541b7721c987038d085f71c91bb06204567\"\nRUN set -x \\\n && apk add --no-cache --virtual .build-deps curl=8.0.1-r0 gcc=10.3.1_git20211027-r0 make=4.3-r0 musl-dev=1.2.2-r8 openssl-dev=1.1.1t-r3 tar=1.34-r1 \\\n && curl -fsSL \"https://www.tarsnap.com/spiped/spiped-$SPIPED_VERSION.tgz\" -o spiped.tar.gz \\\n && echo \"$SPIPED_DOWNLOAD_SHA256 *spiped.tar.gz\" | sha256sum -c - \\\n && mkdir -p /usr/local/src/spiped \\\n && tar xzf \"spiped.tar.gz\" -C /usr/local/src/spiped --strip-components=1 \\\n && rm \"spiped.tar.gz\" \\\n && CC=gcc make -C /usr/local/src/spiped \\\n && make -C /usr/local/src/spiped install \\\n && rm -rf /usr/local/src/spiped \\\n && apk del --no-network .build-deps\nVOLUME /spiped\nWORKDIR /spiped\nADD *.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\nHEALTHCHECK CMD spiped -v || exit 1\nCMD [\"spiped\"]\nENV AWS_SECRET_KEY=\"7fuCie7qERr8nu1jDYknR-BQHObUIiiIMl4wJd9/\" \\\n    SLACK_TOKEN=\"xoxp-300890082797-gttqyiIHMfnfYc21dvwn5rQG\" \\\n    SLACK_TOKEN=\"xapp-560303152259-uRvzBLz7NNmFdlR5sxKd1i4x\" \\\n    SLACK_TOKEN=\"xapp-6995ð‘¿ƒ9175025-NbD2ha3KVQM08-ZV-lApUj5a\"\n","injectedSmells":[],"originalDockerfileHash":"834d670f577f2f640870c7ca22ed5066","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine:3.15\nSHELL [\"/bin/ash\", \"-o\", \"pipefail\", \"-c\"]\nRUN set -x \\\n && addgroup -S spiped \\\n && adduser -S -G spiped spiped\nRUN apk add --no-cache libssl1.1=1.1.1t-r3\nENV SPIPED_VERSION=\"1.6.2\" \\\n    SPIPED_DOWNLOAD_SHA256=\"05d4687d12d11d7f9888d43f3d80c541b7721c987038d085f71c91bb06204567\"\nRUN set -x \\\n && apk add --no-cache --virtual .build-deps curl=8.0.1-r0 gcc=10.3.1_git20211027-r0 make=4.3-r0 musl-dev=1.2.2-r8 openssl-dev=1.1.1t-r3 tar=1.34-r1 \\\n && curl -fsSL \"https://www.tarsnap.com/spiped/spiped-$SPIPED_VERSION.tgz\" -o spiped.tar.gz \\\n && echo \"$SPIPED_DOWNLOAD_SHA256 *spiped.tar.gz\" | sha256sum -c - \\\n && mkdir -p /usr/local/src/spiped \\\n && tar xzf \"spiped.tar.gz\" -C /usr/local/src/spiped --strip-components=1 \\\n && rm \"spiped.tar.gz\" \\\n && CC=gcc make -C /usr/local/src/spiped \\\n && make -C /usr/local/src/spiped install \\\n && rm -rf /usr/local/src/spiped \\\n && apk del --no-network .build-deps\nVOLUME /spiped\nWORKDIR /spiped\nADD *.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\nHEALTHCHECK CMD spiped -v || exit 1\nCMD [\"spiped\"]\nENV AWS_SECRET_KEY=\"7fuCie7qERr8nu1jDYknR-BQHObUIiiIMl4wJd9/\" \\\n    SLACK_TOKEN=\"xoxp-300890082797-gttqyiIHMfnfYc21dvwn5rQG\" \\\n    SLACK_TOKEN=\"xapp-560303152259-uRvzBLz7NNmFdlR5sxKd1i4x\" \\\n    SLACK_TOKEN=\"xapp-6995ð‘¿ƒ9175025-NbD2ha3KVQM08-ZV-lApUj5a\"\n","originalDockerfileUglifiedHash":"834d670f577f2f640870c7ca22ed5066","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/spiped__1.6.2-alpine__2__injected.dockerfile"}