{"seed":861617174,"processedDockerfileHash":"dfb583077bc97a50c9631ca80993a13e","fixedSmells":["pin-package-manager-versions-apk","do-not-have-secrets"],"successfullyFixedSmells":["pin-package-manager-versions-apk","do-not-have-secrets"],"processedDockerfile":"FROM alpine:3.13\nSHELL [\"/bin/ash\", \"-o\", \"pipefail\", \"-c\"]\nRUN set -eux ; apk add ca-certificates=20220614-r0 libstdc++=10.2.1_pre1-r3 su-exec=0.2-r1 libpq=13.8-r0 --no-cache ; addgroup -g 9987 ts3server ; adduser -u 9987 -Hh /var/ts3server -G ts3server -s /sbin/nologin -D ts3server ; install -d -o ts3server -g ts3server -m 775 /var/ts3server /var/run/ts3server /opt/ts3server\nENV PATH=\"\\\"${PATH}:/opt/ts3server\\\"\"\nARG TEAMSPEAK_CHECKSUM=f30a5366f12b0c5b00476652ebc06d9b5bc4754c4cb386c086758cceb620a8d0\nARG TEAMSPEAK_URL=https://files.teamspeak-services.com/releases/server/3.13.6/teamspeak3-server_linux_alpine-3.13.6.tar.bz2\nRUN set -eux ; apk add tar=1.34-r0 --no-cache --virtual .fetch-deps ; wget -nv \"${TEAMSPEAK_URL}\" -O server.tar.bz2 ; echo \"${TEAMSPEAK_CHECKSUM} *server.tar.bz2\" | sha256sum -c - ; mkdir -p /opt/ts3server ; tar -xf server.tar.bz2 --strip-components=1 -C /opt/ts3server ; rm server.tar.bz2 ; apk del .fetch-deps ; mv /opt/ts3server/*.so /opt/ts3server/redist/* /usr/local/lib ; ldconfig /usr/local/lib\n#   setup directory where user data is stored\nVOLUME /var/ts3server/\nWORKDIR /var/ts3server/\n#    9987 default voice\n#   10011 server query\n#   30033 file transport\nEXPOSE 9987/udp 10011/tcp 30033/tcp\nCOPY entrypoint.sh /opt/ts3server\nENTRYPOINT [\"entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:30033 || exit 1\nCMD [\"ts3server\"]\n# A secret has been removed here. Please do not provide secrets from the Dockerfile as these will leak into the metadata of the resulting docker image. To provide secrets the --secret flag of the docker build command can be used (https://docs.docker.com/develop/develop-images/build_enhancements/#new-docker-build-secret-information).\n","originalDockerfile":"FROM alpine:3.13\nSHELL [\"/bin/ash\", \"-o\", \"pipefail\", \"-c\"]\nRUN set -eux ; apk add ca-certificates libstdc++ su-exec libpq --no-cache ; addgroup -g 9987 ts3server ; adduser -u 9987 -Hh /var/ts3server -G ts3server -s /sbin/nologin -D ts3server ; install -d -o ts3server -g ts3server -m 775 /var/ts3server /var/run/ts3server /opt/ts3server\nENV PATH=\"\\\"${PATH}:/opt/ts3server\\\"\"\nARG TEAMSPEAK_CHECKSUM=f30a5366f12b0c5b00476652ebc06d9b5bc4754c4cb386c086758cceb620a8d0\nARG TEAMSPEAK_URL=https://files.teamspeak-services.com/releases/server/3.13.6/teamspeak3-server_linux_alpine-3.13.6.tar.bz2\nRUN set -eux ; apk add tar --no-cache --virtual .fetch-deps ; wget -nv \"${TEAMSPEAK_URL}\" -O server.tar.bz2 ; echo \"${TEAMSPEAK_CHECKSUM} *server.tar.bz2\" | sha256sum -c - ; mkdir -p /opt/ts3server ; tar -xf server.tar.bz2 --strip-components=1 -C /opt/ts3server ; rm server.tar.bz2 ; apk del .fetch-deps ; mv /opt/ts3server/*.so /opt/ts3server/redist/* /usr/local/lib ; ldconfig /usr/local/lib\n#  setup directory where user data is stored\nVOLUME /var/ts3server/\nWORKDIR /var/ts3server/\n#   9987 default voice\n#  10011 server query\n#  30033 file transport\nEXPOSE 9987/udp 10011/tcp 30033/tcp\nCOPY entrypoint.sh /opt/ts3server\nENTRYPOINT [\"entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:30033 || exit 1\nCMD [\"ts3server\"]\nENV CONSUMER_SECRET=\"P5D8bTR5A4Sb47LMdeY2DqTmMSxRM/sGuCITVaE4r493xqR6taSj\" \\\n    DOCKER_PASSWORD=\"TxwaL9Ztbdc6B5xUm1CVkNQ0ln7x54q139uOsi-W\" \\\n    CONSUMER_SECRET=\"n68JHpa8fAuEpWKEdGjiyeVvXPTF7uQaLSZ3EXqGaC//c7s//Lsp\"\n","injectedSmells":[],"originalDockerfileHash":"1cb89bd7a6078e47f39ab39e335b3c16","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine:3.13\nSHELL [\"/bin/ash\", \"-o\", \"pipefail\", \"-c\"]\nRUN set -eux ; apk add ca-certificates libstdc++ su-exec libpq --no-cache ; addgroup -g 9987 ts3server ; adduser -u 9987 -Hh /var/ts3server -G ts3server -s /sbin/nologin -D ts3server ; install -d -o ts3server -g ts3server -m 775 /var/ts3server /var/run/ts3server /opt/ts3server\nENV PATH=\"\\\"${PATH}:/opt/ts3server\\\"\"\nARG TEAMSPEAK_CHECKSUM=f30a5366f12b0c5b00476652ebc06d9b5bc4754c4cb386c086758cceb620a8d0\nARG TEAMSPEAK_URL=https://files.teamspeak-services.com/releases/server/3.13.6/teamspeak3-server_linux_alpine-3.13.6.tar.bz2\nRUN set -eux ; apk add tar --no-cache --virtual .fetch-deps ; wget -nv \"${TEAMSPEAK_URL}\" -O server.tar.bz2 ; echo \"${TEAMSPEAK_CHECKSUM} *server.tar.bz2\" | sha256sum -c - ; mkdir -p /opt/ts3server ; tar -xf server.tar.bz2 --strip-components=1 -C /opt/ts3server ; rm server.tar.bz2 ; apk del .fetch-deps ; mv /opt/ts3server/*.so /opt/ts3server/redist/* /usr/local/lib ; ldconfig /usr/local/lib\n#   setup directory where user data is stored\nVOLUME /var/ts3server/\nWORKDIR /var/ts3server/\n#    9987 default voice\n#   10011 server query\n#   30033 file transport\nEXPOSE 9987/udp 10011/tcp 30033/tcp\nCOPY entrypoint.sh /opt/ts3server\nENTRYPOINT [\"entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:30033 || exit 1\nCMD [\"ts3server\"]\nENV CONSUMER_SECRET=\"P5D8bTR5A4Sb47LMdeY2DqTmMSxRM/sGuCITVaE4r493xqR6taSj\" \\\n    DOCKER_PASSWORD=\"TxwaL9Ztbdc6B5xUm1CVkNQ0ln7x54q139uOsi-W\" \\\n    CONSUMER_SECRET=\"n68JHpa8fAuEpWKEdGjiyeVvXPTF7uQaLSZ3EXqGaC//c7s//Lsp\"\n","originalDockerfileUglifiedHash":"4e8a9dd1f88ae9a4537c0bacc6fdebe3","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/teamspeak__3.13__10__injected.dockerfile"}