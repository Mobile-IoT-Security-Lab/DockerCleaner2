{"seed":4161302600,"processedDockerfileHash":"d30dbe0d9eea6a89cb6161b228bac1d3","fixedSmells":["do-not-have-secrets","have-a-healthcheck"],"successfullyFixedSmells":["do-not-have-secrets","have-a-healthcheck"],"processedDockerfile":"#\n#   NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#   PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM openjdk:11-jre-slim-bullseye\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nENV CATALINA_HOME=\"/usr/local/tomcat\"\nENV PATH=\"$CATALINA_HOME/bin:$PATH\"\nRUN mkdir -p \"$CATALINA_HOME\"\nWORKDIR $CATALINA_HOME\n#   let \"Tomcat Native\" live somewhere isolated\nENV TOMCAT_NATIVE_LIBDIR=\"$CATALINA_HOME/native-jni-lib\"\nENV LD_LIBRARY_PATH=\"${LD_LIBRARY_PATH:+$LD_LIBRARY_PATH:}$TOMCAT_NATIVE_LIBDIR\"\n#   see https://www.apache.org/dist/tomcat/tomcat-10/KEYS\n#   see also \"versions.sh\" (https://github.com/docker-library/tomcat/blob/master/versions.sh)\nENV GPG_KEYS=\"A9C5DF4D22E99998D9875A5110C01C5A2F6059E7\"\nENV TOMCAT_MAJOR=\"10\"\nENV TOMCAT_VERSION=\"10.1.0-M12\"\nENV TOMCAT_SHA512=\"17b27a15b069a2b457e88980cd82ad0f417cbbb6e579e4343cc662eb69291ff3ada4ca881010d5973b0673488cd7c23d5220a7ccef42af2c2dfd189af937d4a7\"\nCOPY --from=tomcat:10.1.0-M12-jdk11-openjdk-slim-bullseye $CATALINA_HOME $CATALINA_HOME\nRUN set -eux ; apt-get update ; xargs -rt apt-get install -y --no-install-recommends < \"$TOMCAT_NATIVE_LIBDIR/.dependencies.txt\"; rm -rf /var/lib/apt/lists/*\n#   verify Tomcat Native is working properly\nRUN set -eux ; nativeLines=\"$( catalina.sh configtest 2>&1;)\" ; nativeLines=\"$( echo \"$nativeLines\" | grep 'Apache Tomcat Native' ;)\" ; nativeLines=\"$( echo \"$nativeLines\" | sort -u ;)\" ; if ! echo \"$nativeLines\" | grep -E 'INFO: Loaded( APR based)? Apache Tomcat Native library' >&2; then echo \"$nativeLines\" >&2;exit 1 ; fi\nEXPOSE 8080/tcp\nCMD [\"catalina.sh\", \"run\"]\n# A secret has been removed here. Please do not provide secrets from the Dockerfile as these will leak into the metadata of the resulting docker image. To provide secrets the --secret flag of the docker build command can be used (https://docs.docker.com/develop/develop-images/build_enhancements/#new-docker-build-secret-information).\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#\n#  NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#  PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM openjdk:11-jre-slim-bullseye\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nENV CATALINA_HOME=\"/usr/local/tomcat\"\nENV PATH=\"$CATALINA_HOME/bin:$PATH\"\nRUN mkdir -p \"$CATALINA_HOME\"\nWORKDIR $CATALINA_HOME\n#  let \"Tomcat Native\" live somewhere isolated\nENV TOMCAT_NATIVE_LIBDIR=\"$CATALINA_HOME/native-jni-lib\"\nENV LD_LIBRARY_PATH=\"${LD_LIBRARY_PATH:+$LD_LIBRARY_PATH:}$TOMCAT_NATIVE_LIBDIR\"\n#  see https://www.apache.org/dist/tomcat/tomcat-10/KEYS\n#  see also \"versions.sh\" (https://github.com/docker-library/tomcat/blob/master/versions.sh)\nENV GPG_KEYS=\"A9C5DF4D22E99998D9875A5110C01C5A2F6059E7\"\nENV TOMCAT_MAJOR=\"10\"\nENV TOMCAT_VERSION=\"10.1.0-M12\"\nENV TOMCAT_SHA512=\"17b27a15b069a2b457e88980cd82ad0f417cbbb6e579e4343cc662eb69291ff3ada4ca881010d5973b0673488cd7c23d5220a7ccef42af2c2dfd189af937d4a7\"\nCOPY --from=tomcat:10.1.0-M12-jdk11-openjdk-slim-bullseye $CATALINA_HOME $CATALINA_HOME\nRUN set -eux ; apt-get update ; xargs -rt apt-get install -y --no-install-recommends < \"$TOMCAT_NATIVE_LIBDIR/.dependencies.txt\"; rm -rf /var/lib/apt/lists/*\n#  verify Tomcat Native is working properly\nRUN set -eux ; nativeLines=\"$( catalina.sh configtest 2>&1;)\" ; nativeLines=\"$( echo \"$nativeLines\" | grep 'Apache Tomcat Native' ;)\" ; nativeLines=\"$( echo \"$nativeLines\" | sort -u ;)\" ; if ! echo \"$nativeLines\" | grep -E 'INFO: Loaded( APR based)? Apache Tomcat Native library' >&2; then echo \"$nativeLines\" >&2;exit 1 ; fi\nEXPOSE 8080/tcp\nCMD [\"catalina.sh\", \"run\"]\nENV SLACK_TOKEN=\"xoxp-3211ê©Ñ6805247-G0dcQ7Fr1CxlWJklW12R6rP5\"\n","injectedSmells":[],"originalDockerfileHash":"1d8709e375935221e7f3f3a0f8087048","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#   NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#   PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM openjdk:11-jre-slim-bullseye\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nENV CATALINA_HOME=\"/usr/local/tomcat\"\nENV PATH=\"$CATALINA_HOME/bin:$PATH\"\nRUN mkdir -p \"$CATALINA_HOME\"\nWORKDIR $CATALINA_HOME\n#   let \"Tomcat Native\" live somewhere isolated\nENV TOMCAT_NATIVE_LIBDIR=\"$CATALINA_HOME/native-jni-lib\"\nENV LD_LIBRARY_PATH=\"${LD_LIBRARY_PATH:+$LD_LIBRARY_PATH:}$TOMCAT_NATIVE_LIBDIR\"\n#   see https://www.apache.org/dist/tomcat/tomcat-10/KEYS\n#   see also \"versions.sh\" (https://github.com/docker-library/tomcat/blob/master/versions.sh)\nENV GPG_KEYS=\"A9C5DF4D22E99998D9875A5110C01C5A2F6059E7\"\nENV TOMCAT_MAJOR=\"10\"\nENV TOMCAT_VERSION=\"10.1.0-M12\"\nENV TOMCAT_SHA512=\"17b27a15b069a2b457e88980cd82ad0f417cbbb6e579e4343cc662eb69291ff3ada4ca881010d5973b0673488cd7c23d5220a7ccef42af2c2dfd189af937d4a7\"\nCOPY --from=tomcat:10.1.0-M12-jdk11-openjdk-slim-bullseye $CATALINA_HOME $CATALINA_HOME\nRUN set -eux ; apt-get update ; xargs -rt apt-get install -y --no-install-recommends < \"$TOMCAT_NATIVE_LIBDIR/.dependencies.txt\"; rm -rf /var/lib/apt/lists/*\n#   verify Tomcat Native is working properly\nRUN set -eux ; nativeLines=\"$( catalina.sh configtest 2>&1;)\" ; nativeLines=\"$( echo \"$nativeLines\" | grep 'Apache Tomcat Native' ;)\" ; nativeLines=\"$( echo \"$nativeLines\" | sort -u ;)\" ; if ! echo \"$nativeLines\" | grep -E 'INFO: Loaded( APR based)? Apache Tomcat Native library' >&2; then echo \"$nativeLines\" >&2;exit 1 ; fi\nEXPOSE 8080/tcp\nCMD [\"catalina.sh\", \"run\"]\nENV SLACK_TOKEN=\"xoxp-3211ê©Ñ6805247-G0dcQ7Fr1CxlWJklW12R6rP5\"\n","originalDockerfileUglifiedHash":"478b36817b749ba5d5ea39028d5c35ba","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/tomcat__jre17-plume__7__injected.dockerfile"}