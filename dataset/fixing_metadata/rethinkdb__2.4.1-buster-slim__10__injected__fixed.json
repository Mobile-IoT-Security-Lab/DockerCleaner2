{"seed":3358431867,"processedDockerfileHash":"2ec3d96f3af826e8b9868eb60a016cab","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","do-not-have-secrets","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","do-not-have-secrets","have-a-user"],"processedDockerfile":"FROM debian:buster-slim\nRUN :\nRUN : \\\n && (apt-get update ;apt-get install --no-install-recommends ca-certificates=20200601~deb10u2 gnupg2=2.2.12-1+deb10u2 -y ) \\\n && rm -rf /var/lib/apt/lists/*\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys \"539A3A8C6692E6E3F69B3FE81D85E93F801BB43F\" \\\n && echo \"deb https://download.rethinkdb.com/repository/debian-buster buster main\" > /etc/apt/sources.list.d/rethinkdb.list\nENV RETHINKDB_PACKAGE_VERSION=\"2.4.1~0buster\"\nRUN :\nRUN : \\\n && (apt-get update ;apt-get install --no-install-recommends rethinkdb -y ) \\\n && rm -rf /var/lib/apt/lists/*\nVOLUME [\"/data\"]\nWORKDIR /data\nCMD [\"rethinkdb\", \"--bind\", \"all\"]\n#     process cluster webui\nEXPOSE 28015/tcp 29015/tcp 8080/tcp\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nUSER root\n# A secret has been removed here. Please do not provide secrets from the Dockerfile as these will leak into the metadata of the resulting docker image. To provide secrets the --secret flag of the docker build command can be used (https://docs.docker.com/develop/develop-images/build_enhancements/#new-docker-build-secret-information).\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n","originalDockerfile":"FROM debian:buster-slim\nRUN apt-get update\nRUN : \\\n && apt-get install ca-certificates gnupg2 -y \\\n && rm -rf /var/lib/apt/lists/*\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys \"539A3A8C6692E6E3F69B3FE81D85E93F801BB43F\" \\\n && echo \"deb https://download.rethinkdb.com/repository/debian-buster buster main\" > /etc/apt/sources.list.d/rethinkdb.list\nENV RETHINKDB_PACKAGE_VERSION=\"2.4.1~0buster\"\nRUN apt-get update\nRUN : \\\n && apt-get install rethinkdb -y \\\n && rm -rf /var/lib/apt/lists/*\nVOLUME [\"/data\"]\nWORKDIR /data\nCMD [\"rethinkdb\", \"--bind\", \"all\"]\n#    process cluster webui\nEXPOSE 28015/tcp 29015/tcp 8080/tcp\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nUSER root\nENV POSTGRES_PASSWORD=\"3sF7fquKARIiHWtfKkTniY8NRmrS7sCPzGvYjfff\" \\\n    AWS_SECRET_KEY=\"bjkCvgj6OrzjK5lIhRo/KYnQAWxTqx/e7tdwGp7H\" \\\n    CONSUMER_SECRET=\"U1tbaKGIkJ7ZZCVkLtl94MjgnfYwrRZhGlRM4GEs6bPjEH3DsZWJ\" \\\n    NPM_TOKEN=\"npm_egUvfgNNLiy/g4yA491ztsDZVhw2AMI86VkQ\"\n","injectedSmells":[],"originalDockerfileHash":"5f0519650f2c4d95f6d27008c82d9a7b","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM debian:buster-slim\nRUN apt-get update\nRUN : \\\n && apt-get install ca-certificates gnupg2 -y \\\n && rm -rf /var/lib/apt/lists/*\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys \"539A3A8C6692E6E3F69B3FE81D85E93F801BB43F\" \\\n && echo \"deb https://download.rethinkdb.com/repository/debian-buster buster main\" > /etc/apt/sources.list.d/rethinkdb.list\nENV RETHINKDB_PACKAGE_VERSION=\"2.4.1~0buster\"\nRUN apt-get update\nRUN : \\\n && apt-get install rethinkdb -y \\\n && rm -rf /var/lib/apt/lists/*\nVOLUME [\"/data\"]\nWORKDIR /data\nCMD [\"rethinkdb\", \"--bind\", \"all\"]\n#     process cluster webui\nEXPOSE 28015/tcp 29015/tcp 8080/tcp\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nUSER root\nENV POSTGRES_PASSWORD=\"3sF7fquKARIiHWtfKkTniY8NRmrS7sCPzGvYjfff\" \\\n    AWS_SECRET_KEY=\"bjkCvgj6OrzjK5lIhRo/KYnQAWxTqx/e7tdwGp7H\" \\\n    CONSUMER_SECRET=\"U1tbaKGIkJ7ZZCVkLtl94MjgnfYwrRZhGlRM4GEs6bPjEH3DsZWJ\" \\\n    NPM_TOKEN=\"npm_egUvfgNNLiy/g4yA491ztsDZVhw2AMI86VkQ\"\n","originalDockerfileUglifiedHash":"a4d6c9c0a353105d6523dd3e014441de","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/rethinkdb__2.4.1-buster-slim__10__injected.dockerfile"}