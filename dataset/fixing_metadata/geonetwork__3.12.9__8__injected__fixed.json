{"seed":216088029,"processedDockerfileHash":"14a092790eba5a946f92509a427dd473","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get"],"processedDockerfile":"FROM tomcat:8.5-jdk8\nENV GN_FILE=\"geonetwork.war\"\nENV DATA_DIR=\"$CATALINA_HOME/webapps/geonetwork/WEB-INF/data\"\nENV JAVA_OPTS=\"-Djava.security.egd=file:/dev/./urandom -Djava.awt.headless=true -server -Xms512m -Xmx2024m -XX:NewSize=512m -XX:MaxNewSize=1024m -XX:+UseConcMarkSweepGC\"\n#  Environment variables\nENV GN_VERSION=\"3.12.9\"\nENV GN_DOWNLOAD_MD5=\"cea7a8635cc73f31ea026f848216ae0e\"\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nWORKDIR $CATALINA_HOME/webapps\nRUN :\nRUN : \\\n && (apt-get update ;apt-get install --no-install-recommends unzip=6.0-26ubuntu3.1 curl=7.81.0-1ubuntu1.10 -y ) \\\n && rm -rf /var/lib/apt/lists/* \\\n && curl -fSL -o $GN_FILE https://sourceforge.net/projects/geonetwork/files/GeoNetwork_opensource/v${GN_VERSION}/${GN_FILE}/download \\\n && echo \"${GN_DOWNLOAD_MD5} *${GN_FILE}\" | md5sum -c \\\n && mkdir -p geonetwork \\\n && unzip -e $GN_FILE -d geonetwork \\\n && rm $GN_FILE\n#  Set geonetwork data dir\nCOPY ./docker-entrypoint.sh /entrypoint.sh\n#   Needed to make GN to create logs, jcs_caching and gn H2 database in the tomcat directory.\nWORKDIR $CATALINA_HOME\nENTRYPOINT [\"/entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"catalina.sh\", \"run\"]\n","originalDockerfile":"FROM tomcat:8.5-jdk8\nENV GN_FILE=\"geonetwork.war\"\nENV DATA_DIR=\"$CATALINA_HOME/webapps/geonetwork/WEB-INF/data\"\nENV JAVA_OPTS=\"-Djava.security.egd=file:/dev/./urandom -Djava.awt.headless=true -server -Xms512m -Xmx2024m -XX:NewSize=512m -XX:MaxNewSize=1024m -XX:+UseConcMarkSweepGC\"\n# Environment variables\nENV GN_VERSION=\"3.12.9\"\nENV GN_DOWNLOAD_MD5=\"cea7a8635cc73f31ea026f848216ae0e\"\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nWORKDIR $CATALINA_HOME/webapps\nRUN apt-get update\nRUN : \\\n && apt-get install unzip curl -y \\\n && rm -rf /var/lib/apt/lists/* \\\n && curl -fSL -o $GN_FILE https://sourceforge.net/projects/geonetwork/files/GeoNetwork_opensource/v${GN_VERSION}/${GN_FILE}/download \\\n && echo \"${GN_DOWNLOAD_MD5} *${GN_FILE}\" | md5sum -c \\\n && mkdir -p geonetwork \\\n && unzip -e $GN_FILE -d geonetwork \\\n && rm $GN_FILE\n# Set geonetwork data dir\nCOPY ./docker-entrypoint.sh /entrypoint.sh\n#  Needed to make GN to create logs, jcs_caching and gn H2 database in the tomcat directory.\nWORKDIR $CATALINA_HOME\nENTRYPOINT [\"/entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"catalina.sh\", \"run\"]\n","injectedSmells":[],"originalDockerfileHash":"4345c73b6770fe6f307233a20ce13ddd","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM tomcat:8.5-jdk8\nENV GN_FILE=\"geonetwork.war\"\nENV DATA_DIR=\"$CATALINA_HOME/webapps/geonetwork/WEB-INF/data\"\nENV JAVA_OPTS=\"-Djava.security.egd=file:/dev/./urandom -Djava.awt.headless=true -server -Xms512m -Xmx2024m -XX:NewSize=512m -XX:MaxNewSize=1024m -XX:+UseConcMarkSweepGC\"\n#  Environment variables\nENV GN_VERSION=\"3.12.9\"\nENV GN_DOWNLOAD_MD5=\"cea7a8635cc73f31ea026f848216ae0e\"\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nWORKDIR $CATALINA_HOME/webapps\nRUN apt-get update\nRUN : \\\n && apt-get install unzip curl -y \\\n && rm -rf /var/lib/apt/lists/* \\\n && curl -fSL -o $GN_FILE https://sourceforge.net/projects/geonetwork/files/GeoNetwork_opensource/v${GN_VERSION}/${GN_FILE}/download \\\n && echo \"${GN_DOWNLOAD_MD5} *${GN_FILE}\" | md5sum -c \\\n && mkdir -p geonetwork \\\n && unzip -e $GN_FILE -d geonetwork \\\n && rm $GN_FILE\n#  Set geonetwork data dir\nCOPY ./docker-entrypoint.sh /entrypoint.sh\n#   Needed to make GN to create logs, jcs_caching and gn H2 database in the tomcat directory.\nWORKDIR $CATALINA_HOME\nENTRYPOINT [\"/entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"catalina.sh\", \"run\"]\n","originalDockerfileUglifiedHash":"d6cc696d73b6f38d37e984c4fee36cd7","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/geonetwork__3.12.9__8__injected.dockerfile"}