{"seed":73121690,"processedDockerfileHash":"97879cffd05fb4cee58dc5c42080b6cb","fixedSmells":["use-copy-instead-of-add","do-not-have-secrets","have-a-user"],"successfullyFixedSmells":["use-copy-instead-of-add","do-not-have-secrets"],"processedDockerfile":"FROM scratch\nCOPY --from=nats:2.7.2-alpine3.15 /usr/local/bin/nats-server /nats-server\nCOPY nats-server.conf /nats-server.conf\nEXPOSE 4222/tcp 8222/tcp 6222/tcp\nENTRYPOINT [\"/nats-server\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8222 || exit 1\nCMD [\"--config\", \"nats-server.conf\"]\nUSER root\n# A secret has been removed here. Please do not provide secrets from the Dockerfile as these will leak into the metadata of the resulting docker image. To provide secrets the --secret flag of the docker build command can be used (https://docs.docker.com/develop/develop-images/build_enhancements/#new-docker-build-secret-information).\n","originalDockerfile":"FROM scratch\nCOPY --from=nats:2.7.2-alpine3.15 /usr/local/bin/nats-server /nats-server\nADD nats-server.conf /nats-server.conf\nEXPOSE 4222/tcp 8222/tcp 6222/tcp\nENTRYPOINT [\"/nats-server\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8222 || exit 1\nCMD [\"--config\", \"nats-server.conf\"]\nUSER root\nENV POSTGRES_PASSWORD=\"3sF7fquKARIiHWtfKkTniY8NRmrS7sCPzGvYjfff\" \\\n    AWS_SECRET_KEY=\"bjkCvgj6OrzjK5lIhRo/KYnQAWxTqx/e7tdwGp7H\" \\\n    CONSUMER_SECRET=\"U1tbaKGIkJ7ZZCVkLtl94MjgnfYwrRZhGlRM4GEs6bPjEH3DsZWJ\" \\\n    NPM_TOKEN=\"npm_egUvfgNNLiy/g4yA491ztsDZVhw2AMI86VkQ\"\n","injectedSmells":[],"originalDockerfileHash":"4714b89ea7eb168cffe6683d045bbf9a","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM scratch\nCOPY --from=nats:2.7.2-alpine3.15 /usr/local/bin/nats-server /nats-server\nADD nats-server.conf /nats-server.conf\nEXPOSE 4222/tcp 8222/tcp 6222/tcp\nENTRYPOINT [\"/nats-server\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8222 || exit 1\nCMD [\"--config\", \"nats-server.conf\"]\nUSER root\nENV POSTGRES_PASSWORD=\"3sF7fquKARIiHWtfKkTniY8NRmrS7sCPzGvYjfff\" \\\n    AWS_SECRET_KEY=\"bjkCvgj6OrzjK5lIhRo/KYnQAWxTqx/e7tdwGp7H\" \\\n    CONSUMER_SECRET=\"U1tbaKGIkJ7ZZCVkLtl94MjgnfYwrRZhGlRM4GEs6bPjEH3DsZWJ\" \\\n    NPM_TOKEN=\"npm_egUvfgNNLiy/g4yA491ztsDZVhw2AMI86VkQ\"\n","originalDockerfileUglifiedHash":"4714b89ea7eb168cffe6683d045bbf9a","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/nats__2.7.2-scratch__1__injected.dockerfile"}