{"seed":2653989785,"processedDockerfileHash":"1578dce0ab8535edd58c8fbcefed121d","fixedSmells":["pin-package-manager-versions-apt-get","do-not-have-secrets"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","do-not-have-secrets"],"processedDockerfile":"FROM buildpack-deps:bullseye-curl\nRUN apt-get update \\\n && apt-get install --no-install-recommends iputils-ping=3:20210202-1 snmp=5.9+dfsg-4+deb11u1 procps=2:3.3.17-5 lm-sensors=1:3.6.0-7 libcap2-bin=1:2.44-1 -y \\\n && rm -rf /var/lib/apt/lists/*\nRUN set -ex \\\n && mkdir ~/.gnupg ; echo \"disable-ipv6\" >> ~/.gnupg/dirmngr.conf; for key in 9D539D90D3328DC7D6C8D3B9D8FF8E1F7DF8B07E; do gpg --keyserver hkp://keyserver.ubuntu.com --recv-keys \"$key\" ; done\nENV TELEGRAF_VERSION=\"1.24.4\"\nRUN ARCH= \\\n && dpkgArch=\"$( dpkg --print-architecture ;)\" \\\n && case \"${dpkgArch##*-}\" in (amd64) ARCH='amd64' ;;(arm64) ARCH='arm64' ;;(armhf) ARCH='armhf' ;;(armel) ARCH='armel' ;;(*) echo \"Unsupported architecture: ${dpkgArch}\" ; exit 1 ;; esac \\\n && wget --no-verbose https://dl.influxdata.com/telegraf/releases/telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb.asc \\\n && wget --no-verbose https://dl.influxdata.com/telegraf/releases/telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb \\\n && gpg --batch --verify telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb.asc telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb \\\n && dpkg -i telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb \\\n && rm -f telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb*\nEXPOSE 8125/udp 8092/udp 8094/tcp\nCOPY entrypoint.sh /entrypoint.sh\nENTRYPOINT [\"/entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:30033 || exit 1\nCMD [\"telegraf\"]\n# A secret has been removed here. Please do not provide secrets from the Dockerfile as these will leak into the metadata of the resulting docker image. To provide secrets the --secret flag of the docker build command can be used (https://docs.docker.com/develop/develop-images/build_enhancements/#new-docker-build-secret-information).\n","originalDockerfile":"FROM buildpack-deps:bullseye-curl\nRUN apt-get update \\\n && apt-get install --no-install-recommends iputils-ping snmp procps lm-sensors libcap2-bin -y \\\n && rm -rf /var/lib/apt/lists/*\nRUN set -ex \\\n && mkdir ~/.gnupg ; echo \"disable-ipv6\" >> ~/.gnupg/dirmngr.conf; for key in 9D539D90D3328DC7D6C8D3B9D8FF8E1F7DF8B07E; do gpg --keyserver hkp://keyserver.ubuntu.com --recv-keys \"$key\" ; done\nENV TELEGRAF_VERSION=\"1.24.4\"\nRUN ARCH= \\\n && dpkgArch=\"$( dpkg --print-architecture ;)\" \\\n && case \"${dpkgArch##*-}\" in (amd64) ARCH='amd64' ;;(arm64) ARCH='arm64' ;;(armhf) ARCH='armhf' ;;(armel) ARCH='armel' ;;(*) echo \"Unsupported architecture: ${dpkgArch}\" ; exit 1 ;; esac \\\n && wget --no-verbose https://dl.influxdata.com/telegraf/releases/telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb.asc \\\n && wget --no-verbose https://dl.influxdata.com/telegraf/releases/telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb \\\n && gpg --batch --verify telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb.asc telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb \\\n && dpkg -i telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb \\\n && rm -f telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb*\nEXPOSE 8125/udp 8092/udp 8094/tcp\nCOPY entrypoint.sh /entrypoint.sh\nENTRYPOINT [\"/entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:30033 || exit 1\nCMD [\"telegraf\"]\nENV GITHUB_TOKEN=\"ghp_B17/wGGK3ju2HJQETdg0IOozetP8Z0915CXo\" \\\n    GITHUB_TOKEN=\"ghp_c2hL47oNJrYKgbg9cRGkpGW5VDdZ/l/oaQS0\" \\\n    NPM_TOKEN=\"npm_cSRmMyHk3YpX/JpjmwWLI8zzy-9fN5tW46tm\" \\\n    DOCKER_PASSWORD=\"IB6MKsW0xEQMSpQvbKbATTij3qszEY3uWyt/x8ce\" \\\n    GITHUB_TOKEN=\"ghp_4gnFzg1EAGcVTE3Dj0hcZKHA3iwz5/9jfKBi\"\n","injectedSmells":[],"originalDockerfileHash":"3a9585fb2e67917f062c3d6f9e30ab99","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM buildpack-deps:bullseye-curl\nRUN apt-get update \\\n && apt-get install --no-install-recommends iputils-ping snmp procps lm-sensors libcap2-bin -y \\\n && rm -rf /var/lib/apt/lists/*\nRUN set -ex \\\n && mkdir ~/.gnupg ; echo \"disable-ipv6\" >> ~/.gnupg/dirmngr.conf; for key in 9D539D90D3328DC7D6C8D3B9D8FF8E1F7DF8B07E; do gpg --keyserver hkp://keyserver.ubuntu.com --recv-keys \"$key\" ; done\nENV TELEGRAF_VERSION=\"1.24.4\"\nRUN ARCH= \\\n && dpkgArch=\"$( dpkg --print-architecture ;)\" \\\n && case \"${dpkgArch##*-}\" in (amd64) ARCH='amd64' ;;(arm64) ARCH='arm64' ;;(armhf) ARCH='armhf' ;;(armel) ARCH='armel' ;;(*) echo \"Unsupported architecture: ${dpkgArch}\" ; exit 1 ;; esac \\\n && wget --no-verbose https://dl.influxdata.com/telegraf/releases/telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb.asc \\\n && wget --no-verbose https://dl.influxdata.com/telegraf/releases/telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb \\\n && gpg --batch --verify telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb.asc telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb \\\n && dpkg -i telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb \\\n && rm -f telegraf_${TELEGRAF_VERSION}-1_${ARCH}.deb*\nEXPOSE 8125/udp 8092/udp 8094/tcp\nCOPY entrypoint.sh /entrypoint.sh\nENTRYPOINT [\"/entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:30033 || exit 1\nCMD [\"telegraf\"]\nENV GITHUB_TOKEN=\"ghp_B17/wGGK3ju2HJQETdg0IOozetP8Z0915CXo\" \\\n    GITHUB_TOKEN=\"ghp_c2hL47oNJrYKgbg9cRGkpGW5VDdZ/l/oaQS0\" \\\n    NPM_TOKEN=\"npm_cSRmMyHk3YpX/JpjmwWLI8zzy-9fN5tW46tm\" \\\n    DOCKER_PASSWORD=\"IB6MKsW0xEQMSpQvbKbATTij3qszEY3uWyt/x8ce\" \\\n    GITHUB_TOKEN=\"ghp_4gnFzg1EAGcVTE3Dj0hcZKHA3iwz5/9jfKBi\"\n","originalDockerfileUglifiedHash":"3a9585fb2e67917f062c3d6f9e30ab99","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/telegraf__1.24__5__injected.dockerfile"}