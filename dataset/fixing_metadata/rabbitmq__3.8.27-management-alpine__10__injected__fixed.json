{"seed":902703374,"processedDockerfileHash":"fad4af552014cdbe0fb711ce2a61c24b","fixedSmells":["do-not-have-secrets","have-a-user"],"successfullyFixedSmells":["do-not-have-secrets","have-a-user"],"processedDockerfile":"#\n#   NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#   PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM rabbitmq:3.8-alpine\nRUN set eux ; rabbitmq-plugins enable --offline rabbitmq_management ; rm -f /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf ; erl -noinput -eval ' { ok, AdminBin } = zip:foldl(fun(FileInArchive, GetInfo, GetBin, Acc) -> case Acc of \"\" -> case lists:suffix(\"/rabbitmqadmin\", FileInArchive) of true -> GetBin(); false -> Acc end; _ -> Acc end end, \"\", init:get_plain_arguments()), io:format(\"~s\", [ AdminBin ]), init:stop(). ' -- /plugins/rabbitmq_management-*.ez > /usr/local/bin/rabbitmqadmin; [ -s /usr/local/bin/rabbitmqadmin ] ; chmod +x /usr/local/bin/rabbitmqadmin ; apk add --no-cache python3=3.10.11-r0 ; rabbitmqadmin --version\nEXPOSE 15671/tcp 15672/tcp\nCOPY docker-healthcheck /usr/local/bin/\nHEALTHCHECK CMD [\"docker-healthcheck\"]\nUSER root\n# A secret has been removed here. Please do not provide secrets from the Dockerfile as these will leak into the metadata of the resulting docker image. To provide secrets the --secret flag of the docker build command can be used (https://docs.docker.com/develop/develop-images/build_enhancements/#new-docker-build-secret-information).\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\n","originalDockerfile":"#\n#  NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#  PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM rabbitmq:3.8-alpine\nRUN set eux ; rabbitmq-plugins enable --offline rabbitmq_management ; rm -f /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf ; erl -noinput -eval ' { ok, AdminBin } = zip:foldl(fun(FileInArchive, GetInfo, GetBin, Acc) -> case Acc of \"\" -> case lists:suffix(\"/rabbitmqadmin\", FileInArchive) of true -> GetBin(); false -> Acc end; _ -> Acc end end, \"\", init:get_plain_arguments()), io:format(\"~s\", [ AdminBin ]), init:stop(). ' -- /plugins/rabbitmq_management-*.ez > /usr/local/bin/rabbitmqadmin; [ -s /usr/local/bin/rabbitmqadmin ] ; chmod +x /usr/local/bin/rabbitmqadmin ; apk add --no-cache python3=3.10.11-r0 ; rabbitmqadmin --version\nEXPOSE 15671/tcp 15672/tcp\nCOPY docker-healthcheck /usr/local/bin/\nHEALTHCHECK CMD [\"docker-healthcheck\"]\nUSER root\nENV POSTGRES_PASSWORD=\"2z-ASWK1cXJ7MJzypjHxaPINxAguihUzWvsnaY/t\" \\\n    CONSUMER_SECRET=\"YVPFYzf8WvLd7p5qX5kUYWuwkxnh8SQhKX0q9yc1XbX8DlmRs3KG\"\n","injectedSmells":[],"originalDockerfileHash":"050d07f628e64f9370c657c335ce290e","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#   NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#   PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM rabbitmq:3.8-alpine\nRUN set eux ; rabbitmq-plugins enable --offline rabbitmq_management ; rm -f /etc/rabbitmq/conf.d/management_agent.disable_metrics_collector.conf ; erl -noinput -eval ' { ok, AdminBin } = zip:foldl(fun(FileInArchive, GetInfo, GetBin, Acc) -> case Acc of \"\" -> case lists:suffix(\"/rabbitmqadmin\", FileInArchive) of true -> GetBin(); false -> Acc end; _ -> Acc end end, \"\", init:get_plain_arguments()), io:format(\"~s\", [ AdminBin ]), init:stop(). ' -- /plugins/rabbitmq_management-*.ez > /usr/local/bin/rabbitmqadmin; [ -s /usr/local/bin/rabbitmqadmin ] ; chmod +x /usr/local/bin/rabbitmqadmin ; apk add --no-cache python3=3.10.11-r0 ; rabbitmqadmin --version\nEXPOSE 15671/tcp 15672/tcp\nCOPY docker-healthcheck /usr/local/bin/\nHEALTHCHECK CMD [\"docker-healthcheck\"]\nUSER root\nENV POSTGRES_PASSWORD=\"2z-ASWK1cXJ7MJzypjHxaPINxAguihUzWvsnaY/t\" \\\n    CONSUMER_SECRET=\"YVPFYzf8WvLd7p5qX5kUYWuwkxnh8SQhKX0q9yc1XbX8DlmRs3KG\"\n","originalDockerfileUglifiedHash":"58d8948cc5dec260fc14f7ffc7d67690","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/rabbitmq__3.8.27-management-alpine__10__injected.dockerfile"}