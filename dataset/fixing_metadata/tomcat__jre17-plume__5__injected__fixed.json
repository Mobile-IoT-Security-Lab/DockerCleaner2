{"seed":2738718013,"processedDockerfileHash":"1fbb030cbf4c4064686b65d8f08612b0","fixedSmells":["have-a-user"],"successfullyFixedSmells":["have-a-user"],"processedDockerfile":"#\n#   NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#   PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM openjdk:11-jre-slim-bullseye\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nENV CATALINA_HOME=\"/usr/local/tomcat\"\nENV PATH=\"$CATALINA_HOME/bin:$PATH\"\nRUN mkdir -p \"$CATALINA_HOME\"\nWORKDIR $CATALINA_HOME\n#   let \"Tomcat Native\" live somewhere isolated\nENV TOMCAT_NATIVE_LIBDIR=\"$CATALINA_HOME/native-jni-lib\"\nENV LD_LIBRARY_PATH=\"${LD_LIBRARY_PATH:+$LD_LIBRARY_PATH:}$TOMCAT_NATIVE_LIBDIR\"\n#   see https://www.apache.org/dist/tomcat/tomcat-10/KEYS\n#   see also \"versions.sh\" (https://github.com/docker-library/tomcat/blob/master/versions.sh)\nENV GPG_KEYS=\"A9C5DF4D22E99998D9875A5110C01C5A2F6059E7\"\nENV TOMCAT_MAJOR=\"10\"\nENV TOMCAT_VERSION=\"10.1.0-M12\"\nENV TOMCAT_SHA512=\"17b27a15b069a2b457e88980cd82ad0f417cbbb6e579e4343cc662eb69291ff3ada4ca881010d5973b0673488cd7c23d5220a7ccef42af2c2dfd189af937d4a7\"\nCOPY --from=tomcat:10.1.0-M12-jdk11-openjdk-slim-bullseye $CATALINA_HOME $CATALINA_HOME\nRUN set -eux ; apt-get update ; xargs -rt apt-get install -y --no-install-recommends < \"$TOMCAT_NATIVE_LIBDIR/.dependencies.txt\"; rm -rf /var/lib/apt/lists/*\n#   verify Tomcat Native is working properly\nRUN set -eux ; nativeLines=\"$( catalina.sh configtest 2>&1;)\" ; nativeLines=\"$( echo \"$nativeLines\" | grep 'Apache Tomcat Native' ;)\" ; nativeLines=\"$( echo \"$nativeLines\" | sort -u ;)\" ; if ! echo \"$nativeLines\" | grep -E 'INFO: Loaded( APR based)? Apache Tomcat Native library' >&2; then echo \"$nativeLines\" >&2;exit 1 ; fi\nEXPOSE 8080/tcp\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"catalina.sh\", \"run\"]\nUSER 0\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n","originalDockerfile":"#\n#  NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#  PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM openjdk:11-jre-slim-bullseye\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nENV CATALINA_HOME=\"/usr/local/tomcat\"\nENV PATH=\"$CATALINA_HOME/bin:$PATH\"\nRUN mkdir -p \"$CATALINA_HOME\"\nWORKDIR $CATALINA_HOME\n#  let \"Tomcat Native\" live somewhere isolated\nENV TOMCAT_NATIVE_LIBDIR=\"$CATALINA_HOME/native-jni-lib\"\nENV LD_LIBRARY_PATH=\"${LD_LIBRARY_PATH:+$LD_LIBRARY_PATH:}$TOMCAT_NATIVE_LIBDIR\"\n#  see https://www.apache.org/dist/tomcat/tomcat-10/KEYS\n#  see also \"versions.sh\" (https://github.com/docker-library/tomcat/blob/master/versions.sh)\nENV GPG_KEYS=\"A9C5DF4D22E99998D9875A5110C01C5A2F6059E7\"\nENV TOMCAT_MAJOR=\"10\"\nENV TOMCAT_VERSION=\"10.1.0-M12\"\nENV TOMCAT_SHA512=\"17b27a15b069a2b457e88980cd82ad0f417cbbb6e579e4343cc662eb69291ff3ada4ca881010d5973b0673488cd7c23d5220a7ccef42af2c2dfd189af937d4a7\"\nCOPY --from=tomcat:10.1.0-M12-jdk11-openjdk-slim-bullseye $CATALINA_HOME $CATALINA_HOME\nRUN set -eux ; apt-get update ; xargs -rt apt-get install -y --no-install-recommends < \"$TOMCAT_NATIVE_LIBDIR/.dependencies.txt\"; rm -rf /var/lib/apt/lists/*\n#  verify Tomcat Native is working properly\nRUN set -eux ; nativeLines=\"$( catalina.sh configtest 2>&1;)\" ; nativeLines=\"$( echo \"$nativeLines\" | grep 'Apache Tomcat Native' ;)\" ; nativeLines=\"$( echo \"$nativeLines\" | sort -u ;)\" ; if ! echo \"$nativeLines\" | grep -E 'INFO: Loaded( APR based)? Apache Tomcat Native library' >&2; then echo \"$nativeLines\" >&2;exit 1 ; fi\nEXPOSE 8080/tcp\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"catalina.sh\", \"run\"]\nUSER 0\n","injectedSmells":[],"originalDockerfileHash":"fd9c7ee698bd0360630d8a28a33d853d","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#   NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n#   PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM openjdk:11-jre-slim-bullseye\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nENV CATALINA_HOME=\"/usr/local/tomcat\"\nENV PATH=\"$CATALINA_HOME/bin:$PATH\"\nRUN mkdir -p \"$CATALINA_HOME\"\nWORKDIR $CATALINA_HOME\n#   let \"Tomcat Native\" live somewhere isolated\nENV TOMCAT_NATIVE_LIBDIR=\"$CATALINA_HOME/native-jni-lib\"\nENV LD_LIBRARY_PATH=\"${LD_LIBRARY_PATH:+$LD_LIBRARY_PATH:}$TOMCAT_NATIVE_LIBDIR\"\n#   see https://www.apache.org/dist/tomcat/tomcat-10/KEYS\n#   see also \"versions.sh\" (https://github.com/docker-library/tomcat/blob/master/versions.sh)\nENV GPG_KEYS=\"A9C5DF4D22E99998D9875A5110C01C5A2F6059E7\"\nENV TOMCAT_MAJOR=\"10\"\nENV TOMCAT_VERSION=\"10.1.0-M12\"\nENV TOMCAT_SHA512=\"17b27a15b069a2b457e88980cd82ad0f417cbbb6e579e4343cc662eb69291ff3ada4ca881010d5973b0673488cd7c23d5220a7ccef42af2c2dfd189af937d4a7\"\nCOPY --from=tomcat:10.1.0-M12-jdk11-openjdk-slim-bullseye $CATALINA_HOME $CATALINA_HOME\nRUN set -eux ; apt-get update ; xargs -rt apt-get install -y --no-install-recommends < \"$TOMCAT_NATIVE_LIBDIR/.dependencies.txt\"; rm -rf /var/lib/apt/lists/*\n#   verify Tomcat Native is working properly\nRUN set -eux ; nativeLines=\"$( catalina.sh configtest 2>&1;)\" ; nativeLines=\"$( echo \"$nativeLines\" | grep 'Apache Tomcat Native' ;)\" ; nativeLines=\"$( echo \"$nativeLines\" | sort -u ;)\" ; if ! echo \"$nativeLines\" | grep -E 'INFO: Loaded( APR based)? Apache Tomcat Native library' >&2; then echo \"$nativeLines\" >&2;exit 1 ; fi\nEXPOSE 8080/tcp\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"catalina.sh\", \"run\"]\nUSER 0\n","originalDockerfileUglifiedHash":"3c81daa0866a5151c461c15719c8af22","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/tomcat__jre17-plume__5__injected.dockerfile"}