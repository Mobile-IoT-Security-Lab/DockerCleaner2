{"seed":3321107275,"processedDockerfileHash":"4a4c4809ad65e660f3dc19737bd101f2","fixedSmells":["use-copy-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-copy-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM node:12-alpine\nLABEL maintainer=\"Vincenzo Chianese, vincenzo@express-gateway.io\"\nARG EG_VERSION=1.16.11\nRUN yarn global add express-gateway@$EG_VERSION \\\n && yarn cache clean\nENV NODE_ENV=\"production\"\nENV NODE_PATH=\"/usr/local/share/.config/yarn/global/node_modules/\"\nENV EG_CONFIG_DIR=\"/var/lib/eg\"\nENV CHOKIDAR_USEPOLLING=\"true\"\nVOLUME /var/lib/eg\nEXPOSE 8080/tcp 9876/tcp\nCOPY docker-entrypoint.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\nCMD [\"node\", \"-e\", \"require\"]\nUSER root\n# A secret has been removed here. Please do not provide secrets from the Dockerfile as these will leak into the metadata of the resulting docker image. To provide secrets the --secret flag of the docker build command can be used (https://docs.docker.com/develop/develop-images/build_enhancements/#new-docker-build-secret-information).\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\nHEALTHCHECK CMD curl --fail http://127.0.0.1:3000 || exit 1\n","originalDockerfile":"FROM node:12-alpine\nLABEL maintainer=\"Vincenzo Chianese, vincenzo@express-gateway.io\"\nARG EG_VERSION=1.16.11\nRUN yarn global add express-gateway@$EG_VERSION \\\n && yarn cache clean\nENV NODE_ENV=\"production\"\nENV NODE_PATH=\"/usr/local/share/.config/yarn/global/node_modules/\"\nENV EG_CONFIG_DIR=\"/var/lib/eg\"\nENV CHOKIDAR_USEPOLLING=\"true\"\nVOLUME /var/lib/eg\nEXPOSE 8080/tcp 9876/tcp\nADD docker-entrypoint.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\nCMD [\"node\", \"-e\", \"require\"]\nUSER root\nENV NPM_TOKEN=\"npm_np4T9TZiC-lB1xd3pibhkLnaakcVWpOBbga2\" \\\n    DOCKER_PASSWORD=\"2iaNV4Ijdi4ZIESuwoQBLr481/tfinG0LVIHqTyh\" \\\n    AWS_ACCESS_KEY=\"AKIAPNF4BVTS4Y0ITIGM\" \\\n    AWS_SECRET_KEY=\"GkM-ZY9LPJ3H1l5/Ldugk6JmKki9UPmtpddWLqRZ\" \\\n    SLACK_TOKEN=\"xoxb-938531705077-YK4ZkhwyHIuF0YZU8QhH45J-\"\n","injectedSmells":[],"originalDockerfileHash":"442d0e8d6b7523ef2942d604c5f4134b","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM node:12-alpine\nLABEL maintainer=\"Vincenzo Chianese, vincenzo@express-gateway.io\"\nARG EG_VERSION=1.16.11\nRUN yarn global add express-gateway@$EG_VERSION \\\n && yarn cache clean\nENV NODE_ENV=\"production\"\nENV NODE_PATH=\"/usr/local/share/.config/yarn/global/node_modules/\"\nENV EG_CONFIG_DIR=\"/var/lib/eg\"\nENV CHOKIDAR_USEPOLLING=\"true\"\nVOLUME /var/lib/eg\nEXPOSE 8080/tcp 9876/tcp\nADD docker-entrypoint.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\nCMD [\"node\", \"-e\", \"require\"]\nUSER root\nENV NPM_TOKEN=\"npm_np4T9TZiC-lB1xd3pibhkLnaakcVWpOBbga2\" \\\n    DOCKER_PASSWORD=\"2iaNV4Ijdi4ZIESuwoQBLr481/tfinG0LVIHqTyh\" \\\n    AWS_ACCESS_KEY=\"AKIAPNF4BVTS4Y0ITIGM\" \\\n    AWS_SECRET_KEY=\"GkM-ZY9LPJ3H1l5/Ldugk6JmKki9UPmtpddWLqRZ\" \\\n    SLACK_TOKEN=\"xoxb-938531705077-YK4ZkhwyHIuF0YZU8QhH45J-\"\n","originalDockerfileUglifiedHash":"442d0e8d6b7523ef2942d604c5f4134b","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles/express-gateway__1.x__6__injected.dockerfile"}