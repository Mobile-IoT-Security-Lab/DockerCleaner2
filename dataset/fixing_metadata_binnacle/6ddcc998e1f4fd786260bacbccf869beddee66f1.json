{"seed":2701942705,"processedDockerfileHash":"913a5465db080d8da8c25dfb03a47f18","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM alpine:3.4\nMAINTAINER xataz <https://github.com/xataz/dockerfiles>\nMAINTAINER Wonderfall <wonderfall@schrodinger.io>\nARG MEDIAINFO_VER=0.7.85\nARG RTORRENT_VER=0.9.6\nARG LIBTORRENT_VER=0.13.6\nARG FILEBOT_VER=4.7\nARG BUILD_CORES\nENV UID=\"991\" \\\n    GID=\"991\" \\\n    WEBROOT=\"/\" \\\n    PKG_CONFIG_PATH=\"/usr/local/lib/pkgconfig\"\nRUN echo \"@commuedge https://nl.alpinelinux.org/alpine/edge/community\" >> /etc/apk/repositories \\\n && NB_CORES=${BUILD_CORES-`getconf _NPROCESSORS_CONF `} \\\n && BUILD_DEPS=\" build-base git libtool automake autoconf wget tar subversion cppunit-dev openssl-dev ncurses-dev curl-dev binutils\" \\\n && apk add ffmpeg=3.1.11-r1 ca-certificates=20161130-r0 nginx=1.10.3-r0 php7@commuedge php7-fpm@commuedge php7-json@commuedge curl=7.60.0-r1 gzip=1.8-r0 zip=3.0-r4 unrar=5.3.11-r0 supervisor=3.2.4-r0 geoip=1.6.7-r1 tini@commuedge openjdk8-jre@commuedge ${BUILD_DEPS} -U \\\n && cd /tmp \\\n && wget -q http://downloads.sourceforge.net/mktorrent/mktorrent-1.0.tar.gz \\\n && tar xzvf mktorrent-1.0.tar.gz \\\n && svn checkout http://svn.code.sf.net/p/xmlrpc-c/code/stable xmlrpc-c \\\n && mkdir libtorrent rtorrent \\\n && cd libtorrent \\\n && wget -qO- https://github.com/rakshasa/libtorrent/archive/${LIBTORRENT_VER}.tar.gz | tar xz --strip 1 \\\n && cd ../rtorrent \\\n && wget -qO- https://github.com/rakshasa/rtorrent/archive/${RTORRENT_VER}.tar.gz | tar xz --strip 1 \\\n && cd /tmp \\\n && wget -q http://mediaarea.net/download/binary/mediainfo/${MEDIAINFO_VER}/MediaInfo_CLI_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && wget -q http://mediaarea.net/download/binary/libmediainfo0/${MEDIAINFO_VER}/MediaInfo_DLL_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && tar xzf MediaInfo_DLL_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && tar xzf MediaInfo_CLI_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && tar xzvf mktorrent-1.0.tar.gz \\\n && cd /tmp/mktorrent-1.0 \\\n && make -j ${NB_CORES} \\\n && make install \\\n && cd /tmp/MediaInfo_DLL_GNU_FromSource \\\n && ./SO_Compile.sh \\\n && cd /tmp/MediaInfo_DLL_GNU_FromSource/ZenLib/Project/GNU/Library \\\n && make install \\\n && cd /tmp/MediaInfo_DLL_GNU_FromSource/MediaInfoLib/Project/GNU/Library \\\n && make install \\\n && cd /tmp/MediaInfo_CLI_GNU_FromSource \\\n && ./CLI_Compile.sh \\\n && cd /tmp/MediaInfo_CLI_GNU_FromSource/MediaInfo/Project/GNU/CLI \\\n && make install \\\n && cd /tmp/xmlrpc-c \\\n && ./configure \\\n && make -j ${NB_CORES} \\\n && make install \\\n && cd /tmp/libtorrent \\\n && ./autogen.sh \\\n && ./configure \\\n && make -j ${NB_CORES} \\\n && make install \\\n && cd /tmp/rtorrent \\\n && ./autogen.sh \\\n && ./configure --with-xmlrpc-c \\\n && make -j ${NB_CORES} \\\n && make install \\\n && mkdir -p /var/www \\\n && cd /var/www \\\n && git clone https://github.com/Novik/ruTorrent.git rutorrent --depth=1 \\\n && cd /var/www/rutorrent/plugins/ \\\n && git clone https://github.com/Korni22/rutorrent-logoff logoff --depth=1 \\\n && git clone https://github.com/xombiemp/rutorrentMobile.git mobile --depth=1 \\\n && git clone https://github.com/Ardakilic/rutorrent-pausewebui pausewebui --depth=1 \\\n && cd /var/www/rutorrent/plugins/theme/themes \\\n && git clone https://github.com/Phlooo/ruTorrent-MaterialDesign.git Material --depth=1 \\\n && mv /var/www/rutorrent /var/www/torrent \\\n && mkdir /filebot \\\n && wget -q http://downloads.sourceforge.net/project/filebot/filebot/FileBot_${FILEBOT_VER}/FileBot_${FILEBOT_VER}-portable.zip -P /tmp \\\n && unzip -q /tmp/FileBot_${FILEBOT_VER}-portable.zip -d /filebot \\\n && strip -s /usr/local/bin/rtorrent \\\n && strip -s /usr/local/bin/mediainfo \\\n && apk del ${BUILD_DEPS} \\\n && deluser svn \\\n && delgroup svnusers \\\n && rm -rf /var/cache/apk/* /tmp/*\nCOPY rootfs /\nRUN chmod +x /usr/bin/*\nVOLUME /data /var/www/torrent/share/users\nEXPOSE 80/tcp 49184/tcp 49184/udp\nLABEL description=\"BitTorrent client with WebUI front-end\" \\\n      rtorrent=\"rTorrent BiTorrent client v$RTORRENT_VER\" \\\n      libtorrent=\"libtorrent v$LIBTORRENT_VER\" \\\n      mediainfo=\"mediainfo v$MEDIAINFO_VER\" \\\n      filebot=\"Filebot v$FILEBOT_VER\"\nCMD [\"/sbin/tini\", \"--\", \"startup\"]\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM alpine:3.4\nMAINTAINER xataz <https://github.com/xataz/dockerfiles>\nMAINTAINER Wonderfall <wonderfall@schrodinger.io>\nARG MEDIAINFO_VER=0.7.85\nARG RTORRENT_VER=0.9.6\nARG LIBTORRENT_VER=0.13.6\nARG FILEBOT_VER=4.7\nARG BUILD_CORES\nENV UID=\"991\" \\\n    GID=\"991\" \\\n    WEBROOT=\"/\" \\\n    PKG_CONFIG_PATH=\"/usr/local/lib/pkgconfig\"\nRUN echo \"@commuedge https://nl.alpinelinux.org/alpine/edge/community\" >> /etc/apk/repositories \\\n && NB_CORES=${BUILD_CORES-`getconf _NPROCESSORS_CONF `} \\\n && BUILD_DEPS=\" build-base git libtool automake autoconf wget tar subversion cppunit-dev openssl-dev ncurses-dev curl-dev binutils\" \\\n && apk -U add ${BUILD_DEPS} ffmpeg ca-certificates nginx php7@commuedge php7-fpm@commuedge php7-json@commuedge curl gzip zip unrar supervisor geoip tini@commuedge openjdk8-jre@commuedge \\\n && cd /tmp \\\n && wget -q http://downloads.sourceforge.net/mktorrent/mktorrent-1.0.tar.gz \\\n && tar xzvf mktorrent-1.0.tar.gz \\\n && svn checkout http://svn.code.sf.net/p/xmlrpc-c/code/stable xmlrpc-c \\\n && mkdir libtorrent rtorrent \\\n && cd libtorrent \\\n && wget -qO- https://github.com/rakshasa/libtorrent/archive/${LIBTORRENT_VER}.tar.gz | tar xz --strip 1 \\\n && cd ../rtorrent \\\n && wget -qO- https://github.com/rakshasa/rtorrent/archive/${RTORRENT_VER}.tar.gz | tar xz --strip 1 \\\n && cd /tmp \\\n && wget -q http://mediaarea.net/download/binary/mediainfo/${MEDIAINFO_VER}/MediaInfo_CLI_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && wget -q http://mediaarea.net/download/binary/libmediainfo0/${MEDIAINFO_VER}/MediaInfo_DLL_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && tar xzf MediaInfo_DLL_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && tar xzf MediaInfo_CLI_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && tar xzvf mktorrent-1.0.tar.gz \\\n && cd /tmp/mktorrent-1.0 \\\n && make -j ${NB_CORES} \\\n && make install \\\n && cd /tmp/MediaInfo_DLL_GNU_FromSource \\\n && ./SO_Compile.sh \\\n && cd /tmp/MediaInfo_DLL_GNU_FromSource/ZenLib/Project/GNU/Library \\\n && make install \\\n && cd /tmp/MediaInfo_DLL_GNU_FromSource/MediaInfoLib/Project/GNU/Library \\\n && make install \\\n && cd /tmp/MediaInfo_CLI_GNU_FromSource \\\n && ./CLI_Compile.sh \\\n && cd /tmp/MediaInfo_CLI_GNU_FromSource/MediaInfo/Project/GNU/CLI \\\n && make install \\\n && cd /tmp/xmlrpc-c \\\n && ./configure \\\n && make -j ${NB_CORES} \\\n && make install \\\n && cd /tmp/libtorrent \\\n && ./autogen.sh \\\n && ./configure \\\n && make -j ${NB_CORES} \\\n && make install \\\n && cd /tmp/rtorrent \\\n && ./autogen.sh \\\n && ./configure --with-xmlrpc-c \\\n && make -j ${NB_CORES} \\\n && make install \\\n && mkdir -p /var/www \\\n && cd /var/www \\\n && git clone https://github.com/Novik/ruTorrent.git rutorrent --depth=1 \\\n && cd /var/www/rutorrent/plugins/ \\\n && git clone https://github.com/Korni22/rutorrent-logoff logoff --depth=1 \\\n && git clone https://github.com/xombiemp/rutorrentMobile.git mobile --depth=1 \\\n && git clone https://github.com/Ardakilic/rutorrent-pausewebui pausewebui --depth=1 \\\n && cd /var/www/rutorrent/plugins/theme/themes \\\n && git clone https://github.com/Phlooo/ruTorrent-MaterialDesign.git Material --depth=1 \\\n && mv /var/www/rutorrent /var/www/torrent \\\n && mkdir /filebot \\\n && wget -q http://downloads.sourceforge.net/project/filebot/filebot/FileBot_${FILEBOT_VER}/FileBot_${FILEBOT_VER}-portable.zip -P /tmp \\\n && unzip -q /tmp/FileBot_${FILEBOT_VER}-portable.zip -d /filebot \\\n && strip -s /usr/local/bin/rtorrent \\\n && strip -s /usr/local/bin/mediainfo \\\n && apk del ${BUILD_DEPS} \\\n && deluser svn \\\n && delgroup svnusers \\\n && rm -rf /var/cache/apk/* /tmp/*\nCOPY rootfs /\nRUN chmod +x /usr/bin/*\nVOLUME /data /var/www/torrent/share/users\nEXPOSE 80/tcp 49184/tcp 49184/udp\nLABEL description=\"BitTorrent client with WebUI front-end\" \\\n      rtorrent=\"rTorrent BiTorrent client v$RTORRENT_VER\" \\\n      libtorrent=\"libtorrent v$LIBTORRENT_VER\" \\\n      mediainfo=\"mediainfo v$MEDIAINFO_VER\" \\\n      filebot=\"Filebot v$FILEBOT_VER\"\nCMD [\"/sbin/tini\", \"--\", \"startup\"]\n","injectedSmells":[],"originalDockerfileHash":"f233029ce20660d6915d2ffaa10c5fb1","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine:3.4\nMAINTAINER xataz <https://github.com/xataz/dockerfiles>\nMAINTAINER Wonderfall <wonderfall@schrodinger.io>\nARG MEDIAINFO_VER=0.7.85\nARG RTORRENT_VER=0.9.6\nARG LIBTORRENT_VER=0.13.6\nARG FILEBOT_VER=4.7\nARG BUILD_CORES\nENV UID=\"991\" \\\n    GID=\"991\" \\\n    WEBROOT=\"/\" \\\n    PKG_CONFIG_PATH=\"/usr/local/lib/pkgconfig\"\nRUN echo \"@commuedge https://nl.alpinelinux.org/alpine/edge/community\" >> /etc/apk/repositories \\\n && NB_CORES=${BUILD_CORES-`getconf _NPROCESSORS_CONF `} \\\n && BUILD_DEPS=\" build-base git libtool automake autoconf wget tar subversion cppunit-dev openssl-dev ncurses-dev curl-dev binutils\" \\\n && apk -U add ${BUILD_DEPS} ffmpeg ca-certificates nginx php7@commuedge php7-fpm@commuedge php7-json@commuedge curl gzip zip unrar supervisor geoip tini@commuedge openjdk8-jre@commuedge \\\n && cd /tmp \\\n && wget -q http://downloads.sourceforge.net/mktorrent/mktorrent-1.0.tar.gz \\\n && tar xzvf mktorrent-1.0.tar.gz \\\n && svn checkout http://svn.code.sf.net/p/xmlrpc-c/code/stable xmlrpc-c \\\n && mkdir libtorrent rtorrent \\\n && cd libtorrent \\\n && wget -qO- https://github.com/rakshasa/libtorrent/archive/${LIBTORRENT_VER}.tar.gz | tar xz --strip 1 \\\n && cd ../rtorrent \\\n && wget -qO- https://github.com/rakshasa/rtorrent/archive/${RTORRENT_VER}.tar.gz | tar xz --strip 1 \\\n && cd /tmp \\\n && wget -q http://mediaarea.net/download/binary/mediainfo/${MEDIAINFO_VER}/MediaInfo_CLI_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && wget -q http://mediaarea.net/download/binary/libmediainfo0/${MEDIAINFO_VER}/MediaInfo_DLL_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && tar xzf MediaInfo_DLL_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && tar xzf MediaInfo_CLI_${MEDIAINFO_VER}_GNU_FromSource.tar.gz \\\n && tar xzvf mktorrent-1.0.tar.gz \\\n && cd /tmp/mktorrent-1.0 \\\n && make -j ${NB_CORES} \\\n && make install \\\n && cd /tmp/MediaInfo_DLL_GNU_FromSource \\\n && ./SO_Compile.sh \\\n && cd /tmp/MediaInfo_DLL_GNU_FromSource/ZenLib/Project/GNU/Library \\\n && make install \\\n && cd /tmp/MediaInfo_DLL_GNU_FromSource/MediaInfoLib/Project/GNU/Library \\\n && make install \\\n && cd /tmp/MediaInfo_CLI_GNU_FromSource \\\n && ./CLI_Compile.sh \\\n && cd /tmp/MediaInfo_CLI_GNU_FromSource/MediaInfo/Project/GNU/CLI \\\n && make install \\\n && cd /tmp/xmlrpc-c \\\n && ./configure \\\n && make -j ${NB_CORES} \\\n && make install \\\n && cd /tmp/libtorrent \\\n && ./autogen.sh \\\n && ./configure \\\n && make -j ${NB_CORES} \\\n && make install \\\n && cd /tmp/rtorrent \\\n && ./autogen.sh \\\n && ./configure --with-xmlrpc-c \\\n && make -j ${NB_CORES} \\\n && make install \\\n && mkdir -p /var/www \\\n && cd /var/www \\\n && git clone https://github.com/Novik/ruTorrent.git rutorrent --depth=1 \\\n && cd /var/www/rutorrent/plugins/ \\\n && git clone https://github.com/Korni22/rutorrent-logoff logoff --depth=1 \\\n && git clone https://github.com/xombiemp/rutorrentMobile.git mobile --depth=1 \\\n && git clone https://github.com/Ardakilic/rutorrent-pausewebui pausewebui --depth=1 \\\n && cd /var/www/rutorrent/plugins/theme/themes \\\n && git clone https://github.com/Phlooo/ruTorrent-MaterialDesign.git Material --depth=1 \\\n && mv /var/www/rutorrent /var/www/torrent \\\n && mkdir /filebot \\\n && wget -q http://downloads.sourceforge.net/project/filebot/filebot/FileBot_${FILEBOT_VER}/FileBot_${FILEBOT_VER}-portable.zip -P /tmp \\\n && unzip -q /tmp/FileBot_${FILEBOT_VER}-portable.zip -d /filebot \\\n && strip -s /usr/local/bin/rtorrent \\\n && strip -s /usr/local/bin/mediainfo \\\n && apk del ${BUILD_DEPS} \\\n && deluser svn \\\n && delgroup svnusers \\\n && rm -rf /var/cache/apk/* /tmp/*\nCOPY rootfs /\nRUN chmod +x /usr/bin/*\nVOLUME /data /var/www/torrent/share/users\nEXPOSE 80/tcp 49184/tcp 49184/udp\nLABEL description=\"BitTorrent client with WebUI front-end\" \\\n      rtorrent=\"rTorrent BiTorrent client v$RTORRENT_VER\" \\\n      libtorrent=\"libtorrent v$LIBTORRENT_VER\" \\\n      mediainfo=\"mediainfo v$MEDIAINFO_VER\" \\\n      filebot=\"Filebot v$FILEBOT_VER\"\nCMD [\"/sbin/tini\", \"--\", \"startup\"]\n","originalDockerfileUglifiedHash":"f233029ce20660d6915d2ffaa10c5fb1","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/6ddcc998e1f4fd786260bacbccf869beddee66f1.dockerfile"}