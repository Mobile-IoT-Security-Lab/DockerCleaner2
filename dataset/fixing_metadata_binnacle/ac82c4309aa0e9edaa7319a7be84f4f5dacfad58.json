{"seed":2435341093,"processedDockerfileHash":"fd8742e75924b6e196c5647bd11d4099","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-npm","pin-package-manager-versions-gem","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Dockie Development Environment\nFROM ubuntu:15.10\nMAINTAINER Rob Loach <robloach@gmail.com>\n#   Update\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN : \\\n && apt-get upgrade -y\n#   Supervisor\nRUN (apt-get update ;apt-get install --no-install-recommends supervisor -y ) \\\n && mkdir -p /var/log/supervisor \\\n && supervisord --version\nCOPY configs/supervisor/supervisor.conf /etc/supervisor/conf.d/supervisor.conf\n#   Base Dependencies\nRUN (apt-get update ;apt-get install --no-install-recommends software-properties-common wget mysql-client unzip postfix git mercurial subversion iputils-ping -y ) \\\n && git --version \\\n && hg --version \\\n && svn --version\n#   Zsh\nRUN (apt-get update ;apt-get install --no-install-recommends zsh -y ) \\\n && git clone git://github.com/robbyrussell/oh-my-zsh.git /root/.oh-my-zsh \\\n && chsh --shell $( which zsh ;) \\\n && zsh --version\nCOPY configs/oh-my-zsh/zshrc /root/.zshrc\n#   PHP\nRUN (apt-get update ;apt-get install --no-install-recommends php5-apcu php-pear php5-cgi php5-json php5-cli php5-curl curl php5-mcrypt php5-xdebug mcrypt libmcrypt-dev php5-mysql php5-gd php5-sqlite sqlite imagemagick php5-imagick -y ) \\\n && php5enmod mcrypt pdo pdo_sqlite sqlite3 \\\n && php --version\nCOPY configs/php/php-cli.ini /etc/php5/cli/conf.d/dockie-dockie.ini\n#   Composer\nENV COMPOSER_HOME=\"/root/.composer\"\nENV PATH=\"$COMPOSER_HOME/vendor/bin:$PATH\"\nRUN curl -sS https://getcomposer.org/installer | php -- --filename=composer --install-dir=/usr/bin --version=1.0.0-alpha10\nRUN composer --version\n#   PHPUnit\nRUN composer global require phpunit/phpunit:5.* \\\n && phpunit --version\n#   Drush\nRUN composer global require drush/drush:8.* \\\n && drush --version\n#   Python\nRUN (apt-get update ;apt-get install --no-install-recommends python python3 python-pil pylint -y ) \\\n && python --version \\\n && python3 --version\n#   Node.js\nRUN (apt-get update ;apt-get install --no-install-recommends build-essential -y ) \\\n && curl -sL https://deb.nodesource.com/setup_4.x | sh -\nRUN apt-get update --fix-missing \\\n && (apt-get update ;apt-get install --no-install-recommends nodejs -y ) \\\n && nodejs --version \\\n && npm --version \\\n && npm install coffee-script@1.12.7 bower@1.8.14 grunt-cli@1.4.3 gulp@4.0.2 component@1.1.0 yo@4.3.1 eslint@8.38.0 -g\n#   Ruby\nRUN (apt-get update ;apt-get install --no-install-recommends ruby ruby-dev ri -y ) \\\n && ruby --version \\\n && echo \"Gem version:\" \\\n && gem --version\nRUN gem install rake --version 13.0.6 \\\n && bundle --version \\\n && rake --version \\\n && sass --version \\\n && gem install compass --version 1.0.3 \\\n && compass --version\n#   Go\nRUN (apt-get update ;apt-get install --no-install-recommends golang -y ) \\\n && go version\n#   Rust\nRUN mkdir -p /tmp/rust \\\n && cd /tmp/rust \\\n && wget https://static.rust-lang.org/dist/rust-1.3.0-x86_64-unknown-linux-gnu.tar.gz\nRUN cd /tmp/rust \\\n && tar -zxvf * \\\n && cd r* \\\n && ./install.sh \\\n && rm -rf /tmp/rust\nRUN rustc --version\nRUN cargo --version\n#   Version Check\nCOPY configs/dockie/dockie-version /dockie-version\nRUN chmod +x /dockie-version\n#   Clean up\nRUN apt-get clean \\\n && apt-get autoremove\nRUN /dockie-version\n#   Start\nVOLUME /app\nEXPOSE 22/tcp\nCMD [\"supervisord\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Dockie Development Environment\nFROM ubuntu:15.10\nMAINTAINER Rob Loach <robloach@gmail.com>\n#  Update\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN apt-get update \\\n && apt-get upgrade -y\n#  Supervisor\nRUN apt-get install supervisor -y \\\n && mkdir -p /var/log/supervisor \\\n && supervisord --version\nADD configs/supervisor/supervisor.conf /etc/supervisor/conf.d/supervisor.conf\n#  Base Dependencies\nRUN apt-get install software-properties-common wget mysql-client unzip postfix git mercurial subversion iputils-ping -y \\\n && git --version \\\n && hg --version \\\n && svn --version\n#  Zsh\nRUN apt-get install zsh -y \\\n && git clone git://github.com/robbyrussell/oh-my-zsh.git /root/.oh-my-zsh \\\n && chsh --shell $( which zsh ;) \\\n && zsh --version\nADD configs/oh-my-zsh/zshrc /root/.zshrc\n#  PHP\nRUN apt-get install php5-apcu php-pear php5-cgi php5-json php5-cli php5-curl curl php5-mcrypt php5-xdebug mcrypt libmcrypt-dev php5-mysql php5-gd php5-sqlite sqlite imagemagick php5-imagick -y \\\n && php5enmod mcrypt pdo pdo_sqlite sqlite3 \\\n && php --version\nADD configs/php/php-cli.ini /etc/php5/cli/conf.d/dockie-dockie.ini\n#  Composer\nENV COMPOSER_HOME=\"/root/.composer\"\nENV PATH=\"$COMPOSER_HOME/vendor/bin:$PATH\"\nRUN curl -sS https://getcomposer.org/installer | php -- --filename=composer --install-dir=/usr/bin --version=1.0.0-alpha10\nRUN composer --version\n#  PHPUnit\nRUN composer global require phpunit/phpunit:5.* \\\n && phpunit --version\n#  Drush\nRUN composer global require drush/drush:8.* \\\n && drush --version\n#  Python\nRUN apt-get install python python3 python-pil pylint -y \\\n && python --version \\\n && python3 --version\n#  Node.js\nRUN apt-get install build-essential -y \\\n && curl -sL https://deb.nodesource.com/setup_4.x | sh -\nRUN apt-get update --fix-missing \\\n && apt-get install nodejs -y \\\n && nodejs --version \\\n && npm --version \\\n && npm install coffee-script bower grunt-cli gulp component yo eslint -g\n#  Ruby\nRUN apt-get install ruby ruby-dev ri -y \\\n && ruby --version \\\n && echo \"Gem version:\" \\\n && gem --version\nRUN gem install rake \\\n && bundle --version \\\n && rake --version \\\n && sass --version \\\n && gem install compass \\\n && compass --version\n#  Go\nRUN apt-get install golang -y \\\n && go version\n#  Rust\nRUN mkdir -p /tmp/rust \\\n && cd /tmp/rust \\\n && wget https://static.rust-lang.org/dist/rust-1.3.0-x86_64-unknown-linux-gnu.tar.gz\nRUN cd /tmp/rust \\\n && tar -zxvf * \\\n && cd r* \\\n && ./install.sh \\\n && rm -rf /tmp/rust\nRUN rustc --version\nRUN cargo --version\n#  Version Check\nCOPY configs/dockie/dockie-version /dockie-version\nRUN chmod +x /dockie-version\n#  Clean up\nRUN apt-get clean \\\n && apt-get autoremove\nRUN /dockie-version\n#  Start\nVOLUME /app\nEXPOSE 22/tcp\nCMD [\"supervisord\"]\n","injectedSmells":[],"originalDockerfileHash":"380cda63e96f00edcc61ec7791285b25","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Dockie Development Environment\nFROM ubuntu:15.10\nMAINTAINER Rob Loach <robloach@gmail.com>\n#   Update\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN apt-get update \\\n && apt-get upgrade -y\n#   Supervisor\nRUN apt-get install supervisor -y \\\n && mkdir -p /var/log/supervisor \\\n && supervisord --version\nADD configs/supervisor/supervisor.conf /etc/supervisor/conf.d/supervisor.conf\n#   Base Dependencies\nRUN apt-get install software-properties-common wget mysql-client unzip postfix git mercurial subversion iputils-ping -y \\\n && git --version \\\n && hg --version \\\n && svn --version\n#   Zsh\nRUN apt-get install zsh -y \\\n && git clone git://github.com/robbyrussell/oh-my-zsh.git /root/.oh-my-zsh \\\n && chsh --shell $( which zsh ;) \\\n && zsh --version\nADD configs/oh-my-zsh/zshrc /root/.zshrc\n#   PHP\nRUN apt-get install php5-apcu php-pear php5-cgi php5-json php5-cli php5-curl curl php5-mcrypt php5-xdebug mcrypt libmcrypt-dev php5-mysql php5-gd php5-sqlite sqlite imagemagick php5-imagick -y \\\n && php5enmod mcrypt pdo pdo_sqlite sqlite3 \\\n && php --version\nADD configs/php/php-cli.ini /etc/php5/cli/conf.d/dockie-dockie.ini\n#   Composer\nENV COMPOSER_HOME=\"/root/.composer\"\nENV PATH=\"$COMPOSER_HOME/vendor/bin:$PATH\"\nRUN curl -sS https://getcomposer.org/installer | php -- --filename=composer --install-dir=/usr/bin --version=1.0.0-alpha10\nRUN composer --version\n#   PHPUnit\nRUN composer global require phpunit/phpunit:5.* \\\n && phpunit --version\n#   Drush\nRUN composer global require drush/drush:8.* \\\n && drush --version\n#   Python\nRUN apt-get install python python3 python-pil pylint -y \\\n && python --version \\\n && python3 --version\n#   Node.js\nRUN apt-get install build-essential -y \\\n && curl -sL https://deb.nodesource.com/setup_4.x | sh -\nRUN apt-get update --fix-missing \\\n && apt-get install nodejs -y \\\n && nodejs --version \\\n && npm --version \\\n && npm install coffee-script bower grunt-cli gulp component yo eslint -g\n#   Ruby\nRUN apt-get install ruby ruby-dev ri -y \\\n && ruby --version \\\n && echo \"Gem version:\" \\\n && gem --version\nRUN gem install rake \\\n && bundle --version \\\n && rake --version \\\n && sass --version \\\n && gem install compass \\\n && compass --version\n#   Go\nRUN apt-get install golang -y \\\n && go version\n#   Rust\nRUN mkdir -p /tmp/rust \\\n && cd /tmp/rust \\\n && wget https://static.rust-lang.org/dist/rust-1.3.0-x86_64-unknown-linux-gnu.tar.gz\nRUN cd /tmp/rust \\\n && tar -zxvf * \\\n && cd r* \\\n && ./install.sh \\\n && rm -rf /tmp/rust\nRUN rustc --version\nRUN cargo --version\n#   Version Check\nCOPY configs/dockie/dockie-version /dockie-version\nRUN chmod +x /dockie-version\n#   Clean up\nRUN apt-get clean \\\n && apt-get autoremove\nRUN /dockie-version\n#   Start\nVOLUME /app\nEXPOSE 22/tcp\nCMD [\"supervisord\"]\n","originalDockerfileUglifiedHash":"58f4996310b7390e8d134b79f8cbf6ec","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/ac82c4309aa0e9edaa7319a7be84f4f5dacfad58.dockerfile"}