{"seed":2408520592,"processedDockerfileHash":"f66062776696175a35d1db2fad7c0f1a","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM centos:7\nLABEL description=\"Container for Hootenanny in GBDX\" \\\n      maintainer=\"matthew.jackson@digitalglobe.com\" \\\n      name=\"GBDX Hootenanny\" \\\n      vendor=\"Radiant Solutions\"\nENV container=\"docker\"\nENV LANG=\"en_US.UTF-8\"\nENV LC_ALL=\"en_US.UTF-8\"\nRUN localedef --quiet -c -i en_US -f UTF-8 en_US.UTF-8\n#   Setup the epel, postgres and Hoot repos\nCOPY hoot_etc.tar.gz /\nRUN chown root:root /etc/yum.repos.d/hoot.repo \\\n && chmod 0644 /etc/yum.repos.d/hoot.repo \\\n && chown root:root /etc/pki/rpm-gpg/RPM-GPG-KEY-Hoot \\\n && chmod 0644 /etc/pki/rpm-gpg/RPM-GPG-KEY-Hoot \\\n && yum -y install epel-release \\\n && rpm -Uvh https://download.postgresql.org/pub/repos/yum/9.5/redhat/rhel-7-x86_64/pgdg-centos95-9.5-3.noarch.rpm \\\n && yum -q -y update\n#   Install the NodeSource repo and an ancient version of NodeJS\nRUN curl --silent --location https://rpm.nodesource.com/setup | bash -\nRUN yum install -q -y nodejs-0.10.48 nodejs-devel-0.10.48 yum-plugin-versionlock \\\n && yum versionlock nodejs*\n#   Install all the stuff we need to build a minimal version of Hoot\nRUN yum install -q -y autoconf automake bc boost-devel bzip2 cmake cppunit-devel curl file gcc gcc-c++ gdb geos geos-devel git git-core glpk glpk-devel hoot-gdal hoot-gdal-devel hoot-gdal-python libicu-devel liboauthcpp liboauthcpp-devel libpng-devel libtool mlocate opencv opencv-core opencv-devel opencv-python osmosis java-1.8.0-openjdk perl-XML-LibXML hoot-postgis24_95 postgresql95 postgresql95-contrib postgresql95-devel postgresql95-server proj proj-devel protobuf protobuf-compiler protobuf-devel python-devel python-matplotlib python-pip python-setuptools qt qt-devel qt-postgresql qtwebkit qtwebkit-devel redhat-lsb-core stxxl stxxl-devel swig unzip v8-devel vim wamerican-insane w3m wget words zip\n#   Make sure that we have qmake for the build.\nRUN alternatives --install /usr/bin/qmake qmake /usr/bin/qmake-qt5 500\n#   Cleanup\nRUN rm -f /etc/udev/rules.d/70-persistent-net.rules /var/log/wtmp /var/log/btmp \\\n && rm -rf /tmp/* \\\n && yum clean all\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM centos:7\nLABEL description=\"Container for Hootenanny in GBDX\" \\\n      maintainer=\"matthew.jackson@digitalglobe.com\" \\\n      name=\"GBDX Hootenanny\" \\\n      vendor=\"Radiant Solutions\"\nENV container=\"docker\"\nENV LANG=\"en_US.UTF-8\"\nENV LC_ALL=\"en_US.UTF-8\"\nRUN localedef --quiet -c -i en_US -f UTF-8 en_US.UTF-8\n#  Setup the epel, postgres and Hoot repos\nADD hoot_etc.tar.gz /\nRUN chown root:root /etc/yum.repos.d/hoot.repo \\\n && chmod 0644 /etc/yum.repos.d/hoot.repo \\\n && chown root:root /etc/pki/rpm-gpg/RPM-GPG-KEY-Hoot \\\n && chmod 0644 /etc/pki/rpm-gpg/RPM-GPG-KEY-Hoot \\\n && yum -y install epel-release \\\n && rpm -Uvh https://download.postgresql.org/pub/repos/yum/9.5/redhat/rhel-7-x86_64/pgdg-centos95-9.5-3.noarch.rpm \\\n && yum -q -y update\n#  Install the NodeSource repo and an ancient version of NodeJS\nRUN curl --silent --location https://rpm.nodesource.com/setup | bash -\nRUN yum install -q -y nodejs-0.10.48 nodejs-devel-0.10.48 yum-plugin-versionlock \\\n && yum versionlock nodejs*\n#  Install all the stuff we need to build a minimal version of Hoot\nRUN yum install -q -y autoconf automake bc boost-devel bzip2 cmake cppunit-devel curl file gcc gcc-c++ gdb geos geos-devel git git-core glpk glpk-devel hoot-gdal hoot-gdal-devel hoot-gdal-python libicu-devel liboauthcpp liboauthcpp-devel libpng-devel libtool mlocate opencv opencv-core opencv-devel opencv-python osmosis java-1.8.0-openjdk perl-XML-LibXML hoot-postgis24_95 postgresql95 postgresql95-contrib postgresql95-devel postgresql95-server proj proj-devel protobuf protobuf-compiler protobuf-devel python-devel python-matplotlib python-pip python-setuptools qt qt-devel qt-postgresql qtwebkit qtwebkit-devel redhat-lsb-core stxxl stxxl-devel swig unzip v8-devel vim wamerican-insane w3m wget words zip\n#  Make sure that we have qmake for the build.\nRUN alternatives --install /usr/bin/qmake qmake /usr/bin/qmake-qt5 500\n#  Cleanup\nRUN rm -f /etc/udev/rules.d/70-persistent-net.rules /var/log/wtmp /var/log/btmp \\\n && rm -rf /tmp/* \\\n && yum clean all\n","injectedSmells":[],"originalDockerfileHash":"0bcea072f2cff863ce1573e78f8f1b90","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM centos:7\nLABEL description=\"Container for Hootenanny in GBDX\" \\\n      maintainer=\"matthew.jackson@digitalglobe.com\" \\\n      name=\"GBDX Hootenanny\" \\\n      vendor=\"Radiant Solutions\"\nENV container=\"docker\"\nENV LANG=\"en_US.UTF-8\"\nENV LC_ALL=\"en_US.UTF-8\"\nRUN localedef --quiet -c -i en_US -f UTF-8 en_US.UTF-8\n#   Setup the epel, postgres and Hoot repos\nADD hoot_etc.tar.gz /\nRUN chown root:root /etc/yum.repos.d/hoot.repo \\\n && chmod 0644 /etc/yum.repos.d/hoot.repo \\\n && chown root:root /etc/pki/rpm-gpg/RPM-GPG-KEY-Hoot \\\n && chmod 0644 /etc/pki/rpm-gpg/RPM-GPG-KEY-Hoot \\\n && yum -y install epel-release \\\n && rpm -Uvh https://download.postgresql.org/pub/repos/yum/9.5/redhat/rhel-7-x86_64/pgdg-centos95-9.5-3.noarch.rpm \\\n && yum -q -y update\n#   Install the NodeSource repo and an ancient version of NodeJS\nRUN curl --silent --location https://rpm.nodesource.com/setup | bash -\nRUN yum install -q -y nodejs-0.10.48 nodejs-devel-0.10.48 yum-plugin-versionlock \\\n && yum versionlock nodejs*\n#   Install all the stuff we need to build a minimal version of Hoot\nRUN yum install -q -y autoconf automake bc boost-devel bzip2 cmake cppunit-devel curl file gcc gcc-c++ gdb geos geos-devel git git-core glpk glpk-devel hoot-gdal hoot-gdal-devel hoot-gdal-python libicu-devel liboauthcpp liboauthcpp-devel libpng-devel libtool mlocate opencv opencv-core opencv-devel opencv-python osmosis java-1.8.0-openjdk perl-XML-LibXML hoot-postgis24_95 postgresql95 postgresql95-contrib postgresql95-devel postgresql95-server proj proj-devel protobuf protobuf-compiler protobuf-devel python-devel python-matplotlib python-pip python-setuptools qt qt-devel qt-postgresql qtwebkit qtwebkit-devel redhat-lsb-core stxxl stxxl-devel swig unzip v8-devel vim wamerican-insane w3m wget words zip\n#   Make sure that we have qmake for the build.\nRUN alternatives --install /usr/bin/qmake qmake /usr/bin/qmake-qt5 500\n#   Cleanup\nRUN rm -f /etc/udev/rules.d/70-persistent-net.rules /var/log/wtmp /var/log/btmp \\\n && rm -rf /tmp/* \\\n && yum clean all\n","originalDockerfileUglifiedHash":"d29411dfe9d6e079b3312f3872a44057","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/157dfab2ea94fb5de397431a8ef6871a4817d3d5.dockerfile"}