{"seed":1112377932,"processedDockerfileHash":"b387c4308199086b637b53ad5e46d5b9","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","have-a-healthcheck"],"processedDockerfile":"#  ############################# Dockerfile ###################################\nFROM biocontainers/biocontainers:v1.0.0_cv4\n#  ############################ METADATA ######################################\nLABEL base_image=\"biocontainers:v1.0.0_cv4\"\nLABEL version=\"2\"\nLABEL software=\"BioR annotate\"\nLABEL software.version=\"2.1.1\"\nLABEL about.summary=\"BIOR (Biological Reference Repository) is a rapid, flexible system for genomic annotation\"\nLABEL about.home=\"http://www.well.ox.ac.uk/cava|https://github.com/Steven-N-Hart/bior_annotate|http://bioinformaticstools.mayo.edu/research/bior/|https://github.com/BioinformaticsToolsAtMayo|https://github.com/Steven-N-Hart/bior_annotate\"\nLABEL about.tags=\"Genomics\"\nLABEL about.provides=\"BioR 2.1.1|htslib 1.2.1|samtools 1.2|bedtools 2.25.0|pysam 0.8.3|cava full 1.1.1|snpEff\"\nLABEL extra.identifiers.biotools=\"BIOR\"\n#  ################# BEGIN INSTALLATION ######################\n#  ####################################################\n#   Install system wide libraries\n#  ####################################################\nUSER root\nRUN apt-get update \\\n && apt-get install --no-install-recommends libncurses5-dev libncursesw5-dev -y \\\n && apt-get clean \\\n && apt-get purge \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  ####################################################\n#   Install htslib\n#  ####################################################\nENV ZIP=\"htslib-1.2.1.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/htslib\"\nENV FOLDER=\"htslib-1.2.1\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n#  ####################################################\n#   Install SAMtools\n#  ####################################################\nENV ZIP=\"samtools-1.2.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/samtools\"\nENV FOLDER=\"samtools-1.2\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n#  ####################################################\n#   Get BEDtools\n#  ####################################################\nENV ZIP=\"bedtools-2.25.0.tar.gz\"\nENV URL=\"https://github.com/arq5x/bedtools2/releases/download/v2.25.0\"\nENV FOLDER=\"bedtools2\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n#  ####################################################\n#   Install perl modules\n#  ####################################################\nRUN cpan -i Data::Dumper Getopt::Long List::MoreUtils Switch\n#  ####################################################\n#   Install PySAM\n#  ####################################################\nRUN pip install pysam==0.8.3\n#  ####################################################\n#   Install Cava\n#  ####################################################\n#   Change user to back to biodocker\nUSER biodocker\nENV ZIP=\"cava-full-v1.1.1.tgz\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/cava\"\nENV FOLDER=\"cava-v1.1.1\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && sed -i -e 's#human_g1k_v37.fasta#'$DST/$FOLDER'/human_g1k_v37.fasta#;s#hg19.fa#'$DST/$FOLDER'/hg19.fa#;s#exome_65_GRCh37.gz#'$DST/$FOLDER'/exome_65_GRCh37.gz#;s#dbSNP138.gz#.#' $DST/$FOLDER/config.txt \\\n && cd / \\\n && rm -rf $DST/$FOLDER\nENV PATH=\"$PATH:/home/biodocker/bin/cava-v1.1.1/\"\n#  ####################################################\n#   Install SNPEFF\n#  ####################################################\nENV ZIP=\"snpEff_v4_1k_core.zip\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/snpEff\"\nENV FOLDER=\"snpEff\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && unzip $DST/$ZIP -d $DST \\\n && rm $DST/$ZIP \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST/$FOLDER'/snpEff.jar \\$@\" > '$DST'/snpeff' \\\n && chmod +x $DST/snpeff \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST/$FOLDER'/SnpSift.jar \\$@\" > '$DST'/snpsift' \\\n && chmod +x $DST/snpsift\nENV PATH=\"$PATH:/home/biodocker/bin/snpEff/scripts:/home/biodocker/bin/snpEff/scripts/gsa\"\n#  ####################################################\n#   Install BIOR\n#  ####################################################\nENV ZIP=\"bior_2.1.1.tar.gz\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/BioR\"\nENV FOLDER=\"bior_2.1.1\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvzf $DST/$ZIP -C $DST \\\n && rm -f $DST/$ZIP \\\n && echo \"export BIOR_LITE_HOME=$DST/$FOLDER\" > $DST/$FOLDER/PKG_PROFILE \\\n && ln -s $DST/$FOLDER/bin/* $DST/$FOLDER\nENV BASEDIR=\"/home/biodocker/bin/bior_2.1.1\"\nENV FOLDER=\"/home/biodocker/bin/bior_2.1.1\"\nENV BIOR_LITE_HOME=\"$BASEDIR\"\nENV PATH=\"$PATH:$BIOR_LITE_HOME/bin\"\nCOPY annotate/ /home/biodocker/bin/annnotate/\nENV PATH=\"$PATH:/home/biodocker/bin/annnotate/scripts/\"\n#   CHANGE WORKDIR TO /DATA\nWORKDIR /data\n#   DEFINE DEFAULT COMMAND\n#   CMD [\"bash\"]\n#  #################### INSTALLATION END #####################\n#   File Author / Maintainer\nMAINTAINER Saulo Alves Aflitos <sauloal@gmail.com>\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# ############################# Dockerfile ###################################\nFROM biocontainers/biocontainers:v1.0.0_cv4\n# ############################ METADATA ######################################\nLABEL base_image=\"biocontainers:v1.0.0_cv4\"\nLABEL version=\"2\"\nLABEL software=\"BioR annotate\"\nLABEL software.version=\"2.1.1\"\nLABEL about.summary=\"BIOR (Biological Reference Repository) is a rapid, flexible system for genomic annotation\"\nLABEL about.home=\"http://www.well.ox.ac.uk/cava|https://github.com/Steven-N-Hart/bior_annotate|http://bioinformaticstools.mayo.edu/research/bior/|https://github.com/BioinformaticsToolsAtMayo|https://github.com/Steven-N-Hart/bior_annotate\"\nLABEL about.tags=\"Genomics\"\nLABEL about.provides=\"BioR 2.1.1|htslib 1.2.1|samtools 1.2|bedtools 2.25.0|pysam 0.8.3|cava full 1.1.1|snpEff\"\nLABEL extra.identifiers.biotools=\"BIOR\"\n# ################# BEGIN INSTALLATION ######################\n# ####################################################\n#  Install system wide libraries\n# ####################################################\nUSER root\nRUN apt-get update \\\n && apt-get install libncurses5-dev libncursesw5-dev -y \\\n && apt-get clean \\\n && apt-get purge \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n# ####################################################\n#  Install htslib\n# ####################################################\nENV ZIP=\"htslib-1.2.1.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/htslib\"\nENV FOLDER=\"htslib-1.2.1\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n# ####################################################\n#  Install SAMtools\n# ####################################################\nENV ZIP=\"samtools-1.2.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/samtools\"\nENV FOLDER=\"samtools-1.2\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n# ####################################################\n#  Get BEDtools\n# ####################################################\nENV ZIP=\"bedtools-2.25.0.tar.gz\"\nENV URL=\"https://github.com/arq5x/bedtools2/releases/download/v2.25.0\"\nENV FOLDER=\"bedtools2\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n# ####################################################\n#  Install perl modules\n# ####################################################\nRUN cpan -i Data::Dumper Getopt::Long List::MoreUtils Switch\n# ####################################################\n#  Install PySAM\n# ####################################################\nRUN pip install pysam==0.8.3\n# ####################################################\n#  Install Cava\n# ####################################################\n#  Change user to back to biodocker\nUSER biodocker\nENV ZIP=\"cava-full-v1.1.1.tgz\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/cava\"\nENV FOLDER=\"cava-v1.1.1\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && sed -i -e 's#human_g1k_v37.fasta#'$DST/$FOLDER'/human_g1k_v37.fasta#;s#hg19.fa#'$DST/$FOLDER'/hg19.fa#;s#exome_65_GRCh37.gz#'$DST/$FOLDER'/exome_65_GRCh37.gz#;s#dbSNP138.gz#.#' $DST/$FOLDER/config.txt \\\n && cd / \\\n && rm -rf $DST/$FOLDER\nENV PATH=\"$PATH:/home/biodocker/bin/cava-v1.1.1/\"\n# ####################################################\n#  Install SNPEFF\n# ####################################################\nENV ZIP=\"snpEff_v4_1k_core.zip\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/snpEff\"\nENV FOLDER=\"snpEff\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && unzip $DST/$ZIP -d $DST \\\n && rm $DST/$ZIP \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST/$FOLDER'/snpEff.jar \\$@\" > '$DST'/snpeff' \\\n && chmod +x $DST/snpeff \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST/$FOLDER'/SnpSift.jar \\$@\" > '$DST'/snpsift' \\\n && chmod +x $DST/snpsift\nENV PATH=\"$PATH:/home/biodocker/bin/snpEff/scripts:/home/biodocker/bin/snpEff/scripts/gsa\"\n# ####################################################\n#  Install BIOR\n# ####################################################\nENV ZIP=\"bior_2.1.1.tar.gz\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/BioR\"\nENV FOLDER=\"bior_2.1.1\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvzf $DST/$ZIP -C $DST \\\n && rm -f $DST/$ZIP \\\n && echo \"export BIOR_LITE_HOME=$DST/$FOLDER\" > $DST/$FOLDER/PKG_PROFILE \\\n && ln -s $DST/$FOLDER/bin/* $DST/$FOLDER\nENV BASEDIR=\"/home/biodocker/bin/bior_2.1.1\"\nENV FOLDER=\"/home/biodocker/bin/bior_2.1.1\"\nENV BIOR_LITE_HOME=\"$BASEDIR\"\nENV PATH=\"$PATH:$BIOR_LITE_HOME/bin\"\nCOPY annotate/ /home/biodocker/bin/annnotate/\nENV PATH=\"$PATH:/home/biodocker/bin/annnotate/scripts/\"\n#  CHANGE WORKDIR TO /DATA\nWORKDIR /data\n#  DEFINE DEFAULT COMMAND\n#  CMD [\"bash\"]\n# #################### INSTALLATION END #####################\n#  File Author / Maintainer\nMAINTAINER Saulo Alves Aflitos <sauloal@gmail.com>\n","injectedSmells":[],"originalDockerfileHash":"08aabec5ca8e6eaeab7b0756424d8a4c","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  ############################# Dockerfile ###################################\nFROM biocontainers/biocontainers:v1.0.0_cv4\n#  ############################ METADATA ######################################\nLABEL base_image=\"biocontainers:v1.0.0_cv4\"\nLABEL version=\"2\"\nLABEL software=\"BioR annotate\"\nLABEL software.version=\"2.1.1\"\nLABEL about.summary=\"BIOR (Biological Reference Repository) is a rapid, flexible system for genomic annotation\"\nLABEL about.home=\"http://www.well.ox.ac.uk/cava|https://github.com/Steven-N-Hart/bior_annotate|http://bioinformaticstools.mayo.edu/research/bior/|https://github.com/BioinformaticsToolsAtMayo|https://github.com/Steven-N-Hart/bior_annotate\"\nLABEL about.tags=\"Genomics\"\nLABEL about.provides=\"BioR 2.1.1|htslib 1.2.1|samtools 1.2|bedtools 2.25.0|pysam 0.8.3|cava full 1.1.1|snpEff\"\nLABEL extra.identifiers.biotools=\"BIOR\"\n#  ################# BEGIN INSTALLATION ######################\n#  ####################################################\n#   Install system wide libraries\n#  ####################################################\nUSER root\nRUN apt-get update \\\n && apt-get install libncurses5-dev libncursesw5-dev -y \\\n && apt-get clean \\\n && apt-get purge \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  ####################################################\n#   Install htslib\n#  ####################################################\nENV ZIP=\"htslib-1.2.1.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/htslib\"\nENV FOLDER=\"htslib-1.2.1\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n#  ####################################################\n#   Install SAMtools\n#  ####################################################\nENV ZIP=\"samtools-1.2.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/samtools\"\nENV FOLDER=\"samtools-1.2\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n#  ####################################################\n#   Get BEDtools\n#  ####################################################\nENV ZIP=\"bedtools-2.25.0.tar.gz\"\nENV URL=\"https://github.com/arq5x/bedtools2/releases/download/v2.25.0\"\nENV FOLDER=\"bedtools2\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n#  ####################################################\n#   Install perl modules\n#  ####################################################\nRUN cpan -i Data::Dumper Getopt::Long List::MoreUtils Switch\n#  ####################################################\n#   Install PySAM\n#  ####################################################\nRUN pip install pysam==0.8.3\n#  ####################################################\n#   Install Cava\n#  ####################################################\n#   Change user to back to biodocker\nUSER biodocker\nENV ZIP=\"cava-full-v1.1.1.tgz\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/cava\"\nENV FOLDER=\"cava-v1.1.1\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && sed -i -e 's#human_g1k_v37.fasta#'$DST/$FOLDER'/human_g1k_v37.fasta#;s#hg19.fa#'$DST/$FOLDER'/hg19.fa#;s#exome_65_GRCh37.gz#'$DST/$FOLDER'/exome_65_GRCh37.gz#;s#dbSNP138.gz#.#' $DST/$FOLDER/config.txt \\\n && cd / \\\n && rm -rf $DST/$FOLDER\nENV PATH=\"$PATH:/home/biodocker/bin/cava-v1.1.1/\"\n#  ####################################################\n#   Install SNPEFF\n#  ####################################################\nENV ZIP=\"snpEff_v4_1k_core.zip\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/snpEff\"\nENV FOLDER=\"snpEff\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && unzip $DST/$ZIP -d $DST \\\n && rm $DST/$ZIP \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST/$FOLDER'/snpEff.jar \\$@\" > '$DST'/snpeff' \\\n && chmod +x $DST/snpeff \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST/$FOLDER'/SnpSift.jar \\$@\" > '$DST'/snpsift' \\\n && chmod +x $DST/snpsift\nENV PATH=\"$PATH:/home/biodocker/bin/snpEff/scripts:/home/biodocker/bin/snpEff/scripts/gsa\"\n#  ####################################################\n#   Install BIOR\n#  ####################################################\nENV ZIP=\"bior_2.1.1.tar.gz\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/BioR\"\nENV FOLDER=\"bior_2.1.1\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvzf $DST/$ZIP -C $DST \\\n && rm -f $DST/$ZIP \\\n && echo \"export BIOR_LITE_HOME=$DST/$FOLDER\" > $DST/$FOLDER/PKG_PROFILE \\\n && ln -s $DST/$FOLDER/bin/* $DST/$FOLDER\nENV BASEDIR=\"/home/biodocker/bin/bior_2.1.1\"\nENV FOLDER=\"/home/biodocker/bin/bior_2.1.1\"\nENV BIOR_LITE_HOME=\"$BASEDIR\"\nENV PATH=\"$PATH:$BIOR_LITE_HOME/bin\"\nCOPY annotate/ /home/biodocker/bin/annnotate/\nENV PATH=\"$PATH:/home/biodocker/bin/annnotate/scripts/\"\n#   CHANGE WORKDIR TO /DATA\nWORKDIR /data\n#   DEFINE DEFAULT COMMAND\n#   CMD [\"bash\"]\n#  #################### INSTALLATION END #####################\n#   File Author / Maintainer\nMAINTAINER Saulo Alves Aflitos <sauloal@gmail.com>\n","originalDockerfileUglifiedHash":"a2f5ed1bf73536470ee59c2b0901d8f7","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/38f49cab484c9aa7f96abc82134d0d964604bc76.dockerfile"}