{"seed":283878837,"processedDockerfileHash":"8d40b48d1d55dca893756c1d07a62596","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Docker file for JuliaBox\n#   Tag: julialang/juliaboxpkgdist\n#   Version:latest\nFROM julialang/juliaboxminpkgdist:latest\nMAINTAINER Tanmay Mohapatra\n#   Sundials\nRUN apt-get install --no-install-recommends libsundials-cvode1 libsundials-cvodes2 libsundials-ida2 libsundials-idas0 libsundials-kinsol1 libsundials-nvecserial0 libsundials-serial libsundials-serial-dev -y \\\n && apt-get clean\n#   NLopt\nRUN apt-get install --no-install-recommends libnlopt0=2.7.1-4build3 libnlopt-dev=2.7.1-4build3 -y \\\n && apt-get clean\n#   Ipopt\nRUN mkdir ipopt \\\n && cd ipopt \\\n && wget http://www.coin-or.org/download/source/Ipopt/Ipopt-3.12.1.tgz \\\n && tar -xzf Ipopt-3.12.1.tgz \\\n && cd Ipopt-3.12.1 \\\n && cd ThirdParty/Blas \\\n && ./get.Blas \\\n && ./configure --prefix=/usr/local --disable-shared --with-pic \\\n && make install \\\n && cd ../.. \\\n && cd ThirdParty/Lapack \\\n && ./get.Lapack \\\n && ./configure --prefix=/usr/local --disable-shared --with-pic \\\n && make install \\\n && cd ../.. \\\n && cd ThirdParty/Mumps \\\n && ./get.Mumps \\\n && cd ../ASL \\\n && ./get.ASL \\\n && cd ../.. \\\n && env LIBS='-lgfortran' ./configure --prefix=/usr/local --enable-dependency-linking coin_skip_warn_cxxflags=yes --with-blas=/usr/local/lib/libcoinblas.a --with-lapack=/usr/local/lib/libcoinlapack.a \\\n && make install \\\n && echo \"/usr/local/lib\" > /etc/ld.so.conf.d/ipopt.conf \\\n && ldconfig \\\n && cd ../.. \\\n && rm -rf ipopt\n#   Cbc\nRUN mkdir cbc \\\n && cd cbc \\\n && wget http://www.coin-or.org/download/source/Cbc/Cbc-2.8.12.tgz \\\n && tar -xzf Cbc-2.8.12.tgz \\\n && cd Cbc-2.8.12 \\\n && ./configure --prefix=/usr/local --enable-dependency-linking --without-blas --without-lapack --enable-cbc-parallel \\\n && make install \\\n && echo \"/usr/local/lib\" > /etc/ld.so.conf.d/cbc.conf \\\n && ldconfig \\\n && cd ../.. \\\n && rm -rf cbc\n#   MPI\nRUN apt-get install --no-install-recommends openmpi-bin=4.1.4-3ubuntu2 libopenmpi-dev=4.1.4-3ubuntu2 -y \\\n && apt-get clean\n#   Stan\nRUN mkdir stan \\\n && cd stan \\\n && wget https://github.com/stan-dev/cmdstan/releases/download/v2.14.0/cmdstan-2.14.0.tar.gz \\\n && tar -xzvf cmdstan-2.14.0.tar.gz \\\n && mv cmdstan-2.14.0 /usr/share/cmdstan \\\n && (cd /usr/share/cmdstan \\\n && make build ) \\\n && echo \"export CMDSTAN_HOME=/usr/share/cmdstan\" > /etc/profile.d/cmdstan.sh \\\n && chmod 755 /etc/profile.d/cmdstan.sh \\\n && cd .. \\\n && rm -rf stan\n#   Nemo\nRUN apt-get install --no-install-recommends m4=1.4.19-3 -y \\\n && apt-get clean\nRUN mkdir mpir \\\n && cd mpir \\\n && wget http://mpir.org/mpir-2.7.0-alpha11.tar.bz2 \\\n && tar -xvf mpir-2.7.0-alpha11.tar.bz2 \\\n && cd mpir-2.7.0 \\\n && ./configure M4=/usr/bin/m4 --enable-gmpcompat --disable-static --enable-shared \\\n && make \\\n && make install \\\n && cd ../.. \\\n && rm -rf mpir\nRUN mkdir mpfr \\\n && cd mpfr \\\n && wget http://ftp.gnu.org/gnu/mpfr/mpfr-3.1.3.tar.bz2 \\\n && tar -xvf mpfr-3.1.3.tar.bz2 \\\n && cd mpfr-3.1.3 \\\n && ./configure --with-gmp=/usr/local --disable-static --enable-shared \\\n && make \\\n && make install \\\n && cd ../.. \\\n && rm -rf mpfr\nRUN mkdir flint2 \\\n && cd flint2 \\\n && git clone https://github.com/wbhart/flint2.git \\\n && cd flint2 \\\n && ./configure --disable-static --enable-shared --with-mpir --with-mpfr \\\n && make \\\n && make install \\\n && cd ../.. \\\n && rm -rf flint2\n#   RCall\nRUN apt-get install --no-install-recommends software-properties-common=0.99.35 -y \\\n && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9 \\\n && add-apt-repository -y \"deb http://cran.rstudio.com/bin/linux/ubuntu trusty/\" \\\n && apt-get update \\\n && apt-get upgrade -y \\\n && apt-get install --no-install-recommends r-base=4.2.2.20221110-2build1 r-base-dev=4.2.2.20221110-2build1 r-recommended=4.2.2.20221110-2build1 -y \\\n && apt-get clean\nCOPY setup_julia.sh /tmp/setup_julia.sh\nRUN /tmp/setup_julia.sh\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Docker file for JuliaBox\n#  Tag: julialang/juliaboxpkgdist\n#  Version:latest\nFROM julialang/juliaboxminpkgdist:latest\nMAINTAINER Tanmay Mohapatra\n#  Sundials\nRUN apt-get install libsundials-cvode1 libsundials-cvodes2 libsundials-ida2 libsundials-idas0 libsundials-kinsol1 libsundials-nvecserial0 libsundials-serial libsundials-serial-dev -y \\\n && apt-get clean\n#  NLopt\nRUN apt-get install libnlopt0 libnlopt-dev -y \\\n && apt-get clean\n#  Ipopt\nRUN mkdir ipopt \\\n && cd ipopt \\\n && wget http://www.coin-or.org/download/source/Ipopt/Ipopt-3.12.1.tgz \\\n && tar -xzf Ipopt-3.12.1.tgz \\\n && cd Ipopt-3.12.1 \\\n && cd ThirdParty/Blas \\\n && ./get.Blas \\\n && ./configure --prefix=/usr/local --disable-shared --with-pic \\\n && make install \\\n && cd ../.. \\\n && cd ThirdParty/Lapack \\\n && ./get.Lapack \\\n && ./configure --prefix=/usr/local --disable-shared --with-pic \\\n && make install \\\n && cd ../.. \\\n && cd ThirdParty/Mumps \\\n && ./get.Mumps \\\n && cd ../ASL \\\n && ./get.ASL \\\n && cd ../.. \\\n && env LIBS='-lgfortran' ./configure --prefix=/usr/local --enable-dependency-linking coin_skip_warn_cxxflags=yes --with-blas=/usr/local/lib/libcoinblas.a --with-lapack=/usr/local/lib/libcoinlapack.a \\\n && make install \\\n && echo \"/usr/local/lib\" > /etc/ld.so.conf.d/ipopt.conf \\\n && ldconfig \\\n && cd ../.. \\\n && rm -rf ipopt\n#  Cbc\nRUN mkdir cbc \\\n && cd cbc \\\n && wget http://www.coin-or.org/download/source/Cbc/Cbc-2.8.12.tgz \\\n && tar -xzf Cbc-2.8.12.tgz \\\n && cd Cbc-2.8.12 \\\n && ./configure --prefix=/usr/local --enable-dependency-linking --without-blas --without-lapack --enable-cbc-parallel \\\n && make install \\\n && echo \"/usr/local/lib\" > /etc/ld.so.conf.d/cbc.conf \\\n && ldconfig \\\n && cd ../.. \\\n && rm -rf cbc\n#  MPI\nRUN apt-get install openmpi-bin libopenmpi-dev -y \\\n && apt-get clean\n#  Stan\nRUN mkdir stan \\\n && cd stan \\\n && wget https://github.com/stan-dev/cmdstan/releases/download/v2.14.0/cmdstan-2.14.0.tar.gz \\\n && tar -xzvf cmdstan-2.14.0.tar.gz \\\n && mv cmdstan-2.14.0 /usr/share/cmdstan \\\n && (cd /usr/share/cmdstan \\\n && make build ) \\\n && echo \"export CMDSTAN_HOME=/usr/share/cmdstan\" > /etc/profile.d/cmdstan.sh \\\n && chmod 755 /etc/profile.d/cmdstan.sh \\\n && cd .. \\\n && rm -rf stan\n#  Nemo\nRUN apt-get install m4 -y \\\n && apt-get clean\nRUN mkdir mpir \\\n && cd mpir \\\n && wget http://mpir.org/mpir-2.7.0-alpha11.tar.bz2 \\\n && tar -xvf mpir-2.7.0-alpha11.tar.bz2 \\\n && cd mpir-2.7.0 \\\n && ./configure M4=/usr/bin/m4 --enable-gmpcompat --disable-static --enable-shared \\\n && make \\\n && make install \\\n && cd ../.. \\\n && rm -rf mpir\nRUN mkdir mpfr \\\n && cd mpfr \\\n && wget http://ftp.gnu.org/gnu/mpfr/mpfr-3.1.3.tar.bz2 \\\n && tar -xvf mpfr-3.1.3.tar.bz2 \\\n && cd mpfr-3.1.3 \\\n && ./configure --with-gmp=/usr/local --disable-static --enable-shared \\\n && make \\\n && make install \\\n && cd ../.. \\\n && rm -rf mpfr\nRUN mkdir flint2 \\\n && cd flint2 \\\n && git clone https://github.com/wbhart/flint2.git \\\n && cd flint2 \\\n && ./configure --disable-static --enable-shared --with-mpir --with-mpfr \\\n && make \\\n && make install \\\n && cd ../.. \\\n && rm -rf flint2\n#  RCall\nRUN apt-get install software-properties-common -y \\\n && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9 \\\n && add-apt-repository -y \"deb http://cran.rstudio.com/bin/linux/ubuntu trusty/\" \\\n && apt-get update \\\n && apt-get upgrade -y \\\n && apt-get install r-base r-base-dev r-recommended -y \\\n && apt-get clean\nADD setup_julia.sh /tmp/setup_julia.sh\nRUN /tmp/setup_julia.sh\n","injectedSmells":[],"originalDockerfileHash":"5c67c2aaeda1762f9597ee2310eba5b5","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Docker file for JuliaBox\n#   Tag: julialang/juliaboxpkgdist\n#   Version:latest\nFROM julialang/juliaboxminpkgdist:latest\nMAINTAINER Tanmay Mohapatra\n#   Sundials\nRUN apt-get install libsundials-cvode1 libsundials-cvodes2 libsundials-ida2 libsundials-idas0 libsundials-kinsol1 libsundials-nvecserial0 libsundials-serial libsundials-serial-dev -y \\\n && apt-get clean\n#   NLopt\nRUN apt-get install libnlopt0 libnlopt-dev -y \\\n && apt-get clean\n#   Ipopt\nRUN mkdir ipopt \\\n && cd ipopt \\\n && wget http://www.coin-or.org/download/source/Ipopt/Ipopt-3.12.1.tgz \\\n && tar -xzf Ipopt-3.12.1.tgz \\\n && cd Ipopt-3.12.1 \\\n && cd ThirdParty/Blas \\\n && ./get.Blas \\\n && ./configure --prefix=/usr/local --disable-shared --with-pic \\\n && make install \\\n && cd ../.. \\\n && cd ThirdParty/Lapack \\\n && ./get.Lapack \\\n && ./configure --prefix=/usr/local --disable-shared --with-pic \\\n && make install \\\n && cd ../.. \\\n && cd ThirdParty/Mumps \\\n && ./get.Mumps \\\n && cd ../ASL \\\n && ./get.ASL \\\n && cd ../.. \\\n && env LIBS='-lgfortran' ./configure --prefix=/usr/local --enable-dependency-linking coin_skip_warn_cxxflags=yes --with-blas=/usr/local/lib/libcoinblas.a --with-lapack=/usr/local/lib/libcoinlapack.a \\\n && make install \\\n && echo \"/usr/local/lib\" > /etc/ld.so.conf.d/ipopt.conf \\\n && ldconfig \\\n && cd ../.. \\\n && rm -rf ipopt\n#   Cbc\nRUN mkdir cbc \\\n && cd cbc \\\n && wget http://www.coin-or.org/download/source/Cbc/Cbc-2.8.12.tgz \\\n && tar -xzf Cbc-2.8.12.tgz \\\n && cd Cbc-2.8.12 \\\n && ./configure --prefix=/usr/local --enable-dependency-linking --without-blas --without-lapack --enable-cbc-parallel \\\n && make install \\\n && echo \"/usr/local/lib\" > /etc/ld.so.conf.d/cbc.conf \\\n && ldconfig \\\n && cd ../.. \\\n && rm -rf cbc\n#   MPI\nRUN apt-get install openmpi-bin libopenmpi-dev -y \\\n && apt-get clean\n#   Stan\nRUN mkdir stan \\\n && cd stan \\\n && wget https://github.com/stan-dev/cmdstan/releases/download/v2.14.0/cmdstan-2.14.0.tar.gz \\\n && tar -xzvf cmdstan-2.14.0.tar.gz \\\n && mv cmdstan-2.14.0 /usr/share/cmdstan \\\n && (cd /usr/share/cmdstan \\\n && make build ) \\\n && echo \"export CMDSTAN_HOME=/usr/share/cmdstan\" > /etc/profile.d/cmdstan.sh \\\n && chmod 755 /etc/profile.d/cmdstan.sh \\\n && cd .. \\\n && rm -rf stan\n#   Nemo\nRUN apt-get install m4 -y \\\n && apt-get clean\nRUN mkdir mpir \\\n && cd mpir \\\n && wget http://mpir.org/mpir-2.7.0-alpha11.tar.bz2 \\\n && tar -xvf mpir-2.7.0-alpha11.tar.bz2 \\\n && cd mpir-2.7.0 \\\n && ./configure M4=/usr/bin/m4 --enable-gmpcompat --disable-static --enable-shared \\\n && make \\\n && make install \\\n && cd ../.. \\\n && rm -rf mpir\nRUN mkdir mpfr \\\n && cd mpfr \\\n && wget http://ftp.gnu.org/gnu/mpfr/mpfr-3.1.3.tar.bz2 \\\n && tar -xvf mpfr-3.1.3.tar.bz2 \\\n && cd mpfr-3.1.3 \\\n && ./configure --with-gmp=/usr/local --disable-static --enable-shared \\\n && make \\\n && make install \\\n && cd ../.. \\\n && rm -rf mpfr\nRUN mkdir flint2 \\\n && cd flint2 \\\n && git clone https://github.com/wbhart/flint2.git \\\n && cd flint2 \\\n && ./configure --disable-static --enable-shared --with-mpir --with-mpfr \\\n && make \\\n && make install \\\n && cd ../.. \\\n && rm -rf flint2\n#   RCall\nRUN apt-get install software-properties-common -y \\\n && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9 \\\n && add-apt-repository -y \"deb http://cran.rstudio.com/bin/linux/ubuntu trusty/\" \\\n && apt-get update \\\n && apt-get upgrade -y \\\n && apt-get install r-base r-base-dev r-recommended -y \\\n && apt-get clean\nADD setup_julia.sh /tmp/setup_julia.sh\nRUN /tmp/setup_julia.sh\n","originalDockerfileUglifiedHash":"4c01054d2680b20db643ae85a211917b","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/3324ec8c13944fbddfda88b2d9359edd8b4bb4f1.dockerfile"}