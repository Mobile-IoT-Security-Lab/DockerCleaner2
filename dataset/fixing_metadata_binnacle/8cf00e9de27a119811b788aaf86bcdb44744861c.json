{"seed":3874958404,"processedDockerfileHash":"4a21a86b0f200a8de329d95c72c6f30c","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:14.04\nENV PATH=\"\\\"$PATH:/opt/Fulcrum\\\"\"\nENV GITHUB_FEED=\"\\\"https://api.github.com/repos/fulcrumapp/fulcrum-desktop/releases/latest\\\"\"\n#   System Dependencies\nRUN apt-get update -y \\\n && apt-get install --no-install-recommends apt-transport-https=1.0.1ubuntu2.24 curl=7.35.0-1ubuntu2.20 software-properties-common=0.92.37.8 python-software-properties=0.92.37.8 -y \\\n && curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - \\\n && echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list \\\n && add-apt-repository -y ppa:ubuntugis/ppa \\\n && curl -sL https://deb.nodesource.com/setup_7.x | bash - \\\n && apt-get update -y \\\n && apt-get install --no-install-recommends libjson0=0.11-3ubuntu1.2 libjson0-dev=0.11-3ubuntu1.2 libsqlite3-dev=3.8.2-1ubuntu2.2 libproj-dev=4.8.0-2ubuntu2 libgeos-dev=3.4.2-4ubuntu1 libgeos++-dev=3.4.2-4ubuntu1 libspatialite-dev=4.1.1-5ubuntu1 libgeotiff-dev=1.4.0-1ubuntu2 libgdal-dev=1.10.1+dfsg-5ubuntu1 gdal-bin=1.10.1+dfsg-5ubuntu1 libmapnik-dev=2.2.0+ds1-6build2 mapnik-utils=2.2.0+ds1-6build2 python-dev=2.7.5-5ubuntu3 python-setuptools=3.3-1ubuntu2 python-pip=1.5.4-1ubuntu4 python-gdal=1.10.1+dfsg-5ubuntu1 python-mapnik=2.2.0+ds1-6build2 libprotobuf-dev=2.5.0-9ubuntu1 protobuf-compiler=2.5.0-9ubuntu1 nodejs=0.10.25~dfsg2-2ubuntu1.2 yarn gdebi-core=0.9.5.3ubuntu3 build-essential=11.6ubuntu6 libssl-dev=1.0.1f-1ubuntu2.27 libpq-dev=9.3.24-0ubuntu0.14.04 libxml2-dev=2.9.1+dfsg1-3ubuntu4.13 libxslt1-dev=1.1.28-2ubuntu0.2 imagemagick=8:6.7.7.10-6ubuntu3.13 libmagickwand-dev=8:6.7.7.10-6ubuntu3.13 git=1:1.9.1-1ubuntu0.10 libyaml-dev=0.1.4-3ubuntu3.1 sqlite3=3.8.2-1ubuntu2.2 autoconf=2.69-6 libgmp-dev=2:5.1.3+dfsg-1ubuntu1 libgdbm-dev=1.8.3-12build1 libncurses5-dev=5.9+20140118-1ubuntu1 automake=1:1.14.1-2ubuntu1 make=3.81-8.2ubuntu3 bison=2:3.0.2.dfsg-2 flex=2.5.35-10.1ubuntu2 libtool=2.4.2-1.7ubuntu1 xz-utils=5.1.1alpha+20120614-2ubuntu2 libffi-dev=3.1~rc1+r3.0.13-12ubuntu0.2 libgmp-dev=2:5.1.3+dfsg-1ubuntu1 libreadline6-dev=6.3-4ubuntu2 postgresql-client=9.3+154ubuntu1.1 libx11-xcb1=2:1.6.2-1ubuntu2.1 -y\n#   Install wkhtmltopdf\nRUN apt-get install --no-install-recommends zip=3.0-8 xfonts-encodings=1:1.0.4-1ubuntu1 xfonts-utils=1:7.7+1 xfonts-base=1:1.0.3 xfonts-75dpi=1:1.0.3 -y\nRUN apt-get install --no-install-recommends xfonts-intl-european=1.2.1-8 xfonts-intl-asian=1.2.1-8 xfonts-intl-arabic=1.2.1-8 xfonts-intl-chinese=1.2.1-8 xfonts-intl-chinese-big=1.2.1-8 xfonts-intl-japanese=1.2.1-8 xfonts-intl-japanese-big=1.2.1-8 xfonts-intl-phonetic=1.2.1-8 xfonts-wqy=0.9.9-8 xfonts-thai=1:1.2.6-2 fonts-khmeros-core=5.0-7ubuntu1 ttf-indic-fonts-core=1:0.5.14ubuntu1 ttf-indic-fonts=1:0.5.14ubuntu1 ttf-bengali-fonts=1:0.5.14ubuntu1 ttf-devanagari-fonts=1:0.5.14ubuntu1 ttf-gujarati-fonts=1:0.5.14ubuntu1 ttf-kannada-fonts=1:0.5.14ubuntu1 ttf-malayalam-fonts=1:0.5.14ubuntu1 ttf-oriya-fonts=1:0.5.14ubuntu1 ttf-punjabi-fonts=1:0.5.14ubuntu1 ttf-tamil-fonts=1:0.5.14ubuntu1 ttf-telugu-fonts=1:0.5.14ubuntu1 ttf-wqy-microhei=0.2.0-beta-2 fonts-wqy-microhei=0.2.0-beta-2 fonts-lao=0.0.20060226-9 fonts-droid=1:4.3-3ubuntu1.2 -y\nENV WKHTMLTOPDF_URL=\"\\\"http://zhm.s3.amazonaws.com/wkhtmltopdf/wkhtmltox-0.12.2.1_linux-trusty-amd64.deb\\\"\"\nENV WKHTMLTOPDF_PATH=\"/opt/wkhtmltopdf-build/wkhtmltopdf.deb\"\nRUN mkdir -p `dirname $WKHTMLTOPDF_PATH `\nRUN curl $WKHTMLTOPDF_URL > $WKHTMLTOPDF_PATH\nRUN fc-cache -f -v\nRUN dpkg --install $WKHTMLTOPDF_PATH\nRUN rm /opt/wkhtmltopdf-build/wkhtmltopdf.deb\nRUN VERSION=$( curl -s \"$GITHUB_FEED\" | grep '\"name\":' | head -n 1 | sed -e '1s/ \"name\": \"//' | sed -e '1s/\",//' ;) \\\n && DEB_FILE=\"Fulcrum_${VERSION}_amd64.deb\" \\\n && DOWNLOAD_URL=\"https://github.com/fulcrumapp/fulcrum-desktop/releases/download/v${VERSION}/${DEB_FILE}\" \\\n && curl -L $DOWNLOAD_URL -o /tmp/$DEB_FILE \\\n && gdebi -n /tmp/$DEB_FILE \\\n && rm /usr/local/bin/fulcrum \\\n && ln -s /opt/Fulcrum/scripts/* /usr/local/bin \\\n && rm /tmp/$DEB_FILE\nCMD 'fulcrum'\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:14.04\nENV PATH=\"\\\"$PATH:/opt/Fulcrum\\\"\"\nENV GITHUB_FEED=\"\\\"https://api.github.com/repos/fulcrumapp/fulcrum-desktop/releases/latest\\\"\"\n#  System Dependencies\nRUN apt-get update -y \\\n && apt-get install apt-transport-https curl software-properties-common python-software-properties -y \\\n && curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - \\\n && echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list \\\n && add-apt-repository -y ppa:ubuntugis/ppa \\\n && curl -sL https://deb.nodesource.com/setup_7.x | bash - \\\n && apt-get update -y \\\n && apt-get install libjson0 libjson0-dev libsqlite3-dev libproj-dev libgeos-dev libgeos++-dev libspatialite-dev libgeotiff-dev libgdal-dev gdal-bin libmapnik-dev mapnik-utils python-dev python-setuptools python-pip python-gdal python-mapnik libprotobuf-dev protobuf-compiler nodejs yarn gdebi-core build-essential libssl-dev libpq-dev libxml2-dev libxslt1-dev imagemagick libmagickwand-dev git libyaml-dev sqlite3 autoconf libgmp-dev libgdbm-dev libncurses5-dev automake make bison flex libtool xz-utils libffi-dev libgmp-dev libreadline6-dev postgresql-client libx11-xcb1 -y\n#  Install wkhtmltopdf\nRUN apt-get install zip xfonts-encodings xfonts-utils xfonts-base xfonts-75dpi -y\nRUN apt-get install xfonts-intl-european xfonts-intl-asian xfonts-intl-arabic xfonts-intl-chinese xfonts-intl-chinese-big xfonts-intl-japanese xfonts-intl-japanese-big xfonts-intl-phonetic xfonts-wqy xfonts-thai fonts-khmeros-core ttf-indic-fonts-core ttf-indic-fonts ttf-bengali-fonts ttf-devanagari-fonts ttf-gujarati-fonts ttf-kannada-fonts ttf-malayalam-fonts ttf-oriya-fonts ttf-punjabi-fonts ttf-tamil-fonts ttf-telugu-fonts ttf-wqy-microhei fonts-wqy-microhei fonts-lao fonts-droid -y\nENV WKHTMLTOPDF_URL=\"\\\"http://zhm.s3.amazonaws.com/wkhtmltopdf/wkhtmltox-0.12.2.1_linux-trusty-amd64.deb\\\"\"\nENV WKHTMLTOPDF_PATH=\"/opt/wkhtmltopdf-build/wkhtmltopdf.deb\"\nRUN mkdir -p `dirname $WKHTMLTOPDF_PATH `\nRUN curl $WKHTMLTOPDF_URL > $WKHTMLTOPDF_PATH\nRUN fc-cache -f -v\nRUN dpkg --install $WKHTMLTOPDF_PATH\nRUN rm /opt/wkhtmltopdf-build/wkhtmltopdf.deb\nRUN VERSION=$( curl -s \"$GITHUB_FEED\" | grep '\"name\":' | head -n 1 | sed -e '1s/ \"name\": \"//' | sed -e '1s/\",//' ;) \\\n && DEB_FILE=\"Fulcrum_${VERSION}_amd64.deb\" \\\n && DOWNLOAD_URL=\"https://github.com/fulcrumapp/fulcrum-desktop/releases/download/v${VERSION}/${DEB_FILE}\" \\\n && curl -L $DOWNLOAD_URL -o /tmp/$DEB_FILE \\\n && gdebi -n /tmp/$DEB_FILE \\\n && rm /usr/local/bin/fulcrum \\\n && ln -s /opt/Fulcrum/scripts/* /usr/local/bin \\\n && rm /tmp/$DEB_FILE\nCMD 'fulcrum'\n","injectedSmells":[],"originalDockerfileHash":"e56b45109b54585d6d6dcc49e6f72c44","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:14.04\nENV PATH=\"\\\"$PATH:/opt/Fulcrum\\\"\"\nENV GITHUB_FEED=\"\\\"https://api.github.com/repos/fulcrumapp/fulcrum-desktop/releases/latest\\\"\"\n#   System Dependencies\nRUN apt-get update -y \\\n && apt-get install apt-transport-https curl software-properties-common python-software-properties -y \\\n && curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - \\\n && echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list \\\n && add-apt-repository -y ppa:ubuntugis/ppa \\\n && curl -sL https://deb.nodesource.com/setup_7.x | bash - \\\n && apt-get update -y \\\n && apt-get install libjson0 libjson0-dev libsqlite3-dev libproj-dev libgeos-dev libgeos++-dev libspatialite-dev libgeotiff-dev libgdal-dev gdal-bin libmapnik-dev mapnik-utils python-dev python-setuptools python-pip python-gdal python-mapnik libprotobuf-dev protobuf-compiler nodejs yarn gdebi-core build-essential libssl-dev libpq-dev libxml2-dev libxslt1-dev imagemagick libmagickwand-dev git libyaml-dev sqlite3 autoconf libgmp-dev libgdbm-dev libncurses5-dev automake make bison flex libtool xz-utils libffi-dev libgmp-dev libreadline6-dev postgresql-client libx11-xcb1 -y\n#   Install wkhtmltopdf\nRUN apt-get install zip xfonts-encodings xfonts-utils xfonts-base xfonts-75dpi -y\nRUN apt-get install xfonts-intl-european xfonts-intl-asian xfonts-intl-arabic xfonts-intl-chinese xfonts-intl-chinese-big xfonts-intl-japanese xfonts-intl-japanese-big xfonts-intl-phonetic xfonts-wqy xfonts-thai fonts-khmeros-core ttf-indic-fonts-core ttf-indic-fonts ttf-bengali-fonts ttf-devanagari-fonts ttf-gujarati-fonts ttf-kannada-fonts ttf-malayalam-fonts ttf-oriya-fonts ttf-punjabi-fonts ttf-tamil-fonts ttf-telugu-fonts ttf-wqy-microhei fonts-wqy-microhei fonts-lao fonts-droid -y\nENV WKHTMLTOPDF_URL=\"\\\"http://zhm.s3.amazonaws.com/wkhtmltopdf/wkhtmltox-0.12.2.1_linux-trusty-amd64.deb\\\"\"\nENV WKHTMLTOPDF_PATH=\"/opt/wkhtmltopdf-build/wkhtmltopdf.deb\"\nRUN mkdir -p `dirname $WKHTMLTOPDF_PATH `\nRUN curl $WKHTMLTOPDF_URL > $WKHTMLTOPDF_PATH\nRUN fc-cache -f -v\nRUN dpkg --install $WKHTMLTOPDF_PATH\nRUN rm /opt/wkhtmltopdf-build/wkhtmltopdf.deb\nRUN VERSION=$( curl -s \"$GITHUB_FEED\" | grep '\"name\":' | head -n 1 | sed -e '1s/ \"name\": \"//' | sed -e '1s/\",//' ;) \\\n && DEB_FILE=\"Fulcrum_${VERSION}_amd64.deb\" \\\n && DOWNLOAD_URL=\"https://github.com/fulcrumapp/fulcrum-desktop/releases/download/v${VERSION}/${DEB_FILE}\" \\\n && curl -L $DOWNLOAD_URL -o /tmp/$DEB_FILE \\\n && gdebi -n /tmp/$DEB_FILE \\\n && rm /usr/local/bin/fulcrum \\\n && ln -s /opt/Fulcrum/scripts/* /usr/local/bin \\\n && rm /tmp/$DEB_FILE\nCMD 'fulcrum'\n","originalDockerfileUglifiedHash":"352010d228fdccd593225d7cc9b94aae","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/8cf00e9de27a119811b788aaf86bcdb44744861c.dockerfile"}