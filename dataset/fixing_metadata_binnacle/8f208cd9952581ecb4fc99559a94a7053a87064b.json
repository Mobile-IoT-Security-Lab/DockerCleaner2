{"seed":1822887548,"processedDockerfileHash":"f89824f65bfe4f943e359bad6536f089","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["do-not-use-apt-get-update-alone","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   ==================================================================\n#   py36-tf15\n#   ------------------------------------------------------------------\n#   python        3.6    (apt)\n#   tensorflow    1.5    (pip)\n#   pytorch       1.0    (pip)\n#   ==================================================================\nFROM nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\nENV LD_LIBRARY_PATH=\"/usr/local/cuda/lib64:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:$LD_LIBRARY_PATH\" \\\n    PATH=\"/usr/local/cuda-9.0/bin:$PATH\"\nENV LC_ALL=\"C\"\nENV LANG=\"en_US.UTF8\"\nENV LESSCHARSET=\"UTF-8\"\nENV PYTHONIOENCODING=\"UTF-8\"\nRUN mkdir ~/.pip \\\n && echo \"[global]\" > ~/.pip/pip.conf \\\n && echo \"index-url=https://pypi.tuna.tsinghua.edu.cn/simple\" >> ~/.pip/pip.conf \\\n && echo \"format = columns\" >> ~/.pip/pip.conf\nRUN sed -i 's/archive.ubuntu.com/mirrors.ustc.edu.cn/g' /etc/apt/sources.list \\\n && APT_INSTALL=\"apt-get install -y --no-install-recommends\" \\\n && PIP_INSTALL=\"python -m pip --no-cache-dir install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple \" \\\n && rm -rf /var/lib/apt/lists/* /etc/apt/sources.list.d/cuda.list /etc/apt/sources.list.d/nvidia-ml.list \\\n && : \\\n && DEBIAN_FRONTEND=noninteractive $APT_INSTALL build-essential ca-certificates cmake wget git vim openssh-client openssh-server python-tk zip unzip \\\n && DEBIAN_FRONTEND=noninteractive $APT_INSTALL software-properties-common \\\n && add-apt-repository ppa:jonathonf/python-3.6 \\\n && : \\\n && DEBIAN_FRONTEND=noninteractive $APT_INSTALL python3.6 python3.6-dev \\\n && wget -O ~/get-pip.py https://bootstrap.pypa.io/get-pip.py \\\n && python3.6 ~/get-pip.py \\\n && ln -s /usr/bin/python3.6 /usr/local/bin/python3 \\\n && ln -s /usr/bin/python3.6 /usr/local/bin/python \\\n && $PIP_INSTALL setuptools pip \\\n && $PIP_INSTALL git+https://github.com/JiahuiYu/neuralgym \\\n && $PIP_INSTALL numpy scipy pandas scikit-learn matplotlib opencv-python absl-py Cython sphinx sphinx_rtd_theme pyyaml \\\n && $PIP_INSTALL pycocotools h5py ipython==5.8.0 scikit-image easydict \\\n && $PIP_INSTALL tensorflow-gpu==1.5.0 tensorboard\n#   ==================================================================\n#   pytorch 1.0\n#   ------------------------------------------------------------------\nRUN pip install torch==1.0.0 torchvision==0.15.1 --no-cache-dir\n#   ==================================================================\n#   config & cleanup\n#   ------------------------------------------------------------------\nRUN ldconfig \\\n && apt-get clean \\\n && apt-get autoremove \\\n && rm -rf /var/lib/apt/lists/* /tmp/* ~/*\nEXPOSE 6006/tcp\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  ==================================================================\n#  py36-tf15\n#  ------------------------------------------------------------------\n#  python        3.6    (apt)\n#  tensorflow    1.5    (pip)\n#  pytorch       1.0    (pip)\n#  ==================================================================\nFROM nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\nENV LD_LIBRARY_PATH=\"/usr/local/cuda/lib64:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:$LD_LIBRARY_PATH\" \\\n    PATH=\"/usr/local/cuda-9.0/bin:$PATH\"\nENV LC_ALL=\"C\"\nENV LANG=\"en_US.UTF8\"\nENV LESSCHARSET=\"UTF-8\"\nENV PYTHONIOENCODING=\"UTF-8\"\nRUN mkdir ~/.pip \\\n && echo \"[global]\" > ~/.pip/pip.conf \\\n && echo \"index-url=https://pypi.tuna.tsinghua.edu.cn/simple\" >> ~/.pip/pip.conf \\\n && echo \"format = columns\" >> ~/.pip/pip.conf\nRUN sed -i 's/archive.ubuntu.com/mirrors.ustc.edu.cn/g' /etc/apt/sources.list \\\n && APT_INSTALL=\"apt-get install -y --no-install-recommends\" \\\n && PIP_INSTALL=\"python -m pip --no-cache-dir install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple \" \\\n && rm -rf /var/lib/apt/lists/* /etc/apt/sources.list.d/cuda.list /etc/apt/sources.list.d/nvidia-ml.list \\\n && apt-get update \\\n && DEBIAN_FRONTEND=noninteractive $APT_INSTALL build-essential ca-certificates cmake wget git vim openssh-client openssh-server python-tk zip unzip \\\n && DEBIAN_FRONTEND=noninteractive $APT_INSTALL software-properties-common \\\n && add-apt-repository ppa:jonathonf/python-3.6 \\\n && apt-get update \\\n && DEBIAN_FRONTEND=noninteractive $APT_INSTALL python3.6 python3.6-dev \\\n && wget -O ~/get-pip.py https://bootstrap.pypa.io/get-pip.py \\\n && python3.6 ~/get-pip.py \\\n && ln -s /usr/bin/python3.6 /usr/local/bin/python3 \\\n && ln -s /usr/bin/python3.6 /usr/local/bin/python \\\n && $PIP_INSTALL setuptools pip \\\n && $PIP_INSTALL git+https://github.com/JiahuiYu/neuralgym \\\n && $PIP_INSTALL numpy scipy pandas scikit-learn matplotlib opencv-python absl-py Cython sphinx sphinx_rtd_theme pyyaml \\\n && $PIP_INSTALL pycocotools h5py ipython==5.8.0 scikit-image easydict \\\n && $PIP_INSTALL tensorflow-gpu==1.5.0 tensorboard\n#  ==================================================================\n#  pytorch 1.0\n#  ------------------------------------------------------------------\nRUN pip install torch==1.0.0 torchvision --no-cache-dir\n#  ==================================================================\n#  config & cleanup\n#  ------------------------------------------------------------------\nRUN ldconfig \\\n && apt-get clean \\\n && apt-get autoremove \\\n && rm -rf /var/lib/apt/lists/* /tmp/* ~/*\nEXPOSE 6006/tcp\n","injectedSmells":[],"originalDockerfileHash":"3b8b6b578739df98ae57b63b6ca70e7c","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   ==================================================================\n#   py36-tf15\n#   ------------------------------------------------------------------\n#   python        3.6    (apt)\n#   tensorflow    1.5    (pip)\n#   pytorch       1.0    (pip)\n#   ==================================================================\nFROM nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\nENV LD_LIBRARY_PATH=\"/usr/local/cuda/lib64:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:$LD_LIBRARY_PATH\" \\\n    PATH=\"/usr/local/cuda-9.0/bin:$PATH\"\nENV LC_ALL=\"C\"\nENV LANG=\"en_US.UTF8\"\nENV LESSCHARSET=\"UTF-8\"\nENV PYTHONIOENCODING=\"UTF-8\"\nRUN mkdir ~/.pip \\\n && echo \"[global]\" > ~/.pip/pip.conf \\\n && echo \"index-url=https://pypi.tuna.tsinghua.edu.cn/simple\" >> ~/.pip/pip.conf \\\n && echo \"format = columns\" >> ~/.pip/pip.conf\nRUN sed -i 's/archive.ubuntu.com/mirrors.ustc.edu.cn/g' /etc/apt/sources.list \\\n && APT_INSTALL=\"apt-get install -y --no-install-recommends\" \\\n && PIP_INSTALL=\"python -m pip --no-cache-dir install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple \" \\\n && rm -rf /var/lib/apt/lists/* /etc/apt/sources.list.d/cuda.list /etc/apt/sources.list.d/nvidia-ml.list \\\n && apt-get update \\\n && DEBIAN_FRONTEND=noninteractive $APT_INSTALL build-essential ca-certificates cmake wget git vim openssh-client openssh-server python-tk zip unzip \\\n && DEBIAN_FRONTEND=noninteractive $APT_INSTALL software-properties-common \\\n && add-apt-repository ppa:jonathonf/python-3.6 \\\n && apt-get update \\\n && DEBIAN_FRONTEND=noninteractive $APT_INSTALL python3.6 python3.6-dev \\\n && wget -O ~/get-pip.py https://bootstrap.pypa.io/get-pip.py \\\n && python3.6 ~/get-pip.py \\\n && ln -s /usr/bin/python3.6 /usr/local/bin/python3 \\\n && ln -s /usr/bin/python3.6 /usr/local/bin/python \\\n && $PIP_INSTALL setuptools pip \\\n && $PIP_INSTALL git+https://github.com/JiahuiYu/neuralgym \\\n && $PIP_INSTALL numpy scipy pandas scikit-learn matplotlib opencv-python absl-py Cython sphinx sphinx_rtd_theme pyyaml \\\n && $PIP_INSTALL pycocotools h5py ipython==5.8.0 scikit-image easydict \\\n && $PIP_INSTALL tensorflow-gpu==1.5.0 tensorboard\n#   ==================================================================\n#   pytorch 1.0\n#   ------------------------------------------------------------------\nRUN pip install torch==1.0.0 torchvision --no-cache-dir\n#   ==================================================================\n#   config & cleanup\n#   ------------------------------------------------------------------\nRUN ldconfig \\\n && apt-get clean \\\n && apt-get autoremove \\\n && rm -rf /var/lib/apt/lists/* /tmp/* ~/*\nEXPOSE 6006/tcp\n","originalDockerfileUglifiedHash":"fc6e9377112cfd48d3d179c35f605fba","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/8f208cd9952581ecb4fc99559a94a7053a87064b.dockerfile"}