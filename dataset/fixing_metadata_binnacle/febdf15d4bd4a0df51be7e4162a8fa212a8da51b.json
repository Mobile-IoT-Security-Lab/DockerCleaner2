{"seed":2272744565,"processedDockerfileHash":"26a4b499741abeeb10ac9272fc646947","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-npm","use-copy-instead-of-add","have-a-healthcheck"],"processedDockerfile":"#   Ubuntu Bionic 18.04 at Jan 26'19\nFROM jupyter/minimal-notebook:87210526f381\nMAINTAINER Dani Arribas-Bel <D.Arribas-Bel@liverpool.ac.uk>\n#   https://github.com/ContinuumIO/docker-images/blob/master/miniconda3/Dockerfile\nENV LANG=\"C.UTF-8\" \\\n    LC_ALL=\"C.UTF-8\"\nUSER root\n#  --- Utilities ---#\nRUN apt-get update \\\n && apt-get install --no-install-recommends software-properties-common -y\nRUN add-apt-repository -y ppa:ubuntugis/ubuntugis-experimental \\\n && apt-get update \\\n && apt-get install --no-install-recommends dirmngr gpg-agent htop jq libjq-dev lbzip2 libcairo2-dev libfftw3-dev libgdal-dev libgeos-dev libgsl0-dev libgl1-mesa-dev libglu1-mesa-dev libhdf4-alt-dev libhdf5-dev liblwgeom-dev libproj-dev libprotobuf-dev libnetcdf-dev libsqlite3-dev libssl1.0.0 libssl-dev libudunits2-dev libv8-3.14-dev netcdf-bin protobuf-compiler tk-dev unixodbc-dev -y\n#  --- R ---#\n#   https://github.com/rocker-org/rocker-versioned/blob/master/r-ver/Dockerfile\n#   Look at: http://sites.psu.edu/theubunturblog/installing-r-in-ubuntu/\nRUN echo \"deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/\" >> /etc/apt/sources.list \\\n && sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9 \\\n && apt-get update \\\n && apt-get install --no-install-recommends r-base r-base-dev -y\nRUN R -e \"install.packages(c( 'arm', 'classInt', 'deldir', 'devtools', 'ggmap', 'GISTools', 'gstat', 'hdf5r', 'hexbin', 'igraph', 'knitr', 'lidR', 'lme4', 'mapdata', 'maptools', 'mapview', 'ncdf4', 'nlme', 'plyr', 'proj4', 'RColorBrewer', 'RandomFields', 'RNetCDF', 'randomForest', 'raster', 'RCurl', 'reshape2', 'rgdal', 'rgeos', 'rlas', 'rmarkdown', 'RODBC', 'RSQLite', 'sf', 'shiny', 'sp', 'spacetime', 'spatstat', 'spdep', 'splancs', 'tidyverse', 'tmap', 'tufte', 'geoR', 'geosphere'), repos='https://cran.rstudio.com');\" \\\n && R -e \"source('https://bioconductor.org/biocLite.R'); library(BiocInstaller); BiocInstaller::biocLite('rhdf5')\"\n#  --- Python ---#\nCOPY gds_py/install_gds_py.sh $HOME/install_gds_py.sh\nRUN chmod +x $HOME/install_gds_py.sh\nUSER $NB_UID\nRUN sed -i -e 's/\\r$//' $HOME/install_gds_py.sh\nRUN [\"/bin/bash\", \"-c\", \"$HOME/install_gds_py.sh\"]\nRUN rm /home/jovyan/install_gds_py.sh\n#  --- Decktape ---#\nWORKDIR $HOME\nRUN npm install decktape@3.7.0 -g\n#  --- R/Python ---#\nUSER root\nRUN ln -s /opt/conda/bin/jupyter /usr/local/bin\nRUN R -e \"library(devtools); devtools::install_github('IRkernel/IRkernel'); library(IRkernel); IRkernel::installspec(prefix='/opt/conda/');\"\nENV LD_LIBRARY_PATH=\"/usr/local/lib/R/lib/:${LD_LIBRARY_PATH}\"\nRUN fix-permissions $HOME \\\n && fix-permissions $CONDA_DIR\n#   Switch back to user to avoid accidental container runs as root\nUSER $NB_UID\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Ubuntu Bionic 18.04 at Jan 26'19\nFROM jupyter/minimal-notebook:87210526f381\nMAINTAINER Dani Arribas-Bel <D.Arribas-Bel@liverpool.ac.uk>\n#  https://github.com/ContinuumIO/docker-images/blob/master/miniconda3/Dockerfile\nENV LANG=\"C.UTF-8\" \\\n    LC_ALL=\"C.UTF-8\"\nUSER root\n# --- Utilities ---#\nRUN apt-get update \\\n && apt-get install --no-install-recommends software-properties-common -y\nRUN add-apt-repository -y ppa:ubuntugis/ubuntugis-experimental \\\n && apt-get update \\\n && apt-get install --no-install-recommends dirmngr gpg-agent htop jq libjq-dev lbzip2 libcairo2-dev libfftw3-dev libgdal-dev libgeos-dev libgsl0-dev libgl1-mesa-dev libglu1-mesa-dev libhdf4-alt-dev libhdf5-dev liblwgeom-dev libproj-dev libprotobuf-dev libnetcdf-dev libsqlite3-dev libssl1.0.0 libssl-dev libudunits2-dev libv8-3.14-dev netcdf-bin protobuf-compiler tk-dev unixodbc-dev -y\n# --- R ---#\n#  https://github.com/rocker-org/rocker-versioned/blob/master/r-ver/Dockerfile\n#  Look at: http://sites.psu.edu/theubunturblog/installing-r-in-ubuntu/\nRUN echo \"deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/\" >> /etc/apt/sources.list \\\n && sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9 \\\n && apt-get update \\\n && apt-get install r-base r-base-dev -y\nRUN R -e \"install.packages(c( 'arm', 'classInt', 'deldir', 'devtools', 'ggmap', 'GISTools', 'gstat', 'hdf5r', 'hexbin', 'igraph', 'knitr', 'lidR', 'lme4', 'mapdata', 'maptools', 'mapview', 'ncdf4', 'nlme', 'plyr', 'proj4', 'RColorBrewer', 'RandomFields', 'RNetCDF', 'randomForest', 'raster', 'RCurl', 'reshape2', 'rgdal', 'rgeos', 'rlas', 'rmarkdown', 'RODBC', 'RSQLite', 'sf', 'shiny', 'sp', 'spacetime', 'spatstat', 'spdep', 'splancs', 'tidyverse', 'tmap', 'tufte', 'geoR', 'geosphere'), repos='https://cran.rstudio.com');\" \\\n && R -e \"source('https://bioconductor.org/biocLite.R'); library(BiocInstaller); BiocInstaller::biocLite('rhdf5')\"\n# --- Python ---#\nADD gds_py/install_gds_py.sh $HOME/install_gds_py.sh\nRUN chmod +x $HOME/install_gds_py.sh\nUSER $NB_UID\nRUN sed -i -e 's/\\r$//' $HOME/install_gds_py.sh\nRUN [\"/bin/bash\", \"-c\", \"$HOME/install_gds_py.sh\"]\nRUN rm /home/jovyan/install_gds_py.sh\n# --- Decktape ---#\nWORKDIR $HOME\nRUN npm install decktape -g\n# --- R/Python ---#\nUSER root\nRUN ln -s /opt/conda/bin/jupyter /usr/local/bin\nRUN R -e \"library(devtools); devtools::install_github('IRkernel/IRkernel'); library(IRkernel); IRkernel::installspec(prefix='/opt/conda/');\"\nENV LD_LIBRARY_PATH=\"/usr/local/lib/R/lib/:${LD_LIBRARY_PATH}\"\nRUN fix-permissions $HOME \\\n && fix-permissions $CONDA_DIR\n#  Switch back to user to avoid accidental container runs as root\nUSER $NB_UID\n","injectedSmells":[],"originalDockerfileHash":"fe3bc7ca0de9faa63239360887775475","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Ubuntu Bionic 18.04 at Jan 26'19\nFROM jupyter/minimal-notebook:87210526f381\nMAINTAINER Dani Arribas-Bel <D.Arribas-Bel@liverpool.ac.uk>\n#   https://github.com/ContinuumIO/docker-images/blob/master/miniconda3/Dockerfile\nENV LANG=\"C.UTF-8\" \\\n    LC_ALL=\"C.UTF-8\"\nUSER root\n#  --- Utilities ---#\nRUN apt-get update \\\n && apt-get install --no-install-recommends software-properties-common -y\nRUN add-apt-repository -y ppa:ubuntugis/ubuntugis-experimental \\\n && apt-get update \\\n && apt-get install --no-install-recommends dirmngr gpg-agent htop jq libjq-dev lbzip2 libcairo2-dev libfftw3-dev libgdal-dev libgeos-dev libgsl0-dev libgl1-mesa-dev libglu1-mesa-dev libhdf4-alt-dev libhdf5-dev liblwgeom-dev libproj-dev libprotobuf-dev libnetcdf-dev libsqlite3-dev libssl1.0.0 libssl-dev libudunits2-dev libv8-3.14-dev netcdf-bin protobuf-compiler tk-dev unixodbc-dev -y\n#  --- R ---#\n#   https://github.com/rocker-org/rocker-versioned/blob/master/r-ver/Dockerfile\n#   Look at: http://sites.psu.edu/theubunturblog/installing-r-in-ubuntu/\nRUN echo \"deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/\" >> /etc/apt/sources.list \\\n && sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9 \\\n && apt-get update \\\n && apt-get install r-base r-base-dev -y\nRUN R -e \"install.packages(c( 'arm', 'classInt', 'deldir', 'devtools', 'ggmap', 'GISTools', 'gstat', 'hdf5r', 'hexbin', 'igraph', 'knitr', 'lidR', 'lme4', 'mapdata', 'maptools', 'mapview', 'ncdf4', 'nlme', 'plyr', 'proj4', 'RColorBrewer', 'RandomFields', 'RNetCDF', 'randomForest', 'raster', 'RCurl', 'reshape2', 'rgdal', 'rgeos', 'rlas', 'rmarkdown', 'RODBC', 'RSQLite', 'sf', 'shiny', 'sp', 'spacetime', 'spatstat', 'spdep', 'splancs', 'tidyverse', 'tmap', 'tufte', 'geoR', 'geosphere'), repos='https://cran.rstudio.com');\" \\\n && R -e \"source('https://bioconductor.org/biocLite.R'); library(BiocInstaller); BiocInstaller::biocLite('rhdf5')\"\n#  --- Python ---#\nADD gds_py/install_gds_py.sh $HOME/install_gds_py.sh\nRUN chmod +x $HOME/install_gds_py.sh\nUSER $NB_UID\nRUN sed -i -e 's/\\r$//' $HOME/install_gds_py.sh\nRUN [\"/bin/bash\", \"-c\", \"$HOME/install_gds_py.sh\"]\nRUN rm /home/jovyan/install_gds_py.sh\n#  --- Decktape ---#\nWORKDIR $HOME\nRUN npm install decktape -g\n#  --- R/Python ---#\nUSER root\nRUN ln -s /opt/conda/bin/jupyter /usr/local/bin\nRUN R -e \"library(devtools); devtools::install_github('IRkernel/IRkernel'); library(IRkernel); IRkernel::installspec(prefix='/opt/conda/');\"\nENV LD_LIBRARY_PATH=\"/usr/local/lib/R/lib/:${LD_LIBRARY_PATH}\"\nRUN fix-permissions $HOME \\\n && fix-permissions $CONDA_DIR\n#   Switch back to user to avoid accidental container runs as root\nUSER $NB_UID\n","originalDockerfileUglifiedHash":"b0cbcd251d182646f9816a24af4280bd","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/febdf15d4bd4a0df51be7e4162a8fa212a8da51b.dockerfile"}