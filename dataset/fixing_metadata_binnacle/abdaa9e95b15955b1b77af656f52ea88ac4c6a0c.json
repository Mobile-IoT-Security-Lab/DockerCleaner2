{"seed":2724795291,"processedDockerfileHash":"c6636dd68a134fe92c4337c4f8b2356e","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM debian\nMAINTAINER bhaas@broadinstitute.org\nRUN apt-get update \\\n && apt-get install --no-install-recommends gcc=4:12.2.0-3ubuntu1 g++=4:12.2.0-3ubuntu1 perl=5.36.0-7 python automake=1:1.16.5-1.3 make=4.3-4.1build1 wget=1.21.3-1ubuntu1 git=1:2.39.2-1ubuntu1 curl=7.88.1-7ubuntu1 libdb-dev=1:5.3.21~exp1ubuntu4 zlib1g-dev=1:1.2.13.dfsg-1ubuntu4 bzip2=1.0.8-5build1 libncurses5-dev=6.4-2 texlive-latex-base=2022.20230122-2 openjdk-7-jre python-pip python-dev -y \\\n && apt-get clean\nRUN curl -L https://cpanmin.us | perl - App::cpanminus\nRUN cpanm install DB_File\nRUN cpanm install Set::IntervalTree\nRUN cpanm install URI::Escape\nRUN pip install pysam==0.21.0\n#  # set up tool config and deployment area:\nENV SRC=\"/usr/local/src\"\nENV BIN=\"/usr/local/bin\"\nENV DATA=\"/usr/local/data\"\nRUN mkdir $DATA\n#  #####################\n#  # Tool installations:\n#  #####################\n#  ##############\n#  # STAR-Fusion:\nRUN cd $SRC \\\n && git clone --recursive https://github.com/STAR-Fusion/STAR-Fusion.git\nENV STAR_FUSION_HOME=\"$SRC/STAR-Fusion\"\n#  #############\n#  # STAR\nRUN RELEASE=\"2.5.2a\" \\\n && STAR_URL=\"https://github.com/alexdobin/STAR/archive/${RELEASE}.tar.gz\" \\\n && wget -P $SRC $STAR_URL \\\n && tar -xvf $SRC/${RELEASE}.tar.gz -C $SRC \\\n && mv $SRC/STAR-${RELEASE}/bin/Linux_x86_64_static/STAR /usr/local/bin\n#  ##################\n#  # FusionInspector\nRUN cd $SRC \\\n && git clone --recursive https://github.com/FusionInspector/FusionInspector.git\nENV FUSION_INSPECTOR_HOME=\"$SRC/FusionInspector\"\n#  #########\n#  # Trinity\nRUN TRINITY_URL=\"https://github.com/trinityrnaseq/trinityrnaseq/archive/v2.1.1.tar.gz\" \\\n && wget -P $SRC $TRINITY_URL \\\n && tar -xvf $SRC/v2.1.1.tar.gz -C $SRC \\\n && cd $SRC/trinityrnaseq-2.1.1 \\\n && make\nENV TRINITY_HOME=\"$SRC/trinityrnaseq-2.1.1\"\nRUN cp $TRINITY_HOME/trinity-plugins/htslib/bgzip $BIN\nRUN cp $TRINITY_HOME/trinity-plugins/BIN/samtools $BIN\nRUN cp $TRINITY_HOME/trinity-plugins/htslib/tabix $BIN\n#  ############\n#  # Oases\nRUN VELVET_URL=\"http://www.ebi.ac.uk/~zerbino/velvet/velvet_1.2.10.tgz\" \\\n && wget -P $SRC $VELVET_URL \\\n && tar xvf $SRC/velvet_1.2.10.tgz -C $SRC \\\n && ln -s $SRC/velvet_1.2.10 $SRC/velvet \\\n && cd $SRC/velvet \\\n && make \\\n && cp velveth velvetg $BIN/\nRUN OASES_URL=\"https://www.ebi.ac.uk/~zerbino/oases/oases_0.2.08.tgz\" \\\n && wget -P $SRC $OASES_URL \\\n && tar -xvf $SRC/oases_0.2.08.tgz -C $SRC \\\n && cd $SRC/oases_0.2.8 \\\n && make \\\n && cp oases $BIN/\n#  #############\n#  # DISCASM\nRUN cd $SRC \\\n && git clone --recursive https://github.com/DISCASM/DISCASM.git\nENV DISCASM_HOME=\"$SRC/DISCASM\"\n#  ##############################\n#  # Install\nCOPY PerlLib $SRC/\nENV PERL5LIB=\"$SRC:${PERL5LIB}\"\nCOPY util/*.pl $BIN/\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM debian\nMAINTAINER bhaas@broadinstitute.org\nRUN apt-get update \\\n && apt-get install gcc g++ perl python automake make wget git curl libdb-dev zlib1g-dev bzip2 libncurses5-dev texlive-latex-base openjdk-7-jre python-pip python-dev -y \\\n && apt-get clean\nRUN curl -L https://cpanmin.us | perl - App::cpanminus\nRUN cpanm install DB_File\nRUN cpanm install Set::IntervalTree\nRUN cpanm install URI::Escape\nRUN pip install pysam\n# # set up tool config and deployment area:\nENV SRC=\"/usr/local/src\"\nENV BIN=\"/usr/local/bin\"\nENV DATA=\"/usr/local/data\"\nRUN mkdir $DATA\n# #####################\n# # Tool installations:\n# #####################\n# ##############\n# # STAR-Fusion:\nRUN cd $SRC \\\n && git clone --recursive https://github.com/STAR-Fusion/STAR-Fusion.git\nENV STAR_FUSION_HOME=\"$SRC/STAR-Fusion\"\n# #############\n# # STAR\nRUN RELEASE=\"2.5.2a\" \\\n && STAR_URL=\"https://github.com/alexdobin/STAR/archive/${RELEASE}.tar.gz\" \\\n && wget -P $SRC $STAR_URL \\\n && tar -xvf $SRC/${RELEASE}.tar.gz -C $SRC \\\n && mv $SRC/STAR-${RELEASE}/bin/Linux_x86_64_static/STAR /usr/local/bin\n# ##################\n# # FusionInspector\nRUN cd $SRC \\\n && git clone --recursive https://github.com/FusionInspector/FusionInspector.git\nENV FUSION_INSPECTOR_HOME=\"$SRC/FusionInspector\"\n# #########\n# # Trinity\nRUN TRINITY_URL=\"https://github.com/trinityrnaseq/trinityrnaseq/archive/v2.1.1.tar.gz\" \\\n && wget -P $SRC $TRINITY_URL \\\n && tar -xvf $SRC/v2.1.1.tar.gz -C $SRC \\\n && cd $SRC/trinityrnaseq-2.1.1 \\\n && make\nENV TRINITY_HOME=\"$SRC/trinityrnaseq-2.1.1\"\nRUN cp $TRINITY_HOME/trinity-plugins/htslib/bgzip $BIN\nRUN cp $TRINITY_HOME/trinity-plugins/BIN/samtools $BIN\nRUN cp $TRINITY_HOME/trinity-plugins/htslib/tabix $BIN\n# ############\n# # Oases\nRUN VELVET_URL=\"http://www.ebi.ac.uk/~zerbino/velvet/velvet_1.2.10.tgz\" \\\n && wget -P $SRC $VELVET_URL \\\n && tar xvf $SRC/velvet_1.2.10.tgz -C $SRC \\\n && ln -s $SRC/velvet_1.2.10 $SRC/velvet \\\n && cd $SRC/velvet \\\n && make \\\n && cp velveth velvetg $BIN/\nRUN OASES_URL=\"https://www.ebi.ac.uk/~zerbino/oases/oases_0.2.08.tgz\" \\\n && wget -P $SRC $OASES_URL \\\n && tar -xvf $SRC/oases_0.2.08.tgz -C $SRC \\\n && cd $SRC/oases_0.2.8 \\\n && make \\\n && cp oases $BIN/\n# #############\n# # DISCASM\nRUN cd $SRC \\\n && git clone --recursive https://github.com/DISCASM/DISCASM.git\nENV DISCASM_HOME=\"$SRC/DISCASM\"\n# ##############################\n# # Install\nCOPY PerlLib $SRC/\nENV PERL5LIB=\"$SRC:${PERL5LIB}\"\nCOPY util/*.pl $BIN/\n","injectedSmells":[],"originalDockerfileHash":"651c9c548dc5f7fd13d548eea269139b","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM debian\nMAINTAINER bhaas@broadinstitute.org\nRUN apt-get update \\\n && apt-get install gcc g++ perl python automake make wget git curl libdb-dev zlib1g-dev bzip2 libncurses5-dev texlive-latex-base openjdk-7-jre python-pip python-dev -y \\\n && apt-get clean\nRUN curl -L https://cpanmin.us | perl - App::cpanminus\nRUN cpanm install DB_File\nRUN cpanm install Set::IntervalTree\nRUN cpanm install URI::Escape\nRUN pip install pysam\n#  # set up tool config and deployment area:\nENV SRC=\"/usr/local/src\"\nENV BIN=\"/usr/local/bin\"\nENV DATA=\"/usr/local/data\"\nRUN mkdir $DATA\n#  #####################\n#  # Tool installations:\n#  #####################\n#  ##############\n#  # STAR-Fusion:\nRUN cd $SRC \\\n && git clone --recursive https://github.com/STAR-Fusion/STAR-Fusion.git\nENV STAR_FUSION_HOME=\"$SRC/STAR-Fusion\"\n#  #############\n#  # STAR\nRUN RELEASE=\"2.5.2a\" \\\n && STAR_URL=\"https://github.com/alexdobin/STAR/archive/${RELEASE}.tar.gz\" \\\n && wget -P $SRC $STAR_URL \\\n && tar -xvf $SRC/${RELEASE}.tar.gz -C $SRC \\\n && mv $SRC/STAR-${RELEASE}/bin/Linux_x86_64_static/STAR /usr/local/bin\n#  ##################\n#  # FusionInspector\nRUN cd $SRC \\\n && git clone --recursive https://github.com/FusionInspector/FusionInspector.git\nENV FUSION_INSPECTOR_HOME=\"$SRC/FusionInspector\"\n#  #########\n#  # Trinity\nRUN TRINITY_URL=\"https://github.com/trinityrnaseq/trinityrnaseq/archive/v2.1.1.tar.gz\" \\\n && wget -P $SRC $TRINITY_URL \\\n && tar -xvf $SRC/v2.1.1.tar.gz -C $SRC \\\n && cd $SRC/trinityrnaseq-2.1.1 \\\n && make\nENV TRINITY_HOME=\"$SRC/trinityrnaseq-2.1.1\"\nRUN cp $TRINITY_HOME/trinity-plugins/htslib/bgzip $BIN\nRUN cp $TRINITY_HOME/trinity-plugins/BIN/samtools $BIN\nRUN cp $TRINITY_HOME/trinity-plugins/htslib/tabix $BIN\n#  ############\n#  # Oases\nRUN VELVET_URL=\"http://www.ebi.ac.uk/~zerbino/velvet/velvet_1.2.10.tgz\" \\\n && wget -P $SRC $VELVET_URL \\\n && tar xvf $SRC/velvet_1.2.10.tgz -C $SRC \\\n && ln -s $SRC/velvet_1.2.10 $SRC/velvet \\\n && cd $SRC/velvet \\\n && make \\\n && cp velveth velvetg $BIN/\nRUN OASES_URL=\"https://www.ebi.ac.uk/~zerbino/oases/oases_0.2.08.tgz\" \\\n && wget -P $SRC $OASES_URL \\\n && tar -xvf $SRC/oases_0.2.08.tgz -C $SRC \\\n && cd $SRC/oases_0.2.8 \\\n && make \\\n && cp oases $BIN/\n#  #############\n#  # DISCASM\nRUN cd $SRC \\\n && git clone --recursive https://github.com/DISCASM/DISCASM.git\nENV DISCASM_HOME=\"$SRC/DISCASM\"\n#  ##############################\n#  # Install\nCOPY PerlLib $SRC/\nENV PERL5LIB=\"$SRC:${PERL5LIB}\"\nCOPY util/*.pl $BIN/\n","originalDockerfileUglifiedHash":"fe008c90502b5616020cf22687ee2f15","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/abdaa9e95b15955b1b77af656f52ea88ac4c6a0c.dockerfile"}