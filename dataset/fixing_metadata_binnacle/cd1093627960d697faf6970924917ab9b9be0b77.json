{"seed":3387848418,"processedDockerfileHash":"62b234b5b8e403a6ac5a2a6666037ae3","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM debian:9.1\nMAINTAINER Jeff Townsend <jeffrey.townsend@bigswitch.com>\n#   First round of dependences\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt apt-cacher-ng apt-file apt-utils autoconf automake autotools-dev bash-completion bc bind9-host binfmt-support binfmt-support bison bsdmainutils build-essential ccache cdbs cpio cryptsetup-bin debhelper debhelper debhelper device-tree-compiler devscripts devscripts dialog dosfstools doxygen dpkg-sig emacs file flex gawk gcc gdb genisoimage git gperf ifupdown iproute iputils-ping isolinux kmod less libc6-dev libcurl4-nss-dev libdouble-conversion-dev libedit-dev libevent-dev libexpat1-dev libgoogle-glog-dev libi2c-dev libkrb5-dev libnuma-dev libsasl2-dev libsnappy-dev libpam-dev libpcap-dev libsnmp-dev libssl-dev libtool libtool-bin locales lsof make mingetty mtd-utils mtools multistrap nano ncurses-dev netbase net-tools nfs-common openssh-server pkg-config pkg-config procps psmisc python python-debian python-dnspython python-yaml qemu qemu-user-static realpath realpath rsyslog ruby ruby-dev rubygems screen squashfs-tools sshpass stgit sudo syslinux-utils telnet texinfo traceroute u-boot-tools vim-tiny wget xorriso zile zip -y\nRUN apt-get install --no-install-recommends chrpath devscripts dh-autoreconf dh-systemd flex libcap-dev libc-ares-dev libjson-c-dev libpam0g-dev libpcre3-dev libreadline-dev libsystemd-dev pkg-config texlive-generic-recommended texinfo texlive-latex-base -y\nRUN gem install fpm --version 1.3.3\n#\n#   The i2c-dev.h user/kernel header conflict is a nightmare.\n#\n#   The ONLP implementation expects a new file called <linux/i2c-device.h> to be in place which contains the correct user-space driver definitions.\n#   This should be manually populated here after the toolchains have been installed.\n#\nRUN cp /usr/include/linux/i2c-dev.h /usr/include/linux/i2c-devices.h\nRUN rm /etc/apt/apt.conf.d/docker-* \\\n && wget \"https://launchpad.net/ubuntu/+source/qemu/1.4.0+dfsg-1expubuntu3/+build/4336762/+files/qemu-user-static_1.4.0%2Bdfsg-1expubuntu3_amd64.deb\" \\\n && dpkg -i qemu-user-static_1.4.0+dfsg-1expubuntu3_amd64.deb\n#\n#   Copy the docker shell init script to /bin\n#\nCOPY docker_shell /bin/docker_shell\nCOPY container-id /bin/container-id\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM debian:9.1\nMAINTAINER Jeff Townsend <jeffrey.townsend@bigswitch.com>\n#  First round of dependences\nRUN apt-get update \\\n && apt-get install apt apt-cacher-ng apt-file apt-utils autoconf automake autotools-dev bash-completion bc bind9-host binfmt-support binfmt-support bison bsdmainutils build-essential ccache cdbs cpio cryptsetup-bin debhelper debhelper debhelper device-tree-compiler devscripts devscripts dialog dosfstools doxygen dpkg-sig emacs file flex gawk gcc gdb genisoimage git gperf ifupdown iproute iputils-ping isolinux kmod less libc6-dev libcurl4-nss-dev libdouble-conversion-dev libedit-dev libevent-dev libexpat1-dev libgoogle-glog-dev libi2c-dev libkrb5-dev libnuma-dev libsasl2-dev libsnappy-dev libpam-dev libpcap-dev libsnmp-dev libssl-dev libtool libtool-bin locales lsof make mingetty mtd-utils mtools multistrap nano ncurses-dev netbase net-tools nfs-common openssh-server pkg-config pkg-config procps psmisc python python-debian python-dnspython python-yaml qemu qemu-user-static realpath realpath rsyslog ruby ruby-dev rubygems screen squashfs-tools sshpass stgit sudo syslinux-utils telnet texinfo traceroute u-boot-tools vim-tiny wget xorriso zile zip -y\nRUN apt-get install chrpath devscripts dh-autoreconf dh-systemd flex libcap-dev libc-ares-dev libjson-c-dev libpam0g-dev libpcre3-dev libreadline-dev libsystemd-dev pkg-config texlive-generic-recommended texinfo texlive-latex-base -y\nRUN gem install fpm --version 1.3.3\n#\n#  The i2c-dev.h user/kernel header conflict is a nightmare.\n#\n#  The ONLP implementation expects a new file called <linux/i2c-device.h> to be in place which contains the correct user-space driver definitions.\n#  This should be manually populated here after the toolchains have been installed.\n#\nRUN cp /usr/include/linux/i2c-dev.h /usr/include/linux/i2c-devices.h\nRUN rm /etc/apt/apt.conf.d/docker-* \\\n && wget \"https://launchpad.net/ubuntu/+source/qemu/1.4.0+dfsg-1expubuntu3/+build/4336762/+files/qemu-user-static_1.4.0%2Bdfsg-1expubuntu3_amd64.deb\" \\\n && dpkg -i qemu-user-static_1.4.0+dfsg-1expubuntu3_amd64.deb\n#\n#  Copy the docker shell init script to /bin\n#\nCOPY docker_shell /bin/docker_shell\nCOPY container-id /bin/container-id\n","injectedSmells":[],"originalDockerfileHash":"5d0f52ec98f0029c7c4f41a2c9ee76e2","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM debian:9.1\nMAINTAINER Jeff Townsend <jeffrey.townsend@bigswitch.com>\n#   First round of dependences\nRUN apt-get update \\\n && apt-get install apt apt-cacher-ng apt-file apt-utils autoconf automake autotools-dev bash-completion bc bind9-host binfmt-support binfmt-support bison bsdmainutils build-essential ccache cdbs cpio cryptsetup-bin debhelper debhelper debhelper device-tree-compiler devscripts devscripts dialog dosfstools doxygen dpkg-sig emacs file flex gawk gcc gdb genisoimage git gperf ifupdown iproute iputils-ping isolinux kmod less libc6-dev libcurl4-nss-dev libdouble-conversion-dev libedit-dev libevent-dev libexpat1-dev libgoogle-glog-dev libi2c-dev libkrb5-dev libnuma-dev libsasl2-dev libsnappy-dev libpam-dev libpcap-dev libsnmp-dev libssl-dev libtool libtool-bin locales lsof make mingetty mtd-utils mtools multistrap nano ncurses-dev netbase net-tools nfs-common openssh-server pkg-config pkg-config procps psmisc python python-debian python-dnspython python-yaml qemu qemu-user-static realpath realpath rsyslog ruby ruby-dev rubygems screen squashfs-tools sshpass stgit sudo syslinux-utils telnet texinfo traceroute u-boot-tools vim-tiny wget xorriso zile zip -y\nRUN apt-get install chrpath devscripts dh-autoreconf dh-systemd flex libcap-dev libc-ares-dev libjson-c-dev libpam0g-dev libpcre3-dev libreadline-dev libsystemd-dev pkg-config texlive-generic-recommended texinfo texlive-latex-base -y\nRUN gem install fpm --version 1.3.3\n#\n#   The i2c-dev.h user/kernel header conflict is a nightmare.\n#\n#   The ONLP implementation expects a new file called <linux/i2c-device.h> to be in place which contains the correct user-space driver definitions.\n#   This should be manually populated here after the toolchains have been installed.\n#\nRUN cp /usr/include/linux/i2c-dev.h /usr/include/linux/i2c-devices.h\nRUN rm /etc/apt/apt.conf.d/docker-* \\\n && wget \"https://launchpad.net/ubuntu/+source/qemu/1.4.0+dfsg-1expubuntu3/+build/4336762/+files/qemu-user-static_1.4.0%2Bdfsg-1expubuntu3_amd64.deb\" \\\n && dpkg -i qemu-user-static_1.4.0+dfsg-1expubuntu3_amd64.deb\n#\n#   Copy the docker shell init script to /bin\n#\nCOPY docker_shell /bin/docker_shell\nCOPY container-id /bin/container-id\n","originalDockerfileUglifiedHash":"9b27b461b4b0e4873bf9907822edc912","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/cd1093627960d697faf6970924917ab9b9be0b77.dockerfile"}