{"seed":525847772,"processedDockerfileHash":"9fd1e3dac6271945b89799a7636f7fa1","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:18.04\nMAINTAINER Cody Hiar <codyfh@gmail.com>\n#  #######################################\n#   System Stuff\n#  #######################################\n#   Better terminal support\nENV TERM=\"screen-256color\"\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Update and install\nRUN apt-get update \\\n && apt-get install --no-install-recommends htop=2.1.0-3 bash=4.4.18-2ubuntu1.3 curl=7.58.0-2ubuntu3.24 wget=1.19.4-1ubuntu2.2 git=1:2.17.1-1ubuntu0.17 software-properties-common=0.96.24.32.20 python-dev=2.7.15~rc1-1 python-pip=9.0.1-2.3~ubuntu1.18.04.8 python3-dev=3.6.7-1~18.04 python3-pip=9.0.1-2.3~ubuntu1.18.04.8 ctags shellcheck=0.4.6-1 netcat=1.10-41.1 ack-grep=2.22-1 sqlite3=3.22.0-1ubuntu0.7 unzip=6.0-21ubuntu1.2 libssl-dev=1.1.1-1ubuntu2.1~18.04.21 libffi-dev=3.2.1-8 locales=2.27-3ubuntu1.6 cmake=3.10.2-1ubuntu2.18.04.2 -y\n#   Generally a good idea to have these, extensions sometimes need them\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US:en\"\nENV LC_ALL=\"en_US.UTF-8\"\n#   Install Neovim\nRUN add-apt-repository ppa:neovim-ppa/stable\nRUN apt-get update \\\n && apt-get install --no-install-recommends neovim=0.2.2-3 -y\n#   Install Ledger\nRUN add-apt-repository ppa:mbudde/ledger\nRUN apt-get update \\\n && apt-get install --no-install-recommends ledger=3.1.2~pre1+g3a00e1c+dfsg1-5build5 -y\n#   Install Terraform for linting\nRUN wget https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip \\\n && unzip terraform_0.11.8_linux_amd64.zip \\\n && mv terraform /usr/bin\n#   Ubuntu ranger old and doesn't support 'wrap_scroll'.\nRUN git clone https://github.com/thornycrackers/ranger.git /tmp/ranger \\\n && cd /tmp/ranger \\\n && make install\n#  #######################################\n#   Python\n#  #######################################\n#   Install python linting and neovim plugin\nCOPY py2_requirements.txt /opt/py2_requirements.txt\nRUN cd /opt \\\n && pip2 install -r py2_requirements.txt\nCOPY py3_requirements.txt /opt/py3_requirements.txt\nRUN cd /opt \\\n && pip3 install -r py3_requirements.txt\n#  #######################################\n#   Personalizations\n#  #######################################\n#   Add some aliases\nCOPY bashrc /root/.bashrc\n#   Add my git config\nCOPY gitconfig /etc/gitconfig\n#   Change the workdir, Put it inside root so I can see neovim settings in finder\nWORKDIR /root/app\n#   Neovim needs this so that <ctrl-h> can work\nRUN infocmp $TERM | sed 's/kbs=^[hH]/kbs=\\\\177/' > /tmp/$TERM.ti\nRUN tic /tmp/$TERM.ti\n#   Command for the image\nCMD [\"/bin/bash\"]\n#   Add nvim config. Put this last since it changes often\nCOPY nvim /root/.config/nvim\n#   Install neovim plugins\nRUN nvim -i NONE -c PlugInstall -c quitall > /dev/null 2>&1\nRUN cd /root/.config/nvim/plugged/YouCompleteMe \\\n && python3 install.py\n#   Add flake8 config, don't trigger a long build process\nCOPY flake8 /root/.flake8\n#   Add local vim-options, can override the one inside\nCOPY vim-options /root/.config/nvim/plugged/vim-options\n#   Add isort config, also changes often\nCOPY isort.cfg /root/.isort.cfg\n#   Add ranger config\nCOPY rc.conf /root/.config/ranger/rc.conf\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:18.04\nMAINTAINER Cody Hiar <codyfh@gmail.com>\n# #######################################\n#  System Stuff\n# #######################################\n#  Better terminal support\nENV TERM=\"screen-256color\"\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  Update and install\nRUN apt-get update \\\n && apt-get install htop bash curl wget git software-properties-common python-dev python-pip python3-dev python3-pip ctags shellcheck netcat ack-grep sqlite3 unzip libssl-dev libffi-dev locales cmake -y\n#  Generally a good idea to have these, extensions sometimes need them\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US:en\"\nENV LC_ALL=\"en_US.UTF-8\"\n#  Install Neovim\nRUN add-apt-repository ppa:neovim-ppa/stable\nRUN apt-get update \\\n && apt-get install neovim -y\n#  Install Ledger\nRUN add-apt-repository ppa:mbudde/ledger\nRUN apt-get update \\\n && apt-get install ledger -y\n#  Install Terraform for linting\nRUN wget https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip \\\n && unzip terraform_0.11.8_linux_amd64.zip \\\n && mv terraform /usr/bin\n#  Ubuntu ranger old and doesn't support 'wrap_scroll'.\nRUN git clone https://github.com/thornycrackers/ranger.git /tmp/ranger \\\n && cd /tmp/ranger \\\n && make install\n# #######################################\n#  Python\n# #######################################\n#  Install python linting and neovim plugin\nADD py2_requirements.txt /opt/py2_requirements.txt\nRUN cd /opt \\\n && pip2 install -r py2_requirements.txt\nADD py3_requirements.txt /opt/py3_requirements.txt\nRUN cd /opt \\\n && pip3 install -r py3_requirements.txt\n# #######################################\n#  Personalizations\n# #######################################\n#  Add some aliases\nADD bashrc /root/.bashrc\n#  Add my git config\nADD gitconfig /etc/gitconfig\n#  Change the workdir, Put it inside root so I can see neovim settings in finder\nWORKDIR /root/app\n#  Neovim needs this so that <ctrl-h> can work\nRUN infocmp $TERM | sed 's/kbs=^[hH]/kbs=\\\\177/' > /tmp/$TERM.ti\nRUN tic /tmp/$TERM.ti\n#  Command for the image\nCMD [\"/bin/bash\"]\n#  Add nvim config. Put this last since it changes often\nADD nvim /root/.config/nvim\n#  Install neovim plugins\nRUN nvim -i NONE -c PlugInstall -c quitall > /dev/null 2>&1\nRUN cd /root/.config/nvim/plugged/YouCompleteMe \\\n && python3 install.py\n#  Add flake8 config, don't trigger a long build process\nADD flake8 /root/.flake8\n#  Add local vim-options, can override the one inside\nADD vim-options /root/.config/nvim/plugged/vim-options\n#  Add isort config, also changes often\nADD isort.cfg /root/.isort.cfg\n#  Add ranger config\nADD rc.conf /root/.config/ranger/rc.conf\n","injectedSmells":[],"originalDockerfileHash":"0bb655310804d367a9521f961f57ccdc","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:18.04\nMAINTAINER Cody Hiar <codyfh@gmail.com>\n#  #######################################\n#   System Stuff\n#  #######################################\n#   Better terminal support\nENV TERM=\"screen-256color\"\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Update and install\nRUN apt-get update \\\n && apt-get install htop bash curl wget git software-properties-common python-dev python-pip python3-dev python3-pip ctags shellcheck netcat ack-grep sqlite3 unzip libssl-dev libffi-dev locales cmake -y\n#   Generally a good idea to have these, extensions sometimes need them\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US:en\"\nENV LC_ALL=\"en_US.UTF-8\"\n#   Install Neovim\nRUN add-apt-repository ppa:neovim-ppa/stable\nRUN apt-get update \\\n && apt-get install neovim -y\n#   Install Ledger\nRUN add-apt-repository ppa:mbudde/ledger\nRUN apt-get update \\\n && apt-get install ledger -y\n#   Install Terraform for linting\nRUN wget https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip \\\n && unzip terraform_0.11.8_linux_amd64.zip \\\n && mv terraform /usr/bin\n#   Ubuntu ranger old and doesn't support 'wrap_scroll'.\nRUN git clone https://github.com/thornycrackers/ranger.git /tmp/ranger \\\n && cd /tmp/ranger \\\n && make install\n#  #######################################\n#   Python\n#  #######################################\n#   Install python linting and neovim plugin\nADD py2_requirements.txt /opt/py2_requirements.txt\nRUN cd /opt \\\n && pip2 install -r py2_requirements.txt\nADD py3_requirements.txt /opt/py3_requirements.txt\nRUN cd /opt \\\n && pip3 install -r py3_requirements.txt\n#  #######################################\n#   Personalizations\n#  #######################################\n#   Add some aliases\nADD bashrc /root/.bashrc\n#   Add my git config\nADD gitconfig /etc/gitconfig\n#   Change the workdir, Put it inside root so I can see neovim settings in finder\nWORKDIR /root/app\n#   Neovim needs this so that <ctrl-h> can work\nRUN infocmp $TERM | sed 's/kbs=^[hH]/kbs=\\\\177/' > /tmp/$TERM.ti\nRUN tic /tmp/$TERM.ti\n#   Command for the image\nCMD [\"/bin/bash\"]\n#   Add nvim config. Put this last since it changes often\nADD nvim /root/.config/nvim\n#   Install neovim plugins\nRUN nvim -i NONE -c PlugInstall -c quitall > /dev/null 2>&1\nRUN cd /root/.config/nvim/plugged/YouCompleteMe \\\n && python3 install.py\n#   Add flake8 config, don't trigger a long build process\nADD flake8 /root/.flake8\n#   Add local vim-options, can override the one inside\nADD vim-options /root/.config/nvim/plugged/vim-options\n#   Add isort config, also changes often\nADD isort.cfg /root/.isort.cfg\n#   Add ranger config\nADD rc.conf /root/.config/ranger/rc.conf\n","originalDockerfileUglifiedHash":"88f1d200da922d426220989cb7b64cff","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/6d06f45829b7b1788785339fd290c3b47c93e78b.dockerfile"}