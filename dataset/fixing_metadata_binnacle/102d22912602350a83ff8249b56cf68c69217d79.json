{"seed":1753926590,"processedDockerfileHash":"6a9680dbf635114d75f82ef31bd889d6","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:xenial\nLABEL manteiner=\"Aitor Martínez Fernández+aitor.martinez.fernandez@gmail.com\"\n#  ######### USAGE ##############\nLABEL Usage.run=\"docker run -itP --rm -p 7681:7681 jderobot/jderobot\"\nLABEL Usage.camserver=\"docker run -itP --rm jderobot/jderobot video [video_name]\"\nLABEL Usage.listVideos=\"docker run --rm jderobot/jderobot lsvideo\"\n#  ######### setup Repositories ##############\n#  # ROS ##\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116\nRUN echo \"deb http://packages.ros.org/ros/ubuntu xenial main\" > /etc/apt/sources.list.d/ros-latest.list\n#  # ZeroC ##\nRUN sh -c 'echo deb http://zeroc.com/download/apt/ubuntu16.04 stable main > /etc/apt/sources.list.d/zeroc.list'\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv 5E6DA83306132997\n#  # Gazebo ##\nRUN echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable xenial main\" > /etc/apt/sources.list.d/gazebo-stable.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-key 67170598AF249743\n#  # JdeRobot ##\nRUN echo \"deb [arch=amd64] http://jderobot.org/apt xenial main\" > /etc/apt/sources.list.d/jderobot.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv 24E521A4\n#  ######### Install JdeRobot ##############\nRUN apt-get update \\\n && apt-get install --no-install-recommends python-pip=8.1.1-2ubuntu0.6 libssl-dev=1.0.2g-1ubuntu4.20 libbz2-dev=1.0.6-8ubuntu0.2 -y \\\n && rm -rf /var/lib/apt/lists/*\nRUN apt-get update \\\n && apt-get install --no-install-recommends jderobot xvfb=2:1.18.4-0ubuntu0.12 nano=2.5.3-2ubuntu2 wget=1.17.1-1ubuntu1.5 -y \\\n && rm -rf /var/lib/apt/lists/*\n#  ###### Install gzweb dependences ########\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential=12.1ubuntu2 cmake=3.5.1-1ubuntu3 libgazebo7-dev=7.0.0+dfsg-2 imagemagick=8:6.8.9.9-7ubuntu5.16 libboost-dev=1.58.0.1ubuntu1 libgts-dev=0.7.6+darcs121130-1.2 libjansson-dev=2.7-3ubuntu0.1 libtinyxml-dev=2.6.2-3 mercurial=3.7.3-1ubuntu1.2 nodejs=4.2.6~dfsg-1ubuntu4.2 nodejs-legacy=4.2.6~dfsg-1ubuntu4.2 npm=3.5.2-0ubuntu4 pkg-config=0.29.1-0ubuntu1 psmisc=22.21-2.1ubuntu0.1 -q -y \\\n && rm -rf /var/lib/apt/lists/*\n#  ###### clone gzweb #######\nRUN hg clone https://bitbucket.org/aitormf/gzweb ~/gzweb\n#  ###### build gzweb #######\nCOPY ./installGzweb.sh /\nRUN /installGzweb.sh\n#  ###### setup environment JdeRobot #######\nEXPOSE 8990/tcp\nEXPOSE 8991/tcp\nEXPOSE 8992/tcp\nEXPOSE 8993/tcp\nEXPOSE 8994/tcp\nEXPOSE 8995/tcp\nEXPOSE 8996/tcp\nEXPOSE 8997/tcp\nEXPOSE 8998/tcp\nEXPOSE 8999/tcp\nEXPOSE 9000/tcp\nEXPOSE 9001/tcp\nEXPOSE 9800/tcp\nEXPOSE 9900/tcp\nEXPOSE 9989/tcp\nEXPOSE 9990/tcp\nEXPOSE 9991/tcp\nEXPOSE 9992/tcp\nEXPOSE 9993/tcp\nEXPOSE 9994/tcp\nEXPOSE 9995/tcp\nEXPOSE 9996/tcp\nEXPOSE 9997/tcp\nEXPOSE 9998/tcp\nEXPOSE 9999/tcp\n#  ###### setup environment GzWeb #######\nEXPOSE 8080/tcp\nEXPOSE 7681/tcp\n#  ###### WebSockets for kobukiviewerjs #######\nEXPOSE 7777/tcp\nEXPOSE 11000/tcp\nEXPOSE 11001/tcp\n#  ######### Configurations for Teaching Robotics ##############\nCOPY cfg /cfg\nCOPY bin /usr/bin\nRUN mkdir /videos\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/pelota_roja.avi\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/pelotas_roja_azul.avi\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/drone1.mp4\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/drone2.mp4\n#  ######### ENTRYPOINT ##############\nCOPY ./jderobot_entrypoint.sh /\nENTRYPOINT [\"/jderobot_entrypoint.sh\"]\nCMD [\"bash\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:xenial\nLABEL manteiner=\"Aitor Martínez Fernández+aitor.martinez.fernandez@gmail.com\"\n# ######### USAGE ##############\nLABEL Usage.run=\"docker run -itP --rm -p 7681:7681 jderobot/jderobot\"\nLABEL Usage.camserver=\"docker run -itP --rm jderobot/jderobot video [video_name]\"\nLABEL Usage.listVideos=\"docker run --rm jderobot/jderobot lsvideo\"\n# ######### setup Repositories ##############\n# # ROS ##\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116\nRUN echo \"deb http://packages.ros.org/ros/ubuntu xenial main\" > /etc/apt/sources.list.d/ros-latest.list\n# # ZeroC ##\nRUN sh -c 'echo deb http://zeroc.com/download/apt/ubuntu16.04 stable main > /etc/apt/sources.list.d/zeroc.list'\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv 5E6DA83306132997\n# # Gazebo ##\nRUN echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable xenial main\" > /etc/apt/sources.list.d/gazebo-stable.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-key 67170598AF249743\n# # JdeRobot ##\nRUN echo \"deb [arch=amd64] http://jderobot.org/apt xenial main\" > /etc/apt/sources.list.d/jderobot.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv 24E521A4\n# ######### Install JdeRobot ##############\nRUN apt-get update \\\n && apt-get install python-pip libssl-dev libbz2-dev -y \\\n && rm -rf /var/lib/apt/lists/*\nRUN apt-get update \\\n && apt-get install jderobot xvfb nano wget -y \\\n && rm -rf /var/lib/apt/lists/*\n# ###### Install gzweb dependences ########\nRUN apt-get update \\\n && apt-get install build-essential cmake libgazebo7-dev imagemagick libboost-dev libgts-dev libjansson-dev libtinyxml-dev mercurial nodejs nodejs-legacy npm pkg-config psmisc -q -y \\\n && rm -rf /var/lib/apt/lists/*\n# ###### clone gzweb #######\nRUN hg clone https://bitbucket.org/aitormf/gzweb ~/gzweb\n# ###### build gzweb #######\nCOPY ./installGzweb.sh /\nRUN /installGzweb.sh\n# ###### setup environment JdeRobot #######\nEXPOSE 8990/tcp\nEXPOSE 8991/tcp\nEXPOSE 8992/tcp\nEXPOSE 8993/tcp\nEXPOSE 8994/tcp\nEXPOSE 8995/tcp\nEXPOSE 8996/tcp\nEXPOSE 8997/tcp\nEXPOSE 8998/tcp\nEXPOSE 8999/tcp\nEXPOSE 9000/tcp\nEXPOSE 9001/tcp\nEXPOSE 9800/tcp\nEXPOSE 9900/tcp\nEXPOSE 9989/tcp\nEXPOSE 9990/tcp\nEXPOSE 9991/tcp\nEXPOSE 9992/tcp\nEXPOSE 9993/tcp\nEXPOSE 9994/tcp\nEXPOSE 9995/tcp\nEXPOSE 9996/tcp\nEXPOSE 9997/tcp\nEXPOSE 9998/tcp\nEXPOSE 9999/tcp\n# ###### setup environment GzWeb #######\nEXPOSE 8080/tcp\nEXPOSE 7681/tcp\n# ###### WebSockets for kobukiviewerjs #######\nEXPOSE 7777/tcp\nEXPOSE 11000/tcp\nEXPOSE 11001/tcp\n# ######### Configurations for Teaching Robotics ##############\nCOPY cfg /cfg\nCOPY bin /usr/bin\nRUN mkdir /videos\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/pelota_roja.avi\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/pelotas_roja_azul.avi\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/drone1.mp4\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/drone2.mp4\n# ######### ENTRYPOINT ##############\nCOPY ./jderobot_entrypoint.sh /\nENTRYPOINT [\"/jderobot_entrypoint.sh\"]\nCMD [\"bash\"]\n","injectedSmells":[],"originalDockerfileHash":"d34b7c10cea72ab8485f7899688acbbe","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:xenial\nLABEL manteiner=\"Aitor Martínez Fernández+aitor.martinez.fernandez@gmail.com\"\n#  ######### USAGE ##############\nLABEL Usage.run=\"docker run -itP --rm -p 7681:7681 jderobot/jderobot\"\nLABEL Usage.camserver=\"docker run -itP --rm jderobot/jderobot video [video_name]\"\nLABEL Usage.listVideos=\"docker run --rm jderobot/jderobot lsvideo\"\n#  ######### setup Repositories ##############\n#  # ROS ##\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116\nRUN echo \"deb http://packages.ros.org/ros/ubuntu xenial main\" > /etc/apt/sources.list.d/ros-latest.list\n#  # ZeroC ##\nRUN sh -c 'echo deb http://zeroc.com/download/apt/ubuntu16.04 stable main > /etc/apt/sources.list.d/zeroc.list'\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv 5E6DA83306132997\n#  # Gazebo ##\nRUN echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable xenial main\" > /etc/apt/sources.list.d/gazebo-stable.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-key 67170598AF249743\n#  # JdeRobot ##\nRUN echo \"deb [arch=amd64] http://jderobot.org/apt xenial main\" > /etc/apt/sources.list.d/jderobot.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv 24E521A4\n#  ######### Install JdeRobot ##############\nRUN apt-get update \\\n && apt-get install python-pip libssl-dev libbz2-dev -y \\\n && rm -rf /var/lib/apt/lists/*\nRUN apt-get update \\\n && apt-get install jderobot xvfb nano wget -y \\\n && rm -rf /var/lib/apt/lists/*\n#  ###### Install gzweb dependences ########\nRUN apt-get update \\\n && apt-get install build-essential cmake libgazebo7-dev imagemagick libboost-dev libgts-dev libjansson-dev libtinyxml-dev mercurial nodejs nodejs-legacy npm pkg-config psmisc -q -y \\\n && rm -rf /var/lib/apt/lists/*\n#  ###### clone gzweb #######\nRUN hg clone https://bitbucket.org/aitormf/gzweb ~/gzweb\n#  ###### build gzweb #######\nCOPY ./installGzweb.sh /\nRUN /installGzweb.sh\n#  ###### setup environment JdeRobot #######\nEXPOSE 8990/tcp\nEXPOSE 8991/tcp\nEXPOSE 8992/tcp\nEXPOSE 8993/tcp\nEXPOSE 8994/tcp\nEXPOSE 8995/tcp\nEXPOSE 8996/tcp\nEXPOSE 8997/tcp\nEXPOSE 8998/tcp\nEXPOSE 8999/tcp\nEXPOSE 9000/tcp\nEXPOSE 9001/tcp\nEXPOSE 9800/tcp\nEXPOSE 9900/tcp\nEXPOSE 9989/tcp\nEXPOSE 9990/tcp\nEXPOSE 9991/tcp\nEXPOSE 9992/tcp\nEXPOSE 9993/tcp\nEXPOSE 9994/tcp\nEXPOSE 9995/tcp\nEXPOSE 9996/tcp\nEXPOSE 9997/tcp\nEXPOSE 9998/tcp\nEXPOSE 9999/tcp\n#  ###### setup environment GzWeb #######\nEXPOSE 8080/tcp\nEXPOSE 7681/tcp\n#  ###### WebSockets for kobukiviewerjs #######\nEXPOSE 7777/tcp\nEXPOSE 11000/tcp\nEXPOSE 11001/tcp\n#  ######### Configurations for Teaching Robotics ##############\nCOPY cfg /cfg\nCOPY bin /usr/bin\nRUN mkdir /videos\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/pelota_roja.avi\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/pelotas_roja_azul.avi\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/drone1.mp4\nRUN cd /videos \\\n && wget http://jderobot.org/store/amartinflorido/uploads/curso/drone2.mp4\n#  ######### ENTRYPOINT ##############\nCOPY ./jderobot_entrypoint.sh /\nENTRYPOINT [\"/jderobot_entrypoint.sh\"]\nCMD [\"bash\"]\n","originalDockerfileUglifiedHash":"0037c35fa707dfc3b515fc28d9b1f3f6","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/102d22912602350a83ff8249b56cf68c69217d79.dockerfile"}