{"seed":470024911,"processedDockerfileHash":"77c8cd5af881b1a584216bac8348f77c","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   A Dockerfile for the gym-gazebo environment\n#     based in ubuntu 14.04 and Python 2.7\n#   Currently fails at:\n#\n#    E: Version '1.1.4-0*' for 'ros-indigo-ros-core' was not found\n#    The command '/bin/sh -c apt-get update && apt-get install -y     ros-indigo-ros-core=1.1.4-0*\n#    && rm -rf /var/lib/apt/lists/*' returned a non-zero code: 100\nFROM ubuntu:14.04\n#  --------------------\n#   General setup\n#  --------------------\n#   Get the dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends xorg-dev=1:7.7+1ubuntu8.1 libgl1-mesa-dev=10.1.3-0ubuntu0.6 xvfb=2:1.15.1-0ubuntu2.11 libxinerama1=2:1.1.3-1 libxcursor1=1:1.1.14-1ubuntu0.14.04.2 unzip=6.0-9ubuntu1.5 libglu1-mesa=9.0.0-2 libav-tools=6:9.20-0ubuntu0.14.04.1 python-numpy=1:1.8.2-0ubuntu0.1 python-scipy=0.13.3-1build1 python-pyglet=1.1.4.dfsg-2build1 python-setuptools=3.3-1ubuntu2 libpq-dev=9.3.24-0ubuntu0.14.04 libjpeg-dev=8c-2ubuntu8 wget=1.15-1ubuntu1.14.04.5 curl=7.35.0-1ubuntu2.20 cmake=2.8.12.2-0ubuntu3 git=1:1.9.1-1ubuntu0.10 -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* \\\n && easy_install pip\nWORKDIR /usr/local/gym\n#   Copy the code\nRUN mkdir gym-gazebo\nCOPY . /usr/local/gym/gym-gazebo\n#  --------------------\n#   Install gym\n#  --------------------\n#   Clone the official gym\nRUN git clone https://github.com/openai/gym\n#   Install the gym's requirements\nRUN pip install -r gym/requirements.txt\n#   Install the gym\nRUN ls -l\nRUN pip install -e gym/\n#   Checks\n#  RUN python --version\n#  RUN python -c \"import gym\"\n#   Debug\n#  RUN ls -l /usr/local/gym\n#  RUN ls -l /usr/local/gym/gym-gazebo\n#  RUN ls -l /usr/local/gym/gym\n#  --------------------\n#   Install ROS\n#  --------------------\n#   setup environment\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\n#   setup keys\nRUN apt-key adv --keyserver ha.pool.sks-keyservers.net --recv-keys 421C365BD9FF1F717815A3895523BAEEB01FA116\n#   setup sources.list\nRUN echo \"deb http://packages.ros.org/ros/ubuntu trusty main\" > /etc/apt/sources.list.d/ros-latest.list\n#   install bootstrap tools\nRUN apt-get update \\\n && apt-get install --no-install-recommends python-rosdep python-rosinstall python-vcstools -y \\\n && rm -rf /var/lib/apt/lists/*\n#   bootstrap rosdep\nRUN rosdep init \\\n && rosdep update\n#   install ros packages\nENV ROS_DISTRO=\"indigo\"\nRUN apt-get update \\\n && apt-get install --no-install-recommends ros-indigo-ros-core=1.1.4-0* -y \\\n && rm -rf /var/lib/apt/lists/*\n#      ros-indigo-desktop-full\n#  --------------------\n#   Install Gazebo\n#  --------------------\nRUN sudo sh -c 'echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main\" > /etc/apt/sources.list.d/gazebo-stable.list'\nRUN wget http://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -\nRUN sudo apt-get update\nRUN sudo apt-get install gazebo7 libgazebo7-dev -y\n#   setup environment\nEXPOSE 11345/tcp\n#   Install additional dependencies\nRUN apt-get install --no-install-recommends ros-indigo-cv-bridge -y\nRUN apt-get install --no-install-recommends ros-indigo-robot-state-publisher -y\n#  --------------------\n#   Install deep learning toolkits\n#  --------------------\n#   install dependencies\nRUN sudo pip install h5py\nRUN sudo apt-get install gfortran -y\n#   install sript specific dependencies (temporal)\nRUN sudo apt-get install python-skimage -y\n#   install Theano\n#  RUN git clone git://github.com/Theano/Theano.git\n#  RUN cd Theano/ && sudo python setup.py develop\nRUN sudo pip install Theano\n#   install Keras\nRUN sudo pip install keras\n#  --------------------\n#   Install gym-gazebo\n#  --------------------\nRUN cd gym-gazebo \\\n && sudo pip install -e .\n#   install dependencies\nRUN cd /usr/local/gym/gym-gazebo/gym_gazebo/envs/installation \\\n && bash setup.bash\n#  WORKDIR /root\n#  ENTRYPOINT [\"/usr/local/gym/bin/docker_entrypoint\"]\n#   setup entrypoint\n#  RUN ls /usr/local/gym/gym-gazebo/\n#  RUN ls ./gym-gazebo\n#  COPY /usr/local/gym/gym-gazebo/entrypoint.sh /\n#  --------------------\n#   Entry point\n#  --------------------\nCOPY entrypoint.sh /\nENTRYPOINT [\"/entrypoint.sh\"]\nCMD [\"bash\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  A Dockerfile for the gym-gazebo environment\n#    based in ubuntu 14.04 and Python 2.7\n#  Currently fails at:\n#\n#   E: Version '1.1.4-0*' for 'ros-indigo-ros-core' was not found\n#   The command '/bin/sh -c apt-get update && apt-get install -y     ros-indigo-ros-core=1.1.4-0*\n#   && rm -rf /var/lib/apt/lists/*' returned a non-zero code: 100\nFROM ubuntu:14.04\n# --------------------\n#  General setup\n# --------------------\n#  Get the dependencies\nRUN apt-get update \\\n && apt-get install xorg-dev libgl1-mesa-dev xvfb libxinerama1 libxcursor1 unzip libglu1-mesa libav-tools python-numpy python-scipy python-pyglet python-setuptools libpq-dev libjpeg-dev wget curl cmake git -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* \\\n && easy_install pip\nWORKDIR /usr/local/gym\n#  Copy the code\nRUN mkdir gym-gazebo\nCOPY . /usr/local/gym/gym-gazebo\n# --------------------\n#  Install gym\n# --------------------\n#  Clone the official gym\nRUN git clone https://github.com/openai/gym\n#  Install the gym's requirements\nRUN pip install -r gym/requirements.txt\n#  Install the gym\nRUN ls -l\nRUN pip install -e gym/\n#  Checks\n# RUN python --version\n# RUN python -c \"import gym\"\n#  Debug\n# RUN ls -l /usr/local/gym\n# RUN ls -l /usr/local/gym/gym-gazebo\n# RUN ls -l /usr/local/gym/gym\n# --------------------\n#  Install ROS\n# --------------------\n#  setup environment\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\n#  setup keys\nRUN apt-key adv --keyserver ha.pool.sks-keyservers.net --recv-keys 421C365BD9FF1F717815A3895523BAEEB01FA116\n#  setup sources.list\nRUN echo \"deb http://packages.ros.org/ros/ubuntu trusty main\" > /etc/apt/sources.list.d/ros-latest.list\n#  install bootstrap tools\nRUN apt-get update \\\n && apt-get install --no-install-recommends python-rosdep python-rosinstall python-vcstools -y \\\n && rm -rf /var/lib/apt/lists/*\n#  bootstrap rosdep\nRUN rosdep init \\\n && rosdep update\n#  install ros packages\nENV ROS_DISTRO=\"indigo\"\nRUN apt-get update \\\n && apt-get install ros-indigo-ros-core=1.1.4-0* -y \\\n && rm -rf /var/lib/apt/lists/*\n#     ros-indigo-desktop-full\n# --------------------\n#  Install Gazebo\n# --------------------\nRUN sudo sh -c 'echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main\" > /etc/apt/sources.list.d/gazebo-stable.list'\nRUN wget http://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -\nRUN sudo apt-get update\nRUN sudo apt-get install gazebo7 libgazebo7-dev -y\n#  setup environment\nEXPOSE 11345/tcp\n#  Install additional dependencies\nRUN apt-get install ros-indigo-cv-bridge -y\nRUN apt-get install ros-indigo-robot-state-publisher -y\n# --------------------\n#  Install deep learning toolkits\n# --------------------\n#  install dependencies\nRUN sudo pip install h5py\nRUN sudo apt-get install gfortran -y\n#  install sript specific dependencies (temporal)\nRUN sudo apt-get install python-skimage -y\n#  install Theano\n# RUN git clone git://github.com/Theano/Theano.git\n# RUN cd Theano/ && sudo python setup.py develop\nRUN sudo pip install Theano\n#  install Keras\nRUN sudo pip install keras\n# --------------------\n#  Install gym-gazebo\n# --------------------\nRUN cd gym-gazebo \\\n && sudo pip install -e .\n#  install dependencies\nRUN cd /usr/local/gym/gym-gazebo/gym_gazebo/envs/installation \\\n && bash setup.bash\n# WORKDIR /root\n# ENTRYPOINT [\"/usr/local/gym/bin/docker_entrypoint\"]\n#  setup entrypoint\n# RUN ls /usr/local/gym/gym-gazebo/\n# RUN ls ./gym-gazebo\n# COPY /usr/local/gym/gym-gazebo/entrypoint.sh /\n# --------------------\n#  Entry point\n# --------------------\nCOPY entrypoint.sh /\nENTRYPOINT [\"/entrypoint.sh\"]\nCMD [\"bash\"]\n","injectedSmells":[],"originalDockerfileHash":"8ae5b3fd0b277cc39f0f37ee1c0402cf","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   A Dockerfile for the gym-gazebo environment\n#     based in ubuntu 14.04 and Python 2.7\n#   Currently fails at:\n#\n#    E: Version '1.1.4-0*' for 'ros-indigo-ros-core' was not found\n#    The command '/bin/sh -c apt-get update && apt-get install -y     ros-indigo-ros-core=1.1.4-0*\n#    && rm -rf /var/lib/apt/lists/*' returned a non-zero code: 100\nFROM ubuntu:14.04\n#  --------------------\n#   General setup\n#  --------------------\n#   Get the dependencies\nRUN apt-get update \\\n && apt-get install xorg-dev libgl1-mesa-dev xvfb libxinerama1 libxcursor1 unzip libglu1-mesa libav-tools python-numpy python-scipy python-pyglet python-setuptools libpq-dev libjpeg-dev wget curl cmake git -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* \\\n && easy_install pip\nWORKDIR /usr/local/gym\n#   Copy the code\nRUN mkdir gym-gazebo\nCOPY . /usr/local/gym/gym-gazebo\n#  --------------------\n#   Install gym\n#  --------------------\n#   Clone the official gym\nRUN git clone https://github.com/openai/gym\n#   Install the gym's requirements\nRUN pip install -r gym/requirements.txt\n#   Install the gym\nRUN ls -l\nRUN pip install -e gym/\n#   Checks\n#  RUN python --version\n#  RUN python -c \"import gym\"\n#   Debug\n#  RUN ls -l /usr/local/gym\n#  RUN ls -l /usr/local/gym/gym-gazebo\n#  RUN ls -l /usr/local/gym/gym\n#  --------------------\n#   Install ROS\n#  --------------------\n#   setup environment\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\n#   setup keys\nRUN apt-key adv --keyserver ha.pool.sks-keyservers.net --recv-keys 421C365BD9FF1F717815A3895523BAEEB01FA116\n#   setup sources.list\nRUN echo \"deb http://packages.ros.org/ros/ubuntu trusty main\" > /etc/apt/sources.list.d/ros-latest.list\n#   install bootstrap tools\nRUN apt-get update \\\n && apt-get install --no-install-recommends python-rosdep python-rosinstall python-vcstools -y \\\n && rm -rf /var/lib/apt/lists/*\n#   bootstrap rosdep\nRUN rosdep init \\\n && rosdep update\n#   install ros packages\nENV ROS_DISTRO=\"indigo\"\nRUN apt-get update \\\n && apt-get install ros-indigo-ros-core=1.1.4-0* -y \\\n && rm -rf /var/lib/apt/lists/*\n#      ros-indigo-desktop-full\n#  --------------------\n#   Install Gazebo\n#  --------------------\nRUN sudo sh -c 'echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main\" > /etc/apt/sources.list.d/gazebo-stable.list'\nRUN wget http://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -\nRUN sudo apt-get update\nRUN sudo apt-get install gazebo7 libgazebo7-dev -y\n#   setup environment\nEXPOSE 11345/tcp\n#   Install additional dependencies\nRUN apt-get install ros-indigo-cv-bridge -y\nRUN apt-get install ros-indigo-robot-state-publisher -y\n#  --------------------\n#   Install deep learning toolkits\n#  --------------------\n#   install dependencies\nRUN sudo pip install h5py\nRUN sudo apt-get install gfortran -y\n#   install sript specific dependencies (temporal)\nRUN sudo apt-get install python-skimage -y\n#   install Theano\n#  RUN git clone git://github.com/Theano/Theano.git\n#  RUN cd Theano/ && sudo python setup.py develop\nRUN sudo pip install Theano\n#   install Keras\nRUN sudo pip install keras\n#  --------------------\n#   Install gym-gazebo\n#  --------------------\nRUN cd gym-gazebo \\\n && sudo pip install -e .\n#   install dependencies\nRUN cd /usr/local/gym/gym-gazebo/gym_gazebo/envs/installation \\\n && bash setup.bash\n#  WORKDIR /root\n#  ENTRYPOINT [\"/usr/local/gym/bin/docker_entrypoint\"]\n#   setup entrypoint\n#  RUN ls /usr/local/gym/gym-gazebo/\n#  RUN ls ./gym-gazebo\n#  COPY /usr/local/gym/gym-gazebo/entrypoint.sh /\n#  --------------------\n#   Entry point\n#  --------------------\nCOPY entrypoint.sh /\nENTRYPOINT [\"/entrypoint.sh\"]\nCMD [\"bash\"]\n","originalDockerfileUglifiedHash":"2334783765cf387d3c3aa6c78e4aa097","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/05e8c41f60347e8e06d93fa77fe7468e4322e483.dockerfile"}