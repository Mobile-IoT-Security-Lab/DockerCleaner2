{"seed":1888781678,"processedDockerfileHash":"d1c64de949e1eff2ea4399b80c45a343","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-pip","pin-package-manager-versions-npm","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:14.04\nWORKDIR /root\nRUN DEBIAN_FRONTEND=noninteractive apt-get update -y\nRUN mkdir /var/cloudbackups\nRUN mkdir /var/cloudbackups/workdir\nRUN mkdir /var/cloudbackups/archives\nVOLUME /var/cloudbackups/workdir\nVOLUME /var/cloudbackups/archives\nVOLUME /etc/cloudbackup\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y cron curl build-essential unzip vim git\n#   Install Python\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y python python-setuptools python-dev python-pip\n#   Install Node.js\nRUN curl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash -\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y nodejs\n#   Install Ruby\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y zlib1g-dev build-essential libssl-dev libreadline-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev libcurl4-openssl-dev python-software-properties libffi-dev\nRUN git clone https://github.com/sstephenson/rbenv.git .rbenv\nRUN echo 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' >> ~/.bashrc\nRUN echo 'eval \"$(rbenv init -)\"' >> ~/.bashrc\nRUN git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\nRUN echo 'export PATH=\"$HOME/.rbenv/plugins/ruby-build/bin:$PATH\"' >> ~/.bashrc\nRUN /root/.rbenv/bin/rbenv install -v 2.4.1\nRUN /root/.rbenv/bin/rbenv global 2.4.1\n#   Install LastPass CLI\nWORKDIR /usr/local/src\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y openssl libcurl4-openssl-dev libxml2 libssl-dev libxml2-dev pinentry-curses xclip cmake build-essential pkg-config\nRUN git clone https://github.com/lastpass/lastpass-cli.git\nWORKDIR /usr/local/src/lastpass-cli\nRUN make\nRUN make install\nVOLUME /root/.lpass\n#   Install IMAP Backup\nWORKDIR /root\nRUN /root/.rbenv/shims/gem install 'imap-backup'\nVOLUME /root/.imap-backup\n#   Install Geeknote\nWORKDIR /usr/local/src\nRUN git clone https://github.com/jeffkowalski/geeknote.git\nWORKDIR /usr/local/src/geeknote\nRUN python setup.py install\nRUN pip install . --upgrade\nRUN mkdir /var/cloudbackups/workdir/evernote\nVOLUME /root/.geeknote\n#   Install RClone\nWORKDIR /usr/local/src\nRUN curl -O https://downloads.rclone.org/v1.42/rclone-v1.42-linux-amd64.zip\nRUN unzip rclone-v1.42-linux-amd64.zip\nWORKDIR /usr/local/src/rclone-v1.42-linux-amd64\nRUN cp rclone /usr/bin/\nRUN chmod +x /usr/bin/rclone\nVOLUME /root/.config/rclone\n#   Install GooBook\nRUN pip install goobook==3.5.2\nCOPY goobookrc /root/.goobookrc\n#   Install Todoist Backup\nRUN npm install todoist-backup@1.0.0 -g\n#   Install GitHub Backup\nRUN npm install github-backup@0.2.0 -g\nRUN mkdir /var/cloudbackups/workdir/github\n#   Closeout\nCOPY scripts /scripts\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\nCOPY interface /usr/src/app\nRUN npm install\nCMD [\"node\", \"index.js\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:14.04\nWORKDIR /root\nRUN DEBIAN_FRONTEND=noninteractive apt-get update -y\nRUN mkdir /var/cloudbackups\nRUN mkdir /var/cloudbackups/workdir\nRUN mkdir /var/cloudbackups/archives\nVOLUME /var/cloudbackups/workdir\nVOLUME /var/cloudbackups/archives\nVOLUME /etc/cloudbackup\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y cron curl build-essential unzip vim git\n#  Install Python\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y python python-setuptools python-dev python-pip\n#  Install Node.js\nRUN curl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash -\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y nodejs\n#  Install Ruby\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y zlib1g-dev build-essential libssl-dev libreadline-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev libcurl4-openssl-dev python-software-properties libffi-dev\nRUN git clone https://github.com/sstephenson/rbenv.git .rbenv\nRUN echo 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' >> ~/.bashrc\nRUN echo 'eval \"$(rbenv init -)\"' >> ~/.bashrc\nRUN git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\nRUN echo 'export PATH=\"$HOME/.rbenv/plugins/ruby-build/bin:$PATH\"' >> ~/.bashrc\nRUN /root/.rbenv/bin/rbenv install -v 2.4.1\nRUN /root/.rbenv/bin/rbenv global 2.4.1\n#  Install LastPass CLI\nWORKDIR /usr/local/src\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y openssl libcurl4-openssl-dev libxml2 libssl-dev libxml2-dev pinentry-curses xclip cmake build-essential pkg-config\nRUN git clone https://github.com/lastpass/lastpass-cli.git\nWORKDIR /usr/local/src/lastpass-cli\nRUN make\nRUN make install\nVOLUME /root/.lpass\n#  Install IMAP Backup\nWORKDIR /root\nRUN /root/.rbenv/shims/gem install 'imap-backup'\nVOLUME /root/.imap-backup\n#  Install Geeknote\nWORKDIR /usr/local/src\nRUN git clone https://github.com/jeffkowalski/geeknote.git\nWORKDIR /usr/local/src/geeknote\nRUN python setup.py install\nRUN pip install . --upgrade\nRUN mkdir /var/cloudbackups/workdir/evernote\nVOLUME /root/.geeknote\n#  Install RClone\nWORKDIR /usr/local/src\nRUN curl -O https://downloads.rclone.org/v1.42/rclone-v1.42-linux-amd64.zip\nRUN unzip rclone-v1.42-linux-amd64.zip\nWORKDIR /usr/local/src/rclone-v1.42-linux-amd64\nRUN cp rclone /usr/bin/\nRUN chmod +x /usr/bin/rclone\nVOLUME /root/.config/rclone\n#  Install GooBook\nRUN pip install goobook\nADD goobookrc /root/.goobookrc\n#  Install Todoist Backup\nRUN npm install todoist-backup -g\n#  Install GitHub Backup\nRUN npm install github-backup -g\nRUN mkdir /var/cloudbackups/workdir/github\n#  Closeout\nCOPY scripts /scripts\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\nCOPY interface /usr/src/app\nRUN npm install\nCMD [\"node\", \"index.js\"]\n","injectedSmells":[],"originalDockerfileHash":"b031841ae466a14604c402a37094856e","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:14.04\nWORKDIR /root\nRUN DEBIAN_FRONTEND=noninteractive apt-get update -y\nRUN mkdir /var/cloudbackups\nRUN mkdir /var/cloudbackups/workdir\nRUN mkdir /var/cloudbackups/archives\nVOLUME /var/cloudbackups/workdir\nVOLUME /var/cloudbackups/archives\nVOLUME /etc/cloudbackup\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y cron curl build-essential unzip vim git\n#   Install Python\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y python python-setuptools python-dev python-pip\n#   Install Node.js\nRUN curl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash -\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y nodejs\n#   Install Ruby\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y zlib1g-dev build-essential libssl-dev libreadline-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev libcurl4-openssl-dev python-software-properties libffi-dev\nRUN git clone https://github.com/sstephenson/rbenv.git .rbenv\nRUN echo 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' >> ~/.bashrc\nRUN echo 'eval \"$(rbenv init -)\"' >> ~/.bashrc\nRUN git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\nRUN echo 'export PATH=\"$HOME/.rbenv/plugins/ruby-build/bin:$PATH\"' >> ~/.bashrc\nRUN /root/.rbenv/bin/rbenv install -v 2.4.1\nRUN /root/.rbenv/bin/rbenv global 2.4.1\n#   Install LastPass CLI\nWORKDIR /usr/local/src\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y openssl libcurl4-openssl-dev libxml2 libssl-dev libxml2-dev pinentry-curses xclip cmake build-essential pkg-config\nRUN git clone https://github.com/lastpass/lastpass-cli.git\nWORKDIR /usr/local/src/lastpass-cli\nRUN make\nRUN make install\nVOLUME /root/.lpass\n#   Install IMAP Backup\nWORKDIR /root\nRUN /root/.rbenv/shims/gem install 'imap-backup'\nVOLUME /root/.imap-backup\n#   Install Geeknote\nWORKDIR /usr/local/src\nRUN git clone https://github.com/jeffkowalski/geeknote.git\nWORKDIR /usr/local/src/geeknote\nRUN python setup.py install\nRUN pip install . --upgrade\nRUN mkdir /var/cloudbackups/workdir/evernote\nVOLUME /root/.geeknote\n#   Install RClone\nWORKDIR /usr/local/src\nRUN curl -O https://downloads.rclone.org/v1.42/rclone-v1.42-linux-amd64.zip\nRUN unzip rclone-v1.42-linux-amd64.zip\nWORKDIR /usr/local/src/rclone-v1.42-linux-amd64\nRUN cp rclone /usr/bin/\nRUN chmod +x /usr/bin/rclone\nVOLUME /root/.config/rclone\n#   Install GooBook\nRUN pip install goobook\nADD goobookrc /root/.goobookrc\n#   Install Todoist Backup\nRUN npm install todoist-backup -g\n#   Install GitHub Backup\nRUN npm install github-backup -g\nRUN mkdir /var/cloudbackups/workdir/github\n#   Closeout\nCOPY scripts /scripts\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\nCOPY interface /usr/src/app\nRUN npm install\nCMD [\"node\", \"index.js\"]\n","originalDockerfileUglifiedHash":"092ac539bdf3b7c57d5e8ebe8cda2086","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/c124ef139683a03939377d7bfa3889183c5e84f5.dockerfile"}