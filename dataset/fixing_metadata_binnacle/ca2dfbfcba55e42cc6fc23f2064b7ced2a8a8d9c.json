{"seed":858167970,"processedDockerfileHash":"af81e5268e4ea83a70f36517e30b7a49","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM gobuffalo/buffalo:development\nRUN buffalo version\nRUN go get -v -u github.com/golang/lint/golint\nRUN go get -v -u github.com/markbates/filetest\nRUN go get -v -u github.com/gobuffalo/makr\nRUN go get -v -u github.com/markbates/grift\nRUN go get -v -u github.com/markbates/inflect\nRUN go get -v -u github.com/markbates/refresh\nRUN go get -v -u github.com/gobuffalo/tags\nRUN go get -v -u github.com/gobuffalo/pop\nRUN go get -v -u github.com/mattn/go-sqlite3\nENV BP=\"$GOPATH/src/github.com/gobuffalo/buffalo\"\nRUN rm $( which buffalo ;)\nRUN rm -rf $BP\nRUN mkdir -p $BP\nWORKDIR $BP\nCOPY . .\nRUN go get -v -t ./...\nRUN go install -v -tags sqlite ./buffalo\nRUN go test -tags sqlite -race $( go list ./... | grep -v /vendor/ ;)\nRUN golint -set_exit_status $( go list ./... | grep -v /vendor/ ;)\nWORKDIR $GOPATH/src/\nRUN buffalo new --db-type=sqlite3 hello_world --ci-provider=travis\nWORKDIR ./hello_world\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/new_travis.json\nRUN go vet -x $( go list ./... | grep -v /vendor/ ;)\nRUN buffalo db create -a\nRUN buffalo db migrate -e test\nRUN buffalo test -race\nRUN go get -v github.com/gobuffalo/buffalo-goth\nRUN buffalo g goth facebook twitter linkedin github\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/goth.json\nRUN buffalo g resource admins --skip-model\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/resource_skip_model.json\nRUN rm actions/admins_test.go\nRUN buffalo test -race\nRUN buffalo build -static\nRUN buffalo g resource users name:text email:text\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/resource_model_migration.json\nRUN buffalo g resource admins --use-model users\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/resource_use_model.json\nRUN rm actions/admins_test.go\nRUN rm models/user_test.go\nRUN rm models/user.go\nRUN rm actions/users_test.go\nRUN rm -rv templates/users\nRUN buffalo g resource ouch\nRUN buffalo d resource -y ouch\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/destroy_resource_all.json\nRUN buffalo db g model ouch\nRUN buffalo db d model -y ouch\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/destroy_model_all.json\nRUN buffalo g actions ouch build edit\nRUN buffalo d action -y ouch\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/destroy_action_all.json\nRUN buffalo g actions comments show edit\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_all.json\nRUN buffalo g actions comments destroy\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_existing.json\nRUN buffalo g resource user\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_singular.json\nRUN buffalo g resource cars\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_plural.json\nRUN buffalo g actions users create --skip-template\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_skip_template.json\nRUN buffalo g actions users update --skip-template --method POST\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_with_method.json\nWORKDIR $GOPATH/src\nRUN buffalo new --api apiapp\nWORKDIR ./apiapp\nRUN buffalo build\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/apiapp.json\nRUN buffalo g task plainTask\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_plain_task.json\nRUN buffalo g task nested:task:now\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_nested_task.json\nRUN buffalo g resource admin/planes\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_nested.json\nRUN buffalo g resource admin/users --name=AdminUser\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_nested_model_name.json\nRUN buffalo g resource person\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_irregular.json\nRUN buffalo g resource person_event\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_underscore.json\nRUN buffalo g mailer welcome_email\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_mailer.json\nRUN rm -rf bin\nRUN buffalo build -k -e\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/no_assets_build.json\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM gobuffalo/buffalo:development\nRUN buffalo version\nRUN go get -v -u github.com/golang/lint/golint\nRUN go get -v -u github.com/markbates/filetest\nRUN go get -v -u github.com/gobuffalo/makr\nRUN go get -v -u github.com/markbates/grift\nRUN go get -v -u github.com/markbates/inflect\nRUN go get -v -u github.com/markbates/refresh\nRUN go get -v -u github.com/gobuffalo/tags\nRUN go get -v -u github.com/gobuffalo/pop\nRUN go get -v -u github.com/mattn/go-sqlite3\nENV BP=\"$GOPATH/src/github.com/gobuffalo/buffalo\"\nRUN rm $( which buffalo ;)\nRUN rm -rf $BP\nRUN mkdir -p $BP\nWORKDIR $BP\nADD . .\nRUN go get -v -t ./...\nRUN go install -v -tags sqlite ./buffalo\nRUN go test -tags sqlite -race $( go list ./... | grep -v /vendor/ ;)\nRUN golint -set_exit_status $( go list ./... | grep -v /vendor/ ;)\nWORKDIR $GOPATH/src/\nRUN buffalo new --db-type=sqlite3 hello_world --ci-provider=travis\nWORKDIR ./hello_world\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/new_travis.json\nRUN go vet -x $( go list ./... | grep -v /vendor/ ;)\nRUN buffalo db create -a\nRUN buffalo db migrate -e test\nRUN buffalo test -race\nRUN go get -v github.com/gobuffalo/buffalo-goth\nRUN buffalo g goth facebook twitter linkedin github\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/goth.json\nRUN buffalo g resource admins --skip-model\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/resource_skip_model.json\nRUN rm actions/admins_test.go\nRUN buffalo test -race\nRUN buffalo build -static\nRUN buffalo g resource users name:text email:text\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/resource_model_migration.json\nRUN buffalo g resource admins --use-model users\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/resource_use_model.json\nRUN rm actions/admins_test.go\nRUN rm models/user_test.go\nRUN rm models/user.go\nRUN rm actions/users_test.go\nRUN rm -rv templates/users\nRUN buffalo g resource ouch\nRUN buffalo d resource -y ouch\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/destroy_resource_all.json\nRUN buffalo db g model ouch\nRUN buffalo db d model -y ouch\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/destroy_model_all.json\nRUN buffalo g actions ouch build edit\nRUN buffalo d action -y ouch\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/destroy_action_all.json\nRUN buffalo g actions comments show edit\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_all.json\nRUN buffalo g actions comments destroy\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_existing.json\nRUN buffalo g resource user\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_singular.json\nRUN buffalo g resource cars\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_plural.json\nRUN buffalo g actions users create --skip-template\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_skip_template.json\nRUN buffalo g actions users update --skip-template --method POST\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_with_method.json\nWORKDIR $GOPATH/src\nRUN buffalo new --api apiapp\nWORKDIR ./apiapp\nRUN buffalo build\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/apiapp.json\nRUN buffalo g task plainTask\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_plain_task.json\nRUN buffalo g task nested:task:now\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_nested_task.json\nRUN buffalo g resource admin/planes\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_nested.json\nRUN buffalo g resource admin/users --name=AdminUser\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_nested_model_name.json\nRUN buffalo g resource person\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_irregular.json\nRUN buffalo g resource person_event\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_underscore.json\nRUN buffalo g mailer welcome_email\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_mailer.json\nRUN rm -rf bin\nRUN buffalo build -k -e\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/no_assets_build.json\n","injectedSmells":[],"originalDockerfileHash":"485673bdec99a44d274548f433269aa2","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM gobuffalo/buffalo:development\nRUN buffalo version\nRUN go get -v -u github.com/golang/lint/golint\nRUN go get -v -u github.com/markbates/filetest\nRUN go get -v -u github.com/gobuffalo/makr\nRUN go get -v -u github.com/markbates/grift\nRUN go get -v -u github.com/markbates/inflect\nRUN go get -v -u github.com/markbates/refresh\nRUN go get -v -u github.com/gobuffalo/tags\nRUN go get -v -u github.com/gobuffalo/pop\nRUN go get -v -u github.com/mattn/go-sqlite3\nENV BP=\"$GOPATH/src/github.com/gobuffalo/buffalo\"\nRUN rm $( which buffalo ;)\nRUN rm -rf $BP\nRUN mkdir -p $BP\nWORKDIR $BP\nADD . .\nRUN go get -v -t ./...\nRUN go install -v -tags sqlite ./buffalo\nRUN go test -tags sqlite -race $( go list ./... | grep -v /vendor/ ;)\nRUN golint -set_exit_status $( go list ./... | grep -v /vendor/ ;)\nWORKDIR $GOPATH/src/\nRUN buffalo new --db-type=sqlite3 hello_world --ci-provider=travis\nWORKDIR ./hello_world\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/new_travis.json\nRUN go vet -x $( go list ./... | grep -v /vendor/ ;)\nRUN buffalo db create -a\nRUN buffalo db migrate -e test\nRUN buffalo test -race\nRUN go get -v github.com/gobuffalo/buffalo-goth\nRUN buffalo g goth facebook twitter linkedin github\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/goth.json\nRUN buffalo g resource admins --skip-model\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/resource_skip_model.json\nRUN rm actions/admins_test.go\nRUN buffalo test -race\nRUN buffalo build -static\nRUN buffalo g resource users name:text email:text\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/resource_model_migration.json\nRUN buffalo g resource admins --use-model users\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/resource_use_model.json\nRUN rm actions/admins_test.go\nRUN rm models/user_test.go\nRUN rm models/user.go\nRUN rm actions/users_test.go\nRUN rm -rv templates/users\nRUN buffalo g resource ouch\nRUN buffalo d resource -y ouch\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/destroy_resource_all.json\nRUN buffalo db g model ouch\nRUN buffalo db d model -y ouch\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/destroy_model_all.json\nRUN buffalo g actions ouch build edit\nRUN buffalo d action -y ouch\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/destroy_action_all.json\nRUN buffalo g actions comments show edit\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_all.json\nRUN buffalo g actions comments destroy\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_existing.json\nRUN buffalo g resource user\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_singular.json\nRUN buffalo g resource cars\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_plural.json\nRUN buffalo g actions users create --skip-template\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_skip_template.json\nRUN buffalo g actions users update --skip-template --method POST\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_action_with_method.json\nWORKDIR $GOPATH/src\nRUN buffalo new --api apiapp\nWORKDIR ./apiapp\nRUN buffalo build\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/apiapp.json\nRUN buffalo g task plainTask\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_plain_task.json\nRUN buffalo g task nested:task:now\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_nested_task.json\nRUN buffalo g resource admin/planes\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_nested.json\nRUN buffalo g resource admin/users --name=AdminUser\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_nested_model_name.json\nRUN buffalo g resource person\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_resource_irregular.json\nRUN buffalo g resource person_event\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_underscore.json\nRUN buffalo g mailer welcome_email\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/generate_mailer.json\nRUN rm -rf bin\nRUN buffalo build -k -e\nRUN filetest -c $GOPATH/src/github.com/gobuffalo/buffalo/buffalo/cmd/filetests/no_assets_build.json\n","originalDockerfileUglifiedHash":"485673bdec99a44d274548f433269aa2","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/ca2dfbfcba55e42cc6fc23f2064b7ced2a8a8d9c.dockerfile"}