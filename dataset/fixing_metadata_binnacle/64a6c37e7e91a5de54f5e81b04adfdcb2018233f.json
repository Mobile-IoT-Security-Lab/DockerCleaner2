{"seed":1242853644,"processedDockerfileHash":"094c7e1193878237686ecd53e825dfc4","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM debian:8\nARG TERM=linux\nARG DEBIAN_FRONTEND=noninteractive\nENV SCIDB_VER=\"15.12\" \\\n    SCIDB_VER_MINOR=\"1.4cadab5\" \\\n    SCIDB_SOURCE_URL=\"https://docs.google.com/uc?id=0B7yt0n33Us0raWtCYmNlZWRxWG8&export=download\"\nENV SCIDB_SOURCE_PATH=\"/usr/local/src/scidb-$SCIDB_VER.$SCIDB_VER_MINOR\" \\\n    SCIDB_INSTALL_PATH=\"/opt/scidb/$SCIDB_VER\" \\\n    SCIDB_BUILD_TYPE=\"Release\"\nENV PATH=\"$PATH:$SCIDB_INSTALL_PATH/bin\"\n#  # Install dependencies\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends apt-transport-https bison ca-certificates cmake flex g++ gfortran libbz2-dev libcppunit-dev liblapack-dev liblog4cxx10-dev libprotobuf-dev libreadline6-dev make openssh-server patch pkg-config postgresql postgresql-contrib protobuf-compiler python python-paramiko sudo unzip wget --assume-yes ) \\\n && rm -rf /var/lib/apt/lists/*\n#  # Install openjdk-8-jdk from jessie-backports\n#  # Install dependencies requiring default-jre-headless\nRUN echo \"deb http://http.debian.net/debian jessie-backports main\" > /etc/apt/sources.list.d/jessie-backports.list \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends ant ant-contrib ca-certificates-java/jessie-backports junit libprotobuf-java openjdk-8-jdk openjdk-8-jre-headless --assume-yes ) \\\n && rm -rf /var/lib/apt/lists/*\n#  # Build and install libpqxx3 from wheezy\nRUN echo \"deb-src http://http.debian.net/debian wheezy main\" > /etc/apt/sources.list.d/wheezy.list \\\n && : \\\n && apt-get build-dep --assume-yes --no-install-recommends libpqxx3 \\\n && mkdir /usr/local/src/libpqxx3 \\\n && cd /usr/local/src/libpqxx3 \\\n && apt-get source --build libpqxx3 \\\n && apt-get purge --assume-yes autotools-dev bsdmainutils build-essential bzip2 chrpath debhelper dpkg-dev file gettext gettext-base groff-base intltool-debian libasprintf0c2 libcroco3 libdpkg-perl libgdbm3 libmagic1 libpipeline1 libtimedate-perl libtool libunistring0 man-db perl perl-modules po-debconf xz-utils \\\n && dpkg --install libpqxx-3.1_3.1-1.1_amd64.deb libpqxx3-dev_3.1-1.1_amd64.deb \\\n && rm -rf /etc/apt/sources.list.d/wheezy.list /usr/local/src/libpqxx3 /var/lib/apt/lists/*\n#  # Install Paradigm4 packages\nRUN wget --no-verbose --output-document - https://downloads.paradigm4.com/key | apt-key add - \\\n && echo \"deb https://downloads.paradigm4.com/ ubuntu14.04/3rdparty/\" > /etc/apt/sources.list.d/scidb.list \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends scidb-$SCIDB_VER-ant scidb-$SCIDB_VER-cityhash scidb-$SCIDB_VER-libboost1.54-all-dev scidb-$SCIDB_VER-libcsv scidb-$SCIDB_VER-libmpich2-dev scidb-$SCIDB_VER-mpich2 --assume-yes ) \\\n && rm -rf /var/lib/apt/lists/*\n#  # Get SciDB source code\nRUN wget --no-verbose --output-document - --load-cookies cookies.txt \"$SCIDB_SOURCE_URL&`wget --no-verbose --output-document - --save-cookies cookies.txt \"$SCIDB_SOURCE_URL\" | grep --only-matching 'confirm=[^&]*' `\" | tar --extract --gzip --directory=/usr/local/src\n#  # Apply SciDB patches\n#   ADD https://docs.google.com/uc?id=0B8eyzr2ndWOTSFRXWHhOc1ZYTGM&export=download \\\n#       $SCIDB_SOURCE_PATH/src/query/ops/input/ChunkLoader.h\n#   ADD https://docs.google.com/uc?id=0B8eyzr2ndWOTakhoVjloS2l1aVE&export=download \\\n#       $SCIDB_SOURCE_PATH/src/query/ops/input/ChunkLoader.cpp\n#  # Apply Debian 8 patches\nCOPY patch $SCIDB_SOURCE_PATH-patch/\nRUN cd $SCIDB_SOURCE_PATH \\\n && cat $SCIDB_SOURCE_PATH-patch/* | patch --strip=1\n#  # Build SciDB libraries (first few libs only)\nRUN cd $SCIDB_SOURCE_PATH \\\n && env PATH=$PATH:/opt/scidb/$SCIDB_VER/3rdparty/mpich2/bin ./run.py setup --force \\\n && cd stage/build \\\n && make -j2 MurmurHash_lib dmalloc linear_algebra jdbc_build benchGen dgenerator gen_matrix arg_separator preparecdashreport point rational complex ra_decl more_math match bestmatch savebmp operators fits scidb_msg_lib dense_linear_algebra mpi_slave_direct mpi_slave_scidb iquery scidbtest array_lib scidbtestharness\n#   $SCIDB_SOURCE_PATH/run.py make -j2\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM debian:8\nARG TERM=linux\nARG DEBIAN_FRONTEND=noninteractive\nENV SCIDB_VER=\"15.12\" \\\n    SCIDB_VER_MINOR=\"1.4cadab5\" \\\n    SCIDB_SOURCE_URL=\"https://docs.google.com/uc?id=0B7yt0n33Us0raWtCYmNlZWRxWG8&export=download\"\nENV SCIDB_SOURCE_PATH=\"/usr/local/src/scidb-$SCIDB_VER.$SCIDB_VER_MINOR\" \\\n    SCIDB_INSTALL_PATH=\"/opt/scidb/$SCIDB_VER\" \\\n    SCIDB_BUILD_TYPE=\"Release\"\nENV PATH=\"$PATH:$SCIDB_INSTALL_PATH/bin\"\n# # Install dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https bison ca-certificates cmake flex g++ gfortran libbz2-dev libcppunit-dev liblapack-dev liblog4cxx10-dev libprotobuf-dev libreadline6-dev make openssh-server patch pkg-config postgresql postgresql-contrib protobuf-compiler python python-paramiko sudo unzip wget --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n# # Install openjdk-8-jdk from jessie-backports\n# # Install dependencies requiring default-jre-headless\nRUN echo \"deb http://http.debian.net/debian jessie-backports main\" > /etc/apt/sources.list.d/jessie-backports.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends ant ant-contrib ca-certificates-java/jessie-backports junit libprotobuf-java openjdk-8-jdk openjdk-8-jre-headless --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n# # Build and install libpqxx3 from wheezy\nRUN echo \"deb-src http://http.debian.net/debian wheezy main\" > /etc/apt/sources.list.d/wheezy.list \\\n && apt-get update \\\n && apt-get build-dep --assume-yes --no-install-recommends libpqxx3 \\\n && mkdir /usr/local/src/libpqxx3 \\\n && cd /usr/local/src/libpqxx3 \\\n && apt-get source --build libpqxx3 \\\n && apt-get purge --assume-yes autotools-dev bsdmainutils build-essential bzip2 chrpath debhelper dpkg-dev file gettext gettext-base groff-base intltool-debian libasprintf0c2 libcroco3 libdpkg-perl libgdbm3 libmagic1 libpipeline1 libtimedate-perl libtool libunistring0 man-db perl perl-modules po-debconf xz-utils \\\n && dpkg --install libpqxx-3.1_3.1-1.1_amd64.deb libpqxx3-dev_3.1-1.1_amd64.deb \\\n && rm -rf /etc/apt/sources.list.d/wheezy.list /usr/local/src/libpqxx3 /var/lib/apt/lists/*\n# # Install Paradigm4 packages\nRUN wget --no-verbose --output-document - https://downloads.paradigm4.com/key | apt-key add - \\\n && echo \"deb https://downloads.paradigm4.com/ ubuntu14.04/3rdparty/\" > /etc/apt/sources.list.d/scidb.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends scidb-$SCIDB_VER-ant scidb-$SCIDB_VER-cityhash scidb-$SCIDB_VER-libboost1.54-all-dev scidb-$SCIDB_VER-libcsv scidb-$SCIDB_VER-libmpich2-dev scidb-$SCIDB_VER-mpich2 --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n# # Get SciDB source code\nRUN wget --no-verbose --output-document - --load-cookies cookies.txt \"$SCIDB_SOURCE_URL&`wget --no-verbose --output-document - --save-cookies cookies.txt \"$SCIDB_SOURCE_URL\" | grep --only-matching 'confirm=[^&]*' `\" | tar --extract --gzip --directory=/usr/local/src\n# # Apply SciDB patches\n#  ADD https://docs.google.com/uc?id=0B8eyzr2ndWOTSFRXWHhOc1ZYTGM&export=download \\\n#      $SCIDB_SOURCE_PATH/src/query/ops/input/ChunkLoader.h\n#  ADD https://docs.google.com/uc?id=0B8eyzr2ndWOTakhoVjloS2l1aVE&export=download \\\n#      $SCIDB_SOURCE_PATH/src/query/ops/input/ChunkLoader.cpp\n# # Apply Debian 8 patches\nCOPY patch $SCIDB_SOURCE_PATH-patch/\nRUN cd $SCIDB_SOURCE_PATH \\\n && cat $SCIDB_SOURCE_PATH-patch/* | patch --strip=1\n# # Build SciDB libraries (first few libs only)\nRUN cd $SCIDB_SOURCE_PATH \\\n && env PATH=$PATH:/opt/scidb/$SCIDB_VER/3rdparty/mpich2/bin ./run.py setup --force \\\n && cd stage/build \\\n && make -j2 MurmurHash_lib dmalloc linear_algebra jdbc_build benchGen dgenerator gen_matrix arg_separator preparecdashreport point rational complex ra_decl more_math match bestmatch savebmp operators fits scidb_msg_lib dense_linear_algebra mpi_slave_direct mpi_slave_scidb iquery scidbtest array_lib scidbtestharness\n#  $SCIDB_SOURCE_PATH/run.py make -j2\n","injectedSmells":[],"originalDockerfileHash":"31d6ebeb4d962934452c6eb54a14710c","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM debian:8\nARG TERM=linux\nARG DEBIAN_FRONTEND=noninteractive\nENV SCIDB_VER=\"15.12\" \\\n    SCIDB_VER_MINOR=\"1.4cadab5\" \\\n    SCIDB_SOURCE_URL=\"https://docs.google.com/uc?id=0B7yt0n33Us0raWtCYmNlZWRxWG8&export=download\"\nENV SCIDB_SOURCE_PATH=\"/usr/local/src/scidb-$SCIDB_VER.$SCIDB_VER_MINOR\" \\\n    SCIDB_INSTALL_PATH=\"/opt/scidb/$SCIDB_VER\" \\\n    SCIDB_BUILD_TYPE=\"Release\"\nENV PATH=\"$PATH:$SCIDB_INSTALL_PATH/bin\"\n#  # Install dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https bison ca-certificates cmake flex g++ gfortran libbz2-dev libcppunit-dev liblapack-dev liblog4cxx10-dev libprotobuf-dev libreadline6-dev make openssh-server patch pkg-config postgresql postgresql-contrib protobuf-compiler python python-paramiko sudo unzip wget --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n#  # Install openjdk-8-jdk from jessie-backports\n#  # Install dependencies requiring default-jre-headless\nRUN echo \"deb http://http.debian.net/debian jessie-backports main\" > /etc/apt/sources.list.d/jessie-backports.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends ant ant-contrib ca-certificates-java/jessie-backports junit libprotobuf-java openjdk-8-jdk openjdk-8-jre-headless --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n#  # Build and install libpqxx3 from wheezy\nRUN echo \"deb-src http://http.debian.net/debian wheezy main\" > /etc/apt/sources.list.d/wheezy.list \\\n && apt-get update \\\n && apt-get build-dep --assume-yes --no-install-recommends libpqxx3 \\\n && mkdir /usr/local/src/libpqxx3 \\\n && cd /usr/local/src/libpqxx3 \\\n && apt-get source --build libpqxx3 \\\n && apt-get purge --assume-yes autotools-dev bsdmainutils build-essential bzip2 chrpath debhelper dpkg-dev file gettext gettext-base groff-base intltool-debian libasprintf0c2 libcroco3 libdpkg-perl libgdbm3 libmagic1 libpipeline1 libtimedate-perl libtool libunistring0 man-db perl perl-modules po-debconf xz-utils \\\n && dpkg --install libpqxx-3.1_3.1-1.1_amd64.deb libpqxx3-dev_3.1-1.1_amd64.deb \\\n && rm -rf /etc/apt/sources.list.d/wheezy.list /usr/local/src/libpqxx3 /var/lib/apt/lists/*\n#  # Install Paradigm4 packages\nRUN wget --no-verbose --output-document - https://downloads.paradigm4.com/key | apt-key add - \\\n && echo \"deb https://downloads.paradigm4.com/ ubuntu14.04/3rdparty/\" > /etc/apt/sources.list.d/scidb.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends scidb-$SCIDB_VER-ant scidb-$SCIDB_VER-cityhash scidb-$SCIDB_VER-libboost1.54-all-dev scidb-$SCIDB_VER-libcsv scidb-$SCIDB_VER-libmpich2-dev scidb-$SCIDB_VER-mpich2 --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n#  # Get SciDB source code\nRUN wget --no-verbose --output-document - --load-cookies cookies.txt \"$SCIDB_SOURCE_URL&`wget --no-verbose --output-document - --save-cookies cookies.txt \"$SCIDB_SOURCE_URL\" | grep --only-matching 'confirm=[^&]*' `\" | tar --extract --gzip --directory=/usr/local/src\n#  # Apply SciDB patches\n#   ADD https://docs.google.com/uc?id=0B8eyzr2ndWOTSFRXWHhOc1ZYTGM&export=download \\\n#       $SCIDB_SOURCE_PATH/src/query/ops/input/ChunkLoader.h\n#   ADD https://docs.google.com/uc?id=0B8eyzr2ndWOTakhoVjloS2l1aVE&export=download \\\n#       $SCIDB_SOURCE_PATH/src/query/ops/input/ChunkLoader.cpp\n#  # Apply Debian 8 patches\nCOPY patch $SCIDB_SOURCE_PATH-patch/\nRUN cd $SCIDB_SOURCE_PATH \\\n && cat $SCIDB_SOURCE_PATH-patch/* | patch --strip=1\n#  # Build SciDB libraries (first few libs only)\nRUN cd $SCIDB_SOURCE_PATH \\\n && env PATH=$PATH:/opt/scidb/$SCIDB_VER/3rdparty/mpich2/bin ./run.py setup --force \\\n && cd stage/build \\\n && make -j2 MurmurHash_lib dmalloc linear_algebra jdbc_build benchGen dgenerator gen_matrix arg_separator preparecdashreport point rational complex ra_decl more_math match bestmatch savebmp operators fits scidb_msg_lib dense_linear_algebra mpi_slave_direct mpi_slave_scidb iquery scidbtest array_lib scidbtestharness\n#   $SCIDB_SOURCE_PATH/run.py make -j2\n","originalDockerfileUglifiedHash":"731e5d6ba0a71dbe6029caf779ab8a2f","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/64a6c37e7e91a5de54f5e81b04adfdcb2018233f.dockerfile"}