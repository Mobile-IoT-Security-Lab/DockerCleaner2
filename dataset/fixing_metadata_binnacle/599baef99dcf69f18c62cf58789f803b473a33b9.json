{"seed":3360439738,"processedDockerfileHash":"f255b0fb901462f0b1ed2eee410261b4","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["do-not-use-apt-get-update-alone","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:bionic AS builder\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -qy --no-install-recommends cmake git g++ audacious-dev libaudclient-dev libcairo2-dev libcurl4-openssl-dev libical-dev libimlib2-dev libircclient-dev libiw-dev liblua5.3-dev libmicrohttpd-dev libmysqlclient-dev libpulse-dev librsvg2-dev libsystemd-dev libxdamage-dev libxext-dev libxft-dev libxinerama-dev libxml2-dev libxmmsclient-dev libxnvctrl-dev ncurses-dev\nCOPY . /conky\nWORKDIR /conky/build\nARG X11=yes\nRUN sh -c 'if [ \"$X11\" = \"yes\" ] ; then cmake -DCMAKE_INSTALL_PREFIX=/opt/conky -DBUILD_AUDACIOUS=ON -DBUILD_HTTP=ON -DBUILD_ICAL=ON -DBUILD_ICONV=ON -DBUILD_IRC=ON -DBUILD_JOURNAL=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_IMLIB2=ON -DBUILD_LUA_RSVG=ON -DBUILD_MYSQL=ON -DBUILD_NVIDIA=ON -DBUILD_PULSEAUDIO=ON -DBUILD_RSS=ON -DBUILD_WLAN=ON -DBUILD_XMMS2=ON ../ ; else cmake -DCMAKE_INSTALL_PREFIX=/opt/conky -DBUILD_AUDACIOUS=ON -DBUILD_HTTP=ON -DBUILD_ICAL=ON -DBUILD_ICONV=ON -DBUILD_IRC=ON -DBUILD_JOURNAL=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_IMLIB2=ON -DBUILD_LUA_RSVG=ON -DBUILD_MYSQL=ON -DBUILD_PULSEAUDIO=ON -DBUILD_RSS=ON -DBUILD_WLAN=ON -DBUILD_X11=OFF -DBUILD_XMMS2=ON ../ ; fi' \\\n && make -j5 all \\\n && make -j5 install\nFROM ubuntu:bionic\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -qy --no-install-recommends libaudclient2 libcairo2 libcurl4 libical3 libimlib2 libircclient1 libiw30 liblua5.3-0 libmicrohttpd12 libmysqlclient20 libncurses5 libpulse0 librsvg2-2 libsystemd0 libxcb-xfixes0 libxdamage1 libxext6 libxfixes3 libxft2 libxinerama1 libxml2 libxmmsclient6 libxnvctrl0 \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\nCOPY --from=builder /opt/conky /opt/conky\nENV PATH=\"/opt/conky/bin:${PATH}\"\nENV LD_LIBRARY_PATH=\"/opt/conky/lib:${LD_LIBRARY_PATH}\"\nENTRYPOINT [\"/opt/conky/bin/conky\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:bionic AS builder\nRUN apt-get update \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -qy --no-install-recommends cmake git g++ audacious-dev libaudclient-dev libcairo2-dev libcurl4-openssl-dev libical-dev libimlib2-dev libircclient-dev libiw-dev liblua5.3-dev libmicrohttpd-dev libmysqlclient-dev libpulse-dev librsvg2-dev libsystemd-dev libxdamage-dev libxext-dev libxft-dev libxinerama-dev libxml2-dev libxmmsclient-dev libxnvctrl-dev ncurses-dev\nCOPY . /conky\nWORKDIR /conky/build\nARG X11=yes\nRUN sh -c 'if [ \"$X11\" = \"yes\" ] ; then cmake -DCMAKE_INSTALL_PREFIX=/opt/conky -DBUILD_AUDACIOUS=ON -DBUILD_HTTP=ON -DBUILD_ICAL=ON -DBUILD_ICONV=ON -DBUILD_IRC=ON -DBUILD_JOURNAL=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_IMLIB2=ON -DBUILD_LUA_RSVG=ON -DBUILD_MYSQL=ON -DBUILD_NVIDIA=ON -DBUILD_PULSEAUDIO=ON -DBUILD_RSS=ON -DBUILD_WLAN=ON -DBUILD_XMMS2=ON ../ ; else cmake -DCMAKE_INSTALL_PREFIX=/opt/conky -DBUILD_AUDACIOUS=ON -DBUILD_HTTP=ON -DBUILD_ICAL=ON -DBUILD_ICONV=ON -DBUILD_IRC=ON -DBUILD_JOURNAL=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_IMLIB2=ON -DBUILD_LUA_RSVG=ON -DBUILD_MYSQL=ON -DBUILD_PULSEAUDIO=ON -DBUILD_RSS=ON -DBUILD_WLAN=ON -DBUILD_X11=OFF -DBUILD_XMMS2=ON ../ ; fi' \\\n && make -j5 all \\\n && make -j5 install\nFROM ubuntu:bionic\nRUN apt-get update \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -qy --no-install-recommends libaudclient2 libcairo2 libcurl4 libical3 libimlib2 libircclient1 libiw30 liblua5.3-0 libmicrohttpd12 libmysqlclient20 libncurses5 libpulse0 librsvg2-2 libsystemd0 libxcb-xfixes0 libxdamage1 libxext6 libxfixes3 libxft2 libxinerama1 libxml2 libxmmsclient6 libxnvctrl0 \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\nCOPY --from=builder /opt/conky /opt/conky\nENV PATH=\"/opt/conky/bin:${PATH}\"\nENV LD_LIBRARY_PATH=\"/opt/conky/lib:${LD_LIBRARY_PATH}\"\nENTRYPOINT [\"/opt/conky/bin/conky\"]\n","injectedSmells":[],"originalDockerfileHash":"12b0ab1fea0915a6ce843106c84c3dba","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:bionic AS builder\nRUN apt-get update \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -qy --no-install-recommends cmake git g++ audacious-dev libaudclient-dev libcairo2-dev libcurl4-openssl-dev libical-dev libimlib2-dev libircclient-dev libiw-dev liblua5.3-dev libmicrohttpd-dev libmysqlclient-dev libpulse-dev librsvg2-dev libsystemd-dev libxdamage-dev libxext-dev libxft-dev libxinerama-dev libxml2-dev libxmmsclient-dev libxnvctrl-dev ncurses-dev\nCOPY . /conky\nWORKDIR /conky/build\nARG X11=yes\nRUN sh -c 'if [ \"$X11\" = \"yes\" ] ; then cmake -DCMAKE_INSTALL_PREFIX=/opt/conky -DBUILD_AUDACIOUS=ON -DBUILD_HTTP=ON -DBUILD_ICAL=ON -DBUILD_ICONV=ON -DBUILD_IRC=ON -DBUILD_JOURNAL=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_IMLIB2=ON -DBUILD_LUA_RSVG=ON -DBUILD_MYSQL=ON -DBUILD_NVIDIA=ON -DBUILD_PULSEAUDIO=ON -DBUILD_RSS=ON -DBUILD_WLAN=ON -DBUILD_XMMS2=ON ../ ; else cmake -DCMAKE_INSTALL_PREFIX=/opt/conky -DBUILD_AUDACIOUS=ON -DBUILD_HTTP=ON -DBUILD_ICAL=ON -DBUILD_ICONV=ON -DBUILD_IRC=ON -DBUILD_JOURNAL=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_CAIRO=ON -DBUILD_LUA_IMLIB2=ON -DBUILD_LUA_RSVG=ON -DBUILD_MYSQL=ON -DBUILD_PULSEAUDIO=ON -DBUILD_RSS=ON -DBUILD_WLAN=ON -DBUILD_X11=OFF -DBUILD_XMMS2=ON ../ ; fi' \\\n && make -j5 all \\\n && make -j5 install\nFROM ubuntu:bionic\nRUN apt-get update \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -qy --no-install-recommends libaudclient2 libcairo2 libcurl4 libical3 libimlib2 libircclient1 libiw30 liblua5.3-0 libmicrohttpd12 libmysqlclient20 libncurses5 libpulse0 librsvg2-2 libsystemd0 libxcb-xfixes0 libxdamage1 libxext6 libxfixes3 libxft2 libxinerama1 libxml2 libxmmsclient6 libxnvctrl0 \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\nCOPY --from=builder /opt/conky /opt/conky\nENV PATH=\"/opt/conky/bin:${PATH}\"\nENV LD_LIBRARY_PATH=\"/opt/conky/lib:${LD_LIBRARY_PATH}\"\nENTRYPOINT [\"/opt/conky/bin/conky\"]\n","originalDockerfileUglifiedHash":"12b0ab1fea0915a6ce843106c84c3dba","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/599baef99dcf69f18c62cf58789f803b473a33b9.dockerfile"}