{"seed":1101194523,"processedDockerfileHash":"9dd6fee323a035f3b019e704076be768","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-pip","pin-package-manager-versions-gem","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Licensed under the Apache License, Version 2.0 (the \"License\");\n#   you may not use this file except in compliance with the License.\n#   You may obtain a copy of the License at\n#\n#       http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing, software\n#   distributed under the License is distributed on an \"AS IS\" BASIS,\n#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#   See the License for the specific language governing permissions and\n#   limitations under the License.\n#   Apache Thrift Docker build environment for Centos\n#\n#   Known missing client libraries:\n#    - D\n#    - Haxe\n#    - Lua\n#\nFROM centos:7\nMAINTAINER Apache Thrift <dev@thrift.apache.org>\nRUN yum install -y epel-release\n#   General dependencies\nRUN yum install -y tar m4 perl clang gcc gcc-c++ git libtool autoconf make bison bison-devel flex\n#   C++ dependencies\nRUN yum install -y boost-devel-static zlib-devel openssl-devel libevent-devel\n#   Java Dependencies\nRUN yum install -y ant junit ant-junit java-1.7.0-openjdk-devel\n#   Python Dependencies\nRUN yum install -y python-devel python-pip python-setuptools python-six python-twisted-web \\\n && pip install backports.ssl_match_hostname==3.7.0.1 ipaddress==1.0.23 tornado==6.2 -U\n#   Ruby Dependencies\nRUN yum install -y ruby ruby-devel rubygems \\\n && gem install bundler --version 2.4.12\n#   Perl Dependencies\nRUN yum install -y perl-Bit-Vector perl-Class-Accessor perl-ExtUtils-MakeMaker perl-Test-Simple perl-IO-Socket-SSL perl-Net-SSLeay perl-Crypt-SSLeay\n#   PHP Dependencies\nRUN yum install -y php php-devel php-pear re2c php-phpunit-PHPUnit bzip2\n#   GLibC Dependencies\nRUN yum install -y glib2-devel\n#   Erlang Dependencies\nRUN curl -sSL http://packages.erlang-solutions.com/rpm/centos/erlang_solutions.repo -o /etc/yum.repos.d/erlang_solutions.repo \\\n && yum install -y erlang-kernel erlang-erts erlang-stdlib erlang-eunit erlang-rebar erlang-tools\n#   Go Dependencies\nRUN curl -sSL https://storage.googleapis.com/golang/go1.4.3.linux-amd64.tar.gz | tar -C /usr/local/ -xz\nENV PATH=\"/usr/local/go/bin:$PATH\"\n#   Haskell Dependencies\nRUN yum -y install haskell-platform\n#   Node.js Dependencies\nRUN yum install -y nodejs nodejs-devel npm\n#   C# Dependencies\nRUN yum install -y mono-core mono-devel mono-web-devel mono-extras RUN yum install -y mingw32-binutils mingw32-crt mingw32-nsis\n#   CMake\nRUN curl -sSL https://cmake.org/files/v3.4/cmake-3.4.0.tar.gz | tar -xz \\\n && cd cmake-3.4.0 \\\n && ./bootstrap \\\n && make -j4 \\\n && make install \\\n && cd .. \\\n && rm -rf cmake-3.4.0\n#   Clean up\nRUN rm -rf /tmp/* \\\n && yum clean all\nENV THRIFT_ROOT=\"/thrift\"\nRUN mkdir -p $THRIFT_ROOT/src\nCOPY Dockerfile $THRIFT_ROOT/\nWORKDIR $THRIFT_ROOT/src\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Licensed under the Apache License, Version 2.0 (the \"License\");\n#  you may not use this file except in compliance with the License.\n#  You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n#  Unless required by applicable law or agreed to in writing, software\n#  distributed under the License is distributed on an \"AS IS\" BASIS,\n#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#  See the License for the specific language governing permissions and\n#  limitations under the License.\n#  Apache Thrift Docker build environment for Centos\n#\n#  Known missing client libraries:\n#   - D\n#   - Haxe\n#   - Lua\n#\nFROM centos:7\nMAINTAINER Apache Thrift <dev@thrift.apache.org>\nRUN yum install -y epel-release\n#  General dependencies\nRUN yum install -y tar m4 perl clang gcc gcc-c++ git libtool autoconf make bison bison-devel flex\n#  C++ dependencies\nRUN yum install -y boost-devel-static zlib-devel openssl-devel libevent-devel\n#  Java Dependencies\nRUN yum install -y ant junit ant-junit java-1.7.0-openjdk-devel\n#  Python Dependencies\nRUN yum install -y python-devel python-pip python-setuptools python-six python-twisted-web \\\n && pip install backports.ssl_match_hostname ipaddress tornado -U\n#  Ruby Dependencies\nRUN yum install -y ruby ruby-devel rubygems \\\n && gem install bundler\n#  Perl Dependencies\nRUN yum install -y perl-Bit-Vector perl-Class-Accessor perl-ExtUtils-MakeMaker perl-Test-Simple perl-IO-Socket-SSL perl-Net-SSLeay perl-Crypt-SSLeay\n#  PHP Dependencies\nRUN yum install -y php php-devel php-pear re2c php-phpunit-PHPUnit bzip2\n#  GLibC Dependencies\nRUN yum install -y glib2-devel\n#  Erlang Dependencies\nRUN curl -sSL http://packages.erlang-solutions.com/rpm/centos/erlang_solutions.repo -o /etc/yum.repos.d/erlang_solutions.repo \\\n && yum install -y erlang-kernel erlang-erts erlang-stdlib erlang-eunit erlang-rebar erlang-tools\n#  Go Dependencies\nRUN curl -sSL https://storage.googleapis.com/golang/go1.4.3.linux-amd64.tar.gz | tar -C /usr/local/ -xz\nENV PATH=\"/usr/local/go/bin:$PATH\"\n#  Haskell Dependencies\nRUN yum -y install haskell-platform\n#  Node.js Dependencies\nRUN yum install -y nodejs nodejs-devel npm\n#  C# Dependencies\nRUN yum install -y mono-core mono-devel mono-web-devel mono-extras RUN yum install -y mingw32-binutils mingw32-crt mingw32-nsis\n#  CMake\nRUN curl -sSL https://cmake.org/files/v3.4/cmake-3.4.0.tar.gz | tar -xz \\\n && cd cmake-3.4.0 \\\n && ./bootstrap \\\n && make -j4 \\\n && make install \\\n && cd .. \\\n && rm -rf cmake-3.4.0\n#  Clean up\nRUN rm -rf /tmp/* \\\n && yum clean all\nENV THRIFT_ROOT=\"/thrift\"\nRUN mkdir -p $THRIFT_ROOT/src\nCOPY Dockerfile $THRIFT_ROOT/\nWORKDIR $THRIFT_ROOT/src\n","injectedSmells":[],"originalDockerfileHash":"f49ab8b17fadaed64bd0a59141a2e51b","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Licensed under the Apache License, Version 2.0 (the \"License\");\n#   you may not use this file except in compliance with the License.\n#   You may obtain a copy of the License at\n#\n#       http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing, software\n#   distributed under the License is distributed on an \"AS IS\" BASIS,\n#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#   See the License for the specific language governing permissions and\n#   limitations under the License.\n#   Apache Thrift Docker build environment for Centos\n#\n#   Known missing client libraries:\n#    - D\n#    - Haxe\n#    - Lua\n#\nFROM centos:7\nMAINTAINER Apache Thrift <dev@thrift.apache.org>\nRUN yum install -y epel-release\n#   General dependencies\nRUN yum install -y tar m4 perl clang gcc gcc-c++ git libtool autoconf make bison bison-devel flex\n#   C++ dependencies\nRUN yum install -y boost-devel-static zlib-devel openssl-devel libevent-devel\n#   Java Dependencies\nRUN yum install -y ant junit ant-junit java-1.7.0-openjdk-devel\n#   Python Dependencies\nRUN yum install -y python-devel python-pip python-setuptools python-six python-twisted-web \\\n && pip install backports.ssl_match_hostname ipaddress tornado -U\n#   Ruby Dependencies\nRUN yum install -y ruby ruby-devel rubygems \\\n && gem install bundler\n#   Perl Dependencies\nRUN yum install -y perl-Bit-Vector perl-Class-Accessor perl-ExtUtils-MakeMaker perl-Test-Simple perl-IO-Socket-SSL perl-Net-SSLeay perl-Crypt-SSLeay\n#   PHP Dependencies\nRUN yum install -y php php-devel php-pear re2c php-phpunit-PHPUnit bzip2\n#   GLibC Dependencies\nRUN yum install -y glib2-devel\n#   Erlang Dependencies\nRUN curl -sSL http://packages.erlang-solutions.com/rpm/centos/erlang_solutions.repo -o /etc/yum.repos.d/erlang_solutions.repo \\\n && yum install -y erlang-kernel erlang-erts erlang-stdlib erlang-eunit erlang-rebar erlang-tools\n#   Go Dependencies\nRUN curl -sSL https://storage.googleapis.com/golang/go1.4.3.linux-amd64.tar.gz | tar -C /usr/local/ -xz\nENV PATH=\"/usr/local/go/bin:$PATH\"\n#   Haskell Dependencies\nRUN yum -y install haskell-platform\n#   Node.js Dependencies\nRUN yum install -y nodejs nodejs-devel npm\n#   C# Dependencies\nRUN yum install -y mono-core mono-devel mono-web-devel mono-extras RUN yum install -y mingw32-binutils mingw32-crt mingw32-nsis\n#   CMake\nRUN curl -sSL https://cmake.org/files/v3.4/cmake-3.4.0.tar.gz | tar -xz \\\n && cd cmake-3.4.0 \\\n && ./bootstrap \\\n && make -j4 \\\n && make install \\\n && cd .. \\\n && rm -rf cmake-3.4.0\n#   Clean up\nRUN rm -rf /tmp/* \\\n && yum clean all\nENV THRIFT_ROOT=\"/thrift\"\nRUN mkdir -p $THRIFT_ROOT/src\nCOPY Dockerfile $THRIFT_ROOT/\nWORKDIR $THRIFT_ROOT/src\n","originalDockerfileUglifiedHash":"ff60b1451439f21c11d0d87d78875499","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/59bbfd65216900b61747f2c83d87d6c0989683fc.dockerfile"}