{"seed":480896728,"processedDockerfileHash":"185d34303e104736725ff2f71fed48fe","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM izone/hadoop:julia\nMAINTAINER Leonardo Loures <luvres@hotmail.com>\n#   Zookeeper\nENV ZOOKEEPER_VERSION=\"3.4.13\" \\\n    ZOOKEEPER_HOME=\"/opt/zookeeper\" \\\n    PATH=\"$PATH:$ZOOKEEPER_HOME/bin\"\nCOPY zoo.cfg /opt/zookeeper/conf/zoo.cfg\nRUN curl http://ftp.unicamp.br/pub/apache/zookeeper/zookeeper-${ZOOKEEPER_VERSION}/zookeeper-${ZOOKEEPER_VERSION}.tar.gz | tar -xzf - -C /usr/local/ \\\n && ln -s /usr/local/zookeeper-${ZOOKEEPER_VERSION}/ /opt/zookeeper \\\n && mkdir /opt/zookeeper/data\n#   HBase\nENV HBASE_VERSION=\"2.1.0\" \\\n    HBASE_HOME=\"/opt/hbase\" \\\n    PATH=\"$PATH:$HBASE_HOME/bin\"\nCOPY hbase-env.sh $HBASE_HOME/conf/hbase-env.sh\nCOPY hbase-site.xml $HBASE_HOME/conf/hbase-site.xml\nRUN curl http://ftp.unicamp.br/pub/apache/hbase/${HBASE_VERSION}/hbase-${HBASE_VERSION}-bin.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/hbase-${HBASE_VERSION}/docs \\\n && ln -s /usr/local/hbase-${HBASE_VERSION}/ /opt/hbase\n#   Hive\nENV HIVE_VERSION=\"2.3.3\" \\\n    HIVE_HOME=\"/opt/hive\" \\\n    PATH=\"$PATH:$HIVE_HOME/bin\" \\\n    CLASSPATH=\"$CLASSPATH:$HADOOP_HOME/lib/*:.\" \\\n    CLASSPATH=\"$CLASSPATH:$HIVE_HOME/lib/*:.\"\nCOPY hive-env.sh $HIVE_HOME/conf/hive-env.sh\nCOPY hive-default.xml $HIVE_HOME/conf/hive-default.xml\nRUN curl http://ftp.unicamp.br/pub/apache/hive/hive-${HIVE_VERSION}/apache-hive-${HIVE_VERSION}-bin.tar.gz | tar -xzf - -C /usr/local/ \\\n && ln -s /usr/local/apache-hive-${HIVE_VERSION}-bin/ /opt/hive\n#   Pig\nENV PIG_VERSION=\"0.17.0\" \\\n    PIG_HOME=\"/opt/pig\" \\\n    PATH=\"$PATH:$PIG_HOME/bin\" \\\n    PIG_CLASSPATH=\"$HADOOP_HOME/conf\"\nRUN curl http://ftp.unicamp.br/pub/apache/pig/pig-${PIG_VERSION}/pig-${PIG_VERSION}.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/pig-${PIG_VERSION}/docs \\\n && ln -s /usr/local/pig-${PIG_VERSION}/ /opt/pig\n#   Sqoop\nENV SQOOP_VERSION=\"1.4.7\" \\\n    SQOOP_HOME=\"/opt/sqoop\" \\\n    PATH=\"$PATH:$SQOOP_HOME/bin\" \\\n    ACCUMULO_HOME=\"/opt/sqoop/accumulo\" \\\n    HCAT_HOME=\"/opt/sqoop/hcatalog\"\nCOPY sqoop-env.sh /opt/sqoop/conf/sqoop-env.sh\nRUN curl http://ftp.unicamp.br/pub/apache/sqoop/${SQOOP_VERSION}/sqoop-${SQOOP_VERSION}.bin__hadoop-2.6.0.tar.gz | tar -xzf - -C /usr/local/ \\\n && ln -s /usr/local/sqoop-${SQOOP_VERSION}.bin__hadoop-2.6.0-alpha/ /opt/sqoop \\\n && mkdir /opt/sqoop/hcatalog /opt/sqoop/accumulo \\\n && mkdir -p /opt/sqoop/lib \\\n && ln -s /usr/local/jdbc/mysql-connector-java-5.1.47-bin.jar /opt/sqoop/lib/mysql-connector.jar \\\n && ln -s /usr/local/jdbc/mariadb-java-client-2.2.6.jar /opt/sqoop/lib/mariadb-connector.jar \\\n && ln -s /usr/local/jdbc/ojdbc7.jar /opt/sqoop/lib/ojdbc7.jar \\\n && ln -s /usr/local/jdbc/ojdbc6.jar /opt/sqoop/lib/ojdbc6.jar \\\n && ln -s /usr/local/jdbc/postgresql-42.2.5.jar /opt/sqoop/lib/postgresql-connector.jar\n#   Flume\nENV FLUME_VERSION=\"1.8.0\" \\\n    FLUME_HOME=\"/opt/flume\" \\\n    PATH=\"$PATH:$FLUME_HOME/bin\" \\\n    CLASSPATH=\"$CLASSPATH:$FLUME_HOME/lib/*\"\nCOPY flume-env.sh /opt/flume/conf/flume-env.sh\nRUN curl http://ftp.unicamp.br/pub/apache/flume/${FLUME_VERSION}/apache-flume-${FLUME_VERSION}-bin.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/apache-flume-${FLUME_VERSION}-bin/docs \\\n && ln -s /usr/local/apache-flume-${FLUME_VERSION}-bin/ /opt/flume\n#   Mahout\nENV MAHOUT_VERSION=\"0.13.0\" \\\n    MAHOUT_HOME=\"/opt/mahout\" \\\n    PATH=\"$PATH:$MAHOUT_HOME/bin\"\nCOPY start.sh /etc/start.sh\nRUN curl http://ftp.unicamp.br/pub/apache/mahout/${MAHOUT_VERSION}/apache-mahout-distribution-${MAHOUT_VERSION}.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/apache-mahout-distribution-${MAHOUT_VERSION}/docs \\\n && ln -s /usr/local/apache-mahout-distribution-${MAHOUT_VERSION}/ /opt/mahout \\\n && chmod +x /etc/start.sh\n#   Bash colors\nRUN sed -i '/PS1/d' $HOME/.bashrc \\\n && echo 'export PS1=\"${RESET}[${RED}\\u${RESET}@${YELLOW}\\h${RESET}:${BLUE}\\w${RESET}]# ${RESET}\"' >> $HOME/.bashrc\n#   HBase ports\nEXPOSE 60010/tcp 60030/tcp\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM izone/hadoop:julia\nMAINTAINER Leonardo Loures <luvres@hotmail.com>\n#  Zookeeper\nENV ZOOKEEPER_VERSION=\"3.4.13\" \\\n    ZOOKEEPER_HOME=\"/opt/zookeeper\" \\\n    PATH=\"$PATH:$ZOOKEEPER_HOME/bin\"\nADD zoo.cfg /opt/zookeeper/conf/zoo.cfg\nRUN curl http://ftp.unicamp.br/pub/apache/zookeeper/zookeeper-${ZOOKEEPER_VERSION}/zookeeper-${ZOOKEEPER_VERSION}.tar.gz | tar -xzf - -C /usr/local/ \\\n && ln -s /usr/local/zookeeper-${ZOOKEEPER_VERSION}/ /opt/zookeeper \\\n && mkdir /opt/zookeeper/data\n#  HBase\nENV HBASE_VERSION=\"2.1.0\" \\\n    HBASE_HOME=\"/opt/hbase\" \\\n    PATH=\"$PATH:$HBASE_HOME/bin\"\nADD hbase-env.sh $HBASE_HOME/conf/hbase-env.sh\nADD hbase-site.xml $HBASE_HOME/conf/hbase-site.xml\nRUN curl http://ftp.unicamp.br/pub/apache/hbase/${HBASE_VERSION}/hbase-${HBASE_VERSION}-bin.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/hbase-${HBASE_VERSION}/docs \\\n && ln -s /usr/local/hbase-${HBASE_VERSION}/ /opt/hbase\n#  Hive\nENV HIVE_VERSION=\"2.3.3\" \\\n    HIVE_HOME=\"/opt/hive\" \\\n    PATH=\"$PATH:$HIVE_HOME/bin\" \\\n    CLASSPATH=\"$CLASSPATH:$HADOOP_HOME/lib/*:.\" \\\n    CLASSPATH=\"$CLASSPATH:$HIVE_HOME/lib/*:.\"\nADD hive-env.sh $HIVE_HOME/conf/hive-env.sh\nADD hive-default.xml $HIVE_HOME/conf/hive-default.xml\nRUN curl http://ftp.unicamp.br/pub/apache/hive/hive-${HIVE_VERSION}/apache-hive-${HIVE_VERSION}-bin.tar.gz | tar -xzf - -C /usr/local/ \\\n && ln -s /usr/local/apache-hive-${HIVE_VERSION}-bin/ /opt/hive\n#  Pig\nENV PIG_VERSION=\"0.17.0\" \\\n    PIG_HOME=\"/opt/pig\" \\\n    PATH=\"$PATH:$PIG_HOME/bin\" \\\n    PIG_CLASSPATH=\"$HADOOP_HOME/conf\"\nRUN curl http://ftp.unicamp.br/pub/apache/pig/pig-${PIG_VERSION}/pig-${PIG_VERSION}.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/pig-${PIG_VERSION}/docs \\\n && ln -s /usr/local/pig-${PIG_VERSION}/ /opt/pig\n#  Sqoop\nENV SQOOP_VERSION=\"1.4.7\" \\\n    SQOOP_HOME=\"/opt/sqoop\" \\\n    PATH=\"$PATH:$SQOOP_HOME/bin\" \\\n    ACCUMULO_HOME=\"/opt/sqoop/accumulo\" \\\n    HCAT_HOME=\"/opt/sqoop/hcatalog\"\nADD sqoop-env.sh /opt/sqoop/conf/sqoop-env.sh\nRUN curl http://ftp.unicamp.br/pub/apache/sqoop/${SQOOP_VERSION}/sqoop-${SQOOP_VERSION}.bin__hadoop-2.6.0.tar.gz | tar -xzf - -C /usr/local/ \\\n && ln -s /usr/local/sqoop-${SQOOP_VERSION}.bin__hadoop-2.6.0-alpha/ /opt/sqoop \\\n && mkdir /opt/sqoop/hcatalog /opt/sqoop/accumulo \\\n && mkdir -p /opt/sqoop/lib \\\n && ln -s /usr/local/jdbc/mysql-connector-java-5.1.47-bin.jar /opt/sqoop/lib/mysql-connector.jar \\\n && ln -s /usr/local/jdbc/mariadb-java-client-2.2.6.jar /opt/sqoop/lib/mariadb-connector.jar \\\n && ln -s /usr/local/jdbc/ojdbc7.jar /opt/sqoop/lib/ojdbc7.jar \\\n && ln -s /usr/local/jdbc/ojdbc6.jar /opt/sqoop/lib/ojdbc6.jar \\\n && ln -s /usr/local/jdbc/postgresql-42.2.5.jar /opt/sqoop/lib/postgresql-connector.jar\n#  Flume\nENV FLUME_VERSION=\"1.8.0\" \\\n    FLUME_HOME=\"/opt/flume\" \\\n    PATH=\"$PATH:$FLUME_HOME/bin\" \\\n    CLASSPATH=\"$CLASSPATH:$FLUME_HOME/lib/*\"\nADD flume-env.sh /opt/flume/conf/flume-env.sh\nRUN curl http://ftp.unicamp.br/pub/apache/flume/${FLUME_VERSION}/apache-flume-${FLUME_VERSION}-bin.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/apache-flume-${FLUME_VERSION}-bin/docs \\\n && ln -s /usr/local/apache-flume-${FLUME_VERSION}-bin/ /opt/flume\n#  Mahout\nENV MAHOUT_VERSION=\"0.13.0\" \\\n    MAHOUT_HOME=\"/opt/mahout\" \\\n    PATH=\"$PATH:$MAHOUT_HOME/bin\"\nADD start.sh /etc/start.sh\nRUN curl http://ftp.unicamp.br/pub/apache/mahout/${MAHOUT_VERSION}/apache-mahout-distribution-${MAHOUT_VERSION}.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/apache-mahout-distribution-${MAHOUT_VERSION}/docs \\\n && ln -s /usr/local/apache-mahout-distribution-${MAHOUT_VERSION}/ /opt/mahout \\\n && chmod +x /etc/start.sh\n#  Bash colors\nRUN sed -i '/PS1/d' $HOME/.bashrc \\\n && echo 'export PS1=\"${RESET}[${RED}\\u${RESET}@${YELLOW}\\h${RESET}:${BLUE}\\w${RESET}]# ${RESET}\"' >> $HOME/.bashrc\n#  HBase ports\nEXPOSE 60010/tcp 60030/tcp\n","injectedSmells":[],"originalDockerfileHash":"2a8f1e3727edd5a73383dbf01ca9e6d8","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM izone/hadoop:julia\nMAINTAINER Leonardo Loures <luvres@hotmail.com>\n#   Zookeeper\nENV ZOOKEEPER_VERSION=\"3.4.13\" \\\n    ZOOKEEPER_HOME=\"/opt/zookeeper\" \\\n    PATH=\"$PATH:$ZOOKEEPER_HOME/bin\"\nADD zoo.cfg /opt/zookeeper/conf/zoo.cfg\nRUN curl http://ftp.unicamp.br/pub/apache/zookeeper/zookeeper-${ZOOKEEPER_VERSION}/zookeeper-${ZOOKEEPER_VERSION}.tar.gz | tar -xzf - -C /usr/local/ \\\n && ln -s /usr/local/zookeeper-${ZOOKEEPER_VERSION}/ /opt/zookeeper \\\n && mkdir /opt/zookeeper/data\n#   HBase\nENV HBASE_VERSION=\"2.1.0\" \\\n    HBASE_HOME=\"/opt/hbase\" \\\n    PATH=\"$PATH:$HBASE_HOME/bin\"\nADD hbase-env.sh $HBASE_HOME/conf/hbase-env.sh\nADD hbase-site.xml $HBASE_HOME/conf/hbase-site.xml\nRUN curl http://ftp.unicamp.br/pub/apache/hbase/${HBASE_VERSION}/hbase-${HBASE_VERSION}-bin.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/hbase-${HBASE_VERSION}/docs \\\n && ln -s /usr/local/hbase-${HBASE_VERSION}/ /opt/hbase\n#   Hive\nENV HIVE_VERSION=\"2.3.3\" \\\n    HIVE_HOME=\"/opt/hive\" \\\n    PATH=\"$PATH:$HIVE_HOME/bin\" \\\n    CLASSPATH=\"$CLASSPATH:$HADOOP_HOME/lib/*:.\" \\\n    CLASSPATH=\"$CLASSPATH:$HIVE_HOME/lib/*:.\"\nADD hive-env.sh $HIVE_HOME/conf/hive-env.sh\nADD hive-default.xml $HIVE_HOME/conf/hive-default.xml\nRUN curl http://ftp.unicamp.br/pub/apache/hive/hive-${HIVE_VERSION}/apache-hive-${HIVE_VERSION}-bin.tar.gz | tar -xzf - -C /usr/local/ \\\n && ln -s /usr/local/apache-hive-${HIVE_VERSION}-bin/ /opt/hive\n#   Pig\nENV PIG_VERSION=\"0.17.0\" \\\n    PIG_HOME=\"/opt/pig\" \\\n    PATH=\"$PATH:$PIG_HOME/bin\" \\\n    PIG_CLASSPATH=\"$HADOOP_HOME/conf\"\nRUN curl http://ftp.unicamp.br/pub/apache/pig/pig-${PIG_VERSION}/pig-${PIG_VERSION}.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/pig-${PIG_VERSION}/docs \\\n && ln -s /usr/local/pig-${PIG_VERSION}/ /opt/pig\n#   Sqoop\nENV SQOOP_VERSION=\"1.4.7\" \\\n    SQOOP_HOME=\"/opt/sqoop\" \\\n    PATH=\"$PATH:$SQOOP_HOME/bin\" \\\n    ACCUMULO_HOME=\"/opt/sqoop/accumulo\" \\\n    HCAT_HOME=\"/opt/sqoop/hcatalog\"\nADD sqoop-env.sh /opt/sqoop/conf/sqoop-env.sh\nRUN curl http://ftp.unicamp.br/pub/apache/sqoop/${SQOOP_VERSION}/sqoop-${SQOOP_VERSION}.bin__hadoop-2.6.0.tar.gz | tar -xzf - -C /usr/local/ \\\n && ln -s /usr/local/sqoop-${SQOOP_VERSION}.bin__hadoop-2.6.0-alpha/ /opt/sqoop \\\n && mkdir /opt/sqoop/hcatalog /opt/sqoop/accumulo \\\n && mkdir -p /opt/sqoop/lib \\\n && ln -s /usr/local/jdbc/mysql-connector-java-5.1.47-bin.jar /opt/sqoop/lib/mysql-connector.jar \\\n && ln -s /usr/local/jdbc/mariadb-java-client-2.2.6.jar /opt/sqoop/lib/mariadb-connector.jar \\\n && ln -s /usr/local/jdbc/ojdbc7.jar /opt/sqoop/lib/ojdbc7.jar \\\n && ln -s /usr/local/jdbc/ojdbc6.jar /opt/sqoop/lib/ojdbc6.jar \\\n && ln -s /usr/local/jdbc/postgresql-42.2.5.jar /opt/sqoop/lib/postgresql-connector.jar\n#   Flume\nENV FLUME_VERSION=\"1.8.0\" \\\n    FLUME_HOME=\"/opt/flume\" \\\n    PATH=\"$PATH:$FLUME_HOME/bin\" \\\n    CLASSPATH=\"$CLASSPATH:$FLUME_HOME/lib/*\"\nADD flume-env.sh /opt/flume/conf/flume-env.sh\nRUN curl http://ftp.unicamp.br/pub/apache/flume/${FLUME_VERSION}/apache-flume-${FLUME_VERSION}-bin.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/apache-flume-${FLUME_VERSION}-bin/docs \\\n && ln -s /usr/local/apache-flume-${FLUME_VERSION}-bin/ /opt/flume\n#   Mahout\nENV MAHOUT_VERSION=\"0.13.0\" \\\n    MAHOUT_HOME=\"/opt/mahout\" \\\n    PATH=\"$PATH:$MAHOUT_HOME/bin\"\nADD start.sh /etc/start.sh\nRUN curl http://ftp.unicamp.br/pub/apache/mahout/${MAHOUT_VERSION}/apache-mahout-distribution-${MAHOUT_VERSION}.tar.gz | tar -xzf - -C /usr/local/ \\\n && rm -fR /usr/local/apache-mahout-distribution-${MAHOUT_VERSION}/docs \\\n && ln -s /usr/local/apache-mahout-distribution-${MAHOUT_VERSION}/ /opt/mahout \\\n && chmod +x /etc/start.sh\n#   Bash colors\nRUN sed -i '/PS1/d' $HOME/.bashrc \\\n && echo 'export PS1=\"${RESET}[${RED}\\u${RESET}@${YELLOW}\\h${RESET}:${BLUE}\\w${RESET}]# ${RESET}\"' >> $HOME/.bashrc\n#   HBase ports\nEXPOSE 60010/tcp 60030/tcp\n","originalDockerfileUglifiedHash":"54b25403773aa9e343b802935e0a8c0a","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/17b07a2fa1d30888258aa1088dede49f1ed7fb8c.dockerfile"}