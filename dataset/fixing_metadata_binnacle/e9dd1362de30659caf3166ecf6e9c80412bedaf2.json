{"seed":739394132,"processedDockerfileHash":"1a851a94aa902d76ac2d53931da17b73","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:14.04\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends libjudy-dev=1.0.5-1ubuntu1 libgmp-dev=2:5.1.3+dfsg-1ubuntu1 libpcap-dev=1.5.3-2 libboost-dev=1.54.0.1ubuntu1 libboost-test-dev=1.54.0.1ubuntu1 libboost-program-options-dev=1.54.0.1ubuntu1 libboost-system-dev=1.54.0.1ubuntu1 libboost-filesystem-dev=1.54.0.1ubuntu1 libboost-thread-dev=1.54.0.1ubuntu1 libboost-test-dev=1.54.0.1ubuntu1 libevent-dev=2.0.21-stable-1ubuntu1.14.04.2 automake=1:1.14.1-2ubuntu1 libtool=2.4.2-1.7ubuntu1 flex=2.5.35-10.1ubuntu2 bison=2:3.0.2.dfsg-2 pkg-config=0.26-1ubuntu4 g++=4:4.8.2-1ubuntu6 libssl-dev=1.0.1f-1ubuntu2.27 doxygen=1.8.6-2 git=1:1.9.1-1ubuntu0.10 libedit-dev=3.1-20130712-2 libevent-dev=2.0.21-stable-1ubuntu1.14.04.2 libfreetype6-dev=2.5.2-1ubuntu2.8 libpng-dev libyaml-0-2=0.1.4-3ubuntu3.1 libbz2-dev=1.0.6-5 libnl-route-3-dev=3.2.21-1ubuntu4.1 openssl=1.0.1f-1ubuntu2.27 pkg-config=0.26-1ubuntu4 python-dev=2.7.5-5ubuntu3 python-matplotlib=1.3.1-1ubuntu5.1 python-numpy=1:1.8.2-0ubuntu0.1 python-pip=1.5.4-1ubuntu4 python-scipy=0.13.3-1build1 python-setuptools=3.3-1ubuntu2 python-yaml=3.10-4ubuntu0.1 wget=1.15-1ubuntu1.14.04.5 ethtool=1:3.13-1 vim=2:7.4.052-1ubuntu3.1 -y )\n#   install scapy\nRUN mkdir -p /tmp/scapy ; cd /tmp/scapy ; git clone https://github.com/p4lang/scapy-vxlan.git ; cd scapy-vxlan ; python setup.py install ; rm -fr /tmp/scapy\n#   install p4-hlir\nRUN mkdir -p /tmp/p4-hlir ; cd /tmp/p4-hlir ; git clone https://github.com/p4lang/p4-hlir.git ; cd p4-hlir ; python setup.py install ; rm -fr /tmp/p4-hlir\n#   install ctypesgen\nRUN mkdir -p /tmp/ctypesgen ; cd /tmp/ctypesgen ; git clone https://github.com/davidjamesca/ctypesgen.git ; cd ctypesgen ; python setup.py install ; rm -fr /tmp/ctypesgen\n#   install bmv2\nRUN mkdir -p /tmp/bm ; cd /tmp/bm ; git clone https://github.com/p4lang/behavioral-model ; cd behavioral-model ; ./install_deps.sh ; ./autogen.sh ; ./configure --with-pdfixed ; make ; make install ; ldconfig ; rm -rf /tmp/bm\n#   install p4c-bm\nRUN mkdir /tmp/p4c-bm ; cd /tmp/p4c-bm ; git clone https://github.com/p4lang/p4c-bm ; cd p4c-bm ; sudo python setup.py install ; rm -rf /tmp/p4c-bm\n#   install p4ofagent\nRUN mkdir /tmp/p4ofagent ; cd /tmp/p4ofagent ; git clone https://github.com/p4lang/p4ofagent ; cd p4ofagent ; git submodule update --init ; cd submodules/indigo/ ; find -name \".gitmodules\" -type f -exec sed -i 's/git@github.com:/https:\\/\\/github.com\\//' {}\n#   build switch\nRUN git clone https://github.com/p4lang/switch ; cd switch ; git submodule update --init --recursive ; ./autogen.sh ; ./configure --with-bmv2 --with-of ; make\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:14.04\nRUN apt-get update\nRUN apt-get install libjudy-dev libgmp-dev libpcap-dev libboost-dev libboost-test-dev libboost-program-options-dev libboost-system-dev libboost-filesystem-dev libboost-thread-dev libboost-test-dev libevent-dev automake libtool flex bison pkg-config g++ libssl-dev doxygen git libedit-dev libevent-dev libfreetype6-dev libpng-dev libyaml-0-2 libbz2-dev libnl-route-3-dev openssl pkg-config python-dev python-matplotlib python-numpy python-pip python-scipy python-setuptools python-yaml wget ethtool vim -y\n#  install scapy\nRUN mkdir -p /tmp/scapy ; cd /tmp/scapy ; git clone https://github.com/p4lang/scapy-vxlan.git ; cd scapy-vxlan ; python setup.py install ; rm -fr /tmp/scapy\n#  install p4-hlir\nRUN mkdir -p /tmp/p4-hlir ; cd /tmp/p4-hlir ; git clone https://github.com/p4lang/p4-hlir.git ; cd p4-hlir ; python setup.py install ; rm -fr /tmp/p4-hlir\n#  install ctypesgen\nRUN mkdir -p /tmp/ctypesgen ; cd /tmp/ctypesgen ; git clone https://github.com/davidjamesca/ctypesgen.git ; cd ctypesgen ; python setup.py install ; rm -fr /tmp/ctypesgen\n#  install bmv2\nRUN mkdir -p /tmp/bm ; cd /tmp/bm ; git clone https://github.com/p4lang/behavioral-model ; cd behavioral-model ; ./install_deps.sh ; ./autogen.sh ; ./configure --with-pdfixed ; make ; make install ; ldconfig ; rm -rf /tmp/bm\n#  install p4c-bm\nRUN mkdir /tmp/p4c-bm ; cd /tmp/p4c-bm ; git clone https://github.com/p4lang/p4c-bm ; cd p4c-bm ; sudo python setup.py install ; rm -rf /tmp/p4c-bm\n#  install p4ofagent\nRUN mkdir /tmp/p4ofagent ; cd /tmp/p4ofagent ; git clone https://github.com/p4lang/p4ofagent ; cd p4ofagent ; git submodule update --init ; cd submodules/indigo/ ; find -name \".gitmodules\" -type f -exec sed -i 's/git@github.com:/https:\\/\\/github.com\\//' {} ; ; git submodule update --init ; cd submodules/bigcode/ ; find -name \".gitmodules\" -type f -exec sed -i 's/git@github.com:/https:\\/\\/github.com\\//' {} ; ; cd ../../../../ ; ./autogen.sh ; ./configure ; make p4ofagent CPPFLAGS=-D_BMV2_ ; make install CPPFLAGS=-D_BMV2_ ; rm -rf /tmp/p4ofagent\n#  build switch\nRUN git clone https://github.com/p4lang/switch ; cd switch ; git submodule update --init --recursive ; ./autogen.sh ; ./configure --with-bmv2 --with-of ; make\n","injectedSmells":[],"originalDockerfileHash":"e1f954248e89a48cbd9fabb72c124254","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:14.04\nRUN apt-get update\nRUN apt-get install libjudy-dev libgmp-dev libpcap-dev libboost-dev libboost-test-dev libboost-program-options-dev libboost-system-dev libboost-filesystem-dev libboost-thread-dev libboost-test-dev libevent-dev automake libtool flex bison pkg-config g++ libssl-dev doxygen git libedit-dev libevent-dev libfreetype6-dev libpng-dev libyaml-0-2 libbz2-dev libnl-route-3-dev openssl pkg-config python-dev python-matplotlib python-numpy python-pip python-scipy python-setuptools python-yaml wget ethtool vim -y\n#   install scapy\nRUN mkdir -p /tmp/scapy ; cd /tmp/scapy ; git clone https://github.com/p4lang/scapy-vxlan.git ; cd scapy-vxlan ; python setup.py install ; rm -fr /tmp/scapy\n#   install p4-hlir\nRUN mkdir -p /tmp/p4-hlir ; cd /tmp/p4-hlir ; git clone https://github.com/p4lang/p4-hlir.git ; cd p4-hlir ; python setup.py install ; rm -fr /tmp/p4-hlir\n#   install ctypesgen\nRUN mkdir -p /tmp/ctypesgen ; cd /tmp/ctypesgen ; git clone https://github.com/davidjamesca/ctypesgen.git ; cd ctypesgen ; python setup.py install ; rm -fr /tmp/ctypesgen\n#   install bmv2\nRUN mkdir -p /tmp/bm ; cd /tmp/bm ; git clone https://github.com/p4lang/behavioral-model ; cd behavioral-model ; ./install_deps.sh ; ./autogen.sh ; ./configure --with-pdfixed ; make ; make install ; ldconfig ; rm -rf /tmp/bm\n#   install p4c-bm\nRUN mkdir /tmp/p4c-bm ; cd /tmp/p4c-bm ; git clone https://github.com/p4lang/p4c-bm ; cd p4c-bm ; sudo python setup.py install ; rm -rf /tmp/p4c-bm\n#   install p4ofagent\nRUN mkdir /tmp/p4ofagent ; cd /tmp/p4ofagent ; git clone https://github.com/p4lang/p4ofagent ; cd p4ofagent ; git submodule update --init ; cd submodules/indigo/ ; find -name \".gitmodules\" -type f -exec sed -i 's/git@github.com:/https:\\/\\/github.com\\//' {}\n#   build switch\nRUN git clone https://github.com/p4lang/switch ; cd switch ; git submodule update --init --recursive ; ./autogen.sh ; ./configure --with-bmv2 --with-of ; make\n","originalDockerfileUglifiedHash":"b19d3fc545a9e1ba14d3f7320d18930e","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/e9dd1362de30659caf3166ecf6e9c80412bedaf2.dockerfile"}