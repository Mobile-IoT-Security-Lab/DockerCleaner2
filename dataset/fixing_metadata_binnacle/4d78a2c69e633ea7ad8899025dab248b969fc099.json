{"seed":1740662975,"processedDockerfileHash":"4b9b14b21658a21af52d2f0e7cc926eb","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:18.04\nUSER root\nENV PATH=\"${PATH}:/root/.asdf/shims:/root/.asdf/bin\"\nRUN mkdir -p /root/app\nWORKDIR /root/app\n#   prerequisite packages\nRUN apt-get update -qq \\\n && apt-get upgrade -qq -y \\\n && (apt-get update ;apt-get install --no-install-recommends automake=1:1.15.1-3ubuntu2 autoconf=2.69-11 pkg-config=0.29.1-0ubuntu2 gcc-6=6.5.0-2ubuntu1~18.04 build-essential=12.4ubuntu1 bison=2:3.0.4.dfsg-1build1 libedit-dev=3.1-20170329-1 libreadline-dev=7.0-3 zlib1g-dev=1:1.2.11.dfsg-0ubuntu2.2 libgdbm-dev=1.14.1-6 libcurl4-openssl-dev=7.58.0-2ubuntu3.24 libpng-dev=1.6.34-1ubuntu0.18.04.2 libssl-dev=1.1.1-1ubuntu2.1~18.04.21 libyaml-dev=0.1.7-2ubuntu3 libxslt-dev libffi-dev=3.2.1-8 libgmp3-dev=2:6.1.2+dfsg-2ubuntu0.1 libtool=2.4.6-2 libncurses-dev libssh-dev=0.8.0~20170825.94fa1e38-1ubuntu0.7 unixodbc-dev=2.3.4-1.1ubuntu3 libzip-dev=1.1.2-1.1 libbz2-dev=1.0.6-8.1ubuntu0.2 libevent-dev=2.1.8-stable-4build1 libicu-dev=60.2-3ubuntu3.2 liblzma-dev=5.2.2-1.3ubuntu0.1 apt-transport-https=1.6.14 ca-certificates=20211016ubuntu0.18.04.1 gnupg2=2.2.4-1ubuntu1.6 software-properties-common=0.96.24.32.20 bubblewrap=0.2.1-1ubuntu0.1 xorg-dev=1:7.7+19ubuntu7.1 vim=2:8.0.1453-1ubuntu1.11 git=1:2.17.1-1ubuntu0.17 curl=7.58.0-2ubuntu3.24 wget=1.19.4-1ubuntu2.2 time=1.7-25.1build1 unzip=6.0-21ubuntu1.2 -qq -y ) \\\n && apt-get clean -qq -y \\\n && apt-get autoclean -qq -y \\\n && apt-get autoremove -qq -y \\\n && rm -rf /var/cache/debconf/*-old \\\n && rm -rf /var/lib/apt/lists/* \\\n && rm -rf /usr/share/doc/*\n#   D\nRUN curl -fsS https://dlang.org/install.sh | bash -s ldc\n#   Mono\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF\nRUN echo \"deb https://download.mono-project.com/repo/ubuntu stable-bionic main\" | tee /etc/apt/sources.list.d/mono-official-stable.list\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends mono-devel=4.6.2.7+dfsg-1ubuntu1 -qq -y )\n#   Pony\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E04F0923 B3B48BDA\nRUN add-apt-repository \"deb https://dl.bintray.com/pony-language/ponylang-debian $( lsb_release -cs ;) main\"\nRUN (apt-get update ;apt-get install --no-install-recommends ponyc -qq -y )\n#  Swift\nRUN wget -q -O - https://swift.org/keys/all-keys.asc | gpg --import -\nRUN wget https://swift.org/builds/swift-5.0.1-release/ubuntu1804/swift-5.0.1-RELEASE/swift-5.0.1-RELEASE-ubuntu18.04.tar.gz\nRUN tar xzf swift-5.0.1-RELEASE-ubuntu18.04.tar.gz\nRUN mv swift-5.0.1-RELEASE-ubuntu18.04 /usr/share/swift\nRUN rm swift-5.0.1-RELEASE-ubuntu18.04.tar.gz\nRUN echo \"export PATH=/usr/share/swift/usr/bin:$PATH\" >> ~/.bashrc\n#  Powershell\nRUN wget -q https://packages.microsoft.com/config/ubuntu/18.04/packages-microsoft-prod.deb\nRUN dpkg -i packages-microsoft-prod.deb\nRUN :\nRUN add-apt-repository universe\nRUN (apt-get update ;apt-get install --no-install-recommends powershell -y )\n#   apt languages\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -qq -y cython fp-compiler gfortran ocaml perl6 sbcl tcl guile-2.2 luajit\n#   asdf languages\nRUN git clone https://github.com/asdf-vm/asdf.git /root/.asdf --branch v0.7.2\nRUN chmod 755 $HOME/.asdf/asdf.sh\nRUN echo \"$HOME/.asdf/asdf.sh\" >> ~/.bashrc\nRUN asdf update\nRUN asdf plugin-add java\nRUN asdf plugin-add ruby\nRUN asdf plugin-add clojure\nRUN asdf plugin-add crystal\nRUN asdf plugin-add dart https://github.com/baysao/asdf-dart.git\nRUN asdf plugin-add dotnet-core\nRUN asdf plugin-add erlang\nRUN asdf plugin-add elixir\nRUN asdf plugin-add elm\nRUN asdf plugin-add golang\nRUN asdf plugin-add haskell\nRUN asdf plugin-add julia\nRUN asdf plugin-add lua\nRUN asdf plugin-add nim\nRUN asdf plugin-add nodejs https://github.com/asdf-vm/asdf-nodejs.git \\\n && bash ~/.asdf/plugins/nodejs/bin/import-release-team-keyring\nRUN asdf plugin-add perl https://github.com/BeijingPM/asdf-perl.git\nRUN asdf plugin-add php\nRUN asdf plugin-add python\nRUN asdf plugin-add rust\nRUN asdf plugin-add R\nCOPY .tool-versions /root/.\nRUN asdf install\nRUN asdf install\nRUN asdf install\nCOPY . /root/app\nCMD ./run.sh\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:18.04\nUSER root\nENV PATH=\"${PATH}:/root/.asdf/shims:/root/.asdf/bin\"\nRUN mkdir -p /root/app\nWORKDIR /root/app\n#  prerequisite packages\nRUN apt-get update -qq \\\n && apt-get upgrade -qq -y \\\n && apt-get install automake autoconf pkg-config gcc-6 build-essential bison libedit-dev libreadline-dev zlib1g-dev libgdbm-dev libcurl4-openssl-dev libpng-dev libssl-dev libyaml-dev libxslt-dev libffi-dev libgmp3-dev libtool libncurses-dev libssh-dev unixodbc-dev libzip-dev libbz2-dev libevent-dev libicu-dev liblzma-dev apt-transport-https ca-certificates gnupg2 software-properties-common bubblewrap xorg-dev vim git curl wget time unzip -qq -y \\\n && apt-get clean -qq -y \\\n && apt-get autoclean -qq -y \\\n && apt-get autoremove -qq -y \\\n && rm -rf /var/cache/debconf/*-old \\\n && rm -rf /var/lib/apt/lists/* \\\n && rm -rf /usr/share/doc/*\n#  D\nRUN curl -fsS https://dlang.org/install.sh | bash -s ldc\n#  Mono\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF\nRUN echo \"deb https://download.mono-project.com/repo/ubuntu stable-bionic main\" | tee /etc/apt/sources.list.d/mono-official-stable.list\nRUN apt-get update\nRUN apt-get install mono-devel -qq -y\n#  Pony\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E04F0923 B3B48BDA\nRUN add-apt-repository \"deb https://dl.bintray.com/pony-language/ponylang-debian $( lsb_release -cs ;) main\"\nRUN apt-get install ponyc -qq -y\n# Swift\nRUN wget -q -O - https://swift.org/keys/all-keys.asc | gpg --import -\nRUN wget https://swift.org/builds/swift-5.0.1-release/ubuntu1804/swift-5.0.1-RELEASE/swift-5.0.1-RELEASE-ubuntu18.04.tar.gz\nRUN tar xzf swift-5.0.1-RELEASE-ubuntu18.04.tar.gz\nRUN mv swift-5.0.1-RELEASE-ubuntu18.04 /usr/share/swift\nRUN rm swift-5.0.1-RELEASE-ubuntu18.04.tar.gz\nRUN echo \"export PATH=/usr/share/swift/usr/bin:$PATH\" >> ~/.bashrc\n# Powershell\nRUN wget -q https://packages.microsoft.com/config/ubuntu/18.04/packages-microsoft-prod.deb\nRUN dpkg -i packages-microsoft-prod.deb\nRUN apt-get update\nRUN add-apt-repository universe\nRUN apt-get install powershell -y\n#  apt languages\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -qq -y cython fp-compiler gfortran ocaml perl6 sbcl tcl guile-2.2 luajit\n#  asdf languages\nRUN git clone https://github.com/asdf-vm/asdf.git /root/.asdf --branch v0.7.2\nRUN chmod 755 $HOME/.asdf/asdf.sh\nRUN echo \"$HOME/.asdf/asdf.sh\" >> ~/.bashrc\nRUN asdf update\nRUN asdf plugin-add java\nRUN asdf plugin-add ruby\nRUN asdf plugin-add clojure\nRUN asdf plugin-add crystal\nRUN asdf plugin-add dart https://github.com/baysao/asdf-dart.git\nRUN asdf plugin-add dotnet-core\nRUN asdf plugin-add erlang\nRUN asdf plugin-add elixir\nRUN asdf plugin-add elm\nRUN asdf plugin-add golang\nRUN asdf plugin-add haskell\nRUN asdf plugin-add julia\nRUN asdf plugin-add lua\nRUN asdf plugin-add nim\nRUN asdf plugin-add nodejs https://github.com/asdf-vm/asdf-nodejs.git \\\n && bash ~/.asdf/plugins/nodejs/bin/import-release-team-keyring\nRUN asdf plugin-add perl https://github.com/BeijingPM/asdf-perl.git\nRUN asdf plugin-add php\nRUN asdf plugin-add python\nRUN asdf plugin-add rust\nRUN asdf plugin-add R\nCOPY .tool-versions /root/.\nRUN asdf install\nRUN asdf install\nRUN asdf install\nCOPY . /root/app\nCMD ./run.sh\n","injectedSmells":[],"originalDockerfileHash":"673f74339bbd966f28329a6467c068bf","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:18.04\nUSER root\nENV PATH=\"${PATH}:/root/.asdf/shims:/root/.asdf/bin\"\nRUN mkdir -p /root/app\nWORKDIR /root/app\n#   prerequisite packages\nRUN apt-get update -qq \\\n && apt-get upgrade -qq -y \\\n && apt-get install automake autoconf pkg-config gcc-6 build-essential bison libedit-dev libreadline-dev zlib1g-dev libgdbm-dev libcurl4-openssl-dev libpng-dev libssl-dev libyaml-dev libxslt-dev libffi-dev libgmp3-dev libtool libncurses-dev libssh-dev unixodbc-dev libzip-dev libbz2-dev libevent-dev libicu-dev liblzma-dev apt-transport-https ca-certificates gnupg2 software-properties-common bubblewrap xorg-dev vim git curl wget time unzip -qq -y \\\n && apt-get clean -qq -y \\\n && apt-get autoclean -qq -y \\\n && apt-get autoremove -qq -y \\\n && rm -rf /var/cache/debconf/*-old \\\n && rm -rf /var/lib/apt/lists/* \\\n && rm -rf /usr/share/doc/*\n#   D\nRUN curl -fsS https://dlang.org/install.sh | bash -s ldc\n#   Mono\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF\nRUN echo \"deb https://download.mono-project.com/repo/ubuntu stable-bionic main\" | tee /etc/apt/sources.list.d/mono-official-stable.list\nRUN apt-get update\nRUN apt-get install mono-devel -qq -y\n#   Pony\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E04F0923 B3B48BDA\nRUN add-apt-repository \"deb https://dl.bintray.com/pony-language/ponylang-debian $( lsb_release -cs ;) main\"\nRUN apt-get install ponyc -qq -y\n#  Swift\nRUN wget -q -O - https://swift.org/keys/all-keys.asc | gpg --import -\nRUN wget https://swift.org/builds/swift-5.0.1-release/ubuntu1804/swift-5.0.1-RELEASE/swift-5.0.1-RELEASE-ubuntu18.04.tar.gz\nRUN tar xzf swift-5.0.1-RELEASE-ubuntu18.04.tar.gz\nRUN mv swift-5.0.1-RELEASE-ubuntu18.04 /usr/share/swift\nRUN rm swift-5.0.1-RELEASE-ubuntu18.04.tar.gz\nRUN echo \"export PATH=/usr/share/swift/usr/bin:$PATH\" >> ~/.bashrc\n#  Powershell\nRUN wget -q https://packages.microsoft.com/config/ubuntu/18.04/packages-microsoft-prod.deb\nRUN dpkg -i packages-microsoft-prod.deb\nRUN apt-get update\nRUN add-apt-repository universe\nRUN apt-get install powershell -y\n#   apt languages\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -qq -y cython fp-compiler gfortran ocaml perl6 sbcl tcl guile-2.2 luajit\n#   asdf languages\nRUN git clone https://github.com/asdf-vm/asdf.git /root/.asdf --branch v0.7.2\nRUN chmod 755 $HOME/.asdf/asdf.sh\nRUN echo \"$HOME/.asdf/asdf.sh\" >> ~/.bashrc\nRUN asdf update\nRUN asdf plugin-add java\nRUN asdf plugin-add ruby\nRUN asdf plugin-add clojure\nRUN asdf plugin-add crystal\nRUN asdf plugin-add dart https://github.com/baysao/asdf-dart.git\nRUN asdf plugin-add dotnet-core\nRUN asdf plugin-add erlang\nRUN asdf plugin-add elixir\nRUN asdf plugin-add elm\nRUN asdf plugin-add golang\nRUN asdf plugin-add haskell\nRUN asdf plugin-add julia\nRUN asdf plugin-add lua\nRUN asdf plugin-add nim\nRUN asdf plugin-add nodejs https://github.com/asdf-vm/asdf-nodejs.git \\\n && bash ~/.asdf/plugins/nodejs/bin/import-release-team-keyring\nRUN asdf plugin-add perl https://github.com/BeijingPM/asdf-perl.git\nRUN asdf plugin-add php\nRUN asdf plugin-add python\nRUN asdf plugin-add rust\nRUN asdf plugin-add R\nCOPY .tool-versions /root/.\nRUN asdf install\nRUN asdf install\nRUN asdf install\nCOPY . /root/app\nCMD ./run.sh\n","originalDockerfileUglifiedHash":"50cfbf50bff651b7a97c25d6314466ac","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/4d78a2c69e633ea7ad8899025dab248b969fc099.dockerfile"}