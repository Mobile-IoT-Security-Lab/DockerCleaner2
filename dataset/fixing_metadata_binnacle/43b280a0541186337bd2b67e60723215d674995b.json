{"seed":2467529777,"processedDockerfileHash":"e0fbb6b39f8d4cc483f30da8f2d8a90a","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:xenial\nMAINTAINER CodaLab Team \"codalab.worksheets@gmail.com\"\n#   Begin common steps (Must be the same in the CPU and GPU images)\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https=1.2.35 iputils-ping=3:20121221-5ubuntu2 git=1:2.7.4-0ubuntu1.10 python2.7=2.7.12-1ubuntu0~16.04.18 python-pip=8.1.1-2ubuntu0.6 python-dev=2.7.12-1~16.04 python-software-properties=0.96.20.10 python-tk=2.7.12-1~16.04 software-properties-common=0.96.20.10 build-essential=12.1ubuntu2 cmake=3.5.1-1ubuntu3 libhdf5-dev=1.8.16+docs-4ubuntu1.1 swig=3.0.8-0ubuntu3 wget=1.17.1-1ubuntu1.5 curl=7.47.0-1ubuntu2.19 -y\n#  # Python 3.6\nRUN add-apt-repository ppa:deadsnakes/ppa \\\n && apt-get update -y \\\n && apt-get install --no-install-recommends python3.6 python3.6-venv python3.6-dev python3-software-properties=0.96.20.10 -y\nRUN curl https://bootstrap.pypa.io/get-pip.py | python3.6\n#  ## Without this Python thinks we're ASCII and unicode chars fail\nENV LANG=\"C.UTF-8\"\n#  # Oracle JDK 11\nRUN echo oracle-java11-installer shared/accepted-oracle-license-v1-2 select true | debconf-set-selections \\\n && add-apt-repository -y ppa:linuxuprising/java \\\n && apt-get update \\\n && apt-get install --no-install-recommends oracle-java11-installer -y \\\n && apt-get install --no-install-recommends oracle-java11-set-default -y \\\n && rm -rf /var/cache/oracle-jdk11-installer\nENV SCALA_VERSION=\"2.12.6\"\n#  # Scala\nRUN wget http://scala-lang.org/files/archive/scala-$SCALA_VERSION.deb \\\n && dpkg -i scala-$SCALA_VERSION.deb \\\n && echo \"deb https://dl.bintray.com/sbt/debian /\" | tee -a /etc/apt/sources.list.d/sbt.list \\\n && apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2EE0EA64E40A89B84B2DF73499E82A75642AC823 \\\n && apt-get update -y \\\n && apt-get install --no-install-recommends sbt -y \\\n && apt-get clean \\\n && apt-get autoremove \\\n && rm -rf /var/lib/apt/lists/*\nENV SCALA_HOME=\"/usr/share/java\"\nRUN pip2 install -U pip\nRUN pip2 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python -m spacy download en\n#  # Set up python3.6 environment\nRUN pip3 install -U pip\nRUN pip3 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python3.6 -m spacy download en\n#   End common steps\n#   CPU-specific commands\nRUN pip2 install -U tensorflow==1.12.0 tensorboard keras\nRUN pip2 install -U http://download.pytorch.org/whl/cpu/torch-0.4.1-cp27-cp27mu-linux_x86_64.whl || pip install http://download.pytorch.org/whl/cpu/torch-0.4.1-cp27-cp27m-linux_x86_64.whl -U\nRUN pip2 install torchvision\nRUN pip3 install -U tensorflow==1.12.0 tensorboard keras\nRUN pip3 install http://download.pytorch.org/whl/cpu/torch-0.4.1-cp36-cp36m-linux_x86_64.whl\nRUN pip3 install torchvision\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:xenial\nMAINTAINER CodaLab Team \"codalab.worksheets@gmail.com\"\n#  Begin common steps (Must be the same in the CPU and GPU images)\nRUN apt-get update \\\n && apt-get install apt-transport-https iputils-ping git python2.7 python-pip python-dev python-software-properties python-tk software-properties-common build-essential cmake libhdf5-dev swig wget curl -y\n# # Python 3.6\nRUN add-apt-repository ppa:deadsnakes/ppa \\\n && apt-get update -y \\\n && apt-get install python3.6 python3.6-venv python3.6-dev python3-software-properties -y\nRUN curl https://bootstrap.pypa.io/get-pip.py | python3.6\n# ## Without this Python thinks we're ASCII and unicode chars fail\nENV LANG=\"C.UTF-8\"\n# # Oracle JDK 11\nRUN echo oracle-java11-installer shared/accepted-oracle-license-v1-2 select true | debconf-set-selections \\\n && add-apt-repository -y ppa:linuxuprising/java \\\n && apt-get update \\\n && apt-get install oracle-java11-installer -y \\\n && apt-get install oracle-java11-set-default -y \\\n && rm -rf /var/cache/oracle-jdk11-installer\nENV SCALA_VERSION=\"2.12.6\"\n# # Scala\nRUN wget http://scala-lang.org/files/archive/scala-$SCALA_VERSION.deb \\\n && dpkg -i scala-$SCALA_VERSION.deb \\\n && echo \"deb https://dl.bintray.com/sbt/debian /\" | tee -a /etc/apt/sources.list.d/sbt.list \\\n && apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2EE0EA64E40A89B84B2DF73499E82A75642AC823 \\\n && apt-get update -y \\\n && apt-get install sbt -y \\\n && apt-get clean \\\n && apt-get autoremove \\\n && rm -rf /var/lib/apt/lists/*\nENV SCALA_HOME=\"/usr/share/java\"\nRUN pip2 install -U pip\nRUN pip2 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python -m spacy download en\n# # Set up python3.6 environment\nRUN pip3 install -U pip\nRUN pip3 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python3.6 -m spacy download en\n#  End common steps\n#  CPU-specific commands\nRUN pip2 install -U tensorflow==1.12.0 tensorboard keras\nRUN pip2 install -U http://download.pytorch.org/whl/cpu/torch-0.4.1-cp27-cp27mu-linux_x86_64.whl || pip install http://download.pytorch.org/whl/cpu/torch-0.4.1-cp27-cp27m-linux_x86_64.whl -U\nRUN pip2 install torchvision\nRUN pip3 install -U tensorflow==1.12.0 tensorboard keras\nRUN pip3 install http://download.pytorch.org/whl/cpu/torch-0.4.1-cp36-cp36m-linux_x86_64.whl\nRUN pip3 install torchvision\n","injectedSmells":[],"originalDockerfileHash":"e6771d4bc5fbfe96a336f0d593138431","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:xenial\nMAINTAINER CodaLab Team \"codalab.worksheets@gmail.com\"\n#   Begin common steps (Must be the same in the CPU and GPU images)\nRUN apt-get update \\\n && apt-get install apt-transport-https iputils-ping git python2.7 python-pip python-dev python-software-properties python-tk software-properties-common build-essential cmake libhdf5-dev swig wget curl -y\n#  # Python 3.6\nRUN add-apt-repository ppa:deadsnakes/ppa \\\n && apt-get update -y \\\n && apt-get install python3.6 python3.6-venv python3.6-dev python3-software-properties -y\nRUN curl https://bootstrap.pypa.io/get-pip.py | python3.6\n#  ## Without this Python thinks we're ASCII and unicode chars fail\nENV LANG=\"C.UTF-8\"\n#  # Oracle JDK 11\nRUN echo oracle-java11-installer shared/accepted-oracle-license-v1-2 select true | debconf-set-selections \\\n && add-apt-repository -y ppa:linuxuprising/java \\\n && apt-get update \\\n && apt-get install oracle-java11-installer -y \\\n && apt-get install oracle-java11-set-default -y \\\n && rm -rf /var/cache/oracle-jdk11-installer\nENV SCALA_VERSION=\"2.12.6\"\n#  # Scala\nRUN wget http://scala-lang.org/files/archive/scala-$SCALA_VERSION.deb \\\n && dpkg -i scala-$SCALA_VERSION.deb \\\n && echo \"deb https://dl.bintray.com/sbt/debian /\" | tee -a /etc/apt/sources.list.d/sbt.list \\\n && apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2EE0EA64E40A89B84B2DF73499E82A75642AC823 \\\n && apt-get update -y \\\n && apt-get install sbt -y \\\n && apt-get clean \\\n && apt-get autoremove \\\n && rm -rf /var/lib/apt/lists/*\nENV SCALA_HOME=\"/usr/share/java\"\nRUN pip2 install -U pip\nRUN pip2 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python -m spacy download en\n#  # Set up python3.6 environment\nRUN pip3 install -U pip\nRUN pip3 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python3.6 -m spacy download en\n#   End common steps\n#   CPU-specific commands\nRUN pip2 install -U tensorflow==1.12.0 tensorboard keras\nRUN pip2 install -U http://download.pytorch.org/whl/cpu/torch-0.4.1-cp27-cp27mu-linux_x86_64.whl || pip install http://download.pytorch.org/whl/cpu/torch-0.4.1-cp27-cp27m-linux_x86_64.whl -U\nRUN pip2 install torchvision\nRUN pip3 install -U tensorflow==1.12.0 tensorboard keras\nRUN pip3 install http://download.pytorch.org/whl/cpu/torch-0.4.1-cp36-cp36m-linux_x86_64.whl\nRUN pip3 install torchvision\n","originalDockerfileUglifiedHash":"7943db687fa7e4286d9aa4f65374d6fe","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/43b280a0541186337bd2b67e60723215d674995b.dockerfile"}