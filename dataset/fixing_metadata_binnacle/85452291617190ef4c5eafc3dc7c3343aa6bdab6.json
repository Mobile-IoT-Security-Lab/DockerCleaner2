{"seed":3652674173,"processedDockerfileHash":"7b5231cc1254137369d5b96473c1bd05","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck"],"processedDockerfile":"FROM jare/alpine-vim:latest\n#   User config\nENV UID=\"1000\" \\\n    UNAME=\"developer\" \\\n    GID=\"1000\" \\\n    GNAME=\"developer\" \\\n    SHELL=\"/bin/bash\" \\\n    UHOME=\"/home/developer\"\n#   Used to configure YouCompleteMe\nENV GOROOT=\"/usr/lib/go\"\nENV GOBIN=\"$GOROOT/bin\"\nENV GOPATH=\"$UHOME/workspace\"\nENV PATH=\"$PATH:$GOBIN:$GOPATH/bin\"\n#   User\nRUN apk add sudo=1.9.12_p2-r1 --no-cache \\\n && mkdir -p \"${UHOME}\" \\\n && chown \"${UID}\":\"${GID}\" \"${UHOME}\" \\\n && echo \"${UNAME}:x:${UID}:${GID}:${UNAME},,,:${UHOME}:${SHELL}\" >> /etc/passwd \\\n && echo \"${UNAME}::17032:0:99999:7:::\" >> /etc/shadow \\\n && echo \"${UNAME} ALL=(ALL) NOPASSWD: ALL\" > \"/etc/sudoers.d/${UNAME}\" \\\n && chmod 0440 \"/etc/sudoers.d/${UNAME}\" \\\n && echo \"${GNAME}:x:${GID}:${UNAME}\" >> /etc/group\n#   Install Pathogen\nRUN apk add curl=7.88.1-r1 --no-cache \\\n && mkdir -p $UHOME/bundle $UHOME/.vim/autoload $UHOME/.vim_runtime/temp_dirs \\\n && curl -LSso $UHOME/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim \\\n && echo \"execute pathogen#infect('$UHOME/bundle/{}')\" > $UHOME/.vimrc \\\n && echo \"syntax on \" >> $UHOME/.vimrc \\\n && echo \"filetype plugin indent on \" >> $UHOME/.vimrc \\\n && apk del curl\n#   Vim wrapper\nCOPY run /usr/local/bin/\n#  custom .vimrc stub\nRUN mkdir -p /ext \\\n && echo \" \" > /ext/.vimrc\nCOPY .vimrc $UHOME/my.vimrc\nCOPY .bashrc $UHOME/.bashrc\n#   Vim plugins deps\nRUN apk add bash=5.2.15-r0 ctags=5.9.20221002.0-r1 curl=7.88.1-r1 git=2.38.4-r1 ncurses-terminfo=6.3_p20221119-r0 python --update \\\n && apk add build-base=0.5-r3 cmake=3.24.4-r0 go=1.19.8-r0 llvm perl=5.36.0-r0 python-dev --virtual build-deps \\\n && git clone --depth 1 https://github.com/Valloric/YouCompleteMe $UHOME/bundle/YouCompleteMe/ \\\n && cd $UHOME/bundle/YouCompleteMe \\\n && git submodule update --init --recursive \\\n && $UHOME/bundle/YouCompleteMe/install.py --gocode-completer \\\n && git clone --depth 1 https://github.com/Shougo/vimproc.vim $UHOME/bundle/vimproc.vim \\\n && cd $UHOME/bundle/vimproc.vim \\\n && make \\\n && chown $UID:$GID -R $UHOME \\\n && apk del build-deps \\\n && apk add libxt=1.2.1-r0 libx11=1.8.4-r0 libstdc++=12.2.1_git20220924-r4 \\\n && rm -rf $UHOME/bundle/YouCompleteMe/third_party/ycmd/clang_includes $UHOME/bundle/YouCompleteMe/third_party/ycmd/cpp /usr/lib/go /var/cache/* /var/log/* /var/tmp/* \\\n && mkdir /var/cache/apk\nUSER $UNAME\n#   Plugins\nRUN cd $UHOME/bundle/ \\\n && git clone --depth 1 https://github.com/pangloss/vim-javascript \\\n && git clone --depth 1 https://github.com/scrooloose/nerdcommenter \\\n && git clone --depth 1 https://github.com/godlygeek/tabular \\\n && git clone --depth 1 https://github.com/Raimondi/delimitMate \\\n && git clone --depth 1 https://github.com/nathanaelkane/vim-indent-guides \\\n && git clone --depth 1 https://github.com/groenewege/vim-less \\\n && git clone --depth 1 https://github.com/othree/html5.vim \\\n && git clone --depth 1 https://github.com/elzr/vim-json \\\n && git clone --depth 1 https://github.com/bling/vim-airline \\\n && git clone --depth 1 https://github.com/easymotion/vim-easymotion \\\n && git clone --depth 1 https://github.com/mbbill/undotree \\\n && git clone --depth 1 https://github.com/majutsushi/tagbar \\\n && git clone --depth 1 https://github.com/vim-scripts/EasyGrep \\\n && git clone --depth 1 https://github.com/jlanzarotta/bufexplorer \\\n && git clone --depth 1 https://github.com/kien/ctrlp.vim \\\n && git clone --depth 1 https://github.com/scrooloose/nerdtree \\\n && git clone --depth 1 https://github.com/jistr/vim-nerdtree-tabs \\\n && git clone --depth 1 https://github.com/scrooloose/syntastic \\\n && git clone --depth 1 https://github.com/tomtom/tlib_vim \\\n && git clone --depth 1 https://github.com/marcweber/vim-addon-mw-utils \\\n && git clone --depth 1 https://github.com/vim-scripts/taglist.vim \\\n && git clone --depth 1 https://github.com/terryma/vim-expand-region \\\n && git clone --depth 1 https://github.com/tpope/vim-fugitive \\\n && git clone --depth 1 https://github.com/airblade/vim-gitgutter \\\n && git clone --depth 1 https://github.com/fatih/vim-go \\\n && git clone --depth 1 https://github.com/plasticboy/vim-markdown \\\n && git clone --depth 1 https://github.com/michaeljsmith/vim-indent-object \\\n && git clone --depth 1 https://github.com/terryma/vim-multiple-cursors \\\n && git clone --depth 1 https://github.com/tpope/vim-repeat \\\n && git clone --depth 1 https://github.com/tpope/vim-surround \\\n && git clone --depth 1 https://github.com/vim-scripts/mru.vim \\\n && git clone --depth 1 https://github.com/vim-scripts/YankRing.vim \\\n && git clone --depth 1 https://github.com/tpope/vim-haml \\\n && git clone --depth 1 https://github.com/SirVer/ultisnips \\\n && git clone --depth 1 https://github.com/honza/vim-snippets \\\n && git clone --depth 1 https://github.com/derekwyatt/vim-scala \\\n && git clone --depth 1 https://github.com/christoomey/vim-tmux-navigator \\\n && git clone --depth 1 https://github.com/ekalinin/Dockerfile.vim \\\n && git clone --depth 1 https://github.com/altercation/vim-colors-solarized\n#   Build default .vimrc\nRUN mv -f $UHOME/.vimrc $UHOME/.vimrc~ \\\n && curl -s https://raw.githubusercontent.com/amix/vimrc/master/vimrcs/basic.vim >> $UHOME/.vimrc~ \\\n && curl -s https://raw.githubusercontent.com/amix/vimrc/master/vimrcs/extended.vim >> $UHOME/.vimrc~ \\\n && cat $UHOME/my.vimrc >> $UHOME/.vimrc~ \\\n && rm $UHOME/my.vimrc \\\n && sed -i '/colorscheme peaksea/d' $UHOME/.vimrc~\n#   Pathogen help tags generation\nRUN vim -E -c 'execute pathogen#helptags()' -c q ; return 0\nENV TERM=\"xterm-256color\"\n#   List of Vim plugins to disable\nENV DISABLE=\"\"\nENTRYPOINT [\"sh\", \"/usr/local/bin/run\"]\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM jare/alpine-vim:latest\n#  User config\nENV UID=\"1000\" \\\n    UNAME=\"developer\" \\\n    GID=\"1000\" \\\n    GNAME=\"developer\" \\\n    SHELL=\"/bin/bash\" \\\n    UHOME=\"/home/developer\"\n#  Used to configure YouCompleteMe\nENV GOROOT=\"/usr/lib/go\"\nENV GOBIN=\"$GOROOT/bin\"\nENV GOPATH=\"$UHOME/workspace\"\nENV PATH=\"$PATH:$GOBIN:$GOPATH/bin\"\n#  User\nRUN apk --no-cache add sudo \\\n && mkdir -p \"${UHOME}\" \\\n && chown \"${UID}\":\"${GID}\" \"${UHOME}\" \\\n && echo \"${UNAME}:x:${UID}:${GID}:${UNAME},,,:${UHOME}:${SHELL}\" >> /etc/passwd \\\n && echo \"${UNAME}::17032:0:99999:7:::\" >> /etc/shadow \\\n && echo \"${UNAME} ALL=(ALL) NOPASSWD: ALL\" > \"/etc/sudoers.d/${UNAME}\" \\\n && chmod 0440 \"/etc/sudoers.d/${UNAME}\" \\\n && echo \"${GNAME}:x:${GID}:${UNAME}\" >> /etc/group\n#  Install Pathogen\nRUN apk --no-cache add curl \\\n && mkdir -p $UHOME/bundle $UHOME/.vim/autoload $UHOME/.vim_runtime/temp_dirs \\\n && curl -LSso $UHOME/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim \\\n && echo \"execute pathogen#infect('$UHOME/bundle/{}')\" > $UHOME/.vimrc \\\n && echo \"syntax on \" >> $UHOME/.vimrc \\\n && echo \"filetype plugin indent on \" >> $UHOME/.vimrc \\\n && apk del curl\n#  Vim wrapper\nCOPY run /usr/local/bin/\n# custom .vimrc stub\nRUN mkdir -p /ext \\\n && echo \" \" > /ext/.vimrc\nCOPY .vimrc $UHOME/my.vimrc\nCOPY .bashrc $UHOME/.bashrc\n#  Vim plugins deps\nRUN apk --update add bash ctags curl git ncurses-terminfo python \\\n && apk add --virtual build-deps build-base cmake go llvm perl python-dev \\\n && git clone --depth 1 https://github.com/Valloric/YouCompleteMe $UHOME/bundle/YouCompleteMe/ \\\n && cd $UHOME/bundle/YouCompleteMe \\\n && git submodule update --init --recursive \\\n && $UHOME/bundle/YouCompleteMe/install.py --gocode-completer \\\n && git clone --depth 1 https://github.com/Shougo/vimproc.vim $UHOME/bundle/vimproc.vim \\\n && cd $UHOME/bundle/vimproc.vim \\\n && make \\\n && chown $UID:$GID -R $UHOME \\\n && apk del build-deps \\\n && apk add libxt libx11 libstdc++ \\\n && rm -rf $UHOME/bundle/YouCompleteMe/third_party/ycmd/clang_includes $UHOME/bundle/YouCompleteMe/third_party/ycmd/cpp /usr/lib/go /var/cache/* /var/log/* /var/tmp/* \\\n && mkdir /var/cache/apk\nUSER $UNAME\n#  Plugins\nRUN cd $UHOME/bundle/ \\\n && git clone --depth 1 https://github.com/pangloss/vim-javascript \\\n && git clone --depth 1 https://github.com/scrooloose/nerdcommenter \\\n && git clone --depth 1 https://github.com/godlygeek/tabular \\\n && git clone --depth 1 https://github.com/Raimondi/delimitMate \\\n && git clone --depth 1 https://github.com/nathanaelkane/vim-indent-guides \\\n && git clone --depth 1 https://github.com/groenewege/vim-less \\\n && git clone --depth 1 https://github.com/othree/html5.vim \\\n && git clone --depth 1 https://github.com/elzr/vim-json \\\n && git clone --depth 1 https://github.com/bling/vim-airline \\\n && git clone --depth 1 https://github.com/easymotion/vim-easymotion \\\n && git clone --depth 1 https://github.com/mbbill/undotree \\\n && git clone --depth 1 https://github.com/majutsushi/tagbar \\\n && git clone --depth 1 https://github.com/vim-scripts/EasyGrep \\\n && git clone --depth 1 https://github.com/jlanzarotta/bufexplorer \\\n && git clone --depth 1 https://github.com/kien/ctrlp.vim \\\n && git clone --depth 1 https://github.com/scrooloose/nerdtree \\\n && git clone --depth 1 https://github.com/jistr/vim-nerdtree-tabs \\\n && git clone --depth 1 https://github.com/scrooloose/syntastic \\\n && git clone --depth 1 https://github.com/tomtom/tlib_vim \\\n && git clone --depth 1 https://github.com/marcweber/vim-addon-mw-utils \\\n && git clone --depth 1 https://github.com/vim-scripts/taglist.vim \\\n && git clone --depth 1 https://github.com/terryma/vim-expand-region \\\n && git clone --depth 1 https://github.com/tpope/vim-fugitive \\\n && git clone --depth 1 https://github.com/airblade/vim-gitgutter \\\n && git clone --depth 1 https://github.com/fatih/vim-go \\\n && git clone --depth 1 https://github.com/plasticboy/vim-markdown \\\n && git clone --depth 1 https://github.com/michaeljsmith/vim-indent-object \\\n && git clone --depth 1 https://github.com/terryma/vim-multiple-cursors \\\n && git clone --depth 1 https://github.com/tpope/vim-repeat \\\n && git clone --depth 1 https://github.com/tpope/vim-surround \\\n && git clone --depth 1 https://github.com/vim-scripts/mru.vim \\\n && git clone --depth 1 https://github.com/vim-scripts/YankRing.vim \\\n && git clone --depth 1 https://github.com/tpope/vim-haml \\\n && git clone --depth 1 https://github.com/SirVer/ultisnips \\\n && git clone --depth 1 https://github.com/honza/vim-snippets \\\n && git clone --depth 1 https://github.com/derekwyatt/vim-scala \\\n && git clone --depth 1 https://github.com/christoomey/vim-tmux-navigator \\\n && git clone --depth 1 https://github.com/ekalinin/Dockerfile.vim \\\n && git clone --depth 1 https://github.com/altercation/vim-colors-solarized\n#  Build default .vimrc\nRUN mv -f $UHOME/.vimrc $UHOME/.vimrc~ \\\n && curl -s https://raw.githubusercontent.com/amix/vimrc/master/vimrcs/basic.vim >> $UHOME/.vimrc~ \\\n && curl -s https://raw.githubusercontent.com/amix/vimrc/master/vimrcs/extended.vim >> $UHOME/.vimrc~ \\\n && cat $UHOME/my.vimrc >> $UHOME/.vimrc~ \\\n && rm $UHOME/my.vimrc \\\n && sed -i '/colorscheme peaksea/d' $UHOME/.vimrc~\n#  Pathogen help tags generation\nRUN vim -E -c 'execute pathogen#helptags()' -c q ; return 0\nENV TERM=\"xterm-256color\"\n#  List of Vim plugins to disable\nENV DISABLE=\"\"\nENTRYPOINT [\"sh\", \"/usr/local/bin/run\"]\n","injectedSmells":[],"originalDockerfileHash":"95abae3353087c8302de737dd9b7627d","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM jare/alpine-vim:latest\n#   User config\nENV UID=\"1000\" \\\n    UNAME=\"developer\" \\\n    GID=\"1000\" \\\n    GNAME=\"developer\" \\\n    SHELL=\"/bin/bash\" \\\n    UHOME=\"/home/developer\"\n#   Used to configure YouCompleteMe\nENV GOROOT=\"/usr/lib/go\"\nENV GOBIN=\"$GOROOT/bin\"\nENV GOPATH=\"$UHOME/workspace\"\nENV PATH=\"$PATH:$GOBIN:$GOPATH/bin\"\n#   User\nRUN apk --no-cache add sudo \\\n && mkdir -p \"${UHOME}\" \\\n && chown \"${UID}\":\"${GID}\" \"${UHOME}\" \\\n && echo \"${UNAME}:x:${UID}:${GID}:${UNAME},,,:${UHOME}:${SHELL}\" >> /etc/passwd \\\n && echo \"${UNAME}::17032:0:99999:7:::\" >> /etc/shadow \\\n && echo \"${UNAME} ALL=(ALL) NOPASSWD: ALL\" > \"/etc/sudoers.d/${UNAME}\" \\\n && chmod 0440 \"/etc/sudoers.d/${UNAME}\" \\\n && echo \"${GNAME}:x:${GID}:${UNAME}\" >> /etc/group\n#   Install Pathogen\nRUN apk --no-cache add curl \\\n && mkdir -p $UHOME/bundle $UHOME/.vim/autoload $UHOME/.vim_runtime/temp_dirs \\\n && curl -LSso $UHOME/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim \\\n && echo \"execute pathogen#infect('$UHOME/bundle/{}')\" > $UHOME/.vimrc \\\n && echo \"syntax on \" >> $UHOME/.vimrc \\\n && echo \"filetype plugin indent on \" >> $UHOME/.vimrc \\\n && apk del curl\n#   Vim wrapper\nCOPY run /usr/local/bin/\n#  custom .vimrc stub\nRUN mkdir -p /ext \\\n && echo \" \" > /ext/.vimrc\nCOPY .vimrc $UHOME/my.vimrc\nCOPY .bashrc $UHOME/.bashrc\n#   Vim plugins deps\nRUN apk --update add bash ctags curl git ncurses-terminfo python \\\n && apk add --virtual build-deps build-base cmake go llvm perl python-dev \\\n && git clone --depth 1 https://github.com/Valloric/YouCompleteMe $UHOME/bundle/YouCompleteMe/ \\\n && cd $UHOME/bundle/YouCompleteMe \\\n && git submodule update --init --recursive \\\n && $UHOME/bundle/YouCompleteMe/install.py --gocode-completer \\\n && git clone --depth 1 https://github.com/Shougo/vimproc.vim $UHOME/bundle/vimproc.vim \\\n && cd $UHOME/bundle/vimproc.vim \\\n && make \\\n && chown $UID:$GID -R $UHOME \\\n && apk del build-deps \\\n && apk add libxt libx11 libstdc++ \\\n && rm -rf $UHOME/bundle/YouCompleteMe/third_party/ycmd/clang_includes $UHOME/bundle/YouCompleteMe/third_party/ycmd/cpp /usr/lib/go /var/cache/* /var/log/* /var/tmp/* \\\n && mkdir /var/cache/apk\nUSER $UNAME\n#   Plugins\nRUN cd $UHOME/bundle/ \\\n && git clone --depth 1 https://github.com/pangloss/vim-javascript \\\n && git clone --depth 1 https://github.com/scrooloose/nerdcommenter \\\n && git clone --depth 1 https://github.com/godlygeek/tabular \\\n && git clone --depth 1 https://github.com/Raimondi/delimitMate \\\n && git clone --depth 1 https://github.com/nathanaelkane/vim-indent-guides \\\n && git clone --depth 1 https://github.com/groenewege/vim-less \\\n && git clone --depth 1 https://github.com/othree/html5.vim \\\n && git clone --depth 1 https://github.com/elzr/vim-json \\\n && git clone --depth 1 https://github.com/bling/vim-airline \\\n && git clone --depth 1 https://github.com/easymotion/vim-easymotion \\\n && git clone --depth 1 https://github.com/mbbill/undotree \\\n && git clone --depth 1 https://github.com/majutsushi/tagbar \\\n && git clone --depth 1 https://github.com/vim-scripts/EasyGrep \\\n && git clone --depth 1 https://github.com/jlanzarotta/bufexplorer \\\n && git clone --depth 1 https://github.com/kien/ctrlp.vim \\\n && git clone --depth 1 https://github.com/scrooloose/nerdtree \\\n && git clone --depth 1 https://github.com/jistr/vim-nerdtree-tabs \\\n && git clone --depth 1 https://github.com/scrooloose/syntastic \\\n && git clone --depth 1 https://github.com/tomtom/tlib_vim \\\n && git clone --depth 1 https://github.com/marcweber/vim-addon-mw-utils \\\n && git clone --depth 1 https://github.com/vim-scripts/taglist.vim \\\n && git clone --depth 1 https://github.com/terryma/vim-expand-region \\\n && git clone --depth 1 https://github.com/tpope/vim-fugitive \\\n && git clone --depth 1 https://github.com/airblade/vim-gitgutter \\\n && git clone --depth 1 https://github.com/fatih/vim-go \\\n && git clone --depth 1 https://github.com/plasticboy/vim-markdown \\\n && git clone --depth 1 https://github.com/michaeljsmith/vim-indent-object \\\n && git clone --depth 1 https://github.com/terryma/vim-multiple-cursors \\\n && git clone --depth 1 https://github.com/tpope/vim-repeat \\\n && git clone --depth 1 https://github.com/tpope/vim-surround \\\n && git clone --depth 1 https://github.com/vim-scripts/mru.vim \\\n && git clone --depth 1 https://github.com/vim-scripts/YankRing.vim \\\n && git clone --depth 1 https://github.com/tpope/vim-haml \\\n && git clone --depth 1 https://github.com/SirVer/ultisnips \\\n && git clone --depth 1 https://github.com/honza/vim-snippets \\\n && git clone --depth 1 https://github.com/derekwyatt/vim-scala \\\n && git clone --depth 1 https://github.com/christoomey/vim-tmux-navigator \\\n && git clone --depth 1 https://github.com/ekalinin/Dockerfile.vim \\\n && git clone --depth 1 https://github.com/altercation/vim-colors-solarized\n#   Build default .vimrc\nRUN mv -f $UHOME/.vimrc $UHOME/.vimrc~ \\\n && curl -s https://raw.githubusercontent.com/amix/vimrc/master/vimrcs/basic.vim >> $UHOME/.vimrc~ \\\n && curl -s https://raw.githubusercontent.com/amix/vimrc/master/vimrcs/extended.vim >> $UHOME/.vimrc~ \\\n && cat $UHOME/my.vimrc >> $UHOME/.vimrc~ \\\n && rm $UHOME/my.vimrc \\\n && sed -i '/colorscheme peaksea/d' $UHOME/.vimrc~\n#   Pathogen help tags generation\nRUN vim -E -c 'execute pathogen#helptags()' -c q ; return 0\nENV TERM=\"xterm-256color\"\n#   List of Vim plugins to disable\nENV DISABLE=\"\"\nENTRYPOINT [\"sh\", \"/usr/local/bin/run\"]\n","originalDockerfileUglifiedHash":"5709cb36e3f0def4c78491e28a16adeb","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/85452291617190ef4c5eafc3dc7c3343aa6bdab6.dockerfile"}