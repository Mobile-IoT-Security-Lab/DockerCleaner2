{"seed":3379284511,"processedDockerfileHash":"e1e37391ac11d796f4c3a9c5ec297189","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ros:kinetic-ros-base-xenial\nMAINTAINER Andrea Censi\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends software-properties-common gnupg curl git git-extras ssh pdftk bibtex2html libxml2-dev libxslt1-dev libffi6 libffi-dev libxml2-dev libxslt1-dev pdftk bibtex2html build-essential graphviz idle virtualenv python-pmw python-imaging python-yaml python-dev python-matplotlib python-numpy python-matplotlib python-setproctitle python-psutil python-lxml python-pillow python-matplotlib python-pip python-tk python-scipy python-frozendict python-tables python-sklearn python-termcolor python-setproctitle python-psutil byobu atop htop imagemagick graphviz ghostscript ntpdate libatlas-base-dev vim apt-file iftop ros-kinetic-image-proc -y )\n#      ros-kinetic-perception \\\n#      ros-kinetic-desktop-full \\\n#      ros-kinetic-tf-conversions \\\n#      ros-kinetic-cv-bridge \\\n#      ros-kinetic-image-transport \\\n#      ros-kinetic-camera-info-manager \\\n#      ros-kinetic-theora-image-transport \\\n#      ros-kinetic-joy \\\n#      ros-kinetic-compressed-image-transport \\\n#      ros-kinetic-phidgets-drivers \\\n#      ros-kinetic-imu-complementary-filter \\\n#      ros-kinetic-imu-filter-madgwick \\\n#   needed for adding repository\n#   Git LFS\n#  RUN add-apt-repository -y ppa:git-core/ppa\n#  RUN curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | bash\n#\n#  RUN apt-get update\n#  RUN apt-get install -y git-lfs \\\n#   Python deps\nRUN pip install empy==3.3.4 catkin_pkg==0.5.2 pint==0.20.1 networkx==3.1 watchdog==3.0.0 pyramid==2.0.1 pyramid_jinja2==2.10 pyramid_debugtoolbar==4.10 bs4==0.0.1 nose==1.3.7 reprep==3.0.0 bcrypt==4.0.1 markdown==3.4.3 junit_xml==1.9 lxml==4.9.2 bcrypt==4.0.1 waitress==2.1.2 gitpython==3.1.31 webtest==3.0.0 chardet==5.1.0 -U\nRUN add-apt-repository ppa:mc3man/xerus-media\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends mplayer mencoder ffmpeg -y )\n#   gstreamer0.10-ffmpeg\nRUN wget https://dist.ipfs.io/go-ipfs/v0.4.15/go-ipfs_v0.4.15_linux-amd64.tar.gz\nRUN tar xvzf go-ipfs_v0.4.15_linux-amd64.tar.gz\nRUN cp go-ipfs/ipfs /usr/bin\nRUN ipfs version\nRUN virtualenv --system-site-packages /project/deploy\nCOPY requirements.txt /project/requirements.txt\nRUN pip install -r /project/requirements.txt\nCOPY . /project/10-infrastructure\nRUN . /project/deploy/bin/activate \\\n && cd /project/10-infrastructure \\\n && python setup.py install\n#  RUN . /project/deploy/bin/activate && cd /project/10-infrastructure && python setup.py develop --no-deps\nRUN chmod +x /project/10-infrastructure/entrypoint.sh\nRUN /project/10-infrastructure/entrypoint.sh python -c \"import easy_logs.cli\"\nENTRYPOINT [\"/project/10-infrastructure/entrypoint.sh\"]\nRUN mkdir -p /dt-data/DUCKIETOWN_ROOT /dt-data/DUCKIEFLEET_ROOT /dt-data/DUCKIETOWN_DATA /dt-data/DUCKIETOWN_TMP\nENV DUCKIETOWN_ROOT=\"/dt-data/DUCKIETOWN_ROOT\"\nENV DUCKIEFLEET_ROOT=\"/dt-data/DUCKIEFLEET_ROOT\"\nENV DUCKIETOWN_DATA=\"/dt-data/DUCKIETOWN_DATA\"\nENV DUCKIETOWN_TMP=\"/dt-data/DUCKIETOWN_TMP\"\n#   XXX \nRUN cp /project/10-infrastructure/easy_logs/include/easy_logs/unit_tests.urls.yaml /project/deploy/lib/python2.7/site-packages/DuckietownUtils-1.0-py2.7.egg/easy_logs\nRUN /project/10-infrastructure/entrypoint.sh dt-logs-summary\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ros:kinetic-ros-base-xenial\nMAINTAINER Andrea Censi\nRUN apt-get update\nRUN apt-get install software-properties-common gnupg curl git git-extras ssh pdftk bibtex2html libxml2-dev libxslt1-dev libffi6 libffi-dev libxml2-dev libxslt1-dev pdftk bibtex2html build-essential graphviz idle virtualenv python-pmw python-imaging python-yaml python-dev python-matplotlib python-numpy python-matplotlib python-setproctitle python-psutil python-lxml python-pillow python-matplotlib python-pip python-tk python-scipy python-frozendict python-tables python-sklearn python-termcolor python-setproctitle python-psutil byobu atop htop imagemagick graphviz ghostscript ntpdate libatlas-base-dev vim apt-file iftop ros-kinetic-image-proc -y\n#     ros-kinetic-perception \\\n#     ros-kinetic-desktop-full \\\n#     ros-kinetic-tf-conversions \\\n#     ros-kinetic-cv-bridge \\\n#     ros-kinetic-image-transport \\\n#     ros-kinetic-camera-info-manager \\\n#     ros-kinetic-theora-image-transport \\\n#     ros-kinetic-joy \\\n#     ros-kinetic-compressed-image-transport \\\n#     ros-kinetic-phidgets-drivers \\\n#     ros-kinetic-imu-complementary-filter \\\n#     ros-kinetic-imu-filter-madgwick \\\n#  needed for adding repository\n#  Git LFS\n# RUN add-apt-repository -y ppa:git-core/ppa\n# RUN curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | bash\n#\n# RUN apt-get update\n# RUN apt-get install -y git-lfs \\\n#  Python deps\nRUN pip install empy catkin_pkg pint networkx watchdog pyramid pyramid_jinja2 pyramid_debugtoolbar bs4 nose reprep bcrypt markdown junit_xml lxml bcrypt waitress gitpython webtest chardet -U\nRUN add-apt-repository ppa:mc3man/xerus-media\nRUN apt-get update\nRUN apt-get install mplayer mencoder ffmpeg -y\n#  gstreamer0.10-ffmpeg\nRUN wget https://dist.ipfs.io/go-ipfs/v0.4.15/go-ipfs_v0.4.15_linux-amd64.tar.gz\nRUN tar xvzf go-ipfs_v0.4.15_linux-amd64.tar.gz\nRUN cp go-ipfs/ipfs /usr/bin\nRUN ipfs version\nRUN virtualenv --system-site-packages /project/deploy\nCOPY requirements.txt /project/requirements.txt\nRUN pip install -r /project/requirements.txt\nCOPY . /project/10-infrastructure\nRUN . /project/deploy/bin/activate \\\n && cd /project/10-infrastructure \\\n && python setup.py install\n# RUN . /project/deploy/bin/activate && cd /project/10-infrastructure && python setup.py develop --no-deps\nRUN chmod +x /project/10-infrastructure/entrypoint.sh\nRUN /project/10-infrastructure/entrypoint.sh python -c \"import easy_logs.cli\"\nENTRYPOINT [\"/project/10-infrastructure/entrypoint.sh\"]\nRUN mkdir -p /dt-data/DUCKIETOWN_ROOT /dt-data/DUCKIEFLEET_ROOT /dt-data/DUCKIETOWN_DATA /dt-data/DUCKIETOWN_TMP\nENV DUCKIETOWN_ROOT=\"/dt-data/DUCKIETOWN_ROOT\"\nENV DUCKIEFLEET_ROOT=\"/dt-data/DUCKIEFLEET_ROOT\"\nENV DUCKIETOWN_DATA=\"/dt-data/DUCKIETOWN_DATA\"\nENV DUCKIETOWN_TMP=\"/dt-data/DUCKIETOWN_TMP\"\n#  XXX \nRUN cp /project/10-infrastructure/easy_logs/include/easy_logs/unit_tests.urls.yaml /project/deploy/lib/python2.7/site-packages/DuckietownUtils-1.0-py2.7.egg/easy_logs\nRUN /project/10-infrastructure/entrypoint.sh dt-logs-summary\n","injectedSmells":[],"originalDockerfileHash":"615a98af3e9a2e508c220ec7c96bca1f","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ros:kinetic-ros-base-xenial\nMAINTAINER Andrea Censi\nRUN apt-get update\nRUN apt-get install software-properties-common gnupg curl git git-extras ssh pdftk bibtex2html libxml2-dev libxslt1-dev libffi6 libffi-dev libxml2-dev libxslt1-dev pdftk bibtex2html build-essential graphviz idle virtualenv python-pmw python-imaging python-yaml python-dev python-matplotlib python-numpy python-matplotlib python-setproctitle python-psutil python-lxml python-pillow python-matplotlib python-pip python-tk python-scipy python-frozendict python-tables python-sklearn python-termcolor python-setproctitle python-psutil byobu atop htop imagemagick graphviz ghostscript ntpdate libatlas-base-dev vim apt-file iftop ros-kinetic-image-proc -y\n#      ros-kinetic-perception \\\n#      ros-kinetic-desktop-full \\\n#      ros-kinetic-tf-conversions \\\n#      ros-kinetic-cv-bridge \\\n#      ros-kinetic-image-transport \\\n#      ros-kinetic-camera-info-manager \\\n#      ros-kinetic-theora-image-transport \\\n#      ros-kinetic-joy \\\n#      ros-kinetic-compressed-image-transport \\\n#      ros-kinetic-phidgets-drivers \\\n#      ros-kinetic-imu-complementary-filter \\\n#      ros-kinetic-imu-filter-madgwick \\\n#   needed for adding repository\n#   Git LFS\n#  RUN add-apt-repository -y ppa:git-core/ppa\n#  RUN curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | bash\n#\n#  RUN apt-get update\n#  RUN apt-get install -y git-lfs \\\n#   Python deps\nRUN pip install empy catkin_pkg pint networkx watchdog pyramid pyramid_jinja2 pyramid_debugtoolbar bs4 nose reprep bcrypt markdown junit_xml lxml bcrypt waitress gitpython webtest chardet -U\nRUN add-apt-repository ppa:mc3man/xerus-media\nRUN apt-get update\nRUN apt-get install mplayer mencoder ffmpeg -y\n#   gstreamer0.10-ffmpeg\nRUN wget https://dist.ipfs.io/go-ipfs/v0.4.15/go-ipfs_v0.4.15_linux-amd64.tar.gz\nRUN tar xvzf go-ipfs_v0.4.15_linux-amd64.tar.gz\nRUN cp go-ipfs/ipfs /usr/bin\nRUN ipfs version\nRUN virtualenv --system-site-packages /project/deploy\nCOPY requirements.txt /project/requirements.txt\nRUN pip install -r /project/requirements.txt\nCOPY . /project/10-infrastructure\nRUN . /project/deploy/bin/activate \\\n && cd /project/10-infrastructure \\\n && python setup.py install\n#  RUN . /project/deploy/bin/activate && cd /project/10-infrastructure && python setup.py develop --no-deps\nRUN chmod +x /project/10-infrastructure/entrypoint.sh\nRUN /project/10-infrastructure/entrypoint.sh python -c \"import easy_logs.cli\"\nENTRYPOINT [\"/project/10-infrastructure/entrypoint.sh\"]\nRUN mkdir -p /dt-data/DUCKIETOWN_ROOT /dt-data/DUCKIEFLEET_ROOT /dt-data/DUCKIETOWN_DATA /dt-data/DUCKIETOWN_TMP\nENV DUCKIETOWN_ROOT=\"/dt-data/DUCKIETOWN_ROOT\"\nENV DUCKIEFLEET_ROOT=\"/dt-data/DUCKIEFLEET_ROOT\"\nENV DUCKIETOWN_DATA=\"/dt-data/DUCKIETOWN_DATA\"\nENV DUCKIETOWN_TMP=\"/dt-data/DUCKIETOWN_TMP\"\n#   XXX \nRUN cp /project/10-infrastructure/easy_logs/include/easy_logs/unit_tests.urls.yaml /project/deploy/lib/python2.7/site-packages/DuckietownUtils-1.0-py2.7.egg/easy_logs\nRUN /project/10-infrastructure/entrypoint.sh dt-logs-summary\n","originalDockerfileUglifiedHash":"c9497784429ea1086516eddc110fb983","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/3cd9f1c013e00e62da5143d50b42e3a1120a0d0c.dockerfile"}