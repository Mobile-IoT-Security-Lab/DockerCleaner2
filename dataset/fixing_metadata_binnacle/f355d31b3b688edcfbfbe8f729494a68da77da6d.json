{"seed":3737424447,"processedDockerfileHash":"e1f3b71814201d49e293e923a23d9cd3","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck"],"processedDockerfile":"FROM ubuntu:18.04\n#   Generated with ogs-container-maker 1.2.0\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends curl tar wget \\\n && rm -rf /var/lib/apt/lists/*\n#   LLVM compiler\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends clang-7 \\\n && rm -rf /var/lib/apt/lists/*\nRUN update-alternatives --install /usr/bin/clang clang $( which clang-7 ;) 30 \\\n && update-alternatives --install /usr/bin/clang++ clang++ $( which clang++-7 ;) 30\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends clang-format-7 clang-tidy-7 \\\n && rm -rf /var/lib/apt/lists/*\n#   OGS base building block\n#   Python\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends python python-dev python3 python3-dev \\\n && rm -rf /var/lib/apt/lists/*\n#   pip\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends python3-pip python3-setuptools python3-wheel \\\n && rm -rf /var/lib/apt/lists/*\nRUN pip3 install virtualenv\n#   CMake version 3.13.4\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends wget \\\n && rm -rf /var/lib/apt/lists/*\nRUN mkdir -p /var/tmp \\\n && wget -q -nc --no-check-certificate -P /var/tmp https://cmake.org/files/v3.13/cmake-3.13.4-Linux-x86_64.sh \\\n && /bin/sh /var/tmp/cmake-3.13.4-Linux-x86_64.sh --prefix=/usr/local --skip-license \\\n && rm -rf /var/tmp/cmake-3.13.4-Linux-x86_64.sh\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends software-properties-common \\\n && apt-add-repository ppa:git-core/ppa -y \\\n && : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends git git-lfs make ninja-build \\\n && rm -rf /var/lib/apt/lists/*\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends dirmngr=2.2.4-1ubuntu1.6 -y --install-recommends ) \\\n && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 6B05F25D762E3157 \\\n && curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | bash \\\n && git lfs install \\\n && mkdir -p /apps /scratch /lustre /work /projects\n#   Package manager Conan building block\n#   pip\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends python3-pip python3-setuptools python3-wheel \\\n && rm -rf /var/lib/apt/lists/*\nRUN pip3 install conan==1.16.0\nRUN mkdir -p /opt/conan \\\n && chmod 777 /opt/conan\nENV CONAN_USER_HOME=\"/opt/conan\"\nLABEL org.opengeosys.pm=\"conan\" \\\n      org.opengeosys.pm.conan.version=\"1.16.0\"\nLABEL org.opengeosys.pm.conan.user_home=\"/opt/conan\"\n#   Include-what-you-use for clang version 7\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends libclang-7-dev libncurses5-dev llvm-7-dev zlib1g-dev \\\n && rm -rf /var/lib/apt/lists/*\nRUN mkdir -p /var/tmp \\\n && wget -q -nc --no-check-certificate -P /var/tmp https://github.com/include-what-you-use/include-what-you-use/archive/clang_7.0.tar.gz \\\n && mkdir -p /var/tmp \\\n && tar -x -f /var/tmp/clang_7.0.tar.gz -C /var/tmp -z \\\n && mkdir -p /var/tmp/build \\\n && cd /var/tmp/build \\\n && cmake -DCMAKE_INSTALL_PREFIX=/usr/local/iwyy -DIWYU_LLVM_ROOT_PATH=/usr/lib/llvm-7 /var/tmp/include-what-you-use-clang_7.0 \\\n && cmake --build /var/tmp/build --target install -- -j$( nproc ;) \\\n && rm -rf /var/tmp/clang_7.0.tar.gz /var/tmp/build /var/tmp/include-what-you-use-clang_7.0\nENV PATH=\"/usr/local/iwyy/bin:$PATH\"\n#   Package manager Conan building block\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends ccache \\\n && rm -rf /var/lib/apt/lists/*\nRUN mkdir -p /opt/cache \\\n && chmod 777 /opt/cache\nENV CCACHE_DIR=\"/opt/cache\" \\\n    CCACHE_MAXSIZE=\"15G\" \\\n    CCACHE_SLOPPINESS=\"pch_defines,time_macros\"\nLABEL ccache.dir=\"/opt/cache\" \\\n      ccache.size=\"15G\"\nRUN : \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends sudo \\\n && rm -rf /var/lib/apt/lists/*\n#   Jenkins node\nRUN groupadd --gid 1001 jenkins \\\n && adduser --uid 500 --gid 1001 --disabled-password --gecos \"\" jenkins \\\n && echo \"jenkins ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers \\\n && echo \"jenkins:jenkins\" | chpasswd\nUSER jenkins\nWORKDIR /home/jenkins\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:18.04\n#  Generated with ogs-container-maker 1.2.0\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends curl tar wget \\\n && rm -rf /var/lib/apt/lists/*\n#  LLVM compiler\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends clang-7 \\\n && rm -rf /var/lib/apt/lists/*\nRUN update-alternatives --install /usr/bin/clang clang $( which clang-7 ;) 30 \\\n && update-alternatives --install /usr/bin/clang++ clang++ $( which clang++-7 ;) 30\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends clang-format-7 clang-tidy-7 \\\n && rm -rf /var/lib/apt/lists/*\n#  OGS base building block\n#  Python\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends python python-dev python3 python3-dev \\\n && rm -rf /var/lib/apt/lists/*\n#  pip\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends python3-pip python3-setuptools python3-wheel \\\n && rm -rf /var/lib/apt/lists/*\nRUN pip3 install virtualenv\n#  CMake version 3.13.4\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends wget \\\n && rm -rf /var/lib/apt/lists/*\nRUN mkdir -p /var/tmp \\\n && wget -q -nc --no-check-certificate -P /var/tmp https://cmake.org/files/v3.13/cmake-3.13.4-Linux-x86_64.sh \\\n && /bin/sh /var/tmp/cmake-3.13.4-Linux-x86_64.sh --prefix=/usr/local --skip-license \\\n && rm -rf /var/tmp/cmake-3.13.4-Linux-x86_64.sh\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends software-properties-common \\\n && apt-add-repository ppa:git-core/ppa -y \\\n && apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends git git-lfs make ninja-build \\\n && rm -rf /var/lib/apt/lists/*\nRUN apt-get update \\\n && apt-get install dirmngr -y --install-recommends \\\n && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 6B05F25D762E3157 \\\n && curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | bash \\\n && git lfs install \\\n && mkdir -p /apps /scratch /lustre /work /projects\n#  Package manager Conan building block\n#  pip\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends python3-pip python3-setuptools python3-wheel \\\n && rm -rf /var/lib/apt/lists/*\nRUN pip3 install conan==1.16.0\nRUN mkdir -p /opt/conan \\\n && chmod 777 /opt/conan\nENV CONAN_USER_HOME=\"/opt/conan\"\nLABEL org.opengeosys.pm=\"conan\" \\\n      org.opengeosys.pm.conan.version=\"1.16.0\"\nLABEL org.opengeosys.pm.conan.user_home=\"/opt/conan\"\n#  Include-what-you-use for clang version 7\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends libclang-7-dev libncurses5-dev llvm-7-dev zlib1g-dev \\\n && rm -rf /var/lib/apt/lists/*\nRUN mkdir -p /var/tmp \\\n && wget -q -nc --no-check-certificate -P /var/tmp https://github.com/include-what-you-use/include-what-you-use/archive/clang_7.0.tar.gz \\\n && mkdir -p /var/tmp \\\n && tar -x -f /var/tmp/clang_7.0.tar.gz -C /var/tmp -z \\\n && mkdir -p /var/tmp/build \\\n && cd /var/tmp/build \\\n && cmake -DCMAKE_INSTALL_PREFIX=/usr/local/iwyy -DIWYU_LLVM_ROOT_PATH=/usr/lib/llvm-7 /var/tmp/include-what-you-use-clang_7.0 \\\n && cmake --build /var/tmp/build --target install -- -j$( nproc ;) \\\n && rm -rf /var/tmp/clang_7.0.tar.gz /var/tmp/build /var/tmp/include-what-you-use-clang_7.0\nENV PATH=\"/usr/local/iwyy/bin:$PATH\"\n#  Package manager Conan building block\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends ccache \\\n && rm -rf /var/lib/apt/lists/*\nRUN mkdir -p /opt/cache \\\n && chmod 777 /opt/cache\nENV CCACHE_DIR=\"/opt/cache\" \\\n    CCACHE_MAXSIZE=\"15G\" \\\n    CCACHE_SLOPPINESS=\"pch_defines,time_macros\"\nLABEL ccache.dir=\"/opt/cache\" \\\n      ccache.size=\"15G\"\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends sudo \\\n && rm -rf /var/lib/apt/lists/*\n#  Jenkins node\nRUN groupadd --gid 1001 jenkins \\\n && adduser --uid 500 --gid 1001 --disabled-password --gecos \"\" jenkins \\\n && echo \"jenkins ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers \\\n && echo \"jenkins:jenkins\" | chpasswd\nUSER jenkins\nWORKDIR /home/jenkins\n","injectedSmells":[],"originalDockerfileHash":"f10de519dfe65b94034d56a9dec4923f","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:18.04\n#   Generated with ogs-container-maker 1.2.0\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends curl tar wget \\\n && rm -rf /var/lib/apt/lists/*\n#   LLVM compiler\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends clang-7 \\\n && rm -rf /var/lib/apt/lists/*\nRUN update-alternatives --install /usr/bin/clang clang $( which clang-7 ;) 30 \\\n && update-alternatives --install /usr/bin/clang++ clang++ $( which clang++-7 ;) 30\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends clang-format-7 clang-tidy-7 \\\n && rm -rf /var/lib/apt/lists/*\n#   OGS base building block\n#   Python\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends python python-dev python3 python3-dev \\\n && rm -rf /var/lib/apt/lists/*\n#   pip\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends python3-pip python3-setuptools python3-wheel \\\n && rm -rf /var/lib/apt/lists/*\nRUN pip3 install virtualenv\n#   CMake version 3.13.4\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends wget \\\n && rm -rf /var/lib/apt/lists/*\nRUN mkdir -p /var/tmp \\\n && wget -q -nc --no-check-certificate -P /var/tmp https://cmake.org/files/v3.13/cmake-3.13.4-Linux-x86_64.sh \\\n && /bin/sh /var/tmp/cmake-3.13.4-Linux-x86_64.sh --prefix=/usr/local --skip-license \\\n && rm -rf /var/tmp/cmake-3.13.4-Linux-x86_64.sh\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends software-properties-common \\\n && apt-add-repository ppa:git-core/ppa -y \\\n && apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends git git-lfs make ninja-build \\\n && rm -rf /var/lib/apt/lists/*\nRUN apt-get update \\\n && apt-get install dirmngr -y --install-recommends \\\n && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 6B05F25D762E3157 \\\n && curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | bash \\\n && git lfs install \\\n && mkdir -p /apps /scratch /lustre /work /projects\n#   Package manager Conan building block\n#   pip\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends python3-pip python3-setuptools python3-wheel \\\n && rm -rf /var/lib/apt/lists/*\nRUN pip3 install conan==1.16.0\nRUN mkdir -p /opt/conan \\\n && chmod 777 /opt/conan\nENV CONAN_USER_HOME=\"/opt/conan\"\nLABEL org.opengeosys.pm=\"conan\" \\\n      org.opengeosys.pm.conan.version=\"1.16.0\"\nLABEL org.opengeosys.pm.conan.user_home=\"/opt/conan\"\n#   Include-what-you-use for clang version 7\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends libclang-7-dev libncurses5-dev llvm-7-dev zlib1g-dev \\\n && rm -rf /var/lib/apt/lists/*\nRUN mkdir -p /var/tmp \\\n && wget -q -nc --no-check-certificate -P /var/tmp https://github.com/include-what-you-use/include-what-you-use/archive/clang_7.0.tar.gz \\\n && mkdir -p /var/tmp \\\n && tar -x -f /var/tmp/clang_7.0.tar.gz -C /var/tmp -z \\\n && mkdir -p /var/tmp/build \\\n && cd /var/tmp/build \\\n && cmake -DCMAKE_INSTALL_PREFIX=/usr/local/iwyy -DIWYU_LLVM_ROOT_PATH=/usr/lib/llvm-7 /var/tmp/include-what-you-use-clang_7.0 \\\n && cmake --build /var/tmp/build --target install -- -j$( nproc ;) \\\n && rm -rf /var/tmp/clang_7.0.tar.gz /var/tmp/build /var/tmp/include-what-you-use-clang_7.0\nENV PATH=\"/usr/local/iwyy/bin:$PATH\"\n#   Package manager Conan building block\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends ccache \\\n && rm -rf /var/lib/apt/lists/*\nRUN mkdir -p /opt/cache \\\n && chmod 777 /opt/cache\nENV CCACHE_DIR=\"/opt/cache\" \\\n    CCACHE_MAXSIZE=\"15G\" \\\n    CCACHE_SLOPPINESS=\"pch_defines,time_macros\"\nLABEL ccache.dir=\"/opt/cache\" \\\n      ccache.size=\"15G\"\nRUN apt-get update -y \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends sudo \\\n && rm -rf /var/lib/apt/lists/*\n#   Jenkins node\nRUN groupadd --gid 1001 jenkins \\\n && adduser --uid 500 --gid 1001 --disabled-password --gecos \"\" jenkins \\\n && echo \"jenkins ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers \\\n && echo \"jenkins:jenkins\" | chpasswd\nUSER jenkins\nWORKDIR /home/jenkins\n","originalDockerfileUglifiedHash":"546632010f5c2f0f69b3ffb6dbdfc573","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/f355d31b3b688edcfbfbe8f729494a68da77da6d.dockerfile"}