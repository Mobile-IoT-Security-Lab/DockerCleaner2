{"seed":3601143010,"processedDockerfileHash":"800fdc3382bdc7aff6bbe36254f5a6a2","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck"],"processedDockerfile":"#   Licensed to Datalayer (https://datalayer.io) under one or more\n#   contributor license agreements.  See the NOTICE file\n#   distributed with this work for additional information\n#   regarding copyright ownership. Datalayer licenses this file\n#   to you under the Apache License, Version 2.0 (the\n#   \"License\"); you may not use this file except in compliance\n#   with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing,\n#   software distributed under the License is distributed on an\n#   \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n#   KIND, either express or implied.  See the License for the\n#   specific language governing permissions and limitations\n#   under the License.\nFROM jupyter/scipy-notebook:65761486d5d3\nRUN whoami\nARG REPOS_FOLDER=/repos\nUSER root\nRUN mkdir -p $REPOS_FOLDER\nRUN chown jovyan:users $REPOS_FOLDER\nUSER jovyan\nWORKDIR $REPOS_FOLDER\nRUN git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab\nWORKDIR $REPOS_FOLDER/jupyterlab\nRUN git checkout datalayer \\\n && jlpm install \\\n && jlpm build\nRUN pip install -e . \\\n && jupyter serverextension enable --py jupyterlab --sys-prefix\nRUN pip install datascience==0.17.6\nRUN jupyter lab build\nRUN pip install git+https://github.com/datalayer-contrib/jupyterhub-gitpuller \\\n && jupyter serverextension enable --py nbgitpuller --sys-prefix\nWORKDIR /home/jovyan\nUSER root\nRUN apt-get update \\\n && apt-get install --no-install-recommends iputils-ping iproute2 curl telnet -y\nUSER $NB_UID\nCOPY jupyter_notebook_config.py /etc/jupyter/jupyter_notebook_config.py\nUSER root\nRUN mkdir -p $REPOS_FOLDER\nRUN chown jovyan:users $REPOS_FOLDER\nRUN mkdir -p /home/jovyan/.jupyter/lab/workspaces\nRUN chown jovyan:users /home/jovyan/.jupyter\nUSER jovyan\nRUN conda install -y -c conda-forge yarn\nRUN cd ~ \\\n && git clone --depth 1 https://github.com/datalayer-contrib/data8-materials-fa17 --depth 1\nRUN jupyter labextension install @jupyterlab/google-drive --no-build\nRUN jupyter labextension install @jupyterlab/xkcd-extension --no-build\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-git.git --depth 1 \\\n && cd jupyterlab-git \\\n && git checkout datalayer \\\n && pip install -e . \\\n && jupyter serverextension enable --py jupyterlab_git --sys-prefix \\\n && jupyter labextension link --no-build\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-github.git --depth 1 \\\n && cd jupyterlab-github \\\n && pip install -e . \\\n && jupyter serverextension enable --py jupyterlab_github --sys-prefix \\\n && jupyter labextension link --no-build\n#   RUN cd $REPOS_FOLDER \\\n#       && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-github.git --depth 1 \\\n#       && cd jupyterlab-github \\\n#       && pip install -e . \\\n#       && jupyter serverextension enable --py jupyterlab_github --sys-prefix \\\n#       && jupyter labextension link --no-build\n#   RUN apt-get install -y texlive-xetex\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-latex.git --depth 1 \\\n && cd jupyterlab-latex \\\n && pip install -e . \\\n && jupyter serverextension enable --py jupyterlab_latex --sys-prefix \\\n && jupyter labextension link --no-build\n#      && sed -e \"s|file:/repos|file:/home/jovyan/.repos|g\" package.json > package.json.patched \\\n#      && rm package.json && mv package.json.patched package.json \\\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer/datalayer.git \\\n && cd $REPOS_FOLDER/datalayer/apps/library \\\n && make install \\\n && cd $REPOS_FOLDER \\\n && git clone https://github.com/datalayer/notebook.git \\\n && cd $REPOS_FOLDER/repos/notebook \\\n && make install \\\n && make build \\\n && make ext-enable\nWORKDIR /home/jovyan\nRUN jupyter lab build\n#   COPY drive.jupyterlab-settings $REPOS_FOLDER/jupyter/lab/user-settings/@jupyterlab/google-drive/drive.jupyterlab-settings\nCOPY drive.jupyterlab-settings /home/jovyan/.jupyter/lab/user-settings/@jupyterlab/google-drive/drive.jupyterlab-settings\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Licensed to Datalayer (https://datalayer.io) under one or more\n#  contributor license agreements.  See the NOTICE file\n#  distributed with this work for additional information\n#  regarding copyright ownership. Datalayer licenses this file\n#  to you under the Apache License, Version 2.0 (the\n#  \"License\"); you may not use this file except in compliance\n#  with the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n#  Unless required by applicable law or agreed to in writing,\n#  software distributed under the License is distributed on an\n#  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n#  KIND, either express or implied.  See the License for the\n#  specific language governing permissions and limitations\n#  under the License.\nFROM jupyter/scipy-notebook:65761486d5d3\nRUN whoami\nARG REPOS_FOLDER=/repos\nUSER root\nRUN mkdir -p $REPOS_FOLDER\nRUN chown jovyan:users $REPOS_FOLDER\nUSER jovyan\nWORKDIR $REPOS_FOLDER\nRUN git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab\nWORKDIR $REPOS_FOLDER/jupyterlab\nRUN git checkout datalayer \\\n && jlpm install \\\n && jlpm build\nRUN pip install -e . \\\n && jupyter serverextension enable --py jupyterlab --sys-prefix\nRUN pip install datascience\nRUN jupyter lab build\nRUN pip install git+https://github.com/datalayer-contrib/jupyterhub-gitpuller \\\n && jupyter serverextension enable --py nbgitpuller --sys-prefix\nWORKDIR /home/jovyan\nUSER root\nRUN apt-get update \\\n && apt-get install -y iputils-ping iproute2 curl telnet\nUSER $NB_UID\nCOPY jupyter_notebook_config.py /etc/jupyter/jupyter_notebook_config.py\nUSER root\nRUN mkdir -p $REPOS_FOLDER\nRUN chown jovyan:users $REPOS_FOLDER\nRUN mkdir -p /home/jovyan/.jupyter/lab/workspaces\nRUN chown jovyan:users /home/jovyan/.jupyter\nUSER jovyan\nRUN conda install -y -c conda-forge yarn\nRUN cd ~ \\\n && git clone --depth 1 https://github.com/datalayer-contrib/data8-materials-fa17 --depth 1\nRUN jupyter labextension install @jupyterlab/google-drive --no-build\nRUN jupyter labextension install @jupyterlab/xkcd-extension --no-build\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-git.git --depth 1 \\\n && cd jupyterlab-git \\\n && git checkout datalayer \\\n && pip install -e . \\\n && jupyter serverextension enable --py jupyterlab_git --sys-prefix \\\n && jupyter labextension link --no-build\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-github.git --depth 1 \\\n && cd jupyterlab-github \\\n && pip install -e . \\\n && jupyter serverextension enable --py jupyterlab_github --sys-prefix \\\n && jupyter labextension link --no-build\n#  RUN cd $REPOS_FOLDER \\\n#      && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-github.git --depth 1 \\\n#      && cd jupyterlab-github \\\n#      && pip install -e . \\\n#      && jupyter serverextension enable --py jupyterlab_github --sys-prefix \\\n#      && jupyter labextension link --no-build\n#  RUN apt-get install -y texlive-xetex\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-latex.git --depth 1 \\\n && cd jupyterlab-latex \\\n && pip install -e . \\\n && jupyter serverextension enable --py jupyterlab_latex --sys-prefix \\\n && jupyter labextension link --no-build\n#     && sed -e \"s|file:/repos|file:/home/jovyan/.repos|g\" package.json > package.json.patched \\\n#     && rm package.json && mv package.json.patched package.json \\\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer/datalayer.git \\\n && cd $REPOS_FOLDER/datalayer/apps/library \\\n && make install \\\n && cd $REPOS_FOLDER \\\n && git clone https://github.com/datalayer/notebook.git \\\n && cd $REPOS_FOLDER/repos/notebook \\\n && make install \\\n && make build \\\n && make ext-enable\nWORKDIR /home/jovyan\nRUN jupyter lab build\n#  COPY drive.jupyterlab-settings $REPOS_FOLDER/jupyter/lab/user-settings/@jupyterlab/google-drive/drive.jupyterlab-settings\nCOPY drive.jupyterlab-settings /home/jovyan/.jupyter/lab/user-settings/@jupyterlab/google-drive/drive.jupyterlab-settings\n","injectedSmells":[],"originalDockerfileHash":"8170bd6b25cd29f22c1532c0d6a514e2","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Licensed to Datalayer (https://datalayer.io) under one or more\n#   contributor license agreements.  See the NOTICE file\n#   distributed with this work for additional information\n#   regarding copyright ownership. Datalayer licenses this file\n#   to you under the Apache License, Version 2.0 (the\n#   \"License\"); you may not use this file except in compliance\n#   with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing,\n#   software distributed under the License is distributed on an\n#   \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n#   KIND, either express or implied.  See the License for the\n#   specific language governing permissions and limitations\n#   under the License.\nFROM jupyter/scipy-notebook:65761486d5d3\nRUN whoami\nARG REPOS_FOLDER=/repos\nUSER root\nRUN mkdir -p $REPOS_FOLDER\nRUN chown jovyan:users $REPOS_FOLDER\nUSER jovyan\nWORKDIR $REPOS_FOLDER\nRUN git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab\nWORKDIR $REPOS_FOLDER/jupyterlab\nRUN git checkout datalayer \\\n && jlpm install \\\n && jlpm build\nRUN pip install -e . \\\n && jupyter serverextension enable --py jupyterlab --sys-prefix\nRUN pip install datascience\nRUN jupyter lab build\nRUN pip install git+https://github.com/datalayer-contrib/jupyterhub-gitpuller \\\n && jupyter serverextension enable --py nbgitpuller --sys-prefix\nWORKDIR /home/jovyan\nUSER root\nRUN apt-get update \\\n && apt-get install iputils-ping iproute2 curl telnet -y\nUSER $NB_UID\nCOPY jupyter_notebook_config.py /etc/jupyter/jupyter_notebook_config.py\nUSER root\nRUN mkdir -p $REPOS_FOLDER\nRUN chown jovyan:users $REPOS_FOLDER\nRUN mkdir -p /home/jovyan/.jupyter/lab/workspaces\nRUN chown jovyan:users /home/jovyan/.jupyter\nUSER jovyan\nRUN conda install -y -c conda-forge yarn\nRUN cd ~ \\\n && git clone --depth 1 https://github.com/datalayer-contrib/data8-materials-fa17 --depth 1\nRUN jupyter labextension install @jupyterlab/google-drive --no-build\nRUN jupyter labextension install @jupyterlab/xkcd-extension --no-build\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-git.git --depth 1 \\\n && cd jupyterlab-git \\\n && git checkout datalayer \\\n && pip install -e . \\\n && jupyter serverextension enable --py jupyterlab_git --sys-prefix \\\n && jupyter labextension link --no-build\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-github.git --depth 1 \\\n && cd jupyterlab-github \\\n && pip install -e . \\\n && jupyter serverextension enable --py jupyterlab_github --sys-prefix \\\n && jupyter labextension link --no-build\n#   RUN cd $REPOS_FOLDER \\\n#       && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-github.git --depth 1 \\\n#       && cd jupyterlab-github \\\n#       && pip install -e . \\\n#       && jupyter serverextension enable --py jupyterlab_github --sys-prefix \\\n#       && jupyter labextension link --no-build\n#   RUN apt-get install -y texlive-xetex\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer-contrib/jupyterlab-latex.git --depth 1 \\\n && cd jupyterlab-latex \\\n && pip install -e . \\\n && jupyter serverextension enable --py jupyterlab_latex --sys-prefix \\\n && jupyter labextension link --no-build\n#      && sed -e \"s|file:/repos|file:/home/jovyan/.repos|g\" package.json > package.json.patched \\\n#      && rm package.json && mv package.json.patched package.json \\\nRUN cd $REPOS_FOLDER \\\n && git clone --depth 1 https://github.com/datalayer/datalayer.git \\\n && cd $REPOS_FOLDER/datalayer/apps/library \\\n && make install \\\n && cd $REPOS_FOLDER \\\n && git clone https://github.com/datalayer/notebook.git \\\n && cd $REPOS_FOLDER/repos/notebook \\\n && make install \\\n && make build \\\n && make ext-enable\nWORKDIR /home/jovyan\nRUN jupyter lab build\n#   COPY drive.jupyterlab-settings $REPOS_FOLDER/jupyter/lab/user-settings/@jupyterlab/google-drive/drive.jupyterlab-settings\nCOPY drive.jupyterlab-settings /home/jovyan/.jupyter/lab/user-settings/@jupyterlab/google-drive/drive.jupyterlab-settings\n","originalDockerfileUglifiedHash":"868a5acf2b656d87e4f273dcdfda4a6d","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/547af7e10682df3dafe5422881da2d42931e1c24.dockerfile"}