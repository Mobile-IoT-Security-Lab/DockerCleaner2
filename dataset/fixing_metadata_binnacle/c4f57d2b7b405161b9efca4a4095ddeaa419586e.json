{"seed":3370891870,"processedDockerfileHash":"04aa71a35892b3f4dc6ccdb5d9dd572e","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-npm","pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"ARG BUILD_FROM=hassioaddons/base:4.0.1\n#   hadolint ignore=DL3006\nFROM ${BUILD_FROM}\n#   Add env\nENV LANG=\"C.UTF-8\" \\\n    TERM=\"xterm-256color\"\n#   Set shell\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\n#   Setup base\n#   hadolint ignore=DL4001\nARG BUILD_ARCH\nRUN apk add build-base=0.5-r1 g++=8.3.0-r0 libxml2-dev=2.9.9-r2 make=4.2.1-r2 openssl-dev=1.1.1c-r0 yarn=1.16.0-r0 --no-cache --virtual .build-dependencies \\\n && apk add bind-tools=9.14.1-r1 colordiff=1.0.18-r1 git=2.22.0-r0 libxml2-utils=2.9.9-r2 lua-resty-http=0.13-r0 mariadb-client=10.3.16-r0 mosquitto-clients=1.6.3-r0 ncurses=6.1_p20190518-r0 net-tools=1.60_git20140218-r2 nginx-mod-http-lua=1.16.0-r2 nginx=1.16.0-r2 nmap=7.70-r3 nodejs=10.16.0-r0 openssh-client=8.0_p1-r0 openssl=1.1.1c-r0 pwgen=2.08-r0 py2-pip=18.1-r0 python2=2.7.16-r1 sqlite=3.28.0-r0 sshfs=3.5.2-r0 sudo=1.8.27-r0 tmux=2.9a-r0 wget=1.20.3-r0 zip=3.0-r7 zsh-autosuggestions=0.6.1-r0 zsh-syntax-highlighting=0.6.0-r0 zsh=5.7.1-r0 --no-cache \\\n && pip install yamllint==1.16.0 --no-cache-dir \\\n && yarn global add npm@4.6.1 modclean \\\n && curl -L -s -o /usr/bin/hassio \"https://github.com/home-assistant/hassio-cli/releases/download/2.2.0/hassio_${BUILD_ARCH}\" \\\n && git clone --branch master --single-branch --depth 1 git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh \\\n && sed -i -e \"s#bin/ash#bin/zsh#\" /etc/passwd \\\n && git clone --branch master --single-branch https://github.com/c9/core.git /cloud9 \\\n && git -C /cloud9 checkout c4d1c59dc8d6619bdca3dbe740291cd5cd26352c \\\n && npm set unsafe-perm true \\\n && npm install node-gyp@3.8.0 -g \\\n && mkdir -p /root/.c9/node/bin \\\n && pushd /root/.c9/node/bin \\\n && ln -s \"$( command -v node ;)\" node \\\n && ln -s \"$( command -v npm ;)\" npm \\\n && popd \\\n && mkdir -p /root/.c9/bin \\\n && pushd /root/.c9/bin \\\n && ln -sf \"$( command -v tmux ;)\" tmux \\\n && popd \\\n && mkdir -p /root/.c9/node_modules \\\n && pushd /root/.c9 \\\n && npm install https://github.com/risacher/pty.js \\\n && npm install sqlite3@4.0.6 sequelize@2.0.0-beta.0 \\\n && npm install https://github.com/c9/nak/tarball/c9 \\\n && popd \\\n && echo 1 > /root/.c9/installed \\\n && /cloud9/scripts/install-sdk.sh \\\n && git -C /cloud9 reset HEAD --hard \\\n && rm -f -r /cloud9/.git \\\n && git -C /cloud9 init \\\n && git -C /cloud9 -c user.name=\"Franck Nijhof\" -c user.email=\"frenck@addons.community\" commit --allow-empty -m \"Hahaha Gotya!\" \\\n && modclean --path /cloud9 --no-progress --keep-empty --run \\\n && yarn global add npm \\\n && yarn global remove modclean \\\n && yarn cache clean \\\n && apk del --purge .build-dependencies \\\n && rm -f -r /tmp/*\n#   Copy root filesystem\nCOPY rootfs /\n#   Build arguments\nARG BUILD_DATE\nARG BUILD_REF\nARG BUILD_VERSION\n#   Labels\nLABEL io.hass.name=\"IDE\" \\\n      io.hass.description=\"Advanced IDE for Home Assistant, based on Cloud9 IDE\" \\\n      io.hass.arch=\"${BUILD_ARCH}\" \\\n      io.hass.type=\"addon\" \\\n      io.hass.version=\"${BUILD_VERSION}\" \\\n      maintainer=\"Franck Nijhof <frenck@addons.community>\" \\\n      org.label-schema.description=\"Advanced IDE for Home Assistant, based on Cloud9 IDE\" \\\n      org.label-schema.build-date=\"${BUILD_DATE}\" \\\n      org.label-schema.name=\"IDE\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      org.label-schema.url=\"https://community.home-assistant.io/t/community-hass-io-add-on-ide-based-on-cloud9/33810?u=frenck\" \\\n      org.label-schema.usage=\"https://github.com/hassio-addons/addon-ide/tree/master/README.md\" \\\n      org.label-schema.vcs-ref=\"${BUILD_REF}\" \\\n      org.label-schema.vcs-url=\"https://github.com/hassio-addons/addon-ide\" \\\n      org.label-schema.vendor=\"Community Hass.io Add-ons\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"ARG BUILD_FROM=hassioaddons/base:4.0.1\n#  hadolint ignore=DL3006\nFROM ${BUILD_FROM}\n#  Add env\nENV LANG=\"C.UTF-8\" \\\n    TERM=\"xterm-256color\"\n#  Set shell\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\n#  Setup base\n#  hadolint ignore=DL4001\nARG BUILD_ARCH\nRUN apk add --no-cache --virtual .build-dependencies build-base=0.5-r1 g++=8.3.0-r0 libxml2-dev=2.9.9-r2 make=4.2.1-r2 openssl-dev=1.1.1c-r0 yarn=1.16.0-r0 \\\n && apk add --no-cache bind-tools=9.14.1-r1 colordiff=1.0.18-r1 git=2.22.0-r0 libxml2-utils=2.9.9-r2 lua-resty-http=0.13-r0 mariadb-client=10.3.16-r0 mosquitto-clients=1.6.3-r0 ncurses=6.1_p20190518-r0 net-tools=1.60_git20140218-r2 nginx-mod-http-lua=1.16.0-r2 nginx=1.16.0-r2 nmap=7.70-r3 nodejs=10.16.0-r0 openssh-client=8.0_p1-r0 openssl=1.1.1c-r0 pwgen=2.08-r0 py2-pip=18.1-r0 python2=2.7.16-r1 sqlite=3.28.0-r0 sshfs=3.5.2-r0 sudo=1.8.27-r0 tmux=2.9a-r0 wget=1.20.3-r0 zip=3.0-r7 zsh-autosuggestions=0.6.1-r0 zsh-syntax-highlighting=0.6.0-r0 zsh=5.7.1-r0 \\\n && pip install yamllint==1.16.0 --no-cache-dir \\\n && yarn global add npm@4.6.1 modclean \\\n && curl -L -s -o /usr/bin/hassio \"https://github.com/home-assistant/hassio-cli/releases/download/2.2.0/hassio_${BUILD_ARCH}\" \\\n && git clone --branch master --single-branch --depth 1 git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh \\\n && sed -i -e \"s#bin/ash#bin/zsh#\" /etc/passwd \\\n && git clone --branch master --single-branch https://github.com/c9/core.git /cloud9 \\\n && git -C /cloud9 checkout c4d1c59dc8d6619bdca3dbe740291cd5cd26352c \\\n && npm set unsafe-perm true \\\n && npm install node-gyp@3.8.0 -g \\\n && mkdir -p /root/.c9/node/bin \\\n && pushd /root/.c9/node/bin \\\n && ln -s \"$( command -v node ;)\" node \\\n && ln -s \"$( command -v npm ;)\" npm \\\n && popd \\\n && mkdir -p /root/.c9/bin \\\n && pushd /root/.c9/bin \\\n && ln -sf \"$( command -v tmux ;)\" tmux \\\n && popd \\\n && mkdir -p /root/.c9/node_modules \\\n && pushd /root/.c9 \\\n && npm install https://github.com/risacher/pty.js \\\n && npm install sqlite3@4.0.6 sequelize@2.0.0-beta.0 \\\n && npm install https://github.com/c9/nak/tarball/c9 \\\n && popd \\\n && echo 1 > /root/.c9/installed \\\n && /cloud9/scripts/install-sdk.sh \\\n && git -C /cloud9 reset HEAD --hard \\\n && rm -f -r /cloud9/.git \\\n && git -C /cloud9 init \\\n && git -C /cloud9 -c user.name=\"Franck Nijhof\" -c user.email=\"frenck@addons.community\" commit --allow-empty -m \"Hahaha Gotya!\" \\\n && modclean --path /cloud9 --no-progress --keep-empty --run \\\n && yarn global add npm \\\n && yarn global remove modclean \\\n && yarn cache clean \\\n && apk del --purge .build-dependencies \\\n && rm -f -r /tmp/*\n#  Copy root filesystem\nCOPY rootfs /\n#  Build arguments\nARG BUILD_DATE\nARG BUILD_REF\nARG BUILD_VERSION\n#  Labels\nLABEL io.hass.name=\"IDE\" \\\n      io.hass.description=\"Advanced IDE for Home Assistant, based on Cloud9 IDE\" \\\n      io.hass.arch=\"${BUILD_ARCH}\" \\\n      io.hass.type=\"addon\" \\\n      io.hass.version=\"${BUILD_VERSION}\" \\\n      maintainer=\"Franck Nijhof <frenck@addons.community>\" \\\n      org.label-schema.description=\"Advanced IDE for Home Assistant, based on Cloud9 IDE\" \\\n      org.label-schema.build-date=\"${BUILD_DATE}\" \\\n      org.label-schema.name=\"IDE\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      org.label-schema.url=\"https://community.home-assistant.io/t/community-hass-io-add-on-ide-based-on-cloud9/33810?u=frenck\" \\\n      org.label-schema.usage=\"https://github.com/hassio-addons/addon-ide/tree/master/README.md\" \\\n      org.label-schema.vcs-ref=\"${BUILD_REF}\" \\\n      org.label-schema.vcs-url=\"https://github.com/hassio-addons/addon-ide\" \\\n      org.label-schema.vendor=\"Community Hass.io Add-ons\"\n","injectedSmells":[],"originalDockerfileHash":"4d354fb31a7f0b45d198f501c8ebba5e","successfullyInjectedSmells":[],"originalDockerfileUglified":"ARG BUILD_FROM=hassioaddons/base:4.0.1\n#   hadolint ignore=DL3006\nFROM ${BUILD_FROM}\n#   Add env\nENV LANG=\"C.UTF-8\" \\\n    TERM=\"xterm-256color\"\n#   Set shell\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\n#   Setup base\n#   hadolint ignore=DL4001\nARG BUILD_ARCH\nRUN apk add --no-cache --virtual .build-dependencies build-base=0.5-r1 g++=8.3.0-r0 libxml2-dev=2.9.9-r2 make=4.2.1-r2 openssl-dev=1.1.1c-r0 yarn=1.16.0-r0 \\\n && apk add --no-cache bind-tools=9.14.1-r1 colordiff=1.0.18-r1 git=2.22.0-r0 libxml2-utils=2.9.9-r2 lua-resty-http=0.13-r0 mariadb-client=10.3.16-r0 mosquitto-clients=1.6.3-r0 ncurses=6.1_p20190518-r0 net-tools=1.60_git20140218-r2 nginx-mod-http-lua=1.16.0-r2 nginx=1.16.0-r2 nmap=7.70-r3 nodejs=10.16.0-r0 openssh-client=8.0_p1-r0 openssl=1.1.1c-r0 pwgen=2.08-r0 py2-pip=18.1-r0 python2=2.7.16-r1 sqlite=3.28.0-r0 sshfs=3.5.2-r0 sudo=1.8.27-r0 tmux=2.9a-r0 wget=1.20.3-r0 zip=3.0-r7 zsh-autosuggestions=0.6.1-r0 zsh-syntax-highlighting=0.6.0-r0 zsh=5.7.1-r0 \\\n && pip install yamllint==1.16.0 --no-cache-dir \\\n && yarn global add npm@4.6.1 modclean \\\n && curl -L -s -o /usr/bin/hassio \"https://github.com/home-assistant/hassio-cli/releases/download/2.2.0/hassio_${BUILD_ARCH}\" \\\n && git clone --branch master --single-branch --depth 1 git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh \\\n && sed -i -e \"s#bin/ash#bin/zsh#\" /etc/passwd \\\n && git clone --branch master --single-branch https://github.com/c9/core.git /cloud9 \\\n && git -C /cloud9 checkout c4d1c59dc8d6619bdca3dbe740291cd5cd26352c \\\n && npm set unsafe-perm true \\\n && npm install node-gyp@3.8.0 -g \\\n && mkdir -p /root/.c9/node/bin \\\n && pushd /root/.c9/node/bin \\\n && ln -s \"$( command -v node ;)\" node \\\n && ln -s \"$( command -v npm ;)\" npm \\\n && popd \\\n && mkdir -p /root/.c9/bin \\\n && pushd /root/.c9/bin \\\n && ln -sf \"$( command -v tmux ;)\" tmux \\\n && popd \\\n && mkdir -p /root/.c9/node_modules \\\n && pushd /root/.c9 \\\n && npm install https://github.com/risacher/pty.js \\\n && npm install sqlite3@4.0.6 sequelize@2.0.0-beta.0 \\\n && npm install https://github.com/c9/nak/tarball/c9 \\\n && popd \\\n && echo 1 > /root/.c9/installed \\\n && /cloud9/scripts/install-sdk.sh \\\n && git -C /cloud9 reset HEAD --hard \\\n && rm -f -r /cloud9/.git \\\n && git -C /cloud9 init \\\n && git -C /cloud9 -c user.name=\"Franck Nijhof\" -c user.email=\"frenck@addons.community\" commit --allow-empty -m \"Hahaha Gotya!\" \\\n && modclean --path /cloud9 --no-progress --keep-empty --run \\\n && yarn global add npm \\\n && yarn global remove modclean \\\n && yarn cache clean \\\n && apk del --purge .build-dependencies \\\n && rm -f -r /tmp/*\n#   Copy root filesystem\nCOPY rootfs /\n#   Build arguments\nARG BUILD_DATE\nARG BUILD_REF\nARG BUILD_VERSION\n#   Labels\nLABEL io.hass.name=\"IDE\" \\\n      io.hass.description=\"Advanced IDE for Home Assistant, based on Cloud9 IDE\" \\\n      io.hass.arch=\"${BUILD_ARCH}\" \\\n      io.hass.type=\"addon\" \\\n      io.hass.version=\"${BUILD_VERSION}\" \\\n      maintainer=\"Franck Nijhof <frenck@addons.community>\" \\\n      org.label-schema.description=\"Advanced IDE for Home Assistant, based on Cloud9 IDE\" \\\n      org.label-schema.build-date=\"${BUILD_DATE}\" \\\n      org.label-schema.name=\"IDE\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      org.label-schema.url=\"https://community.home-assistant.io/t/community-hass-io-add-on-ide-based-on-cloud9/33810?u=frenck\" \\\n      org.label-schema.usage=\"https://github.com/hassio-addons/addon-ide/tree/master/README.md\" \\\n      org.label-schema.vcs-ref=\"${BUILD_REF}\" \\\n      org.label-schema.vcs-url=\"https://github.com/hassio-addons/addon-ide\" \\\n      org.label-schema.vendor=\"Community Hass.io Add-ons\"\n","originalDockerfileUglifiedHash":"b515f48f6ca493813a904d61597e8e72","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/c4f57d2b7b405161b9efca4a4095ddeaa419586e.dockerfile"}