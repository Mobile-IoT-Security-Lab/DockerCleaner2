{"seed":2948365569,"processedDockerfileHash":"036cc9eb9569a0d1159f01fb09b0809a","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","use-copy-instead-of-add","have-a-healthcheck"],"processedDockerfile":"FROM debian:stretch-slim\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Include dist\nCOPY dist/ /root/dist/\n#   Install dependencies and packages\nRUN apt-get update -y \\\n && apt-get dist-upgrade -y \\\n && apt-get install --no-install-recommends build-essential ca-certificates check cmake cython3 git libcap2-bin libcurl4-openssl-dev libemu-dev libev-dev libglib2.0-dev libloudmouth1-dev libnetfilter-queue-dev libnl-3-dev libpcap-dev libssl-dev libtool libudns-dev procps python3 python3-dev python3-bson python3-yaml ttf-liberation -y \\\n && git clone --depth=1 https://github.com/dinotools/dionaea -b 0.8.0 /root/dionaea/ \\\n && cd /root/dionaea \\\n && mkdir build \\\n && cd build \\\n && cmake -DCMAKE_INSTALL_PREFIX:PATH=/opt/dionaea .. \\\n && make \\\n && make install \\\n && addgroup --gid 2000 dionaea \\\n && adduser --system --no-create-home --shell /bin/bash --uid 2000 --disabled-password --disabled-login --gid 2000 dionaea \\\n && setcap cap_net_bind_service=+ep /opt/dionaea/bin/dionaea \\\n && chown -R dionaea:dionaea /opt/dionaea/var \\\n && rm -rf /opt/dionaea/etc/dionaea/* \\\n && mv /root/dist/etc/* /opt/dionaea/etc/dionaea/ \\\n && apt-get purge -y build-essential ca-certificates check cmake cython3 git libcurl4-openssl-dev libemu-dev libev-dev libglib2.0-dev libloudmouth1-dev libnetfilter-queue-dev libnl-3-dev libpcap-dev libssl-dev libtool libudns-dev python3 python3-dev python3-bson python3-yaml \\\n && apt-get install --no-install-recommends ca-certificates python3 python3-bson python3-yaml libcurl3 libemu2 libev4 libglib2.0-0 libnetfilter-queue1 libnl-3-200 libpcap0.8 libpython3.5 libudns0 -y \\\n && apt-get autoremove --purge -y \\\n && apt-get clean \\\n && rm -rf /root/* /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Start dionaea\nUSER dionaea:dionaea\nCMD [\"/opt/dionaea/bin/dionaea\", \"-u\", \"dionaea\", \"-g\", \"dionaea\", \"-c\", \"/opt/dionaea/etc/dionaea/dionaea.cfg\"]\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM debian:stretch-slim\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  Include dist\nADD dist/ /root/dist/\n#  Install dependencies and packages\nRUN apt-get update -y \\\n && apt-get dist-upgrade -y \\\n && apt-get install --no-install-recommends build-essential ca-certificates check cmake cython3 git libcap2-bin libcurl4-openssl-dev libemu-dev libev-dev libglib2.0-dev libloudmouth1-dev libnetfilter-queue-dev libnl-3-dev libpcap-dev libssl-dev libtool libudns-dev procps python3 python3-dev python3-bson python3-yaml ttf-liberation -y \\\n && git clone --depth=1 https://github.com/dinotools/dionaea -b 0.8.0 /root/dionaea/ \\\n && cd /root/dionaea \\\n && mkdir build \\\n && cd build \\\n && cmake -DCMAKE_INSTALL_PREFIX:PATH=/opt/dionaea .. \\\n && make \\\n && make install \\\n && addgroup --gid 2000 dionaea \\\n && adduser --system --no-create-home --shell /bin/bash --uid 2000 --disabled-password --disabled-login --gid 2000 dionaea \\\n && setcap cap_net_bind_service=+ep /opt/dionaea/bin/dionaea \\\n && chown -R dionaea:dionaea /opt/dionaea/var \\\n && rm -rf /opt/dionaea/etc/dionaea/* \\\n && mv /root/dist/etc/* /opt/dionaea/etc/dionaea/ \\\n && apt-get purge -y build-essential ca-certificates check cmake cython3 git libcurl4-openssl-dev libemu-dev libev-dev libglib2.0-dev libloudmouth1-dev libnetfilter-queue-dev libnl-3-dev libpcap-dev libssl-dev libtool libudns-dev python3 python3-dev python3-bson python3-yaml \\\n && apt-get install ca-certificates python3 python3-bson python3-yaml libcurl3 libemu2 libev4 libglib2.0-0 libnetfilter-queue1 libnl-3-200 libpcap0.8 libpython3.5 libudns0 -y \\\n && apt-get autoremove --purge -y \\\n && apt-get clean \\\n && rm -rf /root/* /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  Start dionaea\nUSER dionaea:dionaea\nCMD [\"/opt/dionaea/bin/dionaea\", \"-u\", \"dionaea\", \"-g\", \"dionaea\", \"-c\", \"/opt/dionaea/etc/dionaea/dionaea.cfg\"]\n","injectedSmells":[],"originalDockerfileHash":"214b17a95120cc190d977784afbc7d01","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM debian:stretch-slim\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Include dist\nADD dist/ /root/dist/\n#   Install dependencies and packages\nRUN apt-get update -y \\\n && apt-get dist-upgrade -y \\\n && apt-get install --no-install-recommends build-essential ca-certificates check cmake cython3 git libcap2-bin libcurl4-openssl-dev libemu-dev libev-dev libglib2.0-dev libloudmouth1-dev libnetfilter-queue-dev libnl-3-dev libpcap-dev libssl-dev libtool libudns-dev procps python3 python3-dev python3-bson python3-yaml ttf-liberation -y \\\n && git clone --depth=1 https://github.com/dinotools/dionaea -b 0.8.0 /root/dionaea/ \\\n && cd /root/dionaea \\\n && mkdir build \\\n && cd build \\\n && cmake -DCMAKE_INSTALL_PREFIX:PATH=/opt/dionaea .. \\\n && make \\\n && make install \\\n && addgroup --gid 2000 dionaea \\\n && adduser --system --no-create-home --shell /bin/bash --uid 2000 --disabled-password --disabled-login --gid 2000 dionaea \\\n && setcap cap_net_bind_service=+ep /opt/dionaea/bin/dionaea \\\n && chown -R dionaea:dionaea /opt/dionaea/var \\\n && rm -rf /opt/dionaea/etc/dionaea/* \\\n && mv /root/dist/etc/* /opt/dionaea/etc/dionaea/ \\\n && apt-get purge -y build-essential ca-certificates check cmake cython3 git libcurl4-openssl-dev libemu-dev libev-dev libglib2.0-dev libloudmouth1-dev libnetfilter-queue-dev libnl-3-dev libpcap-dev libssl-dev libtool libudns-dev python3 python3-dev python3-bson python3-yaml \\\n && apt-get install ca-certificates python3 python3-bson python3-yaml libcurl3 libemu2 libev4 libglib2.0-0 libnetfilter-queue1 libnl-3-200 libpcap0.8 libpython3.5 libudns0 -y \\\n && apt-get autoremove --purge -y \\\n && apt-get clean \\\n && rm -rf /root/* /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Start dionaea\nUSER dionaea:dionaea\nCMD [\"/opt/dionaea/bin/dionaea\", \"-u\", \"dionaea\", \"-g\", \"dionaea\", \"-c\", \"/opt/dionaea/etc/dionaea/dionaea.cfg\"]\n","originalDockerfileUglifiedHash":"55eefe3e0a7d6d03873248b7d0a81a2e","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/1e3952058dff18252728a37f275b5e56916d45d1.dockerfile"}