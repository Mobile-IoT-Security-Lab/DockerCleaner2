{"seed":2615889804,"processedDockerfileHash":"8e28a9615f0cbb55a252942fd3fb8e8c","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","have-a-healthcheck","have-a-user"],"processedDockerfile":"#     Copyright 2015 Ufora Inc.\n#\n#     Licensed under the Apache License, Version 2.0 (the \"License\");\n#     you may not use this file except in compliance with the License.\n#     You may obtain a copy of the License at\n#\n#         http://www.apache.org/licenses/LICENSE-2.0\n#\n#     Unless required by applicable law or agreed to in writing, software\n#     distributed under the License is distributed on an \"AS IS\" BASIS,\n#     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#     See the License for the specific language governing permissions and\n#     limitations under the License.\nFROM ubuntu:14.04\nMAINTAINER Ronen Hilewicz <ronen@ufora.com>\n#   This image is used to build Ufora packages on Ubuntu 14.04\n#   It includes a build of python that links against libtcmalloc.so\n#   APT package required to build and run Ufora\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends bison=2:3.0.2.dfsg-2 ccache=3.1.9-1 clang-3.5=1:3.5-4ubuntu2~trusty2 curl=7.35.0-1ubuntu2.20 gdb=7.7.1-0ubuntu5~14.04.3 gfortran=4:4.8.2-1ubuntu6 git=1:1.9.1-1ubuntu0.10 libblas-dev=1.2.20110419-7 libboost-date-time1.55-dev=1.55.0-1 libboost-filesystem1.55-dev=1.55.0-1 libboost-python1.55-dev=1.55.0-1 libboost-regex1.55-dev=1.55.0-1 libboost-thread1.55-dev=1.55.0-1 libboost-test1.55-dev=1.55.0-1 libclang-3.5-dev=1:3.5-4ubuntu2~trusty2 libffi-dev=3.1~rc1+r3.0.13-12ubuntu0.2 libgoogle-perftools-dev=2.1-2ubuntu1.1 liblapack-dev=3.5.0-2ubuntu1 libssl-dev=1.0.1f-1ubuntu2.27 ocaml=4.01.0-3ubuntu3.1 pkg-config=0.26-1ubuntu4 psmisc=22.20-1ubuntu2 rsync=3.1.0-2ubuntu0.4 software-properties-common=0.92.37.8 unixodbc-dev=2.2.14p2-5ubuntu5 wget=1.15-1ubuntu1.14.04.5 -y )\n#   Python 2.7.9 - built from source to link against libtcmalloc\nRUN apt-get build-dep -y python2.7 \\\n && cd /tmp \\\n && wget -nv https://www.python.org/ftp/python/2.7.9/Python-2.7.9.tar.xz \\\n && tar xf Python-2.7.9.tar.xz\nRUN cd /tmp/Python-2.7.9 \\\n && CC=clang-3.5 CXX=clang++-3.5 ./configure --prefix=/usr/local --enable-shared --with-libs='-ltcmalloc' --with-system-ffi --enable-ipv6 --enable-unicode=ucs4 --with-ensurepip=upgrade \\\n && make \\\n && make install \\\n && ldconfig \\\n && /usr/local/bin/python -m ensurepip \\\n && rm -rf /tmp/Python-2.7.9*\n#   Required python modules\nRUN pip install requests==2.28.2 boto==2.49.0 hdfs==2.7.0 nose==1.3.7 numpy==1.24.2 pyodbc==4.0.39 pexpect==4.8.0 pandas==2.0.0 scipy==1.10.1 wsaccel==0.6.4 psutil==5.9.4 jupyter==1.0.0 --allow-unverified pyodbc\n#   NodeJS\nRUN curl -sL https://deb.nodesource.com/setup_4.x | bash -\nRUN (apt-get update ;apt-get install --no-install-recommends nodejs=0.10.25~dfsg2-2ubuntu1.2 build-essential=11.6ubuntu6 -y ) \\\n && npm install coffee-script@1.10.0 mocha@2.3.3 forever@0.14.1 -g\nRUN echo \"ccache -M 10G\" >> /etc/bash.bashrc\nENV CCACHE_DIR=\"/volumes/ccache\"\nENV CCACHE_COMPILERCHECK=\"content\"\nRUN ln -s /usr/bin/clang-3.5 /usr/bin/clang\nRUN ln -s /usr/bin/clang++-3.5 /usr/bin/clang++\nRUN mkdir /var/core\n#  install CUDA\nRUN wget http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_7.5-18_amd64.deb\nRUN dpkg -i cuda-repo-ubuntu1404_7.5-18_amd64.deb\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends cuda-nvrtc-7-5 cuda-cudart-7-5 cuda-drivers=352.79-1 libcuda1-352=352.79-0ubuntu1 cuda-core-7-5 cuda-driver-dev-7-5 -y --force-yes )\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#    Copyright 2015 Ufora Inc.\n#\n#    Licensed under the Apache License, Version 2.0 (the \"License\");\n#    you may not use this file except in compliance with the License.\n#    You may obtain a copy of the License at\n#\n#        http://www.apache.org/licenses/LICENSE-2.0\n#\n#    Unless required by applicable law or agreed to in writing, software\n#    distributed under the License is distributed on an \"AS IS\" BASIS,\n#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#    See the License for the specific language governing permissions and\n#    limitations under the License.\nFROM ubuntu:14.04\nMAINTAINER Ronen Hilewicz <ronen@ufora.com>\n#  This image is used to build Ufora packages on Ubuntu 14.04\n#  It includes a build of python that links against libtcmalloc.so\n#  APT package required to build and run Ufora\nRUN apt-get update \\\n && apt-get install bison ccache clang-3.5 curl gdb gfortran git libblas-dev libboost-date-time1.55-dev libboost-filesystem1.55-dev libboost-python1.55-dev libboost-regex1.55-dev libboost-thread1.55-dev libboost-test1.55-dev libclang-3.5-dev libffi-dev libgoogle-perftools-dev liblapack-dev libssl-dev ocaml pkg-config psmisc rsync software-properties-common unixodbc-dev wget -y\n#  Python 2.7.9 - built from source to link against libtcmalloc\nRUN apt-get build-dep -y python2.7 \\\n && cd /tmp \\\n && wget -nv https://www.python.org/ftp/python/2.7.9/Python-2.7.9.tar.xz \\\n && tar xf Python-2.7.9.tar.xz\nRUN cd /tmp/Python-2.7.9 \\\n && CC=clang-3.5 CXX=clang++-3.5 ./configure --prefix=/usr/local --enable-shared --with-libs='-ltcmalloc' --with-system-ffi --enable-ipv6 --enable-unicode=ucs4 --with-ensurepip=upgrade \\\n && make \\\n && make install \\\n && ldconfig \\\n && /usr/local/bin/python -m ensurepip \\\n && rm -rf /tmp/Python-2.7.9*\n#  Required python modules\nRUN pip install requests boto hdfs nose numpy pyodbc pexpect pandas scipy wsaccel psutil jupyter --allow-unverified pyodbc\n#  NodeJS\nRUN curl -sL https://deb.nodesource.com/setup_4.x | bash -\nRUN apt-get install nodejs build-essential -y \\\n && npm install coffee-script@1.10.0 mocha@2.3.3 forever@0.14.1 -g\nRUN echo \"ccache -M 10G\" >> /etc/bash.bashrc\nENV CCACHE_DIR=\"/volumes/ccache\"\nENV CCACHE_COMPILERCHECK=\"content\"\nRUN ln -s /usr/bin/clang-3.5 /usr/bin/clang\nRUN ln -s /usr/bin/clang++-3.5 /usr/bin/clang++\nRUN mkdir /var/core\n# install CUDA\nRUN wget http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_7.5-18_amd64.deb\nRUN dpkg -i cuda-repo-ubuntu1404_7.5-18_amd64.deb\nRUN apt-get update\nRUN apt-get install --no-install-recommends cuda-nvrtc-7-5 cuda-cudart-7-5 cuda-drivers=352.79-1 libcuda1-352=352.79-0ubuntu1 cuda-core-7-5 cuda-driver-dev-7-5 -y --force-yes\n","injectedSmells":[],"originalDockerfileHash":"a8ff6530923a5aea86102f179beb4f8c","successfullyInjectedSmells":[],"originalDockerfileUglified":"#     Copyright 2015 Ufora Inc.\n#\n#     Licensed under the Apache License, Version 2.0 (the \"License\");\n#     you may not use this file except in compliance with the License.\n#     You may obtain a copy of the License at\n#\n#         http://www.apache.org/licenses/LICENSE-2.0\n#\n#     Unless required by applicable law or agreed to in writing, software\n#     distributed under the License is distributed on an \"AS IS\" BASIS,\n#     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#     See the License for the specific language governing permissions and\n#     limitations under the License.\nFROM ubuntu:14.04\nMAINTAINER Ronen Hilewicz <ronen@ufora.com>\n#   This image is used to build Ufora packages on Ubuntu 14.04\n#   It includes a build of python that links against libtcmalloc.so\n#   APT package required to build and run Ufora\nRUN apt-get update \\\n && apt-get install bison ccache clang-3.5 curl gdb gfortran git libblas-dev libboost-date-time1.55-dev libboost-filesystem1.55-dev libboost-python1.55-dev libboost-regex1.55-dev libboost-thread1.55-dev libboost-test1.55-dev libclang-3.5-dev libffi-dev libgoogle-perftools-dev liblapack-dev libssl-dev ocaml pkg-config psmisc rsync software-properties-common unixodbc-dev wget -y\n#   Python 2.7.9 - built from source to link against libtcmalloc\nRUN apt-get build-dep -y python2.7 \\\n && cd /tmp \\\n && wget -nv https://www.python.org/ftp/python/2.7.9/Python-2.7.9.tar.xz \\\n && tar xf Python-2.7.9.tar.xz\nRUN cd /tmp/Python-2.7.9 \\\n && CC=clang-3.5 CXX=clang++-3.5 ./configure --prefix=/usr/local --enable-shared --with-libs='-ltcmalloc' --with-system-ffi --enable-ipv6 --enable-unicode=ucs4 --with-ensurepip=upgrade \\\n && make \\\n && make install \\\n && ldconfig \\\n && /usr/local/bin/python -m ensurepip \\\n && rm -rf /tmp/Python-2.7.9*\n#   Required python modules\nRUN pip install requests boto hdfs nose numpy pyodbc pexpect pandas scipy wsaccel psutil jupyter --allow-unverified pyodbc\n#   NodeJS\nRUN curl -sL https://deb.nodesource.com/setup_4.x | bash -\nRUN apt-get install nodejs build-essential -y \\\n && npm install coffee-script@1.10.0 mocha@2.3.3 forever@0.14.1 -g\nRUN echo \"ccache -M 10G\" >> /etc/bash.bashrc\nENV CCACHE_DIR=\"/volumes/ccache\"\nENV CCACHE_COMPILERCHECK=\"content\"\nRUN ln -s /usr/bin/clang-3.5 /usr/bin/clang\nRUN ln -s /usr/bin/clang++-3.5 /usr/bin/clang++\nRUN mkdir /var/core\n#  install CUDA\nRUN wget http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_7.5-18_amd64.deb\nRUN dpkg -i cuda-repo-ubuntu1404_7.5-18_amd64.deb\nRUN apt-get update\nRUN apt-get install --no-install-recommends cuda-nvrtc-7-5 cuda-cudart-7-5 cuda-drivers=352.79-1 libcuda1-352=352.79-0ubuntu1 cuda-core-7-5 cuda-driver-dev-7-5 -y --force-yes\n","originalDockerfileUglifiedHash":"68e78da8d1ab148d6022cde99526a7a2","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/68b09821747043e454fa6ffa4f9b3418b8cc5cee.dockerfile"}