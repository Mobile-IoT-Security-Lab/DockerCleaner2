{"seed":1316844362,"processedDockerfileHash":"8d1efd22dc1a00d981f9e48598d1edc1","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","pin-package-manager-versions-npm","have-a-healthcheck","have-a-user"],"processedDockerfile":"ARG IMAGE_FROM=skycoin/skycoindev-cli:develop\nFROM $IMAGE_FROM\nARG BDATE\nARG SCOMMIT\nARG VS_EXTENSIONS\n#   Image labels (see ./hooks/build for ARGS)\nLABEL org.label-schema.name=\"skycoindev-cli\" \\\n      org.label-schema.description=\"Docker image with go, node, dev tools and Visual Studio Code for Skycoin developers\" \\\n      org.label-schema.vendor=\"Skycoin project\" \\\n      org.label-schema.url=\"skycoin.net\" \\\n      org.label-schema.version=\"1.0.0-rc.1\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      org.label-schema.build-date=\"$BDATE\" \\\n      org.label-schema.vcs-url=\"https://github.com/skycoin/skycoin.git\" \\\n      org.label-schema.vcs-ref=\"$SCOMMIT\" \\\n      org.label-schema.usage=\"https://github.com/skycoin/skycoin/blob/$SCOMMIT/docker/images/dev-vscode/README.md\" \\\n      org.label-schema.docker.cmd=\"xhost +; cd src; docker run --rm -it -v /tmp/.X11-unix:/tmp/.X11-unix -v $PWD:/go/src -w /go/src -e DISPLAY=$DISPLAY skycoin/skycoindev-vscode:develop\"\n#   Tell debconf to run in non-interactive mode\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Create a diferent user to run VS Code\nENV HOME=\"/home/skydev\"\nRUN useradd --create-home --home-dir $HOME skydev \\\n && chown -R skydev:skydev $HOME\n#   Install dependencies for vs code\n#   Create and assign permissions to `user` folders\n#   Install golang and npm necessaries dependencies to VS Code extensions\n#   Add the vscode debian repo\n#   Install VS Code extensions passed on build arg VS_EXTENSIONS\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https=2.6.0 ca-certificates=20230311 curl=7.88.1-7ubuntu1 gnupg=2.2.40-1ubuntu2 apt-utils=2.6.0 libasound2=1.2.8-1build1 libatk1.0-0=2.47.1-1 libcairo2=1.16.0-7 libcups2=2.4.2-1ubuntu4 libexpat1=2.5.0-1 libfontconfig1=2.14.1-3ubuntu3 libfreetype6=2.12.1+dfsg-4 libgtk2.0-0=2.24.33-2ubuntu2 libpango-1.0-0=1.50.12+ds-1 libx11-xcb1=2:1.8.4-2 libxcomposite1=1:0.4.5-1build2 libxcursor1=1:1.2.1-1 libxdamage1=1:1.1.6-1 libxext6=2:1.3.4-1build1 libxfixes3=1:6.0.0-2 libxi6=2:1.8-1build1 libxrandr2=2:1.5.2-2 libxrender1=1:0.9.10-1.1 libxss1=1:1.2.3-1build2 libxtst6=2:1.2.3-1.1 openssh-client=1:9.0p1-1ubuntu8 xdg-utils=1.1.3-4.1ubuntu3 dconf-editor=43.0-1 dbus-x11=1.14.4-1ubuntu1 libfile-mimeinfo-perl=0.33-1 xdg-user-dirs=0.18-1 xsel=1.2.0+git9bfc13d.20180109-3 -y \\\n && mkdir -p $HOME/.cache/dconf \\\n && mkdir -p $HOME/.config/dconf \\\n && chown skydev:skydev -R $HOME/.config \\\n && chown skydev:skydev -R $HOME/.cache \\\n && go get -v github.com/ramya-rao-a/go-outline \\\n && go get -v github.com/uudashr/gopkgs/cmd/gopkgs \\\n && go get -v github.com/acroca/go-symbols \\\n && go get -v github.com/stamblerre/gocode \\\n && go get -v github.com/ianthehat/godef \\\n && go get -v github.com/sqs/goreturns \\\n && ln -s /go/bin/gocode /go/bin/gocode-gomod \\\n && ln -s /go/bin/godef /go/bin/godef-gomod \\\n && npm install tslint@6.1.3 typescript@5.0.4 -g \\\n && curl -sSL https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor | apt-key add - \\\n && echo \"deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main\" > /etc/apt/sources.list.d/vscode.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends code -y \\\n && for ext in $VS_EXTENSIONS; do code --user-data-dir $HOME --install-extension $ext ; done \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\n#   Change to `skydev` and generate default user folders to avoid config problems in future\nUSER skydev\nRUN xdg-user-dirs-update --force\n#   Back to root user\nUSER root\n#   Copy start.sh script to use it as our Docker ENTRYPOINT\nCOPY ./start.sh /usr/local/bin/start.sh\n#   backwards compat\nRUN ln -s usr/local/bin/start.sh /\nWORKDIR $GOPATH/src/github.com/skycoin/\nENTRYPOINT [\"start.sh\"]\n#  CMD [ \"su\", \"skydev\", \"-p\", \"-c\", \"/usr/share/code/code\" ]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"ARG IMAGE_FROM=skycoin/skycoindev-cli:develop\nFROM $IMAGE_FROM\nARG BDATE\nARG SCOMMIT\nARG VS_EXTENSIONS\n#  Image labels (see ./hooks/build for ARGS)\nLABEL org.label-schema.name=\"skycoindev-cli\" \\\n      org.label-schema.description=\"Docker image with go, node, dev tools and Visual Studio Code for Skycoin developers\" \\\n      org.label-schema.vendor=\"Skycoin project\" \\\n      org.label-schema.url=\"skycoin.net\" \\\n      org.label-schema.version=\"1.0.0-rc.1\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      org.label-schema.build-date=\"$BDATE\" \\\n      org.label-schema.vcs-url=\"https://github.com/skycoin/skycoin.git\" \\\n      org.label-schema.vcs-ref=\"$SCOMMIT\" \\\n      org.label-schema.usage=\"https://github.com/skycoin/skycoin/blob/$SCOMMIT/docker/images/dev-vscode/README.md\" \\\n      org.label-schema.docker.cmd=\"xhost +; cd src; docker run --rm -it -v /tmp/.X11-unix:/tmp/.X11-unix -v $PWD:/go/src -w /go/src -e DISPLAY=$DISPLAY skycoin/skycoindev-vscode:develop\"\n#  Tell debconf to run in non-interactive mode\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  Create a diferent user to run VS Code\nENV HOME=\"/home/skydev\"\nRUN useradd --create-home --home-dir $HOME skydev \\\n && chown -R skydev:skydev $HOME\n#  Install dependencies for vs code\n#  Create and assign permissions to `user` folders\n#  Install golang and npm necessaries dependencies to VS Code extensions\n#  Add the vscode debian repo\n#  Install VS Code extensions passed on build arg VS_EXTENSIONS\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https ca-certificates curl gnupg apt-utils libasound2 libatk1.0-0 libcairo2 libcups2 libexpat1 libfontconfig1 libfreetype6 libgtk2.0-0 libpango-1.0-0 libx11-xcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 openssh-client xdg-utils dconf-editor dbus-x11 libfile-mimeinfo-perl xdg-user-dirs xsel -y \\\n && mkdir -p $HOME/.cache/dconf \\\n && mkdir -p $HOME/.config/dconf \\\n && chown skydev:skydev -R $HOME/.config \\\n && chown skydev:skydev -R $HOME/.cache \\\n && go get -v github.com/ramya-rao-a/go-outline \\\n && go get -v github.com/uudashr/gopkgs/cmd/gopkgs \\\n && go get -v github.com/acroca/go-symbols \\\n && go get -v github.com/stamblerre/gocode \\\n && go get -v github.com/ianthehat/godef \\\n && go get -v github.com/sqs/goreturns \\\n && ln -s /go/bin/gocode /go/bin/gocode-gomod \\\n && ln -s /go/bin/godef /go/bin/godef-gomod \\\n && npm install tslint typescript -g \\\n && curl -sSL https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor | apt-key add - \\\n && echo \"deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main\" > /etc/apt/sources.list.d/vscode.list \\\n && apt-get update \\\n && apt-get install code -y \\\n && for ext in $VS_EXTENSIONS; do code --user-data-dir $HOME --install-extension $ext ; done \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\n#  Change to `skydev` and generate default user folders to avoid config problems in future\nUSER skydev\nRUN xdg-user-dirs-update --force\n#  Back to root user\nUSER root\n#  Copy start.sh script to use it as our Docker ENTRYPOINT\nCOPY ./start.sh /usr/local/bin/start.sh\n#  backwards compat\nRUN ln -s usr/local/bin/start.sh /\nWORKDIR $GOPATH/src/github.com/skycoin/\nENTRYPOINT [\"start.sh\"]\n# CMD [ \"su\", \"skydev\", \"-p\", \"-c\", \"/usr/share/code/code\" ]\n","injectedSmells":[],"originalDockerfileHash":"fcc07902dd4315b97d3562e04e7d734a","successfullyInjectedSmells":[],"originalDockerfileUglified":"ARG IMAGE_FROM=skycoin/skycoindev-cli:develop\nFROM $IMAGE_FROM\nARG BDATE\nARG SCOMMIT\nARG VS_EXTENSIONS\n#   Image labels (see ./hooks/build for ARGS)\nLABEL org.label-schema.name=\"skycoindev-cli\" \\\n      org.label-schema.description=\"Docker image with go, node, dev tools and Visual Studio Code for Skycoin developers\" \\\n      org.label-schema.vendor=\"Skycoin project\" \\\n      org.label-schema.url=\"skycoin.net\" \\\n      org.label-schema.version=\"1.0.0-rc.1\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      org.label-schema.build-date=\"$BDATE\" \\\n      org.label-schema.vcs-url=\"https://github.com/skycoin/skycoin.git\" \\\n      org.label-schema.vcs-ref=\"$SCOMMIT\" \\\n      org.label-schema.usage=\"https://github.com/skycoin/skycoin/blob/$SCOMMIT/docker/images/dev-vscode/README.md\" \\\n      org.label-schema.docker.cmd=\"xhost +; cd src; docker run --rm -it -v /tmp/.X11-unix:/tmp/.X11-unix -v $PWD:/go/src -w /go/src -e DISPLAY=$DISPLAY skycoin/skycoindev-vscode:develop\"\n#   Tell debconf to run in non-interactive mode\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Create a diferent user to run VS Code\nENV HOME=\"/home/skydev\"\nRUN useradd --create-home --home-dir $HOME skydev \\\n && chown -R skydev:skydev $HOME\n#   Install dependencies for vs code\n#   Create and assign permissions to `user` folders\n#   Install golang and npm necessaries dependencies to VS Code extensions\n#   Add the vscode debian repo\n#   Install VS Code extensions passed on build arg VS_EXTENSIONS\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https ca-certificates curl gnupg apt-utils libasound2 libatk1.0-0 libcairo2 libcups2 libexpat1 libfontconfig1 libfreetype6 libgtk2.0-0 libpango-1.0-0 libx11-xcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 openssh-client xdg-utils dconf-editor dbus-x11 libfile-mimeinfo-perl xdg-user-dirs xsel -y \\\n && mkdir -p $HOME/.cache/dconf \\\n && mkdir -p $HOME/.config/dconf \\\n && chown skydev:skydev -R $HOME/.config \\\n && chown skydev:skydev -R $HOME/.cache \\\n && go get -v github.com/ramya-rao-a/go-outline \\\n && go get -v github.com/uudashr/gopkgs/cmd/gopkgs \\\n && go get -v github.com/acroca/go-symbols \\\n && go get -v github.com/stamblerre/gocode \\\n && go get -v github.com/ianthehat/godef \\\n && go get -v github.com/sqs/goreturns \\\n && ln -s /go/bin/gocode /go/bin/gocode-gomod \\\n && ln -s /go/bin/godef /go/bin/godef-gomod \\\n && npm install tslint typescript -g \\\n && curl -sSL https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor | apt-key add - \\\n && echo \"deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main\" > /etc/apt/sources.list.d/vscode.list \\\n && apt-get update \\\n && apt-get install code -y \\\n && for ext in $VS_EXTENSIONS; do code --user-data-dir $HOME --install-extension $ext ; done \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\n#   Change to `skydev` and generate default user folders to avoid config problems in future\nUSER skydev\nRUN xdg-user-dirs-update --force\n#   Back to root user\nUSER root\n#   Copy start.sh script to use it as our Docker ENTRYPOINT\nCOPY ./start.sh /usr/local/bin/start.sh\n#   backwards compat\nRUN ln -s usr/local/bin/start.sh /\nWORKDIR $GOPATH/src/github.com/skycoin/\nENTRYPOINT [\"start.sh\"]\n#  CMD [ \"su\", \"skydev\", \"-p\", \"-c\", \"/usr/share/code/code\" ]\n","originalDockerfileUglifiedHash":"285443b8d5d0e7aef09b8f27a98e1670","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/27f0d7f62c25ae78ed2a5d29463c1768d71673af.dockerfile"}