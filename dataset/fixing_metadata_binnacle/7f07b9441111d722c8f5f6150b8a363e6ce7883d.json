{"seed":860537400,"processedDockerfileHash":"dfcf5730964c17ab4744039c700b0f12","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:16.04\nMAINTAINER Tiago Antao <tra@popgen.net>\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  We need this for phylip\nRUN echo 'deb http://archive.ubuntu.com/ubuntu xenial multiverse' >> /etc/apt/sources.list \\\n && apt-get update \\\n && apt-get upgrade -y --force-yes \\\n && apt-get install --no-install-recommends build-essential=12.1ubuntu2 git=1:2.7.4-0ubuntu1.10 python3-numpy=1:1.11.0-1ubuntu1 wget=1.17.1-1ubuntu1.5 gcc=4:5.3.1-1ubuntu1 g++=4:5.3.1-1ubuntu1 python3-dev=3.5.1-3 unzip=6.0-20ubuntu1.1 make=4.1-6 python3-matplotlib=1.5.1-1ubuntu1 python3-reportlab=3.3.0-1ubuntu0.1 python3-pip=8.1.1-2ubuntu0.6 r-base=3.2.3-4 clustalw=2.1+lgpl-4 fasttree=2.1.8-2 t-coffee=11.00.8cbe486-2 python3-pil=3.1.2-0ubuntu1.6 bwa=0.7.12-5 ncbi-blast+=2.2.31-4 emboss=6.6.0+dfsg-3build1 clustalo=1.2.1-2 phylip=1:3.696+dfsg-2 mafft=7.271-1 muscle=1:3.8.31+dfsg-1 samtools=0.1.19-1ubuntu1 phyml=3:3.2.0+dfsg-1 wise=2.4.1-17 raxml=8.2.4-1 language-pack-en=1:16.04+20161009 paml=4.8+dfsg-1 probcons=1.12-10 python3-pandas=0.17.1-3ubuntu2 python3.5-dev=3.5.2-2ubuntu0~16.04.13 libxft-dev=2.3.2-1 -y --force-yes \\\n && apt-get clean\n#  for Phylo_CDAO\n#   RUN pip3 install pip --upgrade\nRUN pip3 install rdflib --upgrade \\\n && pip3 install cython --upgrade \\\n && pip3 install numpy --upgrade \\\n && pip3 install Pillow --upgrade \\\n && pip3 install matplotlib --upgrade \\\n && pip3 install pandas --upgrade\n#  Manual software\nRUN echo \"export DIALIGN2_DIR=/tmp\" >> .bashrc\n#  reportlab fonts\nRUN wget http://www.reportlab.com/ftp/fonts/pfbfer.zip\nWORKDIR cd /usr/lib/python3.4/dist-packages/reportlab\nRUN mkdir fonts\nWORKDIR cd /usr/lib/python3.4/dist-packages/reportlab/fonts\nRUN unzip /pfbfer.zip \\\n && mkdir -p /usr/lib/python3.5/dist-packages/reportlab/fonts\nWORKDIR /usr/lib/python3.5/dist-packages/reportlab/fonts\nRUN unzip /pfbfer.zip\nWORKDIR /\nRUN rm pfbfer.zip\n#  genepop\nRUN mkdir genepop\nWORKDIR /genepop\nRUN wget http://kimura.univ-montp2.fr/~rousset/sources.tar.gz \\\n && tar zxf sources.tar.gz \\\n && g++ -DNO_MODULES -o Genepop GenepopS.cpp -O3 \\\n && cp Genepop /usr/bin\nWORKDIR /\nRUN rm -rf genepop\n#  fdist\nRUN mkdir fdist2\nWORKDIR /fdist2\nRUN wget http://www.maths.bris.ac.uk/~mamab/software/fdist2.zip \\\n && unzip fdist2.zip \\\n && gcc -o fdist2 -O fdist2.c -lm \\\n && gcc -o cplot -O cplot.c as100.c as99.c -lm \\\n && gcc -o pv -O pv.c as100.c as99.c -lm \\\n && gcc -o datacal -O datacal.c -lm \\\n && cp datacal pv cplot fdist2 /usr/bin\nWORKDIR /\nRUN rm -rf fdist2\n#  dfdist\nRUN wget http://www.maths.bris.ac.uk/~mamab/stuff/Dfdist_a.zip \\\n && unzip Dfdist_a\nWORKDIR Dfdist_a\nRUN gcc -O -o Ddatacal Ddatacal.c -lm \\\n && gcc -O -o Dfdist Dfdist.c -lm \\\n && gcc -O -o pv2 pv2.c -lm \\\n && gcc -O -o cplot2 cplot2.c -lm \\\n && cp pv2 Dfdist Ddatacal cplot2 /usr/bin\nWORKDIR /\nRUN rm -rf Dfdist_a*\n#  msaprobs\nRUN wget \"http://sourceforge.net/projects/msaprobs/files/latest/download?source=files\" -O MSA.tar.gz \\\n && tar zxf MSA.tar.gz\nWORKDIR /MSAProbs-0.9.7/MSAProbs\nRUN make \\\n && cp msaprobs /usr/bin\nWORKDIR /\n#  fastsimcoal\nRUN wget http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc_linux64.zip \\\n && unzip fsc_linux64.zip \\\n && chmod a+x fsc_linux64/fsc25221 \\\n && cp fsc_linux64/fsc25221 /usr/bin/fsc252 \\\n && rm -rf fsc_*\n#  DSSP\nRUN wget ftp://ftp.cmbi.ru.nl/pub/software/dssp/dssp-2.0.4-linux-amd64 \\\n && mv dssp-2.0.4-linux-amd64 /usr/bin/dssp \\\n && chmod a+x /usr/bin/dssp\n#  XXmotif\nWORKDIR /usr/local/bin\nRUN wget \"http://xxmotif.genzentrum.lmu.de/index.php?id=download&version=64\" -O xx.tar.gz \\\n && tar zxf xx.tar.gz \\\n && rm xx.tar.gz\nWORKDIR /\nENV PYTHON_PATH=\"/biopython\"\n#  Biopython\nRUN git clone https://github.com/biopython/biopython.git\nWORKDIR /biopython\nRUN python3.5 setup.py install\n#  set default python version to 3.5\nRUN touch ~/.bash_aliases \\\n && echo alias python='python3.5' > ~/.bash_aliases\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:16.04\nMAINTAINER Tiago Antao <tra@popgen.net>\nENV DEBIAN_FRONTEND=\"noninteractive\"\n# We need this for phylip\nRUN echo 'deb http://archive.ubuntu.com/ubuntu xenial multiverse' >> /etc/apt/sources.list \\\n && apt-get update \\\n && apt-get upgrade -y --force-yes \\\n && apt-get install build-essential git python3-numpy wget gcc g++ python3-dev unzip make python3-matplotlib python3-reportlab python3-pip r-base clustalw fasttree t-coffee python3-pil bwa ncbi-blast+ emboss clustalo phylip mafft muscle samtools phyml wise raxml language-pack-en paml probcons python3-pandas python3.5-dev libxft-dev -y --force-yes \\\n && apt-get clean\n# for Phylo_CDAO\n#  RUN pip3 install pip --upgrade\nRUN pip3 install rdflib --upgrade \\\n && pip3 install cython --upgrade \\\n && pip3 install numpy --upgrade \\\n && pip3 install Pillow --upgrade \\\n && pip3 install matplotlib --upgrade \\\n && pip3 install pandas --upgrade\n# Manual software\nRUN echo \"export DIALIGN2_DIR=/tmp\" >> .bashrc\n# reportlab fonts\nRUN wget http://www.reportlab.com/ftp/fonts/pfbfer.zip\nWORKDIR cd /usr/lib/python3.4/dist-packages/reportlab\nRUN mkdir fonts\nWORKDIR cd /usr/lib/python3.4/dist-packages/reportlab/fonts\nRUN unzip /pfbfer.zip \\\n && mkdir -p /usr/lib/python3.5/dist-packages/reportlab/fonts\nWORKDIR /usr/lib/python3.5/dist-packages/reportlab/fonts\nRUN unzip /pfbfer.zip\nWORKDIR /\nRUN rm pfbfer.zip\n# genepop\nRUN mkdir genepop\nWORKDIR /genepop\nRUN wget http://kimura.univ-montp2.fr/~rousset/sources.tar.gz \\\n && tar zxf sources.tar.gz \\\n && g++ -DNO_MODULES -o Genepop GenepopS.cpp -O3 \\\n && cp Genepop /usr/bin\nWORKDIR /\nRUN rm -rf genepop\n# fdist\nRUN mkdir fdist2\nWORKDIR /fdist2\nRUN wget http://www.maths.bris.ac.uk/~mamab/software/fdist2.zip \\\n && unzip fdist2.zip \\\n && gcc -o fdist2 -O fdist2.c -lm \\\n && gcc -o cplot -O cplot.c as100.c as99.c -lm \\\n && gcc -o pv -O pv.c as100.c as99.c -lm \\\n && gcc -o datacal -O datacal.c -lm \\\n && cp datacal pv cplot fdist2 /usr/bin\nWORKDIR /\nRUN rm -rf fdist2\n# dfdist\nRUN wget http://www.maths.bris.ac.uk/~mamab/stuff/Dfdist_a.zip \\\n && unzip Dfdist_a\nWORKDIR Dfdist_a\nRUN gcc -O -o Ddatacal Ddatacal.c -lm \\\n && gcc -O -o Dfdist Dfdist.c -lm \\\n && gcc -O -o pv2 pv2.c -lm \\\n && gcc -O -o cplot2 cplot2.c -lm \\\n && cp pv2 Dfdist Ddatacal cplot2 /usr/bin\nWORKDIR /\nRUN rm -rf Dfdist_a*\n# msaprobs\nRUN wget \"http://sourceforge.net/projects/msaprobs/files/latest/download?source=files\" -O MSA.tar.gz \\\n && tar zxf MSA.tar.gz\nWORKDIR /MSAProbs-0.9.7/MSAProbs\nRUN make \\\n && cp msaprobs /usr/bin\nWORKDIR /\n# fastsimcoal\nRUN wget http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc_linux64.zip \\\n && unzip fsc_linux64.zip \\\n && chmod a+x fsc_linux64/fsc25221 \\\n && cp fsc_linux64/fsc25221 /usr/bin/fsc252 \\\n && rm -rf fsc_*\n# DSSP\nRUN wget ftp://ftp.cmbi.ru.nl/pub/software/dssp/dssp-2.0.4-linux-amd64 \\\n && mv dssp-2.0.4-linux-amd64 /usr/bin/dssp \\\n && chmod a+x /usr/bin/dssp\n# XXmotif\nWORKDIR /usr/local/bin\nRUN wget \"http://xxmotif.genzentrum.lmu.de/index.php?id=download&version=64\" -O xx.tar.gz \\\n && tar zxf xx.tar.gz \\\n && rm xx.tar.gz\nWORKDIR /\nENV PYTHON_PATH=\"/biopython\"\n# Biopython\nRUN git clone https://github.com/biopython/biopython.git\nWORKDIR /biopython\nRUN python3.5 setup.py install\n# set default python version to 3.5\nRUN touch ~/.bash_aliases \\\n && echo alias python='python3.5' > ~/.bash_aliases\n","injectedSmells":[],"originalDockerfileHash":"ecb3a5b4ec251051390d64fa334ac238","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:16.04\nMAINTAINER Tiago Antao <tra@popgen.net>\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  We need this for phylip\nRUN echo 'deb http://archive.ubuntu.com/ubuntu xenial multiverse' >> /etc/apt/sources.list \\\n && apt-get update \\\n && apt-get upgrade -y --force-yes \\\n && apt-get install build-essential git python3-numpy wget gcc g++ python3-dev unzip make python3-matplotlib python3-reportlab python3-pip r-base clustalw fasttree t-coffee python3-pil bwa ncbi-blast+ emboss clustalo phylip mafft muscle samtools phyml wise raxml language-pack-en paml probcons python3-pandas python3.5-dev libxft-dev -y --force-yes \\\n && apt-get clean\n#  for Phylo_CDAO\n#   RUN pip3 install pip --upgrade\nRUN pip3 install rdflib --upgrade \\\n && pip3 install cython --upgrade \\\n && pip3 install numpy --upgrade \\\n && pip3 install Pillow --upgrade \\\n && pip3 install matplotlib --upgrade \\\n && pip3 install pandas --upgrade\n#  Manual software\nRUN echo \"export DIALIGN2_DIR=/tmp\" >> .bashrc\n#  reportlab fonts\nRUN wget http://www.reportlab.com/ftp/fonts/pfbfer.zip\nWORKDIR cd /usr/lib/python3.4/dist-packages/reportlab\nRUN mkdir fonts\nWORKDIR cd /usr/lib/python3.4/dist-packages/reportlab/fonts\nRUN unzip /pfbfer.zip \\\n && mkdir -p /usr/lib/python3.5/dist-packages/reportlab/fonts\nWORKDIR /usr/lib/python3.5/dist-packages/reportlab/fonts\nRUN unzip /pfbfer.zip\nWORKDIR /\nRUN rm pfbfer.zip\n#  genepop\nRUN mkdir genepop\nWORKDIR /genepop\nRUN wget http://kimura.univ-montp2.fr/~rousset/sources.tar.gz \\\n && tar zxf sources.tar.gz \\\n && g++ -DNO_MODULES -o Genepop GenepopS.cpp -O3 \\\n && cp Genepop /usr/bin\nWORKDIR /\nRUN rm -rf genepop\n#  fdist\nRUN mkdir fdist2\nWORKDIR /fdist2\nRUN wget http://www.maths.bris.ac.uk/~mamab/software/fdist2.zip \\\n && unzip fdist2.zip \\\n && gcc -o fdist2 -O fdist2.c -lm \\\n && gcc -o cplot -O cplot.c as100.c as99.c -lm \\\n && gcc -o pv -O pv.c as100.c as99.c -lm \\\n && gcc -o datacal -O datacal.c -lm \\\n && cp datacal pv cplot fdist2 /usr/bin\nWORKDIR /\nRUN rm -rf fdist2\n#  dfdist\nRUN wget http://www.maths.bris.ac.uk/~mamab/stuff/Dfdist_a.zip \\\n && unzip Dfdist_a\nWORKDIR Dfdist_a\nRUN gcc -O -o Ddatacal Ddatacal.c -lm \\\n && gcc -O -o Dfdist Dfdist.c -lm \\\n && gcc -O -o pv2 pv2.c -lm \\\n && gcc -O -o cplot2 cplot2.c -lm \\\n && cp pv2 Dfdist Ddatacal cplot2 /usr/bin\nWORKDIR /\nRUN rm -rf Dfdist_a*\n#  msaprobs\nRUN wget \"http://sourceforge.net/projects/msaprobs/files/latest/download?source=files\" -O MSA.tar.gz \\\n && tar zxf MSA.tar.gz\nWORKDIR /MSAProbs-0.9.7/MSAProbs\nRUN make \\\n && cp msaprobs /usr/bin\nWORKDIR /\n#  fastsimcoal\nRUN wget http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc_linux64.zip \\\n && unzip fsc_linux64.zip \\\n && chmod a+x fsc_linux64/fsc25221 \\\n && cp fsc_linux64/fsc25221 /usr/bin/fsc252 \\\n && rm -rf fsc_*\n#  DSSP\nRUN wget ftp://ftp.cmbi.ru.nl/pub/software/dssp/dssp-2.0.4-linux-amd64 \\\n && mv dssp-2.0.4-linux-amd64 /usr/bin/dssp \\\n && chmod a+x /usr/bin/dssp\n#  XXmotif\nWORKDIR /usr/local/bin\nRUN wget \"http://xxmotif.genzentrum.lmu.de/index.php?id=download&version=64\" -O xx.tar.gz \\\n && tar zxf xx.tar.gz \\\n && rm xx.tar.gz\nWORKDIR /\nENV PYTHON_PATH=\"/biopython\"\n#  Biopython\nRUN git clone https://github.com/biopython/biopython.git\nWORKDIR /biopython\nRUN python3.5 setup.py install\n#  set default python version to 3.5\nRUN touch ~/.bash_aliases \\\n && echo alias python='python3.5' > ~/.bash_aliases\n","originalDockerfileUglifiedHash":"7221963c49dd87b8816a9819251c3524","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/7f07b9441111d722c8f5f6150b8a363e6ce7883d.dockerfile"}