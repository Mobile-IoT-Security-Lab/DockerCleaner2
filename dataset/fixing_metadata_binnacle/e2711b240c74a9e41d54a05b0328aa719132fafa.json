{"seed":991137764,"processedDockerfileHash":"de9e36c681364466a7dfe00ea0a72968","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM golang:1.12-alpine3.9\nLABEL maintainer=\"Denis Makogon. mail: lildee1991@gmail.com\"\nENV FFMPEG_VERSION=\"4.1.1\"\nENV FFMPEG_CORE=\"bash  tzdata  libass  libstdc++  libpng  libjpeg  xvidcore  x264-libs  x265  libvpx  libvorbis  opus  lame  fdk-aac  freetype  libressl  jasper-libs  libavc1394  yasm\"\nENV RUNTIME_DEPS=\"coreutils  make  cmake  gcc  g++  clang  linux-headers  git  curl\"\nENV BUILD_DEPS=\"fdk-aac-dev  freetype-dev  x264-dev  x265-dev  yasm-dev  libogg-dev  libvorbis-dev  opus-dev  libvpx-dev  lame-dev  xvidcore-dev  libass-dev  libressl-dev  musl-dev  build-base  libjpeg-turbo-dev  libpng-dev  jasper-dev  libavc1394-dev  libavc1394-dev  clang-dev\"\n#   FFMPEG\nRUN apk update \\\n && apk add apk-tools=2.10.6-r0 --no-cache \\\n && echo http://nl.alpinelinux.org/alpine/edge/testing >> /etc/apk/repositories \\\n && apk update \\\n && apk add ${RUNTIME_DEPS} --no-cache --virtual .runtime-deps \\\n && apk add ${FFMPEG_CORE} --no-cache \\\n && apk add ${BUILD_DEPS} --no-cache --virtual .build-deps \\\n && export SRC=/usr DIR=$( mktemp -d ;) \\\n && cd ${DIR} \\\n && curl -Os http://ffmpeg.org/releases/ffmpeg-${FFMPEG_VERSION}.tar.gz \\\n && tar xzvf ffmpeg-${FFMPEG_VERSION}.tar.gz \\\n && cd ffmpeg-${FFMPEG_VERSION} \\\n && ./configure --prefix=\"${SRC}\" --extra-cflags=\"-I${SRC}/include\" --extra-ldflags=\"-L${SRC}/lib\" --bindir=\"${SRC}/bin\" --extra-libs=-ldl --enable-version3 --enable-libmp3lame --enable-pthreads --enable-libx264 --enable-libxvid --enable-gpl --enable-postproc --enable-nonfree --enable-avresample --enable-libfdk-aac --disable-debug --enable-small --enable-libtls --enable-libx265 --enable-libopus --enable-libvorbis --enable-libvpx --enable-libfreetype --enable-libass --enable-shared --enable-pic \\\n && make \\\n && make install \\\n && make distclean \\\n && hash -r \\\n && cd /tmp \\\n && rm -rf ${DIR} \\\n && apk del .build-deps \\\n && apk del .runtime-deps \\\n && rm -rf /var/cache/apk/*\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM golang:1.12-alpine3.9\nLABEL maintainer=\"Denis Makogon. mail: lildee1991@gmail.com\"\nENV FFMPEG_VERSION=\"4.1.1\"\nENV FFMPEG_CORE=\"bash  tzdata  libass  libstdc++  libpng  libjpeg  xvidcore  x264-libs  x265  libvpx  libvorbis  opus  lame  fdk-aac  freetype  libressl  jasper-libs  libavc1394  yasm\"\nENV RUNTIME_DEPS=\"coreutils  make  cmake  gcc  g++  clang  linux-headers  git  curl\"\nENV BUILD_DEPS=\"fdk-aac-dev  freetype-dev  x264-dev  x265-dev  yasm-dev  libogg-dev  libvorbis-dev  opus-dev  libvpx-dev  lame-dev  xvidcore-dev  libass-dev  libressl-dev  musl-dev  build-base  libjpeg-turbo-dev  libpng-dev  jasper-dev  libavc1394-dev  libavc1394-dev  clang-dev\"\n#  FFMPEG\nRUN apk update \\\n && apk add --no-cache apk-tools \\\n && echo http://nl.alpinelinux.org/alpine/edge/testing >> /etc/apk/repositories \\\n && apk update \\\n && apk add --no-cache --virtual .runtime-deps ${RUNTIME_DEPS} \\\n && apk add --no-cache ${FFMPEG_CORE} \\\n && apk add --no-cache --virtual .build-deps ${BUILD_DEPS} \\\n && export SRC=/usr DIR=$( mktemp -d ;) \\\n && cd ${DIR} \\\n && curl -Os http://ffmpeg.org/releases/ffmpeg-${FFMPEG_VERSION}.tar.gz \\\n && tar xzvf ffmpeg-${FFMPEG_VERSION}.tar.gz \\\n && cd ffmpeg-${FFMPEG_VERSION} \\\n && ./configure --prefix=\"${SRC}\" --extra-cflags=\"-I${SRC}/include\" --extra-ldflags=\"-L${SRC}/lib\" --bindir=\"${SRC}/bin\" --extra-libs=-ldl --enable-version3 --enable-libmp3lame --enable-pthreads --enable-libx264 --enable-libxvid --enable-gpl --enable-postproc --enable-nonfree --enable-avresample --enable-libfdk-aac --disable-debug --enable-small --enable-libtls --enable-libx265 --enable-libopus --enable-libvorbis --enable-libvpx --enable-libfreetype --enable-libass --enable-shared --enable-pic \\\n && make \\\n && make install \\\n && make distclean \\\n && hash -r \\\n && cd /tmp \\\n && rm -rf ${DIR} \\\n && apk del .build-deps \\\n && apk del .runtime-deps \\\n && rm -rf /var/cache/apk/*\n","injectedSmells":[],"originalDockerfileHash":"989099ad4008b1127d2fe9493b138fe4","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM golang:1.12-alpine3.9\nLABEL maintainer=\"Denis Makogon. mail: lildee1991@gmail.com\"\nENV FFMPEG_VERSION=\"4.1.1\"\nENV FFMPEG_CORE=\"bash  tzdata  libass  libstdc++  libpng  libjpeg  xvidcore  x264-libs  x265  libvpx  libvorbis  opus  lame  fdk-aac  freetype  libressl  jasper-libs  libavc1394  yasm\"\nENV RUNTIME_DEPS=\"coreutils  make  cmake  gcc  g++  clang  linux-headers  git  curl\"\nENV BUILD_DEPS=\"fdk-aac-dev  freetype-dev  x264-dev  x265-dev  yasm-dev  libogg-dev  libvorbis-dev  opus-dev  libvpx-dev  lame-dev  xvidcore-dev  libass-dev  libressl-dev  musl-dev  build-base  libjpeg-turbo-dev  libpng-dev  jasper-dev  libavc1394-dev  libavc1394-dev  clang-dev\"\n#   FFMPEG\nRUN apk update \\\n && apk add --no-cache apk-tools \\\n && echo http://nl.alpinelinux.org/alpine/edge/testing >> /etc/apk/repositories \\\n && apk update \\\n && apk add --no-cache --virtual .runtime-deps ${RUNTIME_DEPS} \\\n && apk add --no-cache ${FFMPEG_CORE} \\\n && apk add --no-cache --virtual .build-deps ${BUILD_DEPS} \\\n && export SRC=/usr DIR=$( mktemp -d ;) \\\n && cd ${DIR} \\\n && curl -Os http://ffmpeg.org/releases/ffmpeg-${FFMPEG_VERSION}.tar.gz \\\n && tar xzvf ffmpeg-${FFMPEG_VERSION}.tar.gz \\\n && cd ffmpeg-${FFMPEG_VERSION} \\\n && ./configure --prefix=\"${SRC}\" --extra-cflags=\"-I${SRC}/include\" --extra-ldflags=\"-L${SRC}/lib\" --bindir=\"${SRC}/bin\" --extra-libs=-ldl --enable-version3 --enable-libmp3lame --enable-pthreads --enable-libx264 --enable-libxvid --enable-gpl --enable-postproc --enable-nonfree --enable-avresample --enable-libfdk-aac --disable-debug --enable-small --enable-libtls --enable-libx265 --enable-libopus --enable-libvorbis --enable-libvpx --enable-libfreetype --enable-libass --enable-shared --enable-pic \\\n && make \\\n && make install \\\n && make distclean \\\n && hash -r \\\n && cd /tmp \\\n && rm -rf ${DIR} \\\n && apk del .build-deps \\\n && apk del .runtime-deps \\\n && rm -rf /var/cache/apk/*\n","originalDockerfileUglifiedHash":"9fda29489bc7a36d1b55c6b702a1ac35","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/e2711b240c74a9e41d54a05b0328aa719132fafa.dockerfile"}