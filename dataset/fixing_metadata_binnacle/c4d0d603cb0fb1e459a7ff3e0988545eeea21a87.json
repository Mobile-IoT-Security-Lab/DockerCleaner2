{"seed":3378985020,"processedDockerfileHash":"aebd29f9a959db5db04a1e59b4cf2d44","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM nvidia/cuda:9.0-cudnn7-runtime-ubuntu16.04\n#  #############################################################################\n#   common\n#  #############################################################################\nRUN echo \"deb http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1604/x86_64 /\" > /etc/apt/sources.list.d/nvidia-ml.list\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential cmake git curl nano ca-certificates libjpeg-dev libpng-dev software-properties-common -y \\\n && apt-get -qq -y autoremove \\\n && apt-get autoclean \\\n && rm -rf /var/lib/apt/lists/* /var/log/dpkg.log\n#  #############################################################################\n#   Miniconda & python 3.6\n#  #############################################################################\nRUN curl -sSL https://repo.continuum.io/miniconda/Miniconda3-4.5.4-Linux-x86_64.sh -o /tmp/miniconda.sh \\\n && bash /tmp/miniconda.sh -bfp /usr/local \\\n && rm -rf /tmp/miniconda.sh \\\n && conda install -y python=3.6.5 \\\n && conda clean --all --yes\nENV PATH=\"/opt/conda/bin:$PATH\"\n#  #############################################################################\n#   sly dependencies\n#  #############################################################################\n#   libgeos for shapely; other are deps of cv2\nRUN apt-get update \\\n && apt-get install --no-install-recommends libgeos-dev=3.5.0-1ubuntu2 libsm6=2:1.2.2-1 libxext6=2:1.3.3-1 libxrender-dev=1:0.9.9-0ubuntu1 -y \\\n && apt-get -qq -y autoremove \\\n && apt-get autoclean \\\n && rm -rf /var/lib/apt/lists/* /var/log/dpkg.log\n#   opencv; other packages are deps & mentioned to fix versions\nRUN conda install -y -c menpo opencv=3.4.1 numpy=1.14.3 zlib=1.2.11 requests=2.18.4 \\\n && conda install -y -c conda-forge hdbscan \\\n && conda clean --all --yes\nRUN pip install python-json-logger==0.1.8 pybase64==0.4.0 shapely==1.5.13 imgaug==0.2.5 opencv-python==3.4.1.15 scipy==1.1.0 scikit-image==0.13.0 matplotlib==2.2.2 pillow==5.1.0 networkx==2.1 jsonschema==2.6.0 --no-cache-dir\n#  #############################################################################\n#   Java to run Pycharm\n#  #############################################################################\nRUN apt-get update \\\n && apt-get install --no-install-recommends default-jre=2:1.8-56ubuntu2 default-jdk=2:1.8-56ubuntu2 -y \\\n && apt-get -qq -y autoremove \\\n && apt-get autoclean \\\n && rm -rf /var/lib/apt/lists/* /var/log/dpkg.log \\\n && ln -s /usr/lib/jvm/java-7-openjdk-amd64 /jre\nENV JAVA_HOME=\"/usr/lib/jvm/java-7-openjdk-amd64\"\n#  #############################################################################\n#   Additional project libraries\n#  #############################################################################\nRUN pip install pandas==0.22.0 grpcio==1.12.1 grpcio-tools==1.12.1 --no-cache-dir\nRUN pip install pip==23.1 --upgrade\nRUN apt-get update \\\n && apt-get install --no-install-recommends libexiv2-14=0.25-2.1ubuntu16.04.3 libexiv2-dev=0.25-2.1ubuntu16.04.3 libboost-all-dev=1.58.0.1ubuntu1 -y\nRUN pip install py3exiv2==0.4.0\nRUN pip install simplejson==3.16.0\nRUN pip install requests-toolbelt==0.10.1\nRUN pip install PTable==0.9.2\nRUN pip install flask-restful==0.3.9\nRUN apt-get install --no-install-recommends fonts-noto=20160116-1 -y\nRUN pip install pascal-voc-writer==0.1.4\n#  #############################################################################\n#   Encoding for python SDK\n#  #############################################################################\nENV LANG=\"C.UTF-8\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM nvidia/cuda:9.0-cudnn7-runtime-ubuntu16.04\n# #############################################################################\n#  common\n# #############################################################################\nRUN echo \"deb http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1604/x86_64 /\" > /etc/apt/sources.list.d/nvidia-ml.list\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential cmake git curl nano ca-certificates libjpeg-dev libpng-dev software-properties-common -y \\\n && apt-get -qq -y autoremove \\\n && apt-get autoclean \\\n && rm -rf /var/lib/apt/lists/* /var/log/dpkg.log\n# #############################################################################\n#  Miniconda & python 3.6\n# #############################################################################\nRUN curl -sSL https://repo.continuum.io/miniconda/Miniconda3-4.5.4-Linux-x86_64.sh -o /tmp/miniconda.sh \\\n && bash /tmp/miniconda.sh -bfp /usr/local \\\n && rm -rf /tmp/miniconda.sh \\\n && conda install -y python=3.6.5 \\\n && conda clean --all --yes\nENV PATH=\"/opt/conda/bin:$PATH\"\n# #############################################################################\n#  sly dependencies\n# #############################################################################\n#  libgeos for shapely; other are deps of cv2\nRUN apt-get update \\\n && apt-get install --no-install-recommends libgeos-dev=3.5.0-1ubuntu2 libsm6=2:1.2.2-1 libxext6=2:1.3.3-1 libxrender-dev=1:0.9.9-0ubuntu1 -y \\\n && apt-get -qq -y autoremove \\\n && apt-get autoclean \\\n && rm -rf /var/lib/apt/lists/* /var/log/dpkg.log\n#  opencv; other packages are deps & mentioned to fix versions\nRUN conda install -y -c menpo opencv=3.4.1 numpy=1.14.3 zlib=1.2.11 requests=2.18.4 \\\n && conda install -y -c conda-forge hdbscan \\\n && conda clean --all --yes\nRUN pip install python-json-logger==0.1.8 pybase64==0.4.0 shapely==1.5.13 imgaug==0.2.5 opencv-python==3.4.1.15 scipy==1.1.0 scikit-image==0.13.0 matplotlib==2.2.2 pillow==5.1.0 networkx==2.1 jsonschema==2.6.0 --no-cache-dir\n# #############################################################################\n#  Java to run Pycharm\n# #############################################################################\nRUN apt-get update \\\n && apt-get install --no-install-recommends default-jre=2:1.8-56ubuntu2 default-jdk=2:1.8-56ubuntu2 -y \\\n && apt-get -qq -y autoremove \\\n && apt-get autoclean \\\n && rm -rf /var/lib/apt/lists/* /var/log/dpkg.log \\\n && ln -s /usr/lib/jvm/java-7-openjdk-amd64 /jre\nENV JAVA_HOME=\"/usr/lib/jvm/java-7-openjdk-amd64\"\n# #############################################################################\n#  Additional project libraries\n# #############################################################################\nRUN pip install pandas==0.22.0 grpcio==1.12.1 grpcio-tools==1.12.1 --no-cache-dir\nRUN pip install pip --upgrade\nRUN apt-get update \\\n && apt-get install libexiv2-14=0.25-2.1ubuntu16.04.3 libexiv2-dev=0.25-2.1ubuntu16.04.3 libboost-all-dev=1.58.0.1ubuntu1 -y\nRUN pip install py3exiv2==0.4.0\nRUN pip install simplejson==3.16.0\nRUN pip install requests-toolbelt\nRUN pip install PTable\nRUN pip install flask-restful\nRUN apt-get install fonts-noto=20160116-1 -y\nRUN pip install pascal-voc-writer\n# #############################################################################\n#  Encoding for python SDK\n# #############################################################################\nENV LANG=\"C.UTF-8\"\n","injectedSmells":[],"originalDockerfileHash":"acd062536bb3f1b115446de4c967383c","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM nvidia/cuda:9.0-cudnn7-runtime-ubuntu16.04\n#  #############################################################################\n#   common\n#  #############################################################################\nRUN echo \"deb http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1604/x86_64 /\" > /etc/apt/sources.list.d/nvidia-ml.list\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential cmake git curl nano ca-certificates libjpeg-dev libpng-dev software-properties-common -y \\\n && apt-get -qq -y autoremove \\\n && apt-get autoclean \\\n && rm -rf /var/lib/apt/lists/* /var/log/dpkg.log\n#  #############################################################################\n#   Miniconda & python 3.6\n#  #############################################################################\nRUN curl -sSL https://repo.continuum.io/miniconda/Miniconda3-4.5.4-Linux-x86_64.sh -o /tmp/miniconda.sh \\\n && bash /tmp/miniconda.sh -bfp /usr/local \\\n && rm -rf /tmp/miniconda.sh \\\n && conda install -y python=3.6.5 \\\n && conda clean --all --yes\nENV PATH=\"/opt/conda/bin:$PATH\"\n#  #############################################################################\n#   sly dependencies\n#  #############################################################################\n#   libgeos for shapely; other are deps of cv2\nRUN apt-get update \\\n && apt-get install --no-install-recommends libgeos-dev=3.5.0-1ubuntu2 libsm6=2:1.2.2-1 libxext6=2:1.3.3-1 libxrender-dev=1:0.9.9-0ubuntu1 -y \\\n && apt-get -qq -y autoremove \\\n && apt-get autoclean \\\n && rm -rf /var/lib/apt/lists/* /var/log/dpkg.log\n#   opencv; other packages are deps & mentioned to fix versions\nRUN conda install -y -c menpo opencv=3.4.1 numpy=1.14.3 zlib=1.2.11 requests=2.18.4 \\\n && conda install -y -c conda-forge hdbscan \\\n && conda clean --all --yes\nRUN pip install python-json-logger==0.1.8 pybase64==0.4.0 shapely==1.5.13 imgaug==0.2.5 opencv-python==3.4.1.15 scipy==1.1.0 scikit-image==0.13.0 matplotlib==2.2.2 pillow==5.1.0 networkx==2.1 jsonschema==2.6.0 --no-cache-dir\n#  #############################################################################\n#   Java to run Pycharm\n#  #############################################################################\nRUN apt-get update \\\n && apt-get install --no-install-recommends default-jre=2:1.8-56ubuntu2 default-jdk=2:1.8-56ubuntu2 -y \\\n && apt-get -qq -y autoremove \\\n && apt-get autoclean \\\n && rm -rf /var/lib/apt/lists/* /var/log/dpkg.log \\\n && ln -s /usr/lib/jvm/java-7-openjdk-amd64 /jre\nENV JAVA_HOME=\"/usr/lib/jvm/java-7-openjdk-amd64\"\n#  #############################################################################\n#   Additional project libraries\n#  #############################################################################\nRUN pip install pandas==0.22.0 grpcio==1.12.1 grpcio-tools==1.12.1 --no-cache-dir\nRUN pip install pip --upgrade\nRUN apt-get update \\\n && apt-get install libexiv2-14=0.25-2.1ubuntu16.04.3 libexiv2-dev=0.25-2.1ubuntu16.04.3 libboost-all-dev=1.58.0.1ubuntu1 -y\nRUN pip install py3exiv2==0.4.0\nRUN pip install simplejson==3.16.0\nRUN pip install requests-toolbelt\nRUN pip install PTable\nRUN pip install flask-restful\nRUN apt-get install fonts-noto=20160116-1 -y\nRUN pip install pascal-voc-writer\n#  #############################################################################\n#   Encoding for python SDK\n#  #############################################################################\nENV LANG=\"C.UTF-8\"\n","originalDockerfileUglifiedHash":"13a4bafa249c7bf57065ce96ca1ecf71","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/c4d0d603cb0fb1e459a7ff3e0988545eeea21a87.dockerfile"}