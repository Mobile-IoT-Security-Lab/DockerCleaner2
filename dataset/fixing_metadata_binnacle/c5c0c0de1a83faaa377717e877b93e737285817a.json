{"seed":2583506872,"processedDockerfileHash":"e4a19a2cedf25f6708006e0e1e00e4eb","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-pip","pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM alpine:20190508\nMAINTAINER Steffen Bleul <sbl@blacklabelops.com>\nARG JOBBER_VERSION=1.3.4\nARG DOCKER_VERSION=1.12.2\nARG DUPLICITY_VERSION=0.7.18.2\nARG DUPLICITY_SERIES=0.7\nRUN apk upgrade --update \\\n && apk add bash tzdata vim tini su-exec gzip tar wget curl build-base glib-dev gmp-dev asciidoc curl-dev tzdata openssh libressl-dev libressl duply ca-certificates python-dev libffi-dev librsync-dev gcc alpine-sdk linux-headers musl-dev rsync lftp py-cryptography librsync librsync-dev python2-dev duplicity py-pip \\\n && pip install pip==23.1 --upgrade \\\n && pip install setuptools==67.6.1 fasteners==0.18 PyDrive==1.3.1 chardet==5.1.0 azure-storage==0.37.0 boto==2.49.0 lockfile==0.12.2 paramiko==3.1.0 pycryptopp==0.7.1.869544967005693312591928092448767568728501330214 python-keystoneclient==5.1.0 python-swiftclient==4.3.0 requests==2.14.2 requests_oauthlib==1.3.1 urllib3==1.26.15 b2==3.8.0 dropbox==6.9.0 \\\n && mkdir -p /etc/volumerize /volumerize-cache /opt/volumerize \\\n && curl -fSL \"https://code.launchpad.net/duplicity/${DUPLICITY_SERIES}-series/${DUPLICITY_VERSION}/+download/duplicity-${DUPLICITY_VERSION}.tar.gz\" -o /tmp/duplicity.tar.gz \\\n && export DUPLICITY_SHA=7fb477b1bbbfe060daf130a5b0518a53b7c6e6705e5459c191fb44c8a723c9a5e2126db98544951ffb807a5de7e127168cba165a910f962ed055d74066f0faa5 \\\n && echo 'Calculated checksum: '$( sha512sum /tmp/duplicity.tar.gz ;) \\\n && tar -xzvf /tmp/duplicity.tar.gz -C /tmp \\\n && cd /tmp/duplicity-${DUPLICITY_VERSION} \\\n && python setup.py install \\\n && export CONTAINER_UID=1000 \\\n && export CONTAINER_GID=1000 \\\n && export CONTAINER_USER=jobber_client \\\n && export CONTAINER_GROUP=jobber_client \\\n && apk add go git curl wget make \\\n && addgroup -g $CONTAINER_GID jobber_client \\\n && adduser -u $CONTAINER_UID -G jobber_client -s /bin/bash -S jobber_client \\\n && wget --directory-prefix=/tmp https://github.com/dshearer/jobber/releases/download/v${JOBBER_VERSION}/jobber-${JOBBER_VERSION}-r0.apk \\\n && apk add /tmp/jobber-${JOBBER_VERSION}-r0.apk --allow-untrusted --no-scripts \\\n && curl -fSL \"https://get.docker.com/builds/Linux/x86_64/docker-${DOCKER_VERSION}.tgz\" -o /tmp/docker.tgz \\\n && export DOCKER_SHA=43b2479764ecb367ed169076a33e83f99a14dc85 \\\n && echo 'Calculated checksum: '$( sha1sum /tmp/docker.tgz ;) \\\n && echo \"$DOCKER_SHA /tmp/docker.tgz\" | sha1sum -c - \\\n && tar -xzvf /tmp/docker.tgz -C /tmp \\\n && cp /tmp/docker/docker /usr/local/bin/ \\\n && curl -fSL \"https://megatools.megous.com/builds/megatools-1.9.98.tar.gz\" -o /tmp/megatools.tgz \\\n && tar -xzvf /tmp/megatools.tgz -C /tmp \\\n && cd /tmp/megatools-1.9.98 \\\n && ./configure \\\n && make \\\n && make install \\\n && apk del go git curl wget python-dev libffi-dev libressl-dev libressl alpine-sdk linux-headers gcc musl-dev librsync-dev make \\\n && apk add openssl \\\n && rm -rf /var/cache/apk/* \\\n && rm -rf /tmp/*\nENV VOLUMERIZE_HOME=\"/etc/volumerize\" \\\n    VOLUMERIZE_CACHE=\"/volumerize-cache\" \\\n    VOLUMERIZE_SCRIPT_DIR=\"/opt/volumerize\" \\\n    PATH=\"$PATH:/etc/volumerize\" \\\n    GOOGLE_DRIVE_SETTINGS=\"/credentials/cred.file\" \\\n    GOOGLE_DRIVE_CREDENTIAL_FILE=\"/credentials/googledrive.cred\" \\\n    GPG_TTY=\"/dev/console\"\nUSER root\nWORKDIR /etc/volumerize\nVOLUME [\"/volumerize-cache\"]\nCOPY imagescripts/ /opt/volumerize/\nCOPY scripts/ /etc/volumerize/\nENTRYPOINT [\"/sbin/tini\", \"--\", \"/opt/volumerize/docker-entrypoint.sh\"]\nCMD [\"volumerize\"]\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM alpine:20190508\nMAINTAINER Steffen Bleul <sbl@blacklabelops.com>\nARG JOBBER_VERSION=1.3.4\nARG DOCKER_VERSION=1.12.2\nARG DUPLICITY_VERSION=0.7.18.2\nARG DUPLICITY_SERIES=0.7\nRUN apk upgrade --update \\\n && apk add bash tzdata vim tini su-exec gzip tar wget curl build-base glib-dev gmp-dev asciidoc curl-dev tzdata openssh libressl-dev libressl duply ca-certificates python-dev libffi-dev librsync-dev gcc alpine-sdk linux-headers musl-dev rsync lftp py-cryptography librsync librsync-dev python2-dev duplicity py-pip \\\n && pip install pip --upgrade \\\n && pip install setuptools fasteners PyDrive chardet azure-storage boto lockfile paramiko pycryptopp python-keystoneclient python-swiftclient requests==2.14.2 requests_oauthlib urllib3 b2 dropbox==6.9.0 \\\n && mkdir -p /etc/volumerize /volumerize-cache /opt/volumerize \\\n && curl -fSL \"https://code.launchpad.net/duplicity/${DUPLICITY_SERIES}-series/${DUPLICITY_VERSION}/+download/duplicity-${DUPLICITY_VERSION}.tar.gz\" -o /tmp/duplicity.tar.gz \\\n && export DUPLICITY_SHA=7fb477b1bbbfe060daf130a5b0518a53b7c6e6705e5459c191fb44c8a723c9a5e2126db98544951ffb807a5de7e127168cba165a910f962ed055d74066f0faa5 \\\n && echo 'Calculated checksum: '$( sha512sum /tmp/duplicity.tar.gz ;) \\\n && tar -xzvf /tmp/duplicity.tar.gz -C /tmp \\\n && cd /tmp/duplicity-${DUPLICITY_VERSION} \\\n && python setup.py install \\\n && export CONTAINER_UID=1000 \\\n && export CONTAINER_GID=1000 \\\n && export CONTAINER_USER=jobber_client \\\n && export CONTAINER_GROUP=jobber_client \\\n && apk add go git curl wget make \\\n && addgroup -g $CONTAINER_GID jobber_client \\\n && adduser -u $CONTAINER_UID -G jobber_client -s /bin/bash -S jobber_client \\\n && wget --directory-prefix=/tmp https://github.com/dshearer/jobber/releases/download/v${JOBBER_VERSION}/jobber-${JOBBER_VERSION}-r0.apk \\\n && apk add --allow-untrusted --no-scripts /tmp/jobber-${JOBBER_VERSION}-r0.apk \\\n && curl -fSL \"https://get.docker.com/builds/Linux/x86_64/docker-${DOCKER_VERSION}.tgz\" -o /tmp/docker.tgz \\\n && export DOCKER_SHA=43b2479764ecb367ed169076a33e83f99a14dc85 \\\n && echo 'Calculated checksum: '$( sha1sum /tmp/docker.tgz ;) \\\n && echo \"$DOCKER_SHA /tmp/docker.tgz\" | sha1sum -c - \\\n && tar -xzvf /tmp/docker.tgz -C /tmp \\\n && cp /tmp/docker/docker /usr/local/bin/ \\\n && curl -fSL \"https://megatools.megous.com/builds/megatools-1.9.98.tar.gz\" -o /tmp/megatools.tgz \\\n && tar -xzvf /tmp/megatools.tgz -C /tmp \\\n && cd /tmp/megatools-1.9.98 \\\n && ./configure \\\n && make \\\n && make install \\\n && apk del go git curl wget python-dev libffi-dev libressl-dev libressl alpine-sdk linux-headers gcc musl-dev librsync-dev make \\\n && apk add openssl \\\n && rm -rf /var/cache/apk/* \\\n && rm -rf /tmp/*\nENV VOLUMERIZE_HOME=\"/etc/volumerize\" \\\n    VOLUMERIZE_CACHE=\"/volumerize-cache\" \\\n    VOLUMERIZE_SCRIPT_DIR=\"/opt/volumerize\" \\\n    PATH=\"$PATH:/etc/volumerize\" \\\n    GOOGLE_DRIVE_SETTINGS=\"/credentials/cred.file\" \\\n    GOOGLE_DRIVE_CREDENTIAL_FILE=\"/credentials/googledrive.cred\" \\\n    GPG_TTY=\"/dev/console\"\nUSER root\nWORKDIR /etc/volumerize\nVOLUME [\"/volumerize-cache\"]\nCOPY imagescripts/ /opt/volumerize/\nCOPY scripts/ /etc/volumerize/\nENTRYPOINT [\"/sbin/tini\", \"--\", \"/opt/volumerize/docker-entrypoint.sh\"]\nCMD [\"volumerize\"]\n","injectedSmells":[],"originalDockerfileHash":"235b98df5bcaeec4d9484ac199fd2fb8","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine:20190508\nMAINTAINER Steffen Bleul <sbl@blacklabelops.com>\nARG JOBBER_VERSION=1.3.4\nARG DOCKER_VERSION=1.12.2\nARG DUPLICITY_VERSION=0.7.18.2\nARG DUPLICITY_SERIES=0.7\nRUN apk upgrade --update \\\n && apk add bash tzdata vim tini su-exec gzip tar wget curl build-base glib-dev gmp-dev asciidoc curl-dev tzdata openssh libressl-dev libressl duply ca-certificates python-dev libffi-dev librsync-dev gcc alpine-sdk linux-headers musl-dev rsync lftp py-cryptography librsync librsync-dev python2-dev duplicity py-pip \\\n && pip install pip --upgrade \\\n && pip install setuptools fasteners PyDrive chardet azure-storage boto lockfile paramiko pycryptopp python-keystoneclient python-swiftclient requests==2.14.2 requests_oauthlib urllib3 b2 dropbox==6.9.0 \\\n && mkdir -p /etc/volumerize /volumerize-cache /opt/volumerize \\\n && curl -fSL \"https://code.launchpad.net/duplicity/${DUPLICITY_SERIES}-series/${DUPLICITY_VERSION}/+download/duplicity-${DUPLICITY_VERSION}.tar.gz\" -o /tmp/duplicity.tar.gz \\\n && export DUPLICITY_SHA=7fb477b1bbbfe060daf130a5b0518a53b7c6e6705e5459c191fb44c8a723c9a5e2126db98544951ffb807a5de7e127168cba165a910f962ed055d74066f0faa5 \\\n && echo 'Calculated checksum: '$( sha512sum /tmp/duplicity.tar.gz ;) \\\n && tar -xzvf /tmp/duplicity.tar.gz -C /tmp \\\n && cd /tmp/duplicity-${DUPLICITY_VERSION} \\\n && python setup.py install \\\n && export CONTAINER_UID=1000 \\\n && export CONTAINER_GID=1000 \\\n && export CONTAINER_USER=jobber_client \\\n && export CONTAINER_GROUP=jobber_client \\\n && apk add go git curl wget make \\\n && addgroup -g $CONTAINER_GID jobber_client \\\n && adduser -u $CONTAINER_UID -G jobber_client -s /bin/bash -S jobber_client \\\n && wget --directory-prefix=/tmp https://github.com/dshearer/jobber/releases/download/v${JOBBER_VERSION}/jobber-${JOBBER_VERSION}-r0.apk \\\n && apk add --allow-untrusted --no-scripts /tmp/jobber-${JOBBER_VERSION}-r0.apk \\\n && curl -fSL \"https://get.docker.com/builds/Linux/x86_64/docker-${DOCKER_VERSION}.tgz\" -o /tmp/docker.tgz \\\n && export DOCKER_SHA=43b2479764ecb367ed169076a33e83f99a14dc85 \\\n && echo 'Calculated checksum: '$( sha1sum /tmp/docker.tgz ;) \\\n && echo \"$DOCKER_SHA /tmp/docker.tgz\" | sha1sum -c - \\\n && tar -xzvf /tmp/docker.tgz -C /tmp \\\n && cp /tmp/docker/docker /usr/local/bin/ \\\n && curl -fSL \"https://megatools.megous.com/builds/megatools-1.9.98.tar.gz\" -o /tmp/megatools.tgz \\\n && tar -xzvf /tmp/megatools.tgz -C /tmp \\\n && cd /tmp/megatools-1.9.98 \\\n && ./configure \\\n && make \\\n && make install \\\n && apk del go git curl wget python-dev libffi-dev libressl-dev libressl alpine-sdk linux-headers gcc musl-dev librsync-dev make \\\n && apk add openssl \\\n && rm -rf /var/cache/apk/* \\\n && rm -rf /tmp/*\nENV VOLUMERIZE_HOME=\"/etc/volumerize\" \\\n    VOLUMERIZE_CACHE=\"/volumerize-cache\" \\\n    VOLUMERIZE_SCRIPT_DIR=\"/opt/volumerize\" \\\n    PATH=\"$PATH:/etc/volumerize\" \\\n    GOOGLE_DRIVE_SETTINGS=\"/credentials/cred.file\" \\\n    GOOGLE_DRIVE_CREDENTIAL_FILE=\"/credentials/googledrive.cred\" \\\n    GPG_TTY=\"/dev/console\"\nUSER root\nWORKDIR /etc/volumerize\nVOLUME [\"/volumerize-cache\"]\nCOPY imagescripts/ /opt/volumerize/\nCOPY scripts/ /etc/volumerize/\nENTRYPOINT [\"/sbin/tini\", \"--\", \"/opt/volumerize/docker-entrypoint.sh\"]\nCMD [\"volumerize\"]\n","originalDockerfileUglifiedHash":"235b98df5bcaeec4d9484ac199fd2fb8","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/c5c0c0de1a83faaa377717e877b93e737285817a.dockerfile"}