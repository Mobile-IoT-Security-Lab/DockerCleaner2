{"seed":2654967817,"processedDockerfileHash":"37ec00b418487a10e9cef49fe665e176","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM perl:5.20\n#   graphviz ... AI::DecisionTree dependency\n#   default-jre ... MSTperl parser is in Java\nRUN apt-get update \\\n && apt-get install --no-install-recommends graphviz default-jre libboost-all-dev cmake -y\n#   Modules, that are needed to run treex -h (and the Hello world\nRUN cpanm YAML/Tiny.pm XML::LibXML Moose MooseX MooseX::NonMoose MooseX::Getopt MooseX::Role::Parameterized MooseX::Role::AttributeOverride MooseX::SemiAffordanceAccessor Readonly File::HomeDir File::ShareDir File::Slurp File::chdir YAML LWP::Simple String::Util PerlIO::gzip Class::Std\n#   The PerlIO:Util has bug in its tests\nRUN cpanm -n PerlIO::Util\nRUN cpanm PerlIO::via::gzip\n#   Other, \"optional\" Treex dependencies\nRUN cpanm autodie threads threads::shared forks namespace::autoclean Module::Reload IO::Interactive App::whichpm Treex::PML Cache::Memcached List::Pairwise Algorithm::NaiveBayes AI::DecisionTree Algorithm Algorithm::DecisionTree AnyEvent AnyEvent::Fork Bash::Completion::Utils Carp Carp::Always Carp::Assert Clone Compress::Zlib DBI DateTime EV Email::Find Encode::Arabic Frontier::Client Graph Graph::ChuLiuEdmonds Graph::MaxFlow HTML::FormatText JSON Lingua::EN::Tagger Modern::Perl MooseX::ClassAttribute MooseX::FollowPBP MooseX::Types::Moose PML POE String::Diff Test::Files Test::Output Text::Brew Text::JaroWinkler Text::Table Text::Unidecode Tk Tree::Trie URL::Encode XML::Simple\n#   One of the subtests failed during image build\nRUN cpanm -n AI::MaxEntropy\n#   Create root dir for treex checkout, share and tmp\nRUN mkdir ~/tectomt \\\n && cd ~/tectomt \\\n && git clone https://github.com/ufal/treex.git\nENV TMT_ROOT=\"/root/tectomt\"\nENV TREEX_ROOT=\"${TMT_ROOT}/treex\"\nENV PATH=\"${TREEX_ROOT}/bin:$PATH\"\nENV PERL5LIB=\"${TREEX_ROOT}/lib:$PERL5LIB\"\nENV PERLLIB=\"$PERL5LIB\"\nRUN mkdir -p /root/.treex/share/installed_tools\nRUN ln -s /root/.treex/share $TMT_ROOT/share\nRUN ln -s /tmp $TMT_ROOT/tmp\n#   Some UFAL modules used by treex\nRUN cpanm Text::Iconv\nRUN cpanm Ufal::NameTag\nRUN cpanm Ufal::MorphoDiTa\nRUN cpanm Lingua::Interset\nRUN cpanm URI::Find\nRUN cpanm Cache::LRU\n#   install Morce tagger\nRUN svn --username public --password public export https://svn.ms.mff.cuni.cz/svn/tectomt_devel/trunk/libs/packaged /tmp/packaged\nRUN cd /tmp/packaged/Morce-English \\\n && perl Build.PL \\\n && ./Build \\\n && ./Build install --prefix /usr/local/\n#   download models\nRUN mkdir -p /root/.treex/share/data/models/morce/en\nRUN cd tectomt/share/data/models/morce/en \\\n && wget http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.alph http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.dct http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.ft http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.ftrs http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/tags_for_form-from_wsj.dat\n#   install NADA\nRUN svn --username public --password public export https://svn.ms.mff.cuni.cz/svn/tectomt_devel/trunk/install/tool_installation /tmp/tool_installation\nRUN cd /tmp/tool_installation/NADA \\\n && perl Makefile.PL \\\n && make \\\n && make install\n#   simple Hello world test\nRUN bash -c \"echo 'Hello world' | treex -Len Read::Sentences Write::Sentences\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM perl:5.20\n#  graphviz ... AI::DecisionTree dependency\n#  default-jre ... MSTperl parser is in Java\nRUN apt-get update \\\n && apt-get install graphviz default-jre libboost-all-dev cmake -y\n#  Modules, that are needed to run treex -h (and the Hello world\nRUN cpanm YAML/Tiny.pm XML::LibXML Moose MooseX MooseX::NonMoose MooseX::Getopt MooseX::Role::Parameterized MooseX::Role::AttributeOverride MooseX::SemiAffordanceAccessor Readonly File::HomeDir File::ShareDir File::Slurp File::chdir YAML LWP::Simple String::Util PerlIO::gzip Class::Std\n#  The PerlIO:Util has bug in its tests\nRUN cpanm -n PerlIO::Util\nRUN cpanm PerlIO::via::gzip\n#  Other, \"optional\" Treex dependencies\nRUN cpanm autodie threads threads::shared forks namespace::autoclean Module::Reload IO::Interactive App::whichpm Treex::PML Cache::Memcached List::Pairwise Algorithm::NaiveBayes AI::DecisionTree Algorithm Algorithm::DecisionTree AnyEvent AnyEvent::Fork Bash::Completion::Utils Carp Carp::Always Carp::Assert Clone Compress::Zlib DBI DateTime EV Email::Find Encode::Arabic Frontier::Client Graph Graph::ChuLiuEdmonds Graph::MaxFlow HTML::FormatText JSON Lingua::EN::Tagger Modern::Perl MooseX::ClassAttribute MooseX::FollowPBP MooseX::Types::Moose PML POE String::Diff Test::Files Test::Output Text::Brew Text::JaroWinkler Text::Table Text::Unidecode Tk Tree::Trie URL::Encode XML::Simple\n#  One of the subtests failed during image build\nRUN cpanm -n AI::MaxEntropy\n#  Create root dir for treex checkout, share and tmp\nRUN mkdir ~/tectomt \\\n && cd ~/tectomt \\\n && git clone https://github.com/ufal/treex.git\nENV TMT_ROOT=\"/root/tectomt\"\nENV TREEX_ROOT=\"${TMT_ROOT}/treex\"\nENV PATH=\"${TREEX_ROOT}/bin:$PATH\"\nENV PERL5LIB=\"${TREEX_ROOT}/lib:$PERL5LIB\"\nENV PERLLIB=\"$PERL5LIB\"\nRUN mkdir -p /root/.treex/share/installed_tools\nRUN ln -s /root/.treex/share $TMT_ROOT/share\nRUN ln -s /tmp $TMT_ROOT/tmp\n#  Some UFAL modules used by treex\nRUN cpanm Text::Iconv\nRUN cpanm Ufal::NameTag\nRUN cpanm Ufal::MorphoDiTa\nRUN cpanm Lingua::Interset\nRUN cpanm URI::Find\nRUN cpanm Cache::LRU\n#  install Morce tagger\nRUN svn --username public --password public export https://svn.ms.mff.cuni.cz/svn/tectomt_devel/trunk/libs/packaged /tmp/packaged\nRUN cd /tmp/packaged/Morce-English \\\n && perl Build.PL \\\n && ./Build \\\n && ./Build install --prefix /usr/local/\n#  download models\nRUN mkdir -p /root/.treex/share/data/models/morce/en\nRUN cd tectomt/share/data/models/morce/en \\\n && wget http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.alph http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.dct http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.ft http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.ftrs http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/tags_for_form-from_wsj.dat\n#  install NADA\nRUN svn --username public --password public export https://svn.ms.mff.cuni.cz/svn/tectomt_devel/trunk/install/tool_installation /tmp/tool_installation\nRUN cd /tmp/tool_installation/NADA \\\n && perl Makefile.PL \\\n && make \\\n && make install\n#  simple Hello world test\nRUN bash -c \"echo 'Hello world' | treex -Len Read::Sentences Write::Sentences\"\n","injectedSmells":[],"originalDockerfileHash":"1b42a87b026b395c6052b1009e3f9809","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM perl:5.20\n#   graphviz ... AI::DecisionTree dependency\n#   default-jre ... MSTperl parser is in Java\nRUN apt-get update \\\n && apt-get install graphviz default-jre libboost-all-dev cmake -y\n#   Modules, that are needed to run treex -h (and the Hello world\nRUN cpanm YAML/Tiny.pm XML::LibXML Moose MooseX MooseX::NonMoose MooseX::Getopt MooseX::Role::Parameterized MooseX::Role::AttributeOverride MooseX::SemiAffordanceAccessor Readonly File::HomeDir File::ShareDir File::Slurp File::chdir YAML LWP::Simple String::Util PerlIO::gzip Class::Std\n#   The PerlIO:Util has bug in its tests\nRUN cpanm -n PerlIO::Util\nRUN cpanm PerlIO::via::gzip\n#   Other, \"optional\" Treex dependencies\nRUN cpanm autodie threads threads::shared forks namespace::autoclean Module::Reload IO::Interactive App::whichpm Treex::PML Cache::Memcached List::Pairwise Algorithm::NaiveBayes AI::DecisionTree Algorithm Algorithm::DecisionTree AnyEvent AnyEvent::Fork Bash::Completion::Utils Carp Carp::Always Carp::Assert Clone Compress::Zlib DBI DateTime EV Email::Find Encode::Arabic Frontier::Client Graph Graph::ChuLiuEdmonds Graph::MaxFlow HTML::FormatText JSON Lingua::EN::Tagger Modern::Perl MooseX::ClassAttribute MooseX::FollowPBP MooseX::Types::Moose PML POE String::Diff Test::Files Test::Output Text::Brew Text::JaroWinkler Text::Table Text::Unidecode Tk Tree::Trie URL::Encode XML::Simple\n#   One of the subtests failed during image build\nRUN cpanm -n AI::MaxEntropy\n#   Create root dir for treex checkout, share and tmp\nRUN mkdir ~/tectomt \\\n && cd ~/tectomt \\\n && git clone https://github.com/ufal/treex.git\nENV TMT_ROOT=\"/root/tectomt\"\nENV TREEX_ROOT=\"${TMT_ROOT}/treex\"\nENV PATH=\"${TREEX_ROOT}/bin:$PATH\"\nENV PERL5LIB=\"${TREEX_ROOT}/lib:$PERL5LIB\"\nENV PERLLIB=\"$PERL5LIB\"\nRUN mkdir -p /root/.treex/share/installed_tools\nRUN ln -s /root/.treex/share $TMT_ROOT/share\nRUN ln -s /tmp $TMT_ROOT/tmp\n#   Some UFAL modules used by treex\nRUN cpanm Text::Iconv\nRUN cpanm Ufal::NameTag\nRUN cpanm Ufal::MorphoDiTa\nRUN cpanm Lingua::Interset\nRUN cpanm URI::Find\nRUN cpanm Cache::LRU\n#   install Morce tagger\nRUN svn --username public --password public export https://svn.ms.mff.cuni.cz/svn/tectomt_devel/trunk/libs/packaged /tmp/packaged\nRUN cd /tmp/packaged/Morce-English \\\n && perl Build.PL \\\n && ./Build \\\n && ./Build install --prefix /usr/local/\n#   download models\nRUN mkdir -p /root/.treex/share/data/models/morce/en\nRUN cd tectomt/share/data/models/morce/en \\\n && wget http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.alph http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.dct http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.ft http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/morce.ftrs http://ufallab.ms.mff.cuni.cz/tectomt/share/data/models/morce/en/tags_for_form-from_wsj.dat\n#   install NADA\nRUN svn --username public --password public export https://svn.ms.mff.cuni.cz/svn/tectomt_devel/trunk/install/tool_installation /tmp/tool_installation\nRUN cd /tmp/tool_installation/NADA \\\n && perl Makefile.PL \\\n && make \\\n && make install\n#   simple Hello world test\nRUN bash -c \"echo 'Hello world' | treex -Len Read::Sentences Write::Sentences\"\n","originalDockerfileUglifiedHash":"2faff5ba6a7217c1c884e3d3b0894ee7","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/5920f1126f7eceacc05868a7218fef20b440e011.dockerfile"}