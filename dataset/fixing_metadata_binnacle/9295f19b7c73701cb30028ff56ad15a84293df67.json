{"seed":3243823208,"processedDockerfileHash":"fbd0ff48c83b67d7e12c64928b255f10","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   More info at:\n#   https://github.com/tedsluis/docker-dump1090\n#   https://github.com/tedsluis/dump1090\n#   https://github.com/mutability/dump1090\n#   https://hub.docker.com/r/tedsluis/dump1090-mutability\n#   http://discussions.flightaware.com/post180185.html\n#   https://www.youtube.com/watch?v=h4YyFDTS6CQ\n#   This dockerfile can be used to build my fork of the original dump1090-mutability (v1.15) with \n#   the heatmap and rangeview features on X86/AMD64 (Intel or AMD cpu's).\n#   Build it yourself:  \n#                        $ docker build -t tedsluis/dump1090-mutability:v1.15_heatmaprangeview .\n#   Run it:    \n#                        $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_heatmaprangeview\n#   Or run it with a different BEAST source:    \n#                        $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_heatmaprangeview /usr/share/dump1090-mutability/startdump1090.sh <IP address of your own remote dump1090 source>\nFROM debian:latest\nMAINTAINER Ted Sluis, Utrecht, The Netherlands, ted.sluis@gmail.com\n#   Required settings\nRUN sed -i 's/exit 101/exit 0/g' /usr/sbin/policy-rc.d\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Install required packages:\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends apt-utils=2.6.0 cron=3.0pl1-151ubuntu1 curl=7.88.1-7ubuntu1 dialog=1.3-20230209-1 git=1:2.39.2-1ubuntu1 lighttpd=1.4.67-1ubuntu2 netcat net-tools=2.10-0.1ubuntu3 python2.7=2.7.18-13ubuntu2 wget=1.21.3-1ubuntu1 -y )\n#   Update to the latest software packages:\nRUN : \\\n && apt-get upgrade -y\n#   Install required packages for building dump1090:\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends debhelper=13.11.4ubuntu3 dpkg-dev=1.21.21ubuntu1 librtlsdr-dev=0.6.0-4 librtlsdr0=0.6.0-4 libusb-1.0-0-dev=2:1.0.26-1 pkg-config=1.8.1-1ubuntu2 rtl-sdr=0.6.0-4 -y )\n#   Prepare for install\nRUN ln /usr/bin/python2.7 /usr/bin/python2\nRUN mkdir /tmp/dump1090\n#   Clone, build and install dump1090 from source:\nRUN cd /tmp/dump1090 \\\n && git clone https://github.com/tedsluis/dump1090.git /tmp/dump1090\nRUN cd /tmp/dump1090 \\\n && dpkg-buildpackage -b\nRUN cd /tmp \\\n && dpkg -i dump1090-mutability_1.15~dev_amd64.deb\n#   Download heatmapdata file:\nRUN wget -O /usr/share/dump1090-mutability/html/heatmapdata.csv https://dl.dropboxusercontent.com/u/17865731/dump1090-20150916/heatmapdata.csv\n#   Download config files.\n#   notes: \n#   The is the place where you can replace the config files with yourn own URL's.\n#   If you use other config files, be sure you configure them before building the image. Don't use the default config files, because you won't be able to configure them!\nRUN wget -O /usr/share/dump1090-mutability/html/config.js https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/config.js\nRUN wget -O /etc/default/dump1090-mutability https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/dump1090-mutability\n#   Add terrain-limit rings. To enable this:\n#   create a panorama for your receiver location on heywhatsthat.com\n#   note the \"view\" value from the URL at the top of the panorama\n#   i.e. the XXXX in http://www.heywhatsthat.com/?view=XXXX\n#   fetch a json file from the API for the altitudes you want to see:\n#   wget -O /usr/share/dump1090-mutability/html/upintheair.json \\\n#   'http://www.heywhatsthat.com/api/upintheair.json?id=XXXX&refraction=0.25&alts=3048,9144'\n#   NB: altitudes are in _meters_, you can specify a list of altitudes\nRUN wget -O /usr/share/dump1090-mutability/html/upintheair.json 'http://www.heywhatsthat.com/api/upintheair.json?id=M7R4MI9M&refraction=0.25&alts=100,1000,10000'\n#   Open the firewall for http and incoming BEAST-format\nEXPOSE 80/tcp\nEXPOSE 30104/tcp\n#   Configure the webserver:\nRUN lighty-enable-mod dump1090\n#   Create startdump1090.sh script\n#   note: Change the default IP address of the remote dump1090 source in the startdump1090.sh script or specify the script with the IP address while you start the container!\nRUN wget -O /usr/share/dump1090-mutability/startdump1090.sh https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/startdump1090.sh\nRUN chmod 775 /usr/share/dump1090-mutability/startdump1090.sh\n#   This is the place where you can put your own ADS-B BEAST source.\n#   Replace the IP address with a dump1090 instance.\nRUN sed -i 's/^([\\s]+)ip=\"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\"/${1}ip=\"130.211.186.77\"/g' /usr/share/dump1090-mutability/startdump1090.sh\n#   Add labels\nLABEL architecture=\"AMD64,X86_64\"\nLABEL dump1090version=\"v1.15_heatmaprangeview\"\n#   Start lighttp web server, BEAST-format input (netcat) and Dump1090\nCMD [\"/bin/bash\", \"/usr/share/dump1090-mutability/startdump1090.sh\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  More info at:\n#  https://github.com/tedsluis/docker-dump1090\n#  https://github.com/tedsluis/dump1090\n#  https://github.com/mutability/dump1090\n#  https://hub.docker.com/r/tedsluis/dump1090-mutability\n#  http://discussions.flightaware.com/post180185.html\n#  https://www.youtube.com/watch?v=h4YyFDTS6CQ\n#  This dockerfile can be used to build my fork of the original dump1090-mutability (v1.15) with \n#  the heatmap and rangeview features on X86/AMD64 (Intel or AMD cpu's).\n#  Build it yourself:  \n#                       $ docker build -t tedsluis/dump1090-mutability:v1.15_heatmaprangeview .\n#  Run it:    \n#                       $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_heatmaprangeview\n#  Or run it with a different BEAST source:    \n#                       $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_heatmaprangeview /usr/share/dump1090-mutability/startdump1090.sh <IP address of your own remote dump1090 source>\nFROM debian:latest\nMAINTAINER Ted Sluis, Utrecht, The Netherlands, ted.sluis@gmail.com\n#  Required settings\nRUN sed -i 's/exit 101/exit 0/g' /usr/sbin/policy-rc.d\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  Install required packages:\nRUN apt-get update \\\n && apt-get install apt-utils cron curl dialog git lighttpd netcat net-tools python2.7 wget -y\n#  Update to the latest software packages:\nRUN apt-get update \\\n && apt-get upgrade -y\n#  Install required packages for building dump1090:\nRUN apt-get update \\\n && apt-get install debhelper dpkg-dev librtlsdr-dev librtlsdr0 libusb-1.0-0-dev pkg-config rtl-sdr -y\n#  Prepare for install\nRUN ln /usr/bin/python2.7 /usr/bin/python2\nRUN mkdir /tmp/dump1090\n#  Clone, build and install dump1090 from source:\nRUN cd /tmp/dump1090 \\\n && git clone https://github.com/tedsluis/dump1090.git /tmp/dump1090\nRUN cd /tmp/dump1090 \\\n && dpkg-buildpackage -b\nRUN cd /tmp \\\n && dpkg -i dump1090-mutability_1.15~dev_amd64.deb\n#  Download heatmapdata file:\nRUN wget -O /usr/share/dump1090-mutability/html/heatmapdata.csv https://dl.dropboxusercontent.com/u/17865731/dump1090-20150916/heatmapdata.csv\n#  Download config files.\n#  notes: \n#  The is the place where you can replace the config files with yourn own URL's.\n#  If you use other config files, be sure you configure them before building the image. Don't use the default config files, because you won't be able to configure them!\nRUN wget -O /usr/share/dump1090-mutability/html/config.js https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/config.js\nRUN wget -O /etc/default/dump1090-mutability https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/dump1090-mutability\n#  Add terrain-limit rings. To enable this:\n#  create a panorama for your receiver location on heywhatsthat.com\n#  note the \"view\" value from the URL at the top of the panorama\n#  i.e. the XXXX in http://www.heywhatsthat.com/?view=XXXX\n#  fetch a json file from the API for the altitudes you want to see:\n#  wget -O /usr/share/dump1090-mutability/html/upintheair.json \\\n#  'http://www.heywhatsthat.com/api/upintheair.json?id=XXXX&refraction=0.25&alts=3048,9144'\n#  NB: altitudes are in _meters_, you can specify a list of altitudes\nRUN wget -O /usr/share/dump1090-mutability/html/upintheair.json 'http://www.heywhatsthat.com/api/upintheair.json?id=M7R4MI9M&refraction=0.25&alts=100,1000,10000'\n#  Open the firewall for http and incoming BEAST-format\nEXPOSE 80/tcp\nEXPOSE 30104/tcp\n#  Configure the webserver:\nRUN lighty-enable-mod dump1090\n#  Create startdump1090.sh script\n#  note: Change the default IP address of the remote dump1090 source in the startdump1090.sh script or specify the script with the IP address while you start the container!\nRUN wget -O /usr/share/dump1090-mutability/startdump1090.sh https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/startdump1090.sh\nRUN chmod 775 /usr/share/dump1090-mutability/startdump1090.sh\n#  This is the place where you can put your own ADS-B BEAST source.\n#  Replace the IP address with a dump1090 instance.\nRUN sed -i 's/^([\\s]+)ip=\"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\"/${1}ip=\"130.211.186.77\"/g' /usr/share/dump1090-mutability/startdump1090.sh\n#  Add labels\nLABEL architecture=\"AMD64,X86_64\"\nLABEL dump1090version=\"v1.15_heatmaprangeview\"\n#  Start lighttp web server, BEAST-format input (netcat) and Dump1090\nCMD [\"/bin/bash\", \"/usr/share/dump1090-mutability/startdump1090.sh\"]\n","injectedSmells":[],"originalDockerfileHash":"23633926a16dd349f3204432c158d068","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   More info at:\n#   https://github.com/tedsluis/docker-dump1090\n#   https://github.com/tedsluis/dump1090\n#   https://github.com/mutability/dump1090\n#   https://hub.docker.com/r/tedsluis/dump1090-mutability\n#   http://discussions.flightaware.com/post180185.html\n#   https://www.youtube.com/watch?v=h4YyFDTS6CQ\n#   This dockerfile can be used to build my fork of the original dump1090-mutability (v1.15) with \n#   the heatmap and rangeview features on X86/AMD64 (Intel or AMD cpu's).\n#   Build it yourself:  \n#                        $ docker build -t tedsluis/dump1090-mutability:v1.15_heatmaprangeview .\n#   Run it:    \n#                        $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_heatmaprangeview\n#   Or run it with a different BEAST source:    \n#                        $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_heatmaprangeview /usr/share/dump1090-mutability/startdump1090.sh <IP address of your own remote dump1090 source>\nFROM debian:latest\nMAINTAINER Ted Sluis, Utrecht, The Netherlands, ted.sluis@gmail.com\n#   Required settings\nRUN sed -i 's/exit 101/exit 0/g' /usr/sbin/policy-rc.d\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Install required packages:\nRUN apt-get update \\\n && apt-get install apt-utils cron curl dialog git lighttpd netcat net-tools python2.7 wget -y\n#   Update to the latest software packages:\nRUN apt-get update \\\n && apt-get upgrade -y\n#   Install required packages for building dump1090:\nRUN apt-get update \\\n && apt-get install debhelper dpkg-dev librtlsdr-dev librtlsdr0 libusb-1.0-0-dev pkg-config rtl-sdr -y\n#   Prepare for install\nRUN ln /usr/bin/python2.7 /usr/bin/python2\nRUN mkdir /tmp/dump1090\n#   Clone, build and install dump1090 from source:\nRUN cd /tmp/dump1090 \\\n && git clone https://github.com/tedsluis/dump1090.git /tmp/dump1090\nRUN cd /tmp/dump1090 \\\n && dpkg-buildpackage -b\nRUN cd /tmp \\\n && dpkg -i dump1090-mutability_1.15~dev_amd64.deb\n#   Download heatmapdata file:\nRUN wget -O /usr/share/dump1090-mutability/html/heatmapdata.csv https://dl.dropboxusercontent.com/u/17865731/dump1090-20150916/heatmapdata.csv\n#   Download config files.\n#   notes: \n#   The is the place where you can replace the config files with yourn own URL's.\n#   If you use other config files, be sure you configure them before building the image. Don't use the default config files, because you won't be able to configure them!\nRUN wget -O /usr/share/dump1090-mutability/html/config.js https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/config.js\nRUN wget -O /etc/default/dump1090-mutability https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/dump1090-mutability\n#   Add terrain-limit rings. To enable this:\n#   create a panorama for your receiver location on heywhatsthat.com\n#   note the \"view\" value from the URL at the top of the panorama\n#   i.e. the XXXX in http://www.heywhatsthat.com/?view=XXXX\n#   fetch a json file from the API for the altitudes you want to see:\n#   wget -O /usr/share/dump1090-mutability/html/upintheair.json \\\n#   'http://www.heywhatsthat.com/api/upintheair.json?id=XXXX&refraction=0.25&alts=3048,9144'\n#   NB: altitudes are in _meters_, you can specify a list of altitudes\nRUN wget -O /usr/share/dump1090-mutability/html/upintheair.json 'http://www.heywhatsthat.com/api/upintheair.json?id=M7R4MI9M&refraction=0.25&alts=100,1000,10000'\n#   Open the firewall for http and incoming BEAST-format\nEXPOSE 80/tcp\nEXPOSE 30104/tcp\n#   Configure the webserver:\nRUN lighty-enable-mod dump1090\n#   Create startdump1090.sh script\n#   note: Change the default IP address of the remote dump1090 source in the startdump1090.sh script or specify the script with the IP address while you start the container!\nRUN wget -O /usr/share/dump1090-mutability/startdump1090.sh https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/startdump1090.sh\nRUN chmod 775 /usr/share/dump1090-mutability/startdump1090.sh\n#   This is the place where you can put your own ADS-B BEAST source.\n#   Replace the IP address with a dump1090 instance.\nRUN sed -i 's/^([\\s]+)ip=\"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\"/${1}ip=\"130.211.186.77\"/g' /usr/share/dump1090-mutability/startdump1090.sh\n#   Add labels\nLABEL architecture=\"AMD64,X86_64\"\nLABEL dump1090version=\"v1.15_heatmaprangeview\"\n#   Start lighttp web server, BEAST-format input (netcat) and Dump1090\nCMD [\"/bin/bash\", \"/usr/share/dump1090-mutability/startdump1090.sh\"]\n","originalDockerfileUglifiedHash":"13c753883da7fbe5230fed2d86edcc35","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/9295f19b7c73701cb30028ff56ad15a84293df67.dockerfile"}