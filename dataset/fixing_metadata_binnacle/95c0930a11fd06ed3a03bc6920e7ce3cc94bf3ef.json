{"seed":1861015147,"processedDockerfileHash":"a82ea003e4132d7340d723f477780f08","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM nvidia/cuda:9.0-cudnn7-runtime\nMAINTAINER CodaLab Team \"codalab.worksheets@gmail.com\"\n#   Begin common steps (Must be the same in the CPU and GPU images)\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https iputils-ping git python2.7 python-pip python-dev python-software-properties python-tk software-properties-common build-essential cmake libhdf5-dev swig wget curl -y\n#  # Python 3.6\nRUN add-apt-repository ppa:deadsnakes/ppa \\\n && apt-get update -y \\\n && apt-get install --no-install-recommends python3.6 python3.6-venv python3.6-dev python3-software-properties -y\nRUN curl https://bootstrap.pypa.io/get-pip.py | python3.6\n#  ## Without this Python thinks we're ASCII and unicode chars fail\nENV LANG=\"C.UTF-8\"\n#  # Oracle JDK 11\nRUN echo oracle-java11-installer shared/accepted-oracle-license-v1-2 select true | debconf-set-selections \\\n && add-apt-repository -y ppa:linuxuprising/java \\\n && apt-get update \\\n && apt-get install --no-install-recommends oracle-java11-installer -y \\\n && apt-get install --no-install-recommends oracle-java11-set-default -y \\\n && rm -rf /var/cache/oracle-jdk11-installer\nENV SCALA_VERSION=\"2.12.6\"\n#  # Scala\nRUN wget http://scala-lang.org/files/archive/scala-$SCALA_VERSION.deb \\\n && dpkg -i scala-$SCALA_VERSION.deb \\\n && echo \"deb https://dl.bintray.com/sbt/debian /\" | tee -a /etc/apt/sources.list.d/sbt.list \\\n && apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2EE0EA64E40A89B84B2DF73499E82A75642AC823 \\\n && apt-get update -y \\\n && apt-get install --no-install-recommends sbt -y \\\n && apt-get clean \\\n && apt-get autoremove \\\n && rm -rf /var/lib/apt/lists/*\nENV SCALA_HOME=\"/usr/share/java\"\nRUN pip2 install -U pip\nRUN pip2 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python -m spacy download en\n#  # Set up python3.6 environment\nRUN pip3 install -U pip\nRUN pip3 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python3.6 -m spacy download en\n#   End common steps\n#   GPU-specific commands\nRUN pip2 install -U tensorflow-gpu==1.12.0 tensorboard keras\nRUN pip2 install -U torch torchvision\nRUN pip3 install -U tensorflow-gpu==1.12.0 tensorboard keras\nRUN pip3 install -U torch torchvision\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM nvidia/cuda:9.0-cudnn7-runtime\nMAINTAINER CodaLab Team \"codalab.worksheets@gmail.com\"\n#  Begin common steps (Must be the same in the CPU and GPU images)\nRUN apt-get update \\\n && apt-get install apt-transport-https iputils-ping git python2.7 python-pip python-dev python-software-properties python-tk software-properties-common build-essential cmake libhdf5-dev swig wget curl -y\n# # Python 3.6\nRUN add-apt-repository ppa:deadsnakes/ppa \\\n && apt-get update -y \\\n && apt-get install python3.6 python3.6-venv python3.6-dev python3-software-properties -y\nRUN curl https://bootstrap.pypa.io/get-pip.py | python3.6\n# ## Without this Python thinks we're ASCII and unicode chars fail\nENV LANG=\"C.UTF-8\"\n# # Oracle JDK 11\nRUN echo oracle-java11-installer shared/accepted-oracle-license-v1-2 select true | debconf-set-selections \\\n && add-apt-repository -y ppa:linuxuprising/java \\\n && apt-get update \\\n && apt-get install oracle-java11-installer -y \\\n && apt-get install oracle-java11-set-default -y \\\n && rm -rf /var/cache/oracle-jdk11-installer\nENV SCALA_VERSION=\"2.12.6\"\n# # Scala\nRUN wget http://scala-lang.org/files/archive/scala-$SCALA_VERSION.deb \\\n && dpkg -i scala-$SCALA_VERSION.deb \\\n && echo \"deb https://dl.bintray.com/sbt/debian /\" | tee -a /etc/apt/sources.list.d/sbt.list \\\n && apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2EE0EA64E40A89B84B2DF73499E82A75642AC823 \\\n && apt-get update -y \\\n && apt-get install sbt -y \\\n && apt-get clean \\\n && apt-get autoremove \\\n && rm -rf /var/lib/apt/lists/*\nENV SCALA_HOME=\"/usr/share/java\"\nRUN pip2 install -U pip\nRUN pip2 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python -m spacy download en\n# # Set up python3.6 environment\nRUN pip3 install -U pip\nRUN pip3 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python3.6 -m spacy download en\n#  End common steps\n#  GPU-specific commands\nRUN pip2 install -U tensorflow-gpu==1.12.0 tensorboard keras\nRUN pip2 install -U torch torchvision\nRUN pip3 install -U tensorflow-gpu==1.12.0 tensorboard keras\nRUN pip3 install -U torch torchvision\n","injectedSmells":[],"originalDockerfileHash":"573c1b14ce2b87a38662b4e46eecd66b","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM nvidia/cuda:9.0-cudnn7-runtime\nMAINTAINER CodaLab Team \"codalab.worksheets@gmail.com\"\n#   Begin common steps (Must be the same in the CPU and GPU images)\nRUN apt-get update \\\n && apt-get install apt-transport-https iputils-ping git python2.7 python-pip python-dev python-software-properties python-tk software-properties-common build-essential cmake libhdf5-dev swig wget curl -y\n#  # Python 3.6\nRUN add-apt-repository ppa:deadsnakes/ppa \\\n && apt-get update -y \\\n && apt-get install python3.6 python3.6-venv python3.6-dev python3-software-properties -y\nRUN curl https://bootstrap.pypa.io/get-pip.py | python3.6\n#  ## Without this Python thinks we're ASCII and unicode chars fail\nENV LANG=\"C.UTF-8\"\n#  # Oracle JDK 11\nRUN echo oracle-java11-installer shared/accepted-oracle-license-v1-2 select true | debconf-set-selections \\\n && add-apt-repository -y ppa:linuxuprising/java \\\n && apt-get update \\\n && apt-get install oracle-java11-installer -y \\\n && apt-get install oracle-java11-set-default -y \\\n && rm -rf /var/cache/oracle-jdk11-installer\nENV SCALA_VERSION=\"2.12.6\"\n#  # Scala\nRUN wget http://scala-lang.org/files/archive/scala-$SCALA_VERSION.deb \\\n && dpkg -i scala-$SCALA_VERSION.deb \\\n && echo \"deb https://dl.bintray.com/sbt/debian /\" | tee -a /etc/apt/sources.list.d/sbt.list \\\n && apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2EE0EA64E40A89B84B2DF73499E82A75642AC823 \\\n && apt-get update -y \\\n && apt-get install sbt -y \\\n && apt-get clean \\\n && apt-get autoremove \\\n && rm -rf /var/lib/apt/lists/*\nENV SCALA_HOME=\"/usr/share/java\"\nRUN pip2 install -U pip\nRUN pip2 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python -m spacy download en\n#  # Set up python3.6 environment\nRUN pip3 install -U pip\nRUN pip3 install -U numpy scipy matplotlib pandas sympy nose spacy tqdm wheel scikit-learn scikit-image nltk\nRUN python3.6 -m spacy download en\n#   End common steps\n#   GPU-specific commands\nRUN pip2 install -U tensorflow-gpu==1.12.0 tensorboard keras\nRUN pip2 install -U torch torchvision\nRUN pip3 install -U tensorflow-gpu==1.12.0 tensorboard keras\nRUN pip3 install -U torch torchvision\n","originalDockerfileUglifiedHash":"9997091440ba510fa88c29e966d46bd1","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/95c0930a11fd06ed3a03bc6920e7ce3cc94bf3ef.dockerfile"}