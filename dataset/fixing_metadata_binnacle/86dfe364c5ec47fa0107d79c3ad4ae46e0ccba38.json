{"seed":2910094528,"processedDockerfileHash":"d9844e54b3db7ca9811b4e43d3963671","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM golang:1.8\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential git -y -q\n#   golang puts its go install here (weird but true)\nENV GOROOT_BOOTSTRAP=\"/usr/local/go\"\n#   BEGIN deps (run `make update-deps` to update)\n#   Repo cloud.google.com/go at 76d607c (2017-07-20)\nENV REV=\"76d607c4e7a2b9df49f1d1a58a3f3d2dd2614704\"\nRUN go get -d cloud.google.com/go/compute/metadata `` \\\n && (cd /go/src/cloud.google.com/go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo github.com/golang/protobuf at 0a4f71a (2017-07-11)\nENV REV=\"0a4f71a498b7c4812f64969510bcb4eca251e33a\"\nRUN go get -d github.com/golang/protobuf/proto `` \\\n && (cd /go/src/github.com/golang/protobuf \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo github.com/googleapis/gax-go at 84ed267 (2017-06-10)\nENV REV=\"84ed26760e7f6f80887a2fbfb50db3cc415d2cea\"\nRUN go get -d github.com/googleapis/gax-go \\\n && (cd /go/src/github.com/googleapis/gax-go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/build at da1460b (2017-07-31)\nENV REV=\"da1460b7c9c9b65383d1336593ed9ad346f6a1c5\"\nRUN go get -d golang.org/x/build/autocertcache \\\n && (cd /go/src/golang.org/x/build \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/crypto at 6914964 (2017-07-20)\nENV REV=\"6914964337150723782436d56b3f21610a74ce7b\"\nRUN go get -d golang.org/x/crypto/acme `` \\\n && (cd /go/src/golang.org/x/crypto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/net at ab54850 (2017-07-21)\nENV REV=\"ab5485076ff3407ad2d02db054635913f017b0ed\"\nRUN go get -d golang.org/x/net/context `` \\\n && (cd /go/src/golang.org/x/net \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/oauth2 at b53b38a (2017-07-19)\nENV REV=\"b53b38ad8a6435bd399ea76d0fa74f23149cca4e\"\nRUN go get -d golang.org/x/oauth2 `` \\\n && (cd /go/src/golang.org/x/oauth2 \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/text at 836efe4 (2017-07-14)\nENV REV=\"836efe42bb4aa16aaa17b9c155d8813d336ed720\"\nRUN go get -d golang.org/x/text/secure/bidirule `` \\\n && (cd /go/src/golang.org/x/text \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/api at 295e4bb (2017-07-18)\nENV REV=\"295e4bb0ade057ae2cfb9876ab0b54635dbfcea4\"\nRUN go get -d google.golang.org/api/gensupport `` \\\n && (cd /go/src/google.golang.org/api \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/genproto at b0a3dcf (2017-07-12)\nENV REV=\"b0a3dcfcd1a9bd48e63634bd8802960804cf8315\"\nRUN go get -d google.golang.org/genproto/googleapis/api/annotations `` \\\n && (cd /go/src/google.golang.org/genproto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/grpc at fa1cb32 (2017-07-31)\nENV REV=\"fa1cb32dc4f81e23ab862dd5e7ac4f2920a33088\"\nRUN go get -d google.golang.org/grpc `` \\\n && (cd /go/src/google.golang.org/grpc \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Optimization to speed up iterative development, not necessary for correctness:\nRUN go install cloud.google.com/go/compute/metadata cloud.google.com/go/iam cloud.google.com/go/internal cloud.google.com/go/internal/optional cloud.google.com/go/internal/version cloud.google.com/go/storage github.com/golang/protobuf/proto github.com/golang/protobuf/protoc-gen-go/descriptor github.com/golang/protobuf/ptypes github.com/golang/protobuf/ptypes/any github.com/golang/protobuf/ptypes/duration github.com/golang/protobuf/ptypes/timestamp github.com/googleapis/gax-go golang.org/x/build/autocertcache golang.org/x/crypto/acme golang.org/x/crypto/acme/autocert golang.org/x/net/context golang.org/x/net/context/ctxhttp golang.org/x/net/http2 golang.org/x/net/http2/hpack golang.org/x/net/idna golang.org/x/net/internal/timeseries golang.org/x/net/lex/httplex golang.org/x/net/trace golang.org/x/oauth2 golang.org/x/oauth2/google golang.org/x/oauth2/internal golang.org/x/oauth2/jws golang.org/x/oauth2/jwt golang.org/x/text/secure/bidirule golang.org/x/text/transform golang.org/x/text/unicode/bidi golang.org/x/text/unicode/norm google.golang.org/api/gensupport google.golang.org/api/googleapi google.golang.org/api/googleapi/internal/uritemplates google.golang.org/api/googleapi/transport google.golang.org/api/internal google.golang.org/api/iterator google.golang.org/api/option google.golang.org/api/storage/v1 google.golang.org/api/transport/http google.golang.org/genproto/googleapis/api/annotations google.golang.org/genproto/googleapis/iam/v1 google.golang.org/genproto/googleapis/rpc/status google.golang.org/grpc google.golang.org/grpc/codes google.golang.org/grpc/credentials google.golang.org/grpc/grpclb/grpc_lb_v1 google.golang.org/grpc/grpclog google.golang.org/grpc/internal google.golang.org/grpc/keepalive google.golang.org/grpc/metadata google.golang.org/grpc/naming google.golang.org/grpc/peer google.golang.org/grpc/stats google.golang.org/grpc/status google.golang.org/grpc/tap google.golang.org/grpc/transport\n#   END deps.\n#   golang sets GOPATH=/go\nCOPY . /go/src/tip\nRUN go install --tags=autocert tip\nENTRYPOINT [\"/go/bin/tip\"]\n#   App Engine expects us to listen on port 8080\nEXPOSE 8080/tcp\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM golang:1.8\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential git -y -q\n#  golang puts its go install here (weird but true)\nENV GOROOT_BOOTSTRAP=\"/usr/local/go\"\n#  BEGIN deps (run `make update-deps` to update)\n#  Repo cloud.google.com/go at 76d607c (2017-07-20)\nENV REV=\"76d607c4e7a2b9df49f1d1a58a3f3d2dd2614704\"\nRUN go get -d cloud.google.com/go/compute/metadata `` \\\n && (cd /go/src/cloud.google.com/go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo github.com/golang/protobuf at 0a4f71a (2017-07-11)\nENV REV=\"0a4f71a498b7c4812f64969510bcb4eca251e33a\"\nRUN go get -d github.com/golang/protobuf/proto `` \\\n && (cd /go/src/github.com/golang/protobuf \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo github.com/googleapis/gax-go at 84ed267 (2017-06-10)\nENV REV=\"84ed26760e7f6f80887a2fbfb50db3cc415d2cea\"\nRUN go get -d github.com/googleapis/gax-go \\\n && (cd /go/src/github.com/googleapis/gax-go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo golang.org/x/build at da1460b (2017-07-31)\nENV REV=\"da1460b7c9c9b65383d1336593ed9ad346f6a1c5\"\nRUN go get -d golang.org/x/build/autocertcache \\\n && (cd /go/src/golang.org/x/build \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo golang.org/x/crypto at 6914964 (2017-07-20)\nENV REV=\"6914964337150723782436d56b3f21610a74ce7b\"\nRUN go get -d golang.org/x/crypto/acme `` \\\n && (cd /go/src/golang.org/x/crypto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo golang.org/x/net at ab54850 (2017-07-21)\nENV REV=\"ab5485076ff3407ad2d02db054635913f017b0ed\"\nRUN go get -d golang.org/x/net/context `` \\\n && (cd /go/src/golang.org/x/net \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo golang.org/x/oauth2 at b53b38a (2017-07-19)\nENV REV=\"b53b38ad8a6435bd399ea76d0fa74f23149cca4e\"\nRUN go get -d golang.org/x/oauth2 `` \\\n && (cd /go/src/golang.org/x/oauth2 \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo golang.org/x/text at 836efe4 (2017-07-14)\nENV REV=\"836efe42bb4aa16aaa17b9c155d8813d336ed720\"\nRUN go get -d golang.org/x/text/secure/bidirule `` \\\n && (cd /go/src/golang.org/x/text \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo google.golang.org/api at 295e4bb (2017-07-18)\nENV REV=\"295e4bb0ade057ae2cfb9876ab0b54635dbfcea4\"\nRUN go get -d google.golang.org/api/gensupport `` \\\n && (cd /go/src/google.golang.org/api \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo google.golang.org/genproto at b0a3dcf (2017-07-12)\nENV REV=\"b0a3dcfcd1a9bd48e63634bd8802960804cf8315\"\nRUN go get -d google.golang.org/genproto/googleapis/api/annotations `` \\\n && (cd /go/src/google.golang.org/genproto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo google.golang.org/grpc at fa1cb32 (2017-07-31)\nENV REV=\"fa1cb32dc4f81e23ab862dd5e7ac4f2920a33088\"\nRUN go get -d google.golang.org/grpc `` \\\n && (cd /go/src/google.golang.org/grpc \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Optimization to speed up iterative development, not necessary for correctness:\nRUN go install cloud.google.com/go/compute/metadata cloud.google.com/go/iam cloud.google.com/go/internal cloud.google.com/go/internal/optional cloud.google.com/go/internal/version cloud.google.com/go/storage github.com/golang/protobuf/proto github.com/golang/protobuf/protoc-gen-go/descriptor github.com/golang/protobuf/ptypes github.com/golang/protobuf/ptypes/any github.com/golang/protobuf/ptypes/duration github.com/golang/protobuf/ptypes/timestamp github.com/googleapis/gax-go golang.org/x/build/autocertcache golang.org/x/crypto/acme golang.org/x/crypto/acme/autocert golang.org/x/net/context golang.org/x/net/context/ctxhttp golang.org/x/net/http2 golang.org/x/net/http2/hpack golang.org/x/net/idna golang.org/x/net/internal/timeseries golang.org/x/net/lex/httplex golang.org/x/net/trace golang.org/x/oauth2 golang.org/x/oauth2/google golang.org/x/oauth2/internal golang.org/x/oauth2/jws golang.org/x/oauth2/jwt golang.org/x/text/secure/bidirule golang.org/x/text/transform golang.org/x/text/unicode/bidi golang.org/x/text/unicode/norm google.golang.org/api/gensupport google.golang.org/api/googleapi google.golang.org/api/googleapi/internal/uritemplates google.golang.org/api/googleapi/transport google.golang.org/api/internal google.golang.org/api/iterator google.golang.org/api/option google.golang.org/api/storage/v1 google.golang.org/api/transport/http google.golang.org/genproto/googleapis/api/annotations google.golang.org/genproto/googleapis/iam/v1 google.golang.org/genproto/googleapis/rpc/status google.golang.org/grpc google.golang.org/grpc/codes google.golang.org/grpc/credentials google.golang.org/grpc/grpclb/grpc_lb_v1 google.golang.org/grpc/grpclog google.golang.org/grpc/internal google.golang.org/grpc/keepalive google.golang.org/grpc/metadata google.golang.org/grpc/naming google.golang.org/grpc/peer google.golang.org/grpc/stats google.golang.org/grpc/status google.golang.org/grpc/tap google.golang.org/grpc/transport\n#  END deps.\n#  golang sets GOPATH=/go\nADD . /go/src/tip\nRUN go install --tags=autocert tip\nENTRYPOINT [\"/go/bin/tip\"]\n#  App Engine expects us to listen on port 8080\nEXPOSE 8080/tcp\n","injectedSmells":[],"originalDockerfileHash":"b062b7b7a004c9342fa7a56dad7484c0","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM golang:1.8\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential git -y -q\n#   golang puts its go install here (weird but true)\nENV GOROOT_BOOTSTRAP=\"/usr/local/go\"\n#   BEGIN deps (run `make update-deps` to update)\n#   Repo cloud.google.com/go at 76d607c (2017-07-20)\nENV REV=\"76d607c4e7a2b9df49f1d1a58a3f3d2dd2614704\"\nRUN go get -d cloud.google.com/go/compute/metadata `` \\\n && (cd /go/src/cloud.google.com/go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo github.com/golang/protobuf at 0a4f71a (2017-07-11)\nENV REV=\"0a4f71a498b7c4812f64969510bcb4eca251e33a\"\nRUN go get -d github.com/golang/protobuf/proto `` \\\n && (cd /go/src/github.com/golang/protobuf \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo github.com/googleapis/gax-go at 84ed267 (2017-06-10)\nENV REV=\"84ed26760e7f6f80887a2fbfb50db3cc415d2cea\"\nRUN go get -d github.com/googleapis/gax-go \\\n && (cd /go/src/github.com/googleapis/gax-go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/build at da1460b (2017-07-31)\nENV REV=\"da1460b7c9c9b65383d1336593ed9ad346f6a1c5\"\nRUN go get -d golang.org/x/build/autocertcache \\\n && (cd /go/src/golang.org/x/build \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/crypto at 6914964 (2017-07-20)\nENV REV=\"6914964337150723782436d56b3f21610a74ce7b\"\nRUN go get -d golang.org/x/crypto/acme `` \\\n && (cd /go/src/golang.org/x/crypto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/net at ab54850 (2017-07-21)\nENV REV=\"ab5485076ff3407ad2d02db054635913f017b0ed\"\nRUN go get -d golang.org/x/net/context `` \\\n && (cd /go/src/golang.org/x/net \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/oauth2 at b53b38a (2017-07-19)\nENV REV=\"b53b38ad8a6435bd399ea76d0fa74f23149cca4e\"\nRUN go get -d golang.org/x/oauth2 `` \\\n && (cd /go/src/golang.org/x/oauth2 \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/text at 836efe4 (2017-07-14)\nENV REV=\"836efe42bb4aa16aaa17b9c155d8813d336ed720\"\nRUN go get -d golang.org/x/text/secure/bidirule `` \\\n && (cd /go/src/golang.org/x/text \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/api at 295e4bb (2017-07-18)\nENV REV=\"295e4bb0ade057ae2cfb9876ab0b54635dbfcea4\"\nRUN go get -d google.golang.org/api/gensupport `` \\\n && (cd /go/src/google.golang.org/api \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/genproto at b0a3dcf (2017-07-12)\nENV REV=\"b0a3dcfcd1a9bd48e63634bd8802960804cf8315\"\nRUN go get -d google.golang.org/genproto/googleapis/api/annotations `` \\\n && (cd /go/src/google.golang.org/genproto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/grpc at fa1cb32 (2017-07-31)\nENV REV=\"fa1cb32dc4f81e23ab862dd5e7ac4f2920a33088\"\nRUN go get -d google.golang.org/grpc `` \\\n && (cd /go/src/google.golang.org/grpc \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Optimization to speed up iterative development, not necessary for correctness:\nRUN go install cloud.google.com/go/compute/metadata cloud.google.com/go/iam cloud.google.com/go/internal cloud.google.com/go/internal/optional cloud.google.com/go/internal/version cloud.google.com/go/storage github.com/golang/protobuf/proto github.com/golang/protobuf/protoc-gen-go/descriptor github.com/golang/protobuf/ptypes github.com/golang/protobuf/ptypes/any github.com/golang/protobuf/ptypes/duration github.com/golang/protobuf/ptypes/timestamp github.com/googleapis/gax-go golang.org/x/build/autocertcache golang.org/x/crypto/acme golang.org/x/crypto/acme/autocert golang.org/x/net/context golang.org/x/net/context/ctxhttp golang.org/x/net/http2 golang.org/x/net/http2/hpack golang.org/x/net/idna golang.org/x/net/internal/timeseries golang.org/x/net/lex/httplex golang.org/x/net/trace golang.org/x/oauth2 golang.org/x/oauth2/google golang.org/x/oauth2/internal golang.org/x/oauth2/jws golang.org/x/oauth2/jwt golang.org/x/text/secure/bidirule golang.org/x/text/transform golang.org/x/text/unicode/bidi golang.org/x/text/unicode/norm google.golang.org/api/gensupport google.golang.org/api/googleapi google.golang.org/api/googleapi/internal/uritemplates google.golang.org/api/googleapi/transport google.golang.org/api/internal google.golang.org/api/iterator google.golang.org/api/option google.golang.org/api/storage/v1 google.golang.org/api/transport/http google.golang.org/genproto/googleapis/api/annotations google.golang.org/genproto/googleapis/iam/v1 google.golang.org/genproto/googleapis/rpc/status google.golang.org/grpc google.golang.org/grpc/codes google.golang.org/grpc/credentials google.golang.org/grpc/grpclb/grpc_lb_v1 google.golang.org/grpc/grpclog google.golang.org/grpc/internal google.golang.org/grpc/keepalive google.golang.org/grpc/metadata google.golang.org/grpc/naming google.golang.org/grpc/peer google.golang.org/grpc/stats google.golang.org/grpc/status google.golang.org/grpc/tap google.golang.org/grpc/transport\n#   END deps.\n#   golang sets GOPATH=/go\nADD . /go/src/tip\nRUN go install --tags=autocert tip\nENTRYPOINT [\"/go/bin/tip\"]\n#   App Engine expects us to listen on port 8080\nEXPOSE 8080/tcp\n","originalDockerfileUglifiedHash":"b6b13c3eb90ebb4619e0b7bca1a70289","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/86dfe364c5ec47fa0107d79c3ad4ae46e0ccba38.dockerfile"}