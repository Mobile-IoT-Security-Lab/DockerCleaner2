{"seed":1314665624,"processedDockerfileHash":"66567bb7c39bfe25a4d681290151baaf","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#\n#  --------------------------------------------------------------------------\n#   Image Setup\n#  --------------------------------------------------------------------------\n#\n#   To edit the 'php-fpm' base Image, visit its repository on Github\n#      https://github.com/Laradock/php-fpm\n#\n#   To change its version, see the available Tags on the Docker Hub:\n#      https://hub.docker.com/r/laradock/php-fpm/tags/\n#\n#   Note: Base Image name format {image-tag}-{php-version}\n#\nFROM laradock/php-fpm:1.4-56\nMAINTAINER Mahmoud Zalt <mahmoud@zalt.me>\n#\n#  --------------------------------------------------------------------------\n#   Mandatory Software's Installation\n#  --------------------------------------------------------------------------\n#\n#   Mandatory Software's such as (\"mcrypt\", \"pdo_mysql\", \"libssl-dev\", ....)\n#   are installed on the base image 'laradock/php-fpm' image. If you want\n#   to add more Software's or remove existing one, you need to edit the\n#   base image (https://github.com/Laradock/php-fpm).\n#\n#\n#  --------------------------------------------------------------------------\n#   Optional Software's Installation\n#  --------------------------------------------------------------------------\n#\n#   Optional Software's will only be installed if you set them to `true`\n#   in the `docker-compose.yml` before the build.\n#   Example:\n#     - INSTALL_ZIP_ARCHIVE=true\n#\n#  ####################################\n#   SOAP:\n#  ####################################\nARG INSTALL_SOAP=false\nRUN if [ ${INSTALL_SOAP} = true ] ; then apt-get update -yqq \\\n && apt-get install --no-install-recommends libxml2-dev php-soap -y \\\n && docker-php-ext-install soap ; fi\n#  ####################################\n#   PHP GMP\n#  ####################################\nARG INSTALL_GMP=false\nENV INSTALL_GMP=\"${INSTALL_GMP}\"\nRUN if [ ${INSTALL_GMP} = true ] ; then apt-get update -yqq \\\n && apt-get install --no-install-recommends libgmp-dev -y \\\n && docker-php-ext-configure gmp \\\n && docker-php-ext-install gmp \\\n && docker-php-ext-enable gmp ; fi\n#  ####################################\n#   xDebug:\n#  ####################################\nARG INSTALL_XDEBUG=false\nRUN if [ ${INSTALL_XDEBUG} = true ] ; then apt-get install --no-install-recommends php5-xdebug -y \\\n && echo \"zend_extension=/usr/lib/php5/20131226/xdebug.so\" > /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini; fi\n#   Copy xdebug configration for remote debugging\nCOPY ./xdebug.ini /usr/local/etc/php/conf.d/xdebug.ini\n#  ####################################\n#   Blackfire:\n#  ####################################\nARG INSTALL_BLACKFIRE=false\nRUN if [ ${INSTALL_XDEBUG} = false -a ${INSTALL_BLACKFIRE} = true ] ; then version=$( php -r \"echo PHP_MAJOR_VERSION.PHP_MINOR_VERSION;\" ;) \\\n && curl -A \"Docker\" -o /tmp/blackfire-probe.tar.gz -D - -L -s https://blackfire.io/api/v1/releases/probe/php/linux/amd64/$version \\\n && tar zxpf /tmp/blackfire-probe.tar.gz -C /tmp \\\n && mv /tmp/blackfire-*.so $( php -r \"echo ini_get('extension_dir');\" ;)/blackfire.so \\\n && printf \"extension=blackfire.so\\nblackfire.agent_socket=tcp://blackfire:8707\\n\" > $PHP_INI_DIR/conf.d/blackfire.ini; fi\n#  ####################################\n#   PHP REDIS EXTENSION FOR PHP 5\n#  ####################################\nARG INSTALL_PHPREDIS=false\nRUN if [ ${INSTALL_PHPREDIS} = true ] ; then pecl install -o -f redis \\\n && rm -rf /tmp/pear \\\n && docker-php-ext-enable redis ; fi\n#  ####################################\n#   Swoole EXTENSION FOR PHP 5\n#  ####################################\nARG INSTALL_SWOOLE=false\nRUN if [ ${INSTALL_SWOOLE} = true ] ; then pecl install swoole \\\n && docker-php-ext-enable swoole ; fi\n#  ####################################\n#   MongoDB:\n#  ####################################\nARG INSTALL_MONGO=false\nRUN if [ ${INSTALL_MONGO} = true ] ; then pecl install mongodb \\\n && docker-php-ext-enable mongodb ; fi\n#  ####################################\n#   ZipArchive:\n#  ####################################\nARG INSTALL_ZIP_ARCHIVE=false\nRUN if [ ${INSTALL_ZIP_ARCHIVE} = true ] ; then docker-php-ext-install zip ; fi\n#  ####################################\n#   bcmath:\n#  ####################################\nARG INSTALL_BCMATH=false\nRUN if [ ${INSTALL_BCMATH} = true ] ; then docker-php-ext-install bcmath ; fi\n#  ####################################\n#   PHP Memcached:\n#  ####################################\nARG INSTALL_MEMCACHED=false\nRUN if [ ${INSTALL_MEMCACHED} = true ] ; then pecl install memcached-2.2.0 \\\n && docker-php-ext-enable memcached ; fi\n#  ####################################\n#   Exif:\n#  ####################################\nARG INSTALL_EXIF=false\nRUN if [ ${INSTALL_EXIF} = true ] ; then docker-php-ext-install exif ; fi\n#  ####################################\n#   PHP Aerospike:\n#  ####################################\nARG INSTALL_AEROSPIKE=false\nENV INSTALL_AEROSPIKE=\"${INSTALL_AEROSPIKE}\"\n#   Copy aerospike configration for remote debugging\nCOPY ./aerospike.ini /usr/local/etc/php/conf.d/aerospike.ini\nRUN if [ ${INSTALL_AEROSPIKE} = true ] ; then curl -L -o /tmp/aerospike-client-php.tar.gz \"https://github.com/aerospike/aerospike-client-php/archive/3.4.14.tar.gz\" \\\n && mkdir -p aerospike-client-php \\\n && tar -C aerospike-client-php -zxvf /tmp/aerospike-client-php.tar.gz --strip 1 \\\n && (cd aerospike-client-php/src/aerospike \\\n && phpize \\\n && ./build.sh \\\n && make install ) \\\n && rm /tmp/aerospike-client-php.tar.gz \\\n && docker-php-ext-enable aerospike ; fi\n#  ####################################\n#   Opcache:\n#  ####################################\nARG INSTALL_OPCACHE=false\nRUN if [ ${INSTALL_OPCACHE} = true ] ; then docker-php-ext-install opcache ; fi\n#   Copy opcache configration\nCOPY ./opcache.ini /usr/local/etc/php/conf.d/opcache.ini\n#  ####################################\n#   Mysqli Modifications:\n#  ####################################\nARG INSTALL_MYSQLI=false\n#   MySQL extenstion is available for Php5.6 and lower only\nCOPY ./mysql.ini /usr/local/etc/php/conf.d/mysql.ini\nRUN if [ ${INSTALL_MYSQLI} = true ] ; then docker-php-ext-install mysql \\\n && docker-php-ext-install mysqli ; fi\n#  ####################################\n#   Tokenizer Modifications:\n#  ####################################\nARG INSTALL_TOKENIZER=false\nRUN if [ ${INSTALL_TOKENIZER} = true ] ; then docker-php-ext-install tokenizer ; fi\n#  ####################################\n#   Human Language and Character Encoding Support:\n#  ####################################\nARG INSTALL_INTL=false\nRUN if [ ${INSTALL_INTL} = true ] ; then apt-get install --no-install-recommends zlib1g-dev libicu-dev g++ -y \\\n && docker-php-ext-configure intl \\\n && docker-php-ext-install intl ; fi\n#  ####################################\n#   GHOSTSCRIPT:\n#  ####################################\nARG INSTALL_GHOSTSCRIPT=false\nRUN if [ ${INSTALL_GHOSTSCRIPT} = true ] ; then apt-get update -yqq \\\n && apt-get install --no-install-recommends poppler-utils ghostscript -y ; fi\n#  ####################################\n#   LDAP:\n#  ####################################\nARG INSTALL_LDAP=false\nRUN if [ ${INSTALL_LDAP} = true ] ; then apt-get update -yqq \\\n && apt-get install --no-install-recommends libldap2-dev -y \\\n && docker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu/ \\\n && docker-php-ext-install ldap ; fi\n#  ####################################\n#   ImageMagick\n#  ####################################\nARG INSTALL_IMAGICK=false\nRUN if [ ${INSTALL_IMAGICK} ] ; then echo \"deb-src http://deb.debian.org/debian jessie main\" >> /etc/apt/sources.list \\\n && echo \"deb-src http://deb.debian.org/debian jessie-updates main\" >> /etc/apt/sources.list \\\n && echo \"deb-src http://security.debian.org jessie/updates main\" >> /etc/apt/sources.list \\\n && apt-get update \\\n && apt-get build-dep imagemagick -y \\\n && apt-get install --no-install-recommends libwebp-dev -y \\\n && mkdir /tmp/imagemagick \\\n && cd /tmp/imagemagick \\\n && curl -L -o ImageMagick.tar.gz http://www.imagemagick.org/download/ImageMagick.tar.gz \\\n && tar xf ImageMagick*.tar.gz \\\n && cd ImageMagic* \\\n && ./configure --prefix=/usr --without-x \\\n && make \\\n && make install \\\n && pecl install imagick \\\n && docker-php-ext-enable imagick ; fi\n#\n#  --------------------------------------------------------------------------\n#   Final Touch\n#  --------------------------------------------------------------------------\n#\nCOPY ./laravel.ini /usr/local/etc/php/conf.d\nCOPY ./laravel.pool.conf /usr/local/etc/php-fpm.d/\n#  RUN rm -r /var/lib/apt/lists/*\nRUN usermod -u 1000 www-data\nWORKDIR /var/www\nCMD [\"php-fpm\"]\nEXPOSE 9000/tcp\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#\n# --------------------------------------------------------------------------\n#  Image Setup\n# --------------------------------------------------------------------------\n#\n#  To edit the 'php-fpm' base Image, visit its repository on Github\n#     https://github.com/Laradock/php-fpm\n#\n#  To change its version, see the available Tags on the Docker Hub:\n#     https://hub.docker.com/r/laradock/php-fpm/tags/\n#\n#  Note: Base Image name format {image-tag}-{php-version}\n#\nFROM laradock/php-fpm:1.4-56\nMAINTAINER Mahmoud Zalt <mahmoud@zalt.me>\n#\n# --------------------------------------------------------------------------\n#  Mandatory Software's Installation\n# --------------------------------------------------------------------------\n#\n#  Mandatory Software's such as (\"mcrypt\", \"pdo_mysql\", \"libssl-dev\", ....)\n#  are installed on the base image 'laradock/php-fpm' image. If you want\n#  to add more Software's or remove existing one, you need to edit the\n#  base image (https://github.com/Laradock/php-fpm).\n#\n#\n# --------------------------------------------------------------------------\n#  Optional Software's Installation\n# --------------------------------------------------------------------------\n#\n#  Optional Software's will only be installed if you set them to `true`\n#  in the `docker-compose.yml` before the build.\n#  Example:\n#    - INSTALL_ZIP_ARCHIVE=true\n#\n# ####################################\n#  SOAP:\n# ####################################\nARG INSTALL_SOAP=false\nRUN if [ ${INSTALL_SOAP} = true ] ; then apt-get update -yqq \\\n && apt-get install libxml2-dev php-soap -y \\\n && docker-php-ext-install soap ; fi\n# ####################################\n#  PHP GMP\n# ####################################\nARG INSTALL_GMP=false\nENV INSTALL_GMP=\"${INSTALL_GMP}\"\nRUN if [ ${INSTALL_GMP} = true ] ; then apt-get update -yqq \\\n && apt-get install libgmp-dev -y \\\n && docker-php-ext-configure gmp \\\n && docker-php-ext-install gmp \\\n && docker-php-ext-enable gmp ; fi\n# ####################################\n#  xDebug:\n# ####################################\nARG INSTALL_XDEBUG=false\nRUN if [ ${INSTALL_XDEBUG} = true ] ; then apt-get install php5-xdebug -y \\\n && echo \"zend_extension=/usr/lib/php5/20131226/xdebug.so\" > /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini; fi\n#  Copy xdebug configration for remote debugging\nCOPY ./xdebug.ini /usr/local/etc/php/conf.d/xdebug.ini\n# ####################################\n#  Blackfire:\n# ####################################\nARG INSTALL_BLACKFIRE=false\nRUN if [ ${INSTALL_XDEBUG} = false -a ${INSTALL_BLACKFIRE} = true ] ; then version=$( php -r \"echo PHP_MAJOR_VERSION.PHP_MINOR_VERSION;\" ;) \\\n && curl -A \"Docker\" -o /tmp/blackfire-probe.tar.gz -D - -L -s https://blackfire.io/api/v1/releases/probe/php/linux/amd64/$version \\\n && tar zxpf /tmp/blackfire-probe.tar.gz -C /tmp \\\n && mv /tmp/blackfire-*.so $( php -r \"echo ini_get('extension_dir');\" ;)/blackfire.so \\\n && printf \"extension=blackfire.so\\nblackfire.agent_socket=tcp://blackfire:8707\\n\" > $PHP_INI_DIR/conf.d/blackfire.ini; fi\n# ####################################\n#  PHP REDIS EXTENSION FOR PHP 5\n# ####################################\nARG INSTALL_PHPREDIS=false\nRUN if [ ${INSTALL_PHPREDIS} = true ] ; then pecl install -o -f redis \\\n && rm -rf /tmp/pear \\\n && docker-php-ext-enable redis ; fi\n# ####################################\n#  Swoole EXTENSION FOR PHP 5\n# ####################################\nARG INSTALL_SWOOLE=false\nRUN if [ ${INSTALL_SWOOLE} = true ] ; then pecl install swoole \\\n && docker-php-ext-enable swoole ; fi\n# ####################################\n#  MongoDB:\n# ####################################\nARG INSTALL_MONGO=false\nRUN if [ ${INSTALL_MONGO} = true ] ; then pecl install mongodb \\\n && docker-php-ext-enable mongodb ; fi\n# ####################################\n#  ZipArchive:\n# ####################################\nARG INSTALL_ZIP_ARCHIVE=false\nRUN if [ ${INSTALL_ZIP_ARCHIVE} = true ] ; then docker-php-ext-install zip ; fi\n# ####################################\n#  bcmath:\n# ####################################\nARG INSTALL_BCMATH=false\nRUN if [ ${INSTALL_BCMATH} = true ] ; then docker-php-ext-install bcmath ; fi\n# ####################################\n#  PHP Memcached:\n# ####################################\nARG INSTALL_MEMCACHED=false\nRUN if [ ${INSTALL_MEMCACHED} = true ] ; then pecl install memcached-2.2.0 \\\n && docker-php-ext-enable memcached ; fi\n# ####################################\n#  Exif:\n# ####################################\nARG INSTALL_EXIF=false\nRUN if [ ${INSTALL_EXIF} = true ] ; then docker-php-ext-install exif ; fi\n# ####################################\n#  PHP Aerospike:\n# ####################################\nARG INSTALL_AEROSPIKE=false\nENV INSTALL_AEROSPIKE=\"${INSTALL_AEROSPIKE}\"\n#  Copy aerospike configration for remote debugging\nCOPY ./aerospike.ini /usr/local/etc/php/conf.d/aerospike.ini\nRUN if [ ${INSTALL_AEROSPIKE} = true ] ; then curl -L -o /tmp/aerospike-client-php.tar.gz \"https://github.com/aerospike/aerospike-client-php/archive/3.4.14.tar.gz\" \\\n && mkdir -p aerospike-client-php \\\n && tar -C aerospike-client-php -zxvf /tmp/aerospike-client-php.tar.gz --strip 1 \\\n && (cd aerospike-client-php/src/aerospike \\\n && phpize \\\n && ./build.sh \\\n && make install ) \\\n && rm /tmp/aerospike-client-php.tar.gz \\\n && docker-php-ext-enable aerospike ; fi\n# ####################################\n#  Opcache:\n# ####################################\nARG INSTALL_OPCACHE=false\nRUN if [ ${INSTALL_OPCACHE} = true ] ; then docker-php-ext-install opcache ; fi\n#  Copy opcache configration\nCOPY ./opcache.ini /usr/local/etc/php/conf.d/opcache.ini\n# ####################################\n#  Mysqli Modifications:\n# ####################################\nARG INSTALL_MYSQLI=false\n#  MySQL extenstion is available for Php5.6 and lower only\nCOPY ./mysql.ini /usr/local/etc/php/conf.d/mysql.ini\nRUN if [ ${INSTALL_MYSQLI} = true ] ; then docker-php-ext-install mysql \\\n && docker-php-ext-install mysqli ; fi\n# ####################################\n#  Tokenizer Modifications:\n# ####################################\nARG INSTALL_TOKENIZER=false\nRUN if [ ${INSTALL_TOKENIZER} = true ] ; then docker-php-ext-install tokenizer ; fi\n# ####################################\n#  Human Language and Character Encoding Support:\n# ####################################\nARG INSTALL_INTL=false\nRUN if [ ${INSTALL_INTL} = true ] ; then apt-get install zlib1g-dev libicu-dev g++ -y \\\n && docker-php-ext-configure intl \\\n && docker-php-ext-install intl ; fi\n# ####################################\n#  GHOSTSCRIPT:\n# ####################################\nARG INSTALL_GHOSTSCRIPT=false\nRUN if [ ${INSTALL_GHOSTSCRIPT} = true ] ; then apt-get update -yqq \\\n && apt-get install poppler-utils ghostscript -y ; fi\n# ####################################\n#  LDAP:\n# ####################################\nARG INSTALL_LDAP=false\nRUN if [ ${INSTALL_LDAP} = true ] ; then apt-get update -yqq \\\n && apt-get install libldap2-dev -y \\\n && docker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu/ \\\n && docker-php-ext-install ldap ; fi\n# ####################################\n#  ImageMagick\n# ####################################\nARG INSTALL_IMAGICK=false\nRUN if [ ${INSTALL_IMAGICK} ] ; then echo \"deb-src http://deb.debian.org/debian jessie main\" >> /etc/apt/sources.list \\\n && echo \"deb-src http://deb.debian.org/debian jessie-updates main\" >> /etc/apt/sources.list \\\n && echo \"deb-src http://security.debian.org jessie/updates main\" >> /etc/apt/sources.list \\\n && apt-get update \\\n && apt-get build-dep imagemagick -y \\\n && apt-get install libwebp-dev -y \\\n && mkdir /tmp/imagemagick \\\n && cd /tmp/imagemagick \\\n && curl -L -o ImageMagick.tar.gz http://www.imagemagick.org/download/ImageMagick.tar.gz \\\n && tar xf ImageMagick*.tar.gz \\\n && cd ImageMagic* \\\n && ./configure --prefix=/usr --without-x \\\n && make \\\n && make install \\\n && pecl install imagick \\\n && docker-php-ext-enable imagick ; fi\n#\n# --------------------------------------------------------------------------\n#  Final Touch\n# --------------------------------------------------------------------------\n#\nADD ./laravel.ini /usr/local/etc/php/conf.d\nADD ./laravel.pool.conf /usr/local/etc/php-fpm.d/\n# RUN rm -r /var/lib/apt/lists/*\nRUN usermod -u 1000 www-data\nWORKDIR /var/www\nCMD [\"php-fpm\"]\nEXPOSE 9000/tcp\n","injectedSmells":[],"originalDockerfileHash":"7eb806c3f56a9ff92e1b554d4e5c3498","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#  --------------------------------------------------------------------------\n#   Image Setup\n#  --------------------------------------------------------------------------\n#\n#   To edit the 'php-fpm' base Image, visit its repository on Github\n#      https://github.com/Laradock/php-fpm\n#\n#   To change its version, see the available Tags on the Docker Hub:\n#      https://hub.docker.com/r/laradock/php-fpm/tags/\n#\n#   Note: Base Image name format {image-tag}-{php-version}\n#\nFROM laradock/php-fpm:1.4-56\nMAINTAINER Mahmoud Zalt <mahmoud@zalt.me>\n#\n#  --------------------------------------------------------------------------\n#   Mandatory Software's Installation\n#  --------------------------------------------------------------------------\n#\n#   Mandatory Software's such as (\"mcrypt\", \"pdo_mysql\", \"libssl-dev\", ....)\n#   are installed on the base image 'laradock/php-fpm' image. If you want\n#   to add more Software's or remove existing one, you need to edit the\n#   base image (https://github.com/Laradock/php-fpm).\n#\n#\n#  --------------------------------------------------------------------------\n#   Optional Software's Installation\n#  --------------------------------------------------------------------------\n#\n#   Optional Software's will only be installed if you set them to `true`\n#   in the `docker-compose.yml` before the build.\n#   Example:\n#     - INSTALL_ZIP_ARCHIVE=true\n#\n#  ####################################\n#   SOAP:\n#  ####################################\nARG INSTALL_SOAP=false\nRUN if [ ${INSTALL_SOAP} = true ] ; then apt-get update -yqq \\\n && apt-get install libxml2-dev php-soap -y \\\n && docker-php-ext-install soap ; fi\n#  ####################################\n#   PHP GMP\n#  ####################################\nARG INSTALL_GMP=false\nENV INSTALL_GMP=\"${INSTALL_GMP}\"\nRUN if [ ${INSTALL_GMP} = true ] ; then apt-get update -yqq \\\n && apt-get install libgmp-dev -y \\\n && docker-php-ext-configure gmp \\\n && docker-php-ext-install gmp \\\n && docker-php-ext-enable gmp ; fi\n#  ####################################\n#   xDebug:\n#  ####################################\nARG INSTALL_XDEBUG=false\nRUN if [ ${INSTALL_XDEBUG} = true ] ; then apt-get install php5-xdebug -y \\\n && echo \"zend_extension=/usr/lib/php5/20131226/xdebug.so\" > /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini; fi\n#   Copy xdebug configration for remote debugging\nCOPY ./xdebug.ini /usr/local/etc/php/conf.d/xdebug.ini\n#  ####################################\n#   Blackfire:\n#  ####################################\nARG INSTALL_BLACKFIRE=false\nRUN if [ ${INSTALL_XDEBUG} = false -a ${INSTALL_BLACKFIRE} = true ] ; then version=$( php -r \"echo PHP_MAJOR_VERSION.PHP_MINOR_VERSION;\" ;) \\\n && curl -A \"Docker\" -o /tmp/blackfire-probe.tar.gz -D - -L -s https://blackfire.io/api/v1/releases/probe/php/linux/amd64/$version \\\n && tar zxpf /tmp/blackfire-probe.tar.gz -C /tmp \\\n && mv /tmp/blackfire-*.so $( php -r \"echo ini_get('extension_dir');\" ;)/blackfire.so \\\n && printf \"extension=blackfire.so\\nblackfire.agent_socket=tcp://blackfire:8707\\n\" > $PHP_INI_DIR/conf.d/blackfire.ini; fi\n#  ####################################\n#   PHP REDIS EXTENSION FOR PHP 5\n#  ####################################\nARG INSTALL_PHPREDIS=false\nRUN if [ ${INSTALL_PHPREDIS} = true ] ; then pecl install -o -f redis \\\n && rm -rf /tmp/pear \\\n && docker-php-ext-enable redis ; fi\n#  ####################################\n#   Swoole EXTENSION FOR PHP 5\n#  ####################################\nARG INSTALL_SWOOLE=false\nRUN if [ ${INSTALL_SWOOLE} = true ] ; then pecl install swoole \\\n && docker-php-ext-enable swoole ; fi\n#  ####################################\n#   MongoDB:\n#  ####################################\nARG INSTALL_MONGO=false\nRUN if [ ${INSTALL_MONGO} = true ] ; then pecl install mongodb \\\n && docker-php-ext-enable mongodb ; fi\n#  ####################################\n#   ZipArchive:\n#  ####################################\nARG INSTALL_ZIP_ARCHIVE=false\nRUN if [ ${INSTALL_ZIP_ARCHIVE} = true ] ; then docker-php-ext-install zip ; fi\n#  ####################################\n#   bcmath:\n#  ####################################\nARG INSTALL_BCMATH=false\nRUN if [ ${INSTALL_BCMATH} = true ] ; then docker-php-ext-install bcmath ; fi\n#  ####################################\n#   PHP Memcached:\n#  ####################################\nARG INSTALL_MEMCACHED=false\nRUN if [ ${INSTALL_MEMCACHED} = true ] ; then pecl install memcached-2.2.0 \\\n && docker-php-ext-enable memcached ; fi\n#  ####################################\n#   Exif:\n#  ####################################\nARG INSTALL_EXIF=false\nRUN if [ ${INSTALL_EXIF} = true ] ; then docker-php-ext-install exif ; fi\n#  ####################################\n#   PHP Aerospike:\n#  ####################################\nARG INSTALL_AEROSPIKE=false\nENV INSTALL_AEROSPIKE=\"${INSTALL_AEROSPIKE}\"\n#   Copy aerospike configration for remote debugging\nCOPY ./aerospike.ini /usr/local/etc/php/conf.d/aerospike.ini\nRUN if [ ${INSTALL_AEROSPIKE} = true ] ; then curl -L -o /tmp/aerospike-client-php.tar.gz \"https://github.com/aerospike/aerospike-client-php/archive/3.4.14.tar.gz\" \\\n && mkdir -p aerospike-client-php \\\n && tar -C aerospike-client-php -zxvf /tmp/aerospike-client-php.tar.gz --strip 1 \\\n && (cd aerospike-client-php/src/aerospike \\\n && phpize \\\n && ./build.sh \\\n && make install ) \\\n && rm /tmp/aerospike-client-php.tar.gz \\\n && docker-php-ext-enable aerospike ; fi\n#  ####################################\n#   Opcache:\n#  ####################################\nARG INSTALL_OPCACHE=false\nRUN if [ ${INSTALL_OPCACHE} = true ] ; then docker-php-ext-install opcache ; fi\n#   Copy opcache configration\nCOPY ./opcache.ini /usr/local/etc/php/conf.d/opcache.ini\n#  ####################################\n#   Mysqli Modifications:\n#  ####################################\nARG INSTALL_MYSQLI=false\n#   MySQL extenstion is available for Php5.6 and lower only\nCOPY ./mysql.ini /usr/local/etc/php/conf.d/mysql.ini\nRUN if [ ${INSTALL_MYSQLI} = true ] ; then docker-php-ext-install mysql \\\n && docker-php-ext-install mysqli ; fi\n#  ####################################\n#   Tokenizer Modifications:\n#  ####################################\nARG INSTALL_TOKENIZER=false\nRUN if [ ${INSTALL_TOKENIZER} = true ] ; then docker-php-ext-install tokenizer ; fi\n#  ####################################\n#   Human Language and Character Encoding Support:\n#  ####################################\nARG INSTALL_INTL=false\nRUN if [ ${INSTALL_INTL} = true ] ; then apt-get install zlib1g-dev libicu-dev g++ -y \\\n && docker-php-ext-configure intl \\\n && docker-php-ext-install intl ; fi\n#  ####################################\n#   GHOSTSCRIPT:\n#  ####################################\nARG INSTALL_GHOSTSCRIPT=false\nRUN if [ ${INSTALL_GHOSTSCRIPT} = true ] ; then apt-get update -yqq \\\n && apt-get install poppler-utils ghostscript -y ; fi\n#  ####################################\n#   LDAP:\n#  ####################################\nARG INSTALL_LDAP=false\nRUN if [ ${INSTALL_LDAP} = true ] ; then apt-get update -yqq \\\n && apt-get install libldap2-dev -y \\\n && docker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu/ \\\n && docker-php-ext-install ldap ; fi\n#  ####################################\n#   ImageMagick\n#  ####################################\nARG INSTALL_IMAGICK=false\nRUN if [ ${INSTALL_IMAGICK} ] ; then echo \"deb-src http://deb.debian.org/debian jessie main\" >> /etc/apt/sources.list \\\n && echo \"deb-src http://deb.debian.org/debian jessie-updates main\" >> /etc/apt/sources.list \\\n && echo \"deb-src http://security.debian.org jessie/updates main\" >> /etc/apt/sources.list \\\n && apt-get update \\\n && apt-get build-dep imagemagick -y \\\n && apt-get install libwebp-dev -y \\\n && mkdir /tmp/imagemagick \\\n && cd /tmp/imagemagick \\\n && curl -L -o ImageMagick.tar.gz http://www.imagemagick.org/download/ImageMagick.tar.gz \\\n && tar xf ImageMagick*.tar.gz \\\n && cd ImageMagic* \\\n && ./configure --prefix=/usr --without-x \\\n && make \\\n && make install \\\n && pecl install imagick \\\n && docker-php-ext-enable imagick ; fi\n#\n#  --------------------------------------------------------------------------\n#   Final Touch\n#  --------------------------------------------------------------------------\n#\nADD ./laravel.ini /usr/local/etc/php/conf.d\nADD ./laravel.pool.conf /usr/local/etc/php-fpm.d/\n#  RUN rm -r /var/lib/apt/lists/*\nRUN usermod -u 1000 www-data\nWORKDIR /var/www\nCMD [\"php-fpm\"]\nEXPOSE 9000/tcp\n","originalDockerfileUglifiedHash":"f6cd74c64bd89eef84c4c56b36938e23","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/f74bd6573eacec320a410432f6b9955929eb9c17.dockerfile"}