{"seed":466007812,"processedDockerfileHash":"520ada8ab7f4cc801ff5595559844e53","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Copyright (c) 2017, comdor.co\n#   All rights reserved.\n#   Redistribution and use in source and binary forms, with or without\n#   modification, are permitted provided that the following conditions are met:\n#    1)Redistributions of source code must retain the above copyright notice,\n#    this list of conditions and the following disclaimer.\n#    2)Redistributions in binary form must reproduce the above copyright notice,\n#   this list of conditions and the following disclaimer in the documentation\n#   and/or other materials provided with the distribution.\n#    3)Neither the name of comdor nor the names of its\n#   contributors may be used to endorse or promote products derived from\n#   this software without specific prior written permission.\n#   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n#   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n#   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n#   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n#   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n#   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n#   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n#   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n#   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n#   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n#   POSSIBILITY OF SUCH DAMAGE.\nFROM ubuntu:14.04\nMAINTAINER Mihai Andronache <amihaiemil@gmail.com>\nLABEL Description=\"This is the default Docker image for comdor.co\" \\\n      Vendor=\"comdor.co\" \\\n      Version=\"1.0\"\nWORKDIR /tmp\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   UTF-8 locale\nRUN locale-gen en_US en_US.UTF-8\nRUN dpkg-reconfigure locales\nENV LC_ALL=\"en_US.UTF-8\"\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US.UTF-8\"\n#   Basic Linux tools\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends wget=1.15-1ubuntu1.14.04.5 bcrypt=1.1-8 curl=7.35.0-1ubuntu2.20 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends unzip=6.0-9ubuntu1.5 zip=3.0-8 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends gnupg=1.4.16-1ubuntu2.6 gnupg2=2.0.22-3ubuntu1.4 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends jq=1.3-1.1ubuntu1.1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends cloc=1.60-1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends bsdmainutils=9.0.5ubuntu1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libxml2-utils=2.9.1+dfsg1-3ubuntu4.13 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends build-essential=11.6ubuntu6 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends automake=1:1.14.1-2ubuntu1 autoconf=2.69-6 -y )\n#   Git 2.0\nRUN (apt-get update ;apt-get install --no-install-recommends software-properties-common=0.92.37.8 python-software-properties=0.92.37.8 -y )\nRUN add-apt-repository ppa:git-core/ppa\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends git=1:1.9.1-1ubuntu0.10 git-core=1:1.9.1-1ubuntu0.10 -y )\n#   SSH Daemon\nRUN (apt-get update ;apt-get install --no-install-recommends ssh=1:6.6p1-2ubuntu2.13 -y ) \\\n && mkdir /var/run/sshd \\\n && chmod 0755 /var/run/sshd\n#   Ruby\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends ruby-dev=1:1.9.3.4 libmagic-dev=1:5.14-2ubuntu3.3 zlib1g-dev=1:1.2.8.dfsg-1ubuntu1 -y )\nRUN gpg2 --keyserver hkp://keys.gnupg.net --recv-keys D39DC0E3\nRUN curl -L https://get.rvm.io | bash -s stable\nRUN /bin/bash -l -c \"rvm requirements\"\nRUN /bin/bash -l -c \"rvm install 2.3.3\"\nRUN /bin/bash -l -c \"gem update \\\n && gem install --no-ri --no-rdoc nokogiri:1.6.7.2 bundler:1.11.2\"\n#   PHP\nRUN (apt-get update ;apt-get install --no-install-recommends php5=5.5.9+dfsg-1ubuntu4.29 php5-dev=5.5.9+dfsg-1ubuntu4.29 php-pear=5.5.9+dfsg-1ubuntu4.29 -y )\nRUN curl --silent --show-error https://getcomposer.org/installer | php\nRUN mv composer.phar /usr/local/bin/composer\nRUN mkdir jsl \\\n && wget --quiet http://www.javascriptlint.com/download/jsl-0.3.0-src.tar.gz \\\n && tar xzf jsl-0.3.0-src.tar.gz \\\n && cd jsl-0.3.0/src \\\n && make -f Makefile.ref \\\n && mv Linux_All_DBG.OBJ/jsl /usr/local/bin \\\n && cd .. \\\n && rm -rf jsl\n#   RUN pecl install xdebug-beta && \\\n#     echo \"zend_extension=xdebug.so\" > /etc/php5/cli/conf.d/xdebug.ini\n#   Java\nRUN (apt-get update ;apt-get install --no-install-recommends default-jdk=2:1.7-51 -y )\n#   PhantomJS\nRUN (apt-get update ;apt-get install --no-install-recommends phantomjs=1.9.0-1 -y )\n#   NodeJS\nRUN rm -rf /usr/lib/node_modules\nRUN curl -sL https://deb.nodesource.com/setup_6.x | bash -\nRUN (apt-get update ;apt-get install --no-install-recommends nodejs=0.10.25~dfsg2-2ubuntu1.2 -y )\n#   Maven\nENV MAVEN_VERSION=\"3.3.9\"\nENV M2_HOME=\"\\\"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}\\\"\"\nRUN wget --quiet \"http://mirror.dkd.de/apache/maven/maven-3/${MAVEN_VERSION}/binaries/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" \\\n && mkdir -p /usr/local/apache-maven \\\n && mv \"apache-maven-${MAVEN_VERSION}-bin.tar.gz\" /usr/local/apache-maven \\\n && tar xzvf \"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" -C /usr/local/apache-maven/ \\\n && update-alternatives --install /usr/bin/mvn mvn \"${M2_HOME}/bin/mvn\" 1 \\\n && update-alternatives --config mvn\n#   Clean up\nRUN rm -rf /tmp/*\nRUN rm -rf /root/.ssh\nENTRYPOINT [\"/bin/bash\", \"-l\", \"-c\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Copyright (c) 2017, comdor.co\n#  All rights reserved.\n#  Redistribution and use in source and binary forms, with or without\n#  modification, are permitted provided that the following conditions are met:\n#   1)Redistributions of source code must retain the above copyright notice,\n#   this list of conditions and the following disclaimer.\n#   2)Redistributions in binary form must reproduce the above copyright notice,\n#  this list of conditions and the following disclaimer in the documentation\n#  and/or other materials provided with the distribution.\n#   3)Neither the name of comdor nor the names of its\n#  contributors may be used to endorse or promote products derived from\n#  this software without specific prior written permission.\n#  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n#  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n#  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n#  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n#  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n#  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n#  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n#  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n#  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n#  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n#  POSSIBILITY OF SUCH DAMAGE.\nFROM ubuntu:14.04\nMAINTAINER Mihai Andronache <amihaiemil@gmail.com>\nLABEL Description=\"This is the default Docker image for comdor.co\" \\\n      Vendor=\"comdor.co\" \\\n      Version=\"1.0\"\nWORKDIR /tmp\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  UTF-8 locale\nRUN locale-gen en_US en_US.UTF-8\nRUN dpkg-reconfigure locales\nENV LC_ALL=\"en_US.UTF-8\"\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US.UTF-8\"\n#  Basic Linux tools\nRUN apt-get update\nRUN apt-get install wget bcrypt curl -y\nRUN apt-get install unzip zip -y\nRUN apt-get install gnupg gnupg2 -y\nRUN apt-get install jq -y\nRUN apt-get install cloc -y\nRUN apt-get install bsdmainutils -y\nRUN apt-get install libxml2-utils -y\nRUN apt-get install build-essential -y\nRUN apt-get install automake autoconf -y\n#  Git 2.0\nRUN apt-get install software-properties-common python-software-properties -y\nRUN add-apt-repository ppa:git-core/ppa\nRUN apt-get update\nRUN apt-get install git git-core -y\n#  SSH Daemon\nRUN apt-get install ssh -y \\\n && mkdir /var/run/sshd \\\n && chmod 0755 /var/run/sshd\n#  Ruby\nRUN apt-get update \\\n && apt-get install ruby-dev libmagic-dev=1:5.14-2ubuntu3.3 zlib1g-dev=1:1.2.8.dfsg-1ubuntu1 -y\nRUN gpg2 --keyserver hkp://keys.gnupg.net --recv-keys D39DC0E3\nRUN curl -L https://get.rvm.io | bash -s stable\nRUN /bin/bash -l -c \"rvm requirements\"\nRUN /bin/bash -l -c \"rvm install 2.3.3\"\nRUN /bin/bash -l -c \"gem update \\\n && gem install --no-ri --no-rdoc nokogiri:1.6.7.2 bundler:1.11.2\"\n#  PHP\nRUN apt-get install php5 php5-dev php-pear -y\nRUN curl --silent --show-error https://getcomposer.org/installer | php\nRUN mv composer.phar /usr/local/bin/composer\nRUN mkdir jsl \\\n && wget --quiet http://www.javascriptlint.com/download/jsl-0.3.0-src.tar.gz \\\n && tar xzf jsl-0.3.0-src.tar.gz \\\n && cd jsl-0.3.0/src \\\n && make -f Makefile.ref \\\n && mv Linux_All_DBG.OBJ/jsl /usr/local/bin \\\n && cd .. \\\n && rm -rf jsl\n#  RUN pecl install xdebug-beta && \\\n#    echo \"zend_extension=xdebug.so\" > /etc/php5/cli/conf.d/xdebug.ini\n#  Java\nRUN apt-get install default-jdk -y\n#  PhantomJS\nRUN apt-get install phantomjs -y\n#  NodeJS\nRUN rm -rf /usr/lib/node_modules\nRUN curl -sL https://deb.nodesource.com/setup_6.x | bash -\nRUN apt-get install nodejs -y\n#  Maven\nENV MAVEN_VERSION=\"3.3.9\"\nENV M2_HOME=\"\\\"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}\\\"\"\nRUN wget --quiet \"http://mirror.dkd.de/apache/maven/maven-3/${MAVEN_VERSION}/binaries/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" \\\n && mkdir -p /usr/local/apache-maven \\\n && mv \"apache-maven-${MAVEN_VERSION}-bin.tar.gz\" /usr/local/apache-maven \\\n && tar xzvf \"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" -C /usr/local/apache-maven/ \\\n && update-alternatives --install /usr/bin/mvn mvn \"${M2_HOME}/bin/mvn\" 1 \\\n && update-alternatives --config mvn\n#  Clean up\nRUN rm -rf /tmp/*\nRUN rm -rf /root/.ssh\nENTRYPOINT [\"/bin/bash\", \"-l\", \"-c\"]\n","injectedSmells":[],"originalDockerfileHash":"d4a18d8fe3b528b445bbbcf11bc6b704","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Copyright (c) 2017, comdor.co\n#   All rights reserved.\n#   Redistribution and use in source and binary forms, with or without\n#   modification, are permitted provided that the following conditions are met:\n#    1)Redistributions of source code must retain the above copyright notice,\n#    this list of conditions and the following disclaimer.\n#    2)Redistributions in binary form must reproduce the above copyright notice,\n#   this list of conditions and the following disclaimer in the documentation\n#   and/or other materials provided with the distribution.\n#    3)Neither the name of comdor nor the names of its\n#   contributors may be used to endorse or promote products derived from\n#   this software without specific prior written permission.\n#   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n#   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n#   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n#   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n#   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n#   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n#   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n#   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n#   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n#   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n#   POSSIBILITY OF SUCH DAMAGE.\nFROM ubuntu:14.04\nMAINTAINER Mihai Andronache <amihaiemil@gmail.com>\nLABEL Description=\"This is the default Docker image for comdor.co\" \\\n      Vendor=\"comdor.co\" \\\n      Version=\"1.0\"\nWORKDIR /tmp\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   UTF-8 locale\nRUN locale-gen en_US en_US.UTF-8\nRUN dpkg-reconfigure locales\nENV LC_ALL=\"en_US.UTF-8\"\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US.UTF-8\"\n#   Basic Linux tools\nRUN apt-get update\nRUN apt-get install wget bcrypt curl -y\nRUN apt-get install unzip zip -y\nRUN apt-get install gnupg gnupg2 -y\nRUN apt-get install jq -y\nRUN apt-get install cloc -y\nRUN apt-get install bsdmainutils -y\nRUN apt-get install libxml2-utils -y\nRUN apt-get install build-essential -y\nRUN apt-get install automake autoconf -y\n#   Git 2.0\nRUN apt-get install software-properties-common python-software-properties -y\nRUN add-apt-repository ppa:git-core/ppa\nRUN apt-get update\nRUN apt-get install git git-core -y\n#   SSH Daemon\nRUN apt-get install ssh -y \\\n && mkdir /var/run/sshd \\\n && chmod 0755 /var/run/sshd\n#   Ruby\nRUN apt-get update \\\n && apt-get install ruby-dev libmagic-dev=1:5.14-2ubuntu3.3 zlib1g-dev=1:1.2.8.dfsg-1ubuntu1 -y\nRUN gpg2 --keyserver hkp://keys.gnupg.net --recv-keys D39DC0E3\nRUN curl -L https://get.rvm.io | bash -s stable\nRUN /bin/bash -l -c \"rvm requirements\"\nRUN /bin/bash -l -c \"rvm install 2.3.3\"\nRUN /bin/bash -l -c \"gem update \\\n && gem install --no-ri --no-rdoc nokogiri:1.6.7.2 bundler:1.11.2\"\n#   PHP\nRUN apt-get install php5 php5-dev php-pear -y\nRUN curl --silent --show-error https://getcomposer.org/installer | php\nRUN mv composer.phar /usr/local/bin/composer\nRUN mkdir jsl \\\n && wget --quiet http://www.javascriptlint.com/download/jsl-0.3.0-src.tar.gz \\\n && tar xzf jsl-0.3.0-src.tar.gz \\\n && cd jsl-0.3.0/src \\\n && make -f Makefile.ref \\\n && mv Linux_All_DBG.OBJ/jsl /usr/local/bin \\\n && cd .. \\\n && rm -rf jsl\n#   RUN pecl install xdebug-beta && \\\n#     echo \"zend_extension=xdebug.so\" > /etc/php5/cli/conf.d/xdebug.ini\n#   Java\nRUN apt-get install default-jdk -y\n#   PhantomJS\nRUN apt-get install phantomjs -y\n#   NodeJS\nRUN rm -rf /usr/lib/node_modules\nRUN curl -sL https://deb.nodesource.com/setup_6.x | bash -\nRUN apt-get install nodejs -y\n#   Maven\nENV MAVEN_VERSION=\"3.3.9\"\nENV M2_HOME=\"\\\"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}\\\"\"\nRUN wget --quiet \"http://mirror.dkd.de/apache/maven/maven-3/${MAVEN_VERSION}/binaries/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" \\\n && mkdir -p /usr/local/apache-maven \\\n && mv \"apache-maven-${MAVEN_VERSION}-bin.tar.gz\" /usr/local/apache-maven \\\n && tar xzvf \"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" -C /usr/local/apache-maven/ \\\n && update-alternatives --install /usr/bin/mvn mvn \"${M2_HOME}/bin/mvn\" 1 \\\n && update-alternatives --config mvn\n#   Clean up\nRUN rm -rf /tmp/*\nRUN rm -rf /root/.ssh\nENTRYPOINT [\"/bin/bash\", \"-l\", \"-c\"]\n","originalDockerfileUglifiedHash":"bb691a1b57ad7664e8a19fb20a4105dd","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/17e6abe51d99389f35a45c0961ec4e0fa00c74de.dockerfile"}