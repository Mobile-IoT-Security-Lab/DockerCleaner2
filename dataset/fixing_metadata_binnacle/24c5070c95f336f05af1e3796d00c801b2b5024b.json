{"seed":478992493,"processedDockerfileHash":"1a8a7749dd25280514ba17cd07721f6b","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ocaml/opam:ubuntu-16.04_ocaml-4.04.2\nRUN cd /home/opam/opam-repository \\\n && git pull origin master \\\n && opam update\nRUN opam pin add no-camlp4 https://github.com/avsm/no-camlp4.git\nRUN opam depext -uivj 3 no-camlp4 alcotest angstrom anycache arp asn1-combinators astring atd atdgen base base64 camlzip cmdliner cohttp conduit core_kernel cow cowabloga cpuid crunch cstruct.3.0.2 ctypes ctypes-foreign datakit datakit-ci depyt dns dockerfile duration ezjsonm ezxmlm functoria git github gmp-freestanding hex hkdf hvsock integers io-page ipaddr irc-client irmin-watcher jekyll-format jenga jsonm logs logs-syslog lru-cache lwt magic-mime merlin mirage mirage-block mirage-block-lwt mirage-block-ramdisk mirage-block-solo5 mirage-block-unix mirage-block-xen mirage-bootvar-solo5 mirage-bootvar-xen mirage-btrees mirage-channel mirage-clock-unix mirage-clock-freestanding mirage-console-solo5 mirage-console-unix mirage-console-xen mirage-console-xen-backend mirage-console-xen-cli mirage-console-xen-proto mirage-device mirage-dns mirage-entropy mirage-flow mirage-flow-lwt mirage-flow-unix mirage-flow-rawlink mirage-fs-unix mirage-http mirage-logs mirage-net-flow mirage-net-solo5 mirage-net-unix mirage-net-xen mirage-os-shim mirage-random mirage-solo5 mirage-unix mirage-vnetif mirage-xen nocrypto obytelib ocaml-freestanding ocamlclean ocb-stubblr ocplib-endian odig opam-file-format otr parse-argv pbkdf pcap-format ppx_expect protocol-9p ptime re randomconv rresult scrypt-kdf session shared-memory-ring solo5-kernel-virtio stdio syslog-message tar tcpip tls tyre tuntap uri uucp uuseg utop vchan webbrowser webmachine x509 xen-evtchn xen-gnt xenctrl yojson xenstore zarith-freestanding\n#   to fix: dns-forward nbd qcow vhd-format ezirmin mirage-block-ccm git-mirage topkg-care git-unix irmin websocket charrua-core charrua-unix fat-filesystem ansi-parse tlstunnel notty\n#   not relevant: owl tyxml-ppx\nRUN opam install -yj4 odoc odig\n#   RUN opam config exec -- odig ocamldoc --docdir-href ../_doc\nRUN opam config exec -- odig odoc\nEXPOSE 8080/tcp\nENTRYPOINT opam config exec -- cohttp-server-lwt /home/opam/.opam/4.04.2/var/cache/odig/odoc\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ocaml/opam:ubuntu-16.04_ocaml-4.04.2\nRUN cd /home/opam/opam-repository \\\n && git pull origin master \\\n && opam update\nRUN opam pin add no-camlp4 https://github.com/avsm/no-camlp4.git\nRUN opam depext -uivj 3 no-camlp4 alcotest angstrom anycache arp asn1-combinators astring atd atdgen base base64 camlzip cmdliner cohttp conduit core_kernel cow cowabloga cpuid crunch cstruct.3.0.2 ctypes ctypes-foreign datakit datakit-ci depyt dns dockerfile duration ezjsonm ezxmlm functoria git github gmp-freestanding hex hkdf hvsock integers io-page ipaddr irc-client irmin-watcher jekyll-format jenga jsonm logs logs-syslog lru-cache lwt magic-mime merlin mirage mirage-block mirage-block-lwt mirage-block-ramdisk mirage-block-solo5 mirage-block-unix mirage-block-xen mirage-bootvar-solo5 mirage-bootvar-xen mirage-btrees mirage-channel mirage-clock-unix mirage-clock-freestanding mirage-console-solo5 mirage-console-unix mirage-console-xen mirage-console-xen-backend mirage-console-xen-cli mirage-console-xen-proto mirage-device mirage-dns mirage-entropy mirage-flow mirage-flow-lwt mirage-flow-unix mirage-flow-rawlink mirage-fs-unix mirage-http mirage-logs mirage-net-flow mirage-net-solo5 mirage-net-unix mirage-net-xen mirage-os-shim mirage-random mirage-solo5 mirage-unix mirage-vnetif mirage-xen nocrypto obytelib ocaml-freestanding ocamlclean ocb-stubblr ocplib-endian odig opam-file-format otr parse-argv pbkdf pcap-format ppx_expect protocol-9p ptime re randomconv rresult scrypt-kdf session shared-memory-ring solo5-kernel-virtio stdio syslog-message tar tcpip tls tyre tuntap uri uucp uuseg utop vchan webbrowser webmachine x509 xen-evtchn xen-gnt xenctrl yojson xenstore zarith-freestanding\n#  to fix: dns-forward nbd qcow vhd-format ezirmin mirage-block-ccm git-mirage topkg-care git-unix irmin websocket charrua-core charrua-unix fat-filesystem ansi-parse tlstunnel notty\n#  not relevant: owl tyxml-ppx\nRUN opam install -yj4 odoc odig\n#  RUN opam config exec -- odig ocamldoc --docdir-href ../_doc\nRUN opam config exec -- odig odoc\nEXPOSE 8080/tcp\nENTRYPOINT opam config exec -- cohttp-server-lwt /home/opam/.opam/4.04.2/var/cache/odig/odoc\n","injectedSmells":[],"originalDockerfileHash":"ae324fe5d1a255ab972bb1411c8cd86d","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ocaml/opam:ubuntu-16.04_ocaml-4.04.2\nRUN cd /home/opam/opam-repository \\\n && git pull origin master \\\n && opam update\nRUN opam pin add no-camlp4 https://github.com/avsm/no-camlp4.git\nRUN opam depext -uivj 3 no-camlp4 alcotest angstrom anycache arp asn1-combinators astring atd atdgen base base64 camlzip cmdliner cohttp conduit core_kernel cow cowabloga cpuid crunch cstruct.3.0.2 ctypes ctypes-foreign datakit datakit-ci depyt dns dockerfile duration ezjsonm ezxmlm functoria git github gmp-freestanding hex hkdf hvsock integers io-page ipaddr irc-client irmin-watcher jekyll-format jenga jsonm logs logs-syslog lru-cache lwt magic-mime merlin mirage mirage-block mirage-block-lwt mirage-block-ramdisk mirage-block-solo5 mirage-block-unix mirage-block-xen mirage-bootvar-solo5 mirage-bootvar-xen mirage-btrees mirage-channel mirage-clock-unix mirage-clock-freestanding mirage-console-solo5 mirage-console-unix mirage-console-xen mirage-console-xen-backend mirage-console-xen-cli mirage-console-xen-proto mirage-device mirage-dns mirage-entropy mirage-flow mirage-flow-lwt mirage-flow-unix mirage-flow-rawlink mirage-fs-unix mirage-http mirage-logs mirage-net-flow mirage-net-solo5 mirage-net-unix mirage-net-xen mirage-os-shim mirage-random mirage-solo5 mirage-unix mirage-vnetif mirage-xen nocrypto obytelib ocaml-freestanding ocamlclean ocb-stubblr ocplib-endian odig opam-file-format otr parse-argv pbkdf pcap-format ppx_expect protocol-9p ptime re randomconv rresult scrypt-kdf session shared-memory-ring solo5-kernel-virtio stdio syslog-message tar tcpip tls tyre tuntap uri uucp uuseg utop vchan webbrowser webmachine x509 xen-evtchn xen-gnt xenctrl yojson xenstore zarith-freestanding\n#   to fix: dns-forward nbd qcow vhd-format ezirmin mirage-block-ccm git-mirage topkg-care git-unix irmin websocket charrua-core charrua-unix fat-filesystem ansi-parse tlstunnel notty\n#   not relevant: owl tyxml-ppx\nRUN opam install -yj4 odoc odig\n#   RUN opam config exec -- odig ocamldoc --docdir-href ../_doc\nRUN opam config exec -- odig odoc\nEXPOSE 8080/tcp\nENTRYPOINT opam config exec -- cohttp-server-lwt /home/opam/.opam/4.04.2/var/cache/odig/odoc\n","originalDockerfileUglifiedHash":"f55a5dddc83779d93adfebd811afc262","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/24c5070c95f336f05af1e3796d00c801b2b5024b.dockerfile"}