{"seed":3799239580,"processedDockerfileHash":"3ccd9c461e6264ace4c2e72157ccbc3a","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Apple Swfit 5.0 for Backend.ai\nFROM ubuntu:18.04\nMAINTAINER Mario Cho \"m.cho@lablup.com\"\nRUN export DEBIAN_FRONTEND=noninteractive DEBCONF_NONINTERACTIVE_SEEN=true \\\n && apt-get update -q -y \\\n && apt-get install --no-install-recommends python3=3.6.7-1~18.04 python3-pip=9.0.1-2.3~ubuntu1.18.04.8 libssl-dev=1.1.1-1ubuntu2.1~18.04.21 libmpdec2=2.4.2-1ubuntu1 proj-bin=4.9.3-2 libproj-dev=4.9.3-2 libgeos-dev=3.6.2-1build2 libgeos++-dev=3.6.2-1build2 libatomic1=8.4.0-1ubuntu1~18.04 libbsd0=0.8.7-1ubuntu0.1 libcurl4=7.58.0-2ubuntu3.24 libxml2=2.9.4+dfsg1-6.1ubuntu1.8 libedit2=3.1-20170329-1 libsqlite3-0=3.22.0-1ubuntu0.7 libc6-dev=2.27-3ubuntu1.6 binutils=2.30-21ubuntu1~18.04.8 libgcc-5-dev=5.5.0-12ubuntu1 libstdc++-5-dev=5.5.0-12ubuntu1 libpython2.7=2.7.17-1~18.04ubuntu1.11 tzdata=2022g-0ubuntu0.18.04 git=1:2.17.1-1ubuntu0.17 pkg-config=0.29.1-0ubuntu2 -q -y \\\n && rm -r /var/lib/apt/lists/*\nENV PYTHONUNBUFFERED=\"1\" \\\n    PATH=\"/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\" \\\n    LANG=\"C.UTF-8\"\nARG SWIFT_PLATFORM=ubuntu18.04\nARG SWIFT_BRANCH=swift-5.0.1-release\nARG SWIFT_VERSION=swift-5.0.1-RELEASE\nENV SWIFT_PLATFORM=\"$SWIFT_PLATFORM\" \\\n    SWIFT_BRANCH=\"$SWIFT_BRANCH\" \\\n    SWIFT_VERSION=\"$SWIFT_VERSION\"\nRUN SWIFT_URL=https://swift.org/builds/$SWIFT_BRANCH/$( echo \"$SWIFT_PLATFORM\" | tr -d . ;)/$SWIFT_VERSION/$SWIFT_VERSION-$SWIFT_PLATFORM.tar.gz \\\n && apt-get update \\\n && apt-get install --no-install-recommends curl=7.58.0-2ubuntu3.24 -y \\\n && curl -fSsL $SWIFT_URL -o swift.tar.gz \\\n && curl -fSsL $SWIFT_URL.sig -o swift.tar.gz.sig \\\n && export GNUPGHOME=\"$( mktemp -d ;)\" \\\n && set -e ; for key in A62AE125BBBFBB96A6E042EC925CC1CCED3D1561; do gpg --quiet --keyserver ha.pool.sks-keyservers.net --recv-keys \"$key\" ; done \\\n && gpg --batch --verify --quiet swift.tar.gz.sig swift.tar.gz \\\n && tar -xzf swift.tar.gz --directory / --strip-components=1 \\\n && rm -r \"$GNUPGHOME\" swift.tar.gz.sig swift.tar.gz \\\n && chmod -R o+r /usr/lib/swift\nRUN curl https://bootstrap.pypa.io/get-pip.py | python3 \\\n && python3 -m pip install --no-cache-dir -U setuptools \\\n && python3 -m pip install --no-cache-dir wheel \\\n && python3 -m pip install --no-cache-dir h5py \\\n && python3 -m pip install --no-cache-dir Cython \\\n && python3 -m pip install --no-cache-dir numpy scipy \\\n && python3 -m pip install --no-cache-dir versioneer==0.17 \\\n && python3 -m pip install --no-cache-dir pyproj Cartopy==0.16 \\\n && python3 -m pip install --no-cache-dir matplotlib bokeh \\\n && python3 -m pip install --no-cache-dir ipython \\\n && python3 -m pip install --no-cache-dir jupyter \\\n && python3 -m pip install --no-cache-dir jupyterlab \\\n && apt-get purge -y curl \\\n && apt-get -y autoremove \\\n && rm -rf /root/.cache \\\n && rm -f /tmp/*.whl \\\n && swift --version\nRUN update-alternatives --install /usr/bin/python python /usr/bin/python3 2\n#   Install ipython kernelspec\nRUN python -m ipykernel install --display-name \"Swift 5.0\" \\\n && cat /usr/local/share/jupyter/kernels/python3/kernel.json\n#   Install Jupyter notebook logo\nRUN mkdir -p /home/work/.jupyter/custom\nCOPY custom.css /home/work/.jupyter/custom/custom.css\nCOPY logo.svg /home/work/.jupyter/custom/logo.svg\n#   Backend.AI specifics\nLABEL ai.backend.kernelspec=\"1\" \\\n      ai.backend.envs.corecount=\"OPENBLAS_NUM_THREADS,OMP_NUM_THREADS,NPROC\" \\\n      ai.backend.features=\"batch query uid-match user-input\" \\\n      ai.backend.base-distro=\"ubuntu16.04\" \\\n      ai.backend.resource.min.cpu=\"1\" \\\n      ai.backend.resource.min.mem=\"1g\" \\\n      ai.backend.runtime-type=\"python\" \\\n      ai.backend.runtime-path=\"/usr/bin/swift\" \\\n      ai.backend.service-ports=\"ipython:pty:3000,jupyter:http:8080,jupyterlab:http:8090\"\nCOPY policy.yml /etc/backend.ai/jail/policy.yml\n#   vim: ft=dockerfile\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Apple Swfit 5.0 for Backend.ai\nFROM ubuntu:18.04\nMAINTAINER Mario Cho \"m.cho@lablup.com\"\nRUN export DEBIAN_FRONTEND=noninteractive DEBCONF_NONINTERACTIVE_SEEN=true \\\n && apt-get update -q -y \\\n && apt-get install python3 python3-pip libssl-dev libmpdec2 proj-bin libproj-dev libgeos-dev libgeos++-dev libatomic1 libbsd0 libcurl4 libxml2 libedit2 libsqlite3-0 libc6-dev binutils libgcc-5-dev libstdc++-5-dev libpython2.7 tzdata git pkg-config -q -y \\\n && rm -r /var/lib/apt/lists/*\nENV PYTHONUNBUFFERED=\"1\" \\\n    PATH=\"/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\" \\\n    LANG=\"C.UTF-8\"\nARG SWIFT_PLATFORM=ubuntu18.04\nARG SWIFT_BRANCH=swift-5.0.1-release\nARG SWIFT_VERSION=swift-5.0.1-RELEASE\nENV SWIFT_PLATFORM=\"$SWIFT_PLATFORM\" \\\n    SWIFT_BRANCH=\"$SWIFT_BRANCH\" \\\n    SWIFT_VERSION=\"$SWIFT_VERSION\"\nRUN SWIFT_URL=https://swift.org/builds/$SWIFT_BRANCH/$( echo \"$SWIFT_PLATFORM\" | tr -d . ;)/$SWIFT_VERSION/$SWIFT_VERSION-$SWIFT_PLATFORM.tar.gz \\\n && apt-get update \\\n && apt-get install curl -y \\\n && curl -fSsL $SWIFT_URL -o swift.tar.gz \\\n && curl -fSsL $SWIFT_URL.sig -o swift.tar.gz.sig \\\n && export GNUPGHOME=\"$( mktemp -d ;)\" \\\n && set -e ; for key in A62AE125BBBFBB96A6E042EC925CC1CCED3D1561; do gpg --quiet --keyserver ha.pool.sks-keyservers.net --recv-keys \"$key\" ; done \\\n && gpg --batch --verify --quiet swift.tar.gz.sig swift.tar.gz \\\n && tar -xzf swift.tar.gz --directory / --strip-components=1 \\\n && rm -r \"$GNUPGHOME\" swift.tar.gz.sig swift.tar.gz \\\n && chmod -R o+r /usr/lib/swift\nRUN curl https://bootstrap.pypa.io/get-pip.py | python3 \\\n && python3 -m pip install --no-cache-dir -U setuptools \\\n && python3 -m pip install --no-cache-dir wheel \\\n && python3 -m pip install --no-cache-dir h5py \\\n && python3 -m pip install --no-cache-dir Cython \\\n && python3 -m pip install --no-cache-dir numpy scipy \\\n && python3 -m pip install --no-cache-dir versioneer==0.17 \\\n && python3 -m pip install --no-cache-dir pyproj Cartopy==0.16 \\\n && python3 -m pip install --no-cache-dir matplotlib bokeh \\\n && python3 -m pip install --no-cache-dir ipython \\\n && python3 -m pip install --no-cache-dir jupyter \\\n && python3 -m pip install --no-cache-dir jupyterlab \\\n && apt-get purge -y curl \\\n && apt-get -y autoremove \\\n && rm -rf /root/.cache \\\n && rm -f /tmp/*.whl \\\n && swift --version\nRUN update-alternatives --install /usr/bin/python python /usr/bin/python3 2\n#  Install ipython kernelspec\nRUN python -m ipykernel install --display-name \"Swift 5.0\" \\\n && cat /usr/local/share/jupyter/kernels/python3/kernel.json\n#  Install Jupyter notebook logo\nRUN mkdir -p /home/work/.jupyter/custom\nCOPY custom.css /home/work/.jupyter/custom/custom.css\nCOPY logo.svg /home/work/.jupyter/custom/logo.svg\n#  Backend.AI specifics\nLABEL ai.backend.kernelspec=\"1\" \\\n      ai.backend.envs.corecount=\"OPENBLAS_NUM_THREADS,OMP_NUM_THREADS,NPROC\" \\\n      ai.backend.features=\"batch query uid-match user-input\" \\\n      ai.backend.base-distro=\"ubuntu16.04\" \\\n      ai.backend.resource.min.cpu=\"1\" \\\n      ai.backend.resource.min.mem=\"1g\" \\\n      ai.backend.runtime-type=\"python\" \\\n      ai.backend.runtime-path=\"/usr/bin/swift\" \\\n      ai.backend.service-ports=\"ipython:pty:3000,jupyter:http:8080,jupyterlab:http:8090\"\nCOPY policy.yml /etc/backend.ai/jail/policy.yml\n#  vim: ft=dockerfile\n","injectedSmells":[],"originalDockerfileHash":"6eb2ecda829fd6e6ab54f687e273cb9c","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Apple Swfit 5.0 for Backend.ai\nFROM ubuntu:18.04\nMAINTAINER Mario Cho \"m.cho@lablup.com\"\nRUN export DEBIAN_FRONTEND=noninteractive DEBCONF_NONINTERACTIVE_SEEN=true \\\n && apt-get update -q -y \\\n && apt-get install python3 python3-pip libssl-dev libmpdec2 proj-bin libproj-dev libgeos-dev libgeos++-dev libatomic1 libbsd0 libcurl4 libxml2 libedit2 libsqlite3-0 libc6-dev binutils libgcc-5-dev libstdc++-5-dev libpython2.7 tzdata git pkg-config -q -y \\\n && rm -r /var/lib/apt/lists/*\nENV PYTHONUNBUFFERED=\"1\" \\\n    PATH=\"/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\" \\\n    LANG=\"C.UTF-8\"\nARG SWIFT_PLATFORM=ubuntu18.04\nARG SWIFT_BRANCH=swift-5.0.1-release\nARG SWIFT_VERSION=swift-5.0.1-RELEASE\nENV SWIFT_PLATFORM=\"$SWIFT_PLATFORM\" \\\n    SWIFT_BRANCH=\"$SWIFT_BRANCH\" \\\n    SWIFT_VERSION=\"$SWIFT_VERSION\"\nRUN SWIFT_URL=https://swift.org/builds/$SWIFT_BRANCH/$( echo \"$SWIFT_PLATFORM\" | tr -d . ;)/$SWIFT_VERSION/$SWIFT_VERSION-$SWIFT_PLATFORM.tar.gz \\\n && apt-get update \\\n && apt-get install curl -y \\\n && curl -fSsL $SWIFT_URL -o swift.tar.gz \\\n && curl -fSsL $SWIFT_URL.sig -o swift.tar.gz.sig \\\n && export GNUPGHOME=\"$( mktemp -d ;)\" \\\n && set -e ; for key in A62AE125BBBFBB96A6E042EC925CC1CCED3D1561; do gpg --quiet --keyserver ha.pool.sks-keyservers.net --recv-keys \"$key\" ; done \\\n && gpg --batch --verify --quiet swift.tar.gz.sig swift.tar.gz \\\n && tar -xzf swift.tar.gz --directory / --strip-components=1 \\\n && rm -r \"$GNUPGHOME\" swift.tar.gz.sig swift.tar.gz \\\n && chmod -R o+r /usr/lib/swift\nRUN curl https://bootstrap.pypa.io/get-pip.py | python3 \\\n && python3 -m pip install --no-cache-dir -U setuptools \\\n && python3 -m pip install --no-cache-dir wheel \\\n && python3 -m pip install --no-cache-dir h5py \\\n && python3 -m pip install --no-cache-dir Cython \\\n && python3 -m pip install --no-cache-dir numpy scipy \\\n && python3 -m pip install --no-cache-dir versioneer==0.17 \\\n && python3 -m pip install --no-cache-dir pyproj Cartopy==0.16 \\\n && python3 -m pip install --no-cache-dir matplotlib bokeh \\\n && python3 -m pip install --no-cache-dir ipython \\\n && python3 -m pip install --no-cache-dir jupyter \\\n && python3 -m pip install --no-cache-dir jupyterlab \\\n && apt-get purge -y curl \\\n && apt-get -y autoremove \\\n && rm -rf /root/.cache \\\n && rm -f /tmp/*.whl \\\n && swift --version\nRUN update-alternatives --install /usr/bin/python python /usr/bin/python3 2\n#   Install ipython kernelspec\nRUN python -m ipykernel install --display-name \"Swift 5.0\" \\\n && cat /usr/local/share/jupyter/kernels/python3/kernel.json\n#   Install Jupyter notebook logo\nRUN mkdir -p /home/work/.jupyter/custom\nCOPY custom.css /home/work/.jupyter/custom/custom.css\nCOPY logo.svg /home/work/.jupyter/custom/logo.svg\n#   Backend.AI specifics\nLABEL ai.backend.kernelspec=\"1\" \\\n      ai.backend.envs.corecount=\"OPENBLAS_NUM_THREADS,OMP_NUM_THREADS,NPROC\" \\\n      ai.backend.features=\"batch query uid-match user-input\" \\\n      ai.backend.base-distro=\"ubuntu16.04\" \\\n      ai.backend.resource.min.cpu=\"1\" \\\n      ai.backend.resource.min.mem=\"1g\" \\\n      ai.backend.runtime-type=\"python\" \\\n      ai.backend.runtime-path=\"/usr/bin/swift\" \\\n      ai.backend.service-ports=\"ipython:pty:3000,jupyter:http:8080,jupyterlab:http:8090\"\nCOPY policy.yml /etc/backend.ai/jail/policy.yml\n#   vim: ft=dockerfile\n","originalDockerfileUglifiedHash":"d74d8b8d46056ed8ad80f746ec7c12bf","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/fd9807da83fa7ab0c1f39ca032281eddc22a32ed.dockerfile"}