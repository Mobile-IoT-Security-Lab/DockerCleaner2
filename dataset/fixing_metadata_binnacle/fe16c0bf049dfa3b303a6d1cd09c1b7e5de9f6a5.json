{"seed":539664036,"processedDockerfileHash":"5156379d461712dfc3ab202e74c0b97e","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"#  FROM ipython/ipython\nFROM jupyter/notebook\n#  MAINTAINER IPython Project <ipython-dev@scipy.org>\nMAINTAINER Nate Olson <nolson@nist.gov>\n#  modified ipython/notebook\n#   Adding Bioinformatics Tools\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends automake=1:1.16.5-1.3 curl=7.88.1-7ubuntu1 wget=1.21.3-1ubuntu1 unzip=6.0-27ubuntu1 libbz2-dev=1.0.8-5build1 libncurses5-dev=6.4-2 libyaml-dev=0.2.5-1 openjdk-7-jdk openjdk-7-jre r-base=4.2.2.20221110-2build1 r-base-dev=4.2.2.20221110-2build1 r-recommended=4.2.2.20221110-2build1 -y -q )\nRUN echo 'options(repos = list(CRAN = \"http://cran.rstudio.com/\"))' >> /etc/R/Rprofile.site\n#   install bowtie2 \n#   RUN wget http://downloads.sourceforge.net/project/bowtie-bio/bowtie2/2.2.2/bowtie2-2.2.2-linux-x86_64.zip;\\\n#       unzip bowtie2-2.2.2-linux-x86_64.zip && rm -rf bowtie2-2.2.2-linux-x86_64.zip;\\\n#       ln -s `pwd`/bowtie*/bowtie* /usr/local/bin\n#   install picard\n#   this also sets the jars as 'executable' and puts them in the path so they can be found with the 'which ' command - not working correctly\nRUN wget https://github.com/broadinstitute/picard/releases/download/1.136/picard-tools-1.136.zip ; unzip picard-tools-1.136.zip \\\n && rm -rf picard-tools-1.136.zip ; chmod +x picard*/*.jar \\\n && ln -s `pwd `/picard*/*.jar /usr/local/bin/\n#   install htslib samtools and bcftools\nRUN wget https://github.com/samtools/samtools/releases/download/1.2/samtools-1.2.tar.bz2 ; tar -xaf samtools-1.2.tar.bz2 \\\n && rm -rf samtools-1.2.tar.bz2 ; cd samtools-1.2 ; make \\\n && ln -f -s `pwd `/* /usr/local/bin/ \\\n && cd ../\nRUN wget https://github.com/samtools/bcftools/releases/download/1.2/bcftools-1.2.tar.bz2 ; tar -xaf bcftools-1.2.tar.bz2 \\\n && rm -rf bcftools-1.2.tar.bz2 ; cd bcftools-1.2 ; make \\\n && ln -f -s `pwd `/bcftools /usr/local/bin/ \\\n && cd ../\n#   install Pilon\nRUN wget https://github.com/broadinstitute/pilon/releases/download/v1.12/pilon-1.12.jar ; chmod +x pilon-1.12.jar ; ln -s `pwd `/pilon-1.12.jar /usr/local/bin/pilon.jar\n#   install bwa using github\nRUN git clone git://github.com/lh3/bwa.git ; cd bwa ; make \\\n && ln -f -s `pwd `/bwa /usr/local/bin/ \\\n && cd ../\n#   install TMAP\nRUN git clone git://github.com/iontorrent/TMAP.git ; cd TMAP ; git submodule init \\\n && git submodule update ; sh autogen.sh \\\n && ./configure \\\n && make ; make install \\\n && ln -f -s `pwd `/tmap /usr/local/bin/ \\\n && cd ../\n#   install sratoolkit\nRUN wget http://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.4.5/sratoolkit.2.4.5-ubuntu64.tar.gz \\\n && tar -xf sratoolkit.2.4.5-ubuntu64.tar.gz \\\n && rm -rf sratoolkit.2.4.5-ubuntu64.tar.gz ; ln -f -s `pwd `/sratoolkit.2.4.5-ubuntu64/bin/* /usr/local/bin/\n#   install fastqc\n#  RUN wget http://www.bioinformatics.babraham.ac.uk/projects/fastqc/fastqc_v0.11.2.zip;\\\n#      unzip fastqc_v0.11.2.zip && cd FastQC;\\\n#      chmod +x fastqc;\\\n#      ln -sf `pwd`/fastqc /usr/local/bin/ && cd ../\n#   install varscan\nRUN wget http://sourceforge.net/projects/varscan/files/VarScan.v2.3.7.jar ; chmod +x VarScan.v2.3.7.jar ; ln -s `pwd `/VarScan.v2.3.7.jar /usr/local/bin/ \\\n && cd ../\n#   install vcflib\nRUN git clone --recursive https://github.com/ekg/vcflib.git ; cd vcflib ; make \\\n && ln -f -s `pwd `/bin/* /usr/local/bin/ \\\n && cd ../\n#   install bamstat\n#   RUN wget http://sourceforge.net/projects/bamstats/files/BAMStats-1.25.zip;\\\n#       unzip BAMStats-1.25.zip ;\\\n#       ln -f -s `pwd`/BAMStats-1.25/BAMStats-1.25.jar /usr/local/bin/BAMStats-1.25.jar && cd ../\n#   installing cement\nRUN pip install joblib==1.2.0\nRUN pip install pyYAML==6.0\nRUN pip install sinchsms==1.0.4\nVOLUME /pepr-data\nWORKDIR /pepr-data\n#   EXPOSE 8888\n#   # You can mount your own SSL certs as necessary here\n#   # ENV PEM_FILE /key.pem\n#   # $PASSWORD will get `unset` within notebook.sh, turned into an IPython style hash\n#   ENV PASSWORD micro_rm_pw\n#   # ADD notebook.sh /\n#   # RUN chmod u+x /notebook.sh\n#   # CMD [\"/notebook.sh\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# FROM ipython/ipython\nFROM jupyter/notebook\n# MAINTAINER IPython Project <ipython-dev@scipy.org>\nMAINTAINER Nate Olson <nolson@nist.gov>\n# modified ipython/notebook\n#  Adding Bioinformatics Tools\nRUN apt-get update\nRUN apt-get install automake curl wget unzip libbz2-dev libncurses5-dev libyaml-dev openjdk-7-jdk openjdk-7-jre r-base r-base-dev r-recommended -y -q\nRUN echo 'options(repos = list(CRAN = \"http://cran.rstudio.com/\"))' >> /etc/R/Rprofile.site\n#  install bowtie2 \n#  RUN wget http://downloads.sourceforge.net/project/bowtie-bio/bowtie2/2.2.2/bowtie2-2.2.2-linux-x86_64.zip;\\\n#      unzip bowtie2-2.2.2-linux-x86_64.zip && rm -rf bowtie2-2.2.2-linux-x86_64.zip;\\\n#      ln -s `pwd`/bowtie*/bowtie* /usr/local/bin\n#  install picard\n#  this also sets the jars as 'executable' and puts them in the path so they can be found with the 'which ' command - not working correctly\nRUN wget https://github.com/broadinstitute/picard/releases/download/1.136/picard-tools-1.136.zip ; unzip picard-tools-1.136.zip \\\n && rm -rf picard-tools-1.136.zip ; chmod +x picard*/*.jar \\\n && ln -s `pwd `/picard*/*.jar /usr/local/bin/\n#  install htslib samtools and bcftools\nRUN wget https://github.com/samtools/samtools/releases/download/1.2/samtools-1.2.tar.bz2 ; tar -xaf samtools-1.2.tar.bz2 \\\n && rm -rf samtools-1.2.tar.bz2 ; cd samtools-1.2 ; make \\\n && ln -f -s `pwd `/* /usr/local/bin/ \\\n && cd ../\nRUN wget https://github.com/samtools/bcftools/releases/download/1.2/bcftools-1.2.tar.bz2 ; tar -xaf bcftools-1.2.tar.bz2 \\\n && rm -rf bcftools-1.2.tar.bz2 ; cd bcftools-1.2 ; make \\\n && ln -f -s `pwd `/bcftools /usr/local/bin/ \\\n && cd ../\n#  install Pilon\nRUN wget https://github.com/broadinstitute/pilon/releases/download/v1.12/pilon-1.12.jar ; chmod +x pilon-1.12.jar ; ln -s `pwd `/pilon-1.12.jar /usr/local/bin/pilon.jar\n#  install bwa using github\nRUN git clone git://github.com/lh3/bwa.git ; cd bwa ; make \\\n && ln -f -s `pwd `/bwa /usr/local/bin/ \\\n && cd ../\n#  install TMAP\nRUN git clone git://github.com/iontorrent/TMAP.git ; cd TMAP ; git submodule init \\\n && git submodule update ; sh autogen.sh \\\n && ./configure \\\n && make ; make install \\\n && ln -f -s `pwd `/tmap /usr/local/bin/ \\\n && cd ../\n#  install sratoolkit\nRUN wget http://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.4.5/sratoolkit.2.4.5-ubuntu64.tar.gz \\\n && tar -xf sratoolkit.2.4.5-ubuntu64.tar.gz \\\n && rm -rf sratoolkit.2.4.5-ubuntu64.tar.gz ; ln -f -s `pwd `/sratoolkit.2.4.5-ubuntu64/bin/* /usr/local/bin/\n#  install fastqc\n# RUN wget http://www.bioinformatics.babraham.ac.uk/projects/fastqc/fastqc_v0.11.2.zip;\\\n#     unzip fastqc_v0.11.2.zip && cd FastQC;\\\n#     chmod +x fastqc;\\\n#     ln -sf `pwd`/fastqc /usr/local/bin/ && cd ../\n#  install varscan\nRUN wget http://sourceforge.net/projects/varscan/files/VarScan.v2.3.7.jar ; chmod +x VarScan.v2.3.7.jar ; ln -s `pwd `/VarScan.v2.3.7.jar /usr/local/bin/ \\\n && cd ../\n#  install vcflib\nRUN git clone --recursive https://github.com/ekg/vcflib.git ; cd vcflib ; make \\\n && ln -f -s `pwd `/bin/* /usr/local/bin/ \\\n && cd ../\n#  install bamstat\n#  RUN wget http://sourceforge.net/projects/bamstats/files/BAMStats-1.25.zip;\\\n#      unzip BAMStats-1.25.zip ;\\\n#      ln -f -s `pwd`/BAMStats-1.25/BAMStats-1.25.jar /usr/local/bin/BAMStats-1.25.jar && cd ../\n#  installing cement\nRUN pip install joblib\nRUN pip install pyYAML\nRUN pip install sinchsms\nVOLUME /pepr-data\nWORKDIR /pepr-data\n#  EXPOSE 8888\n#  # You can mount your own SSL certs as necessary here\n#  # ENV PEM_FILE /key.pem\n#  # $PASSWORD will get `unset` within notebook.sh, turned into an IPython style hash\n#  ENV PASSWORD micro_rm_pw\n#  # ADD notebook.sh /\n#  # RUN chmod u+x /notebook.sh\n#  # CMD [\"/notebook.sh\"]\n","injectedSmells":[],"originalDockerfileHash":"df5729203e54c843066a9d7a202a9ea4","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  FROM ipython/ipython\nFROM jupyter/notebook\n#  MAINTAINER IPython Project <ipython-dev@scipy.org>\nMAINTAINER Nate Olson <nolson@nist.gov>\n#  modified ipython/notebook\n#   Adding Bioinformatics Tools\nRUN apt-get update\nRUN apt-get install automake curl wget unzip libbz2-dev libncurses5-dev libyaml-dev openjdk-7-jdk openjdk-7-jre r-base r-base-dev r-recommended -y -q\nRUN echo 'options(repos = list(CRAN = \"http://cran.rstudio.com/\"))' >> /etc/R/Rprofile.site\n#   install bowtie2 \n#   RUN wget http://downloads.sourceforge.net/project/bowtie-bio/bowtie2/2.2.2/bowtie2-2.2.2-linux-x86_64.zip;\\\n#       unzip bowtie2-2.2.2-linux-x86_64.zip && rm -rf bowtie2-2.2.2-linux-x86_64.zip;\\\n#       ln -s `pwd`/bowtie*/bowtie* /usr/local/bin\n#   install picard\n#   this also sets the jars as 'executable' and puts them in the path so they can be found with the 'which ' command - not working correctly\nRUN wget https://github.com/broadinstitute/picard/releases/download/1.136/picard-tools-1.136.zip ; unzip picard-tools-1.136.zip \\\n && rm -rf picard-tools-1.136.zip ; chmod +x picard*/*.jar \\\n && ln -s `pwd `/picard*/*.jar /usr/local/bin/\n#   install htslib samtools and bcftools\nRUN wget https://github.com/samtools/samtools/releases/download/1.2/samtools-1.2.tar.bz2 ; tar -xaf samtools-1.2.tar.bz2 \\\n && rm -rf samtools-1.2.tar.bz2 ; cd samtools-1.2 ; make \\\n && ln -f -s `pwd `/* /usr/local/bin/ \\\n && cd ../\nRUN wget https://github.com/samtools/bcftools/releases/download/1.2/bcftools-1.2.tar.bz2 ; tar -xaf bcftools-1.2.tar.bz2 \\\n && rm -rf bcftools-1.2.tar.bz2 ; cd bcftools-1.2 ; make \\\n && ln -f -s `pwd `/bcftools /usr/local/bin/ \\\n && cd ../\n#   install Pilon\nRUN wget https://github.com/broadinstitute/pilon/releases/download/v1.12/pilon-1.12.jar ; chmod +x pilon-1.12.jar ; ln -s `pwd `/pilon-1.12.jar /usr/local/bin/pilon.jar\n#   install bwa using github\nRUN git clone git://github.com/lh3/bwa.git ; cd bwa ; make \\\n && ln -f -s `pwd `/bwa /usr/local/bin/ \\\n && cd ../\n#   install TMAP\nRUN git clone git://github.com/iontorrent/TMAP.git ; cd TMAP ; git submodule init \\\n && git submodule update ; sh autogen.sh \\\n && ./configure \\\n && make ; make install \\\n && ln -f -s `pwd `/tmap /usr/local/bin/ \\\n && cd ../\n#   install sratoolkit\nRUN wget http://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.4.5/sratoolkit.2.4.5-ubuntu64.tar.gz \\\n && tar -xf sratoolkit.2.4.5-ubuntu64.tar.gz \\\n && rm -rf sratoolkit.2.4.5-ubuntu64.tar.gz ; ln -f -s `pwd `/sratoolkit.2.4.5-ubuntu64/bin/* /usr/local/bin/\n#   install fastqc\n#  RUN wget http://www.bioinformatics.babraham.ac.uk/projects/fastqc/fastqc_v0.11.2.zip;\\\n#      unzip fastqc_v0.11.2.zip && cd FastQC;\\\n#      chmod +x fastqc;\\\n#      ln -sf `pwd`/fastqc /usr/local/bin/ && cd ../\n#   install varscan\nRUN wget http://sourceforge.net/projects/varscan/files/VarScan.v2.3.7.jar ; chmod +x VarScan.v2.3.7.jar ; ln -s `pwd `/VarScan.v2.3.7.jar /usr/local/bin/ \\\n && cd ../\n#   install vcflib\nRUN git clone --recursive https://github.com/ekg/vcflib.git ; cd vcflib ; make \\\n && ln -f -s `pwd `/bin/* /usr/local/bin/ \\\n && cd ../\n#   install bamstat\n#   RUN wget http://sourceforge.net/projects/bamstats/files/BAMStats-1.25.zip;\\\n#       unzip BAMStats-1.25.zip ;\\\n#       ln -f -s `pwd`/BAMStats-1.25/BAMStats-1.25.jar /usr/local/bin/BAMStats-1.25.jar && cd ../\n#   installing cement\nRUN pip install joblib\nRUN pip install pyYAML\nRUN pip install sinchsms\nVOLUME /pepr-data\nWORKDIR /pepr-data\n#   EXPOSE 8888\n#   # You can mount your own SSL certs as necessary here\n#   # ENV PEM_FILE /key.pem\n#   # $PASSWORD will get `unset` within notebook.sh, turned into an IPython style hash\n#   ENV PASSWORD micro_rm_pw\n#   # ADD notebook.sh /\n#   # RUN chmod u+x /notebook.sh\n#   # CMD [\"/notebook.sh\"]\n","originalDockerfileUglifiedHash":"8d1d9658f823a868b5b816d2fe1903f2","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/fe16c0bf049dfa3b303a6d1cd09c1b7e5de9f6a5.dockerfile"}