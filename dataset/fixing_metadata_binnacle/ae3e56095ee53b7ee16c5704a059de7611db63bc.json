{"seed":2943899052,"processedDockerfileHash":"e481b6bea20a86278e1f9e1e7fe52792","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"# escape = `\n#   base image on which custom image is based on\nFROM microsoft/windowsservercore\n#   argument ipaddress used during building of image\n#   refers to pull server ip address\nARG ipaddress=\"0.0.0.0\"\n#   argument port used during building of image\n#   refers to pull server port\n#   used for accesing pull server\nARG port=\"9100\"\n#   argument regkey used during building of image\n#   refers to pull server registration key\nARG regkey=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\n#   argument sqlUsername used during building of image\n#   used in changing connection string in web.config\nARG sqlUsername=\"xxxxxxxxx\"\n#   argument sqlPassword used during building of image\n#   used in changing connection string in web.config\nARG sqlPassword=\"xxxxxxxxx\"\n#   argument sqlPassword used during building of image\n#   used in changing connection string in web.config\nARG sqlServer=\"xxxxxxxxx\"\n#   argument sqlPassword used during building of image\n#   used in changing connection string in web.config\nARG databaseName=\"xxxxxxxxx\"\n#   installing IIS and its related windows feature\nRUN powershell -Command Install-WindowsFeature web-server, Web-Default-Doc, Web-Dir-Browsing, Web-Http-Errors, Web-Static-Content, Web-Http-Logging, Web-Request-Monitor, Web-Stat-Compression, Web-Filtering, Web-Windows-Auth, Web-Net-Ext45, Web-Asp-Net45, Web-ISAPI-Ext, Web-ISAPI-Filter, Web-Metabase\n#   installing .NET 4.5 \nRUN [\"Powershell\", \"install-windowsfeature\", \"NET-Framework-45-Core\"]\n#   creating a new Docker folder\nRUN powershell -Command New-Item -Path c:docker -ItemType Directory -Force\n#   Registering Nuget as Package source\nRUN powershell -Command Register-PackageSource -Name Nuget -Location https://api.nuget.org/v3/index.json -ProviderName Nuget -Trusted -Force -ForceBootstrap\n#   Registering Chocolatey as Package source\nRUN powershell -Command Register-PackageSource -Name chocolatey -Location http://chocolatey.org/api/v2/ -ProviderName chocolatey -Trusted -Force -ForceBootstrap\n#   installing xWebAdministration DSC resources \nRUN powershell -Command install-module -Name xWebAdministration -RequiredVersion 1.14.0.0 -Force -Confirm:$false -Verbose\n#   installing xWebDeploy DSC resources \nRUN powershell -Command install-module -Name xwebdeploy -RequiredVersion 1.2.0.0 -Force -Confirm:$false -Verbose\n#   removing default iisstrart.htm file\nRUN powershell -Command Remove-Item C:inetpubwwwrootiisstart.htm\n#   removing default iisstrart.png file\nRUN powershell -Command Remove-Item C:inetpubwwwrootiisstart.png\n#   removing default web site website from IIS\nRUN powershell -Command Remove-Website -Name 'Default Web Site'\n#   removing default application pool from IIS\nRUN powershell -Command Remove-WebAppPool -Name 'DefaultAppPool'\n#   adding lcm.ps1 to docker folder created previously\nCOPY lcm.ps1 c:\\docker\n#   adding ChangeConnectionString.ps1 to docker folder created previously\nCOPY ChangeConnectionString.ps1 c:\\docker\n#   executing lcm.ps1 for changing the LCM configuration of image\n#   the LCM should pull configuration from pull server\n#   specified in parameters\nRUN powerShell -Command c:dockerlcm.ps1 -port %port% -regKey %regkey% -ipaddress %ipaddress%\n#   Download Chocolatey installar and install the same\nRUN powershell -Command install-package -name webdeploy -ProviderName chocolatey -RequiredVersion 3.5.2 -Force -ForceBootstrap -Verbose\n#   adding the web application file from deployment folder\nCOPY \\Deployment C:\\Deployment\n#   changing the current working directory to deployment folder\nWORKDIR C:\\\\Deployment\n#   execute the webdeploy package commandline from deployment folder\nRUN C:DeploymentOnlinePharmacy.deploy.cmd /Y\n#   execute ChangeConnectionString.ps1 and change connectionstring in web.config\nRUN powerShell -Command c:dockerChangeConnectionString.ps1 -sqlUsername %sqlUsername% -sqlPassword %sqlPassword% -sqlServer %sqlServer% -databaseName %databaseName%\nCMD powershell -command while\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# escape = `\n#  base image on which custom image is based on\nFROM microsoft/windowsservercore\n#  argument ipaddress used during building of image\n#  refers to pull server ip address\nARG ipaddress=\"0.0.0.0\"\n#  argument port used during building of image\n#  refers to pull server port\n#  used for accesing pull server\nARG port=\"9100\"\n#  argument regkey used during building of image\n#  refers to pull server registration key\nARG regkey=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\n#  argument sqlUsername used during building of image\n#  used in changing connection string in web.config\nARG sqlUsername=\"xxxxxxxxx\"\n#  argument sqlPassword used during building of image\n#  used in changing connection string in web.config\nARG sqlPassword=\"xxxxxxxxx\"\n#  argument sqlPassword used during building of image\n#  used in changing connection string in web.config\nARG sqlServer=\"xxxxxxxxx\"\n#  argument sqlPassword used during building of image\n#  used in changing connection string in web.config\nARG databaseName=\"xxxxxxxxx\"\n#  installing IIS and its related windows feature\nRUN powershell -Command Install-WindowsFeature web-server, Web-Default-Doc, Web-Dir-Browsing, Web-Http-Errors, Web-Static-Content, Web-Http-Logging, Web-Request-Monitor, Web-Stat-Compression, Web-Filtering, Web-Windows-Auth, Web-Net-Ext45, Web-Asp-Net45, Web-ISAPI-Ext, Web-ISAPI-Filter, Web-Metabase\n#  installing .NET 4.5 \nRUN [\"Powershell\", \"install-windowsfeature\", \"NET-Framework-45-Core\"]\n#  creating a new Docker folder\nRUN powershell -Command New-Item -Path c:docker -ItemType Directory -Force\n#  Registering Nuget as Package source\nRUN powershell -Command Register-PackageSource -Name Nuget -Location https://api.nuget.org/v3/index.json -ProviderName Nuget -Trusted -Force -ForceBootstrap\n#  Registering Chocolatey as Package source\nRUN powershell -Command Register-PackageSource -Name chocolatey -Location http://chocolatey.org/api/v2/ -ProviderName chocolatey -Trusted -Force -ForceBootstrap\n#  installing xWebAdministration DSC resources \nRUN powershell -Command install-module -Name xWebAdministration -RequiredVersion 1.14.0.0 -Force -Confirm:$false -Verbose\n#  installing xWebDeploy DSC resources \nRUN powershell -Command install-module -Name xwebdeploy -RequiredVersion 1.2.0.0 -Force -Confirm:$false -Verbose\n#  removing default iisstrart.htm file\nRUN powershell -Command Remove-Item C:inetpubwwwrootiisstart.htm\n#  removing default iisstrart.png file\nRUN powershell -Command Remove-Item C:inetpubwwwrootiisstart.png\n#  removing default web site website from IIS\nRUN powershell -Command Remove-Website -Name 'Default Web Site'\n#  removing default application pool from IIS\nRUN powershell -Command Remove-WebAppPool -Name 'DefaultAppPool'\n#  adding lcm.ps1 to docker folder created previously\nADD lcm.ps1 c:\\docker\n#  adding ChangeConnectionString.ps1 to docker folder created previously\nADD ChangeConnectionString.ps1 c:\\docker\n#  executing lcm.ps1 for changing the LCM configuration of image\n#  the LCM should pull configuration from pull server\n#  specified in parameters\nRUN powerShell -Command c:dockerlcm.ps1 -port %port% -regKey %regkey% -ipaddress %ipaddress%\n#  Download Chocolatey installar and install the same\nRUN powershell -Command install-package -name webdeploy -ProviderName chocolatey -RequiredVersion 3.5.2 -Force -ForceBootstrap -Verbose\n#  adding the web application file from deployment folder\nADD \\Deployment C:\\Deployment\n#  changing the current working directory to deployment folder\nWORKDIR C:\\\\Deployment\n#  execute the webdeploy package commandline from deployment folder\nRUN C:DeploymentOnlinePharmacy.deploy.cmd /Y\n#  execute ChangeConnectionString.ps1 and change connectionstring in web.config\nRUN powerShell -Command c:dockerChangeConnectionString.ps1 -sqlUsername %sqlUsername% -sqlPassword %sqlPassword% -sqlServer %sqlServer% -databaseName %databaseName%\nCMD powershell -command while\n","injectedSmells":[],"originalDockerfileHash":"7ca8af24d1dbfc8e5204a898af7855ac","successfullyInjectedSmells":[],"originalDockerfileUglified":"# escape = `\n#   base image on which custom image is based on\nFROM microsoft/windowsservercore\n#   argument ipaddress used during building of image\n#   refers to pull server ip address\nARG ipaddress=\"0.0.0.0\"\n#   argument port used during building of image\n#   refers to pull server port\n#   used for accesing pull server\nARG port=\"9100\"\n#   argument regkey used during building of image\n#   refers to pull server registration key\nARG regkey=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\n#   argument sqlUsername used during building of image\n#   used in changing connection string in web.config\nARG sqlUsername=\"xxxxxxxxx\"\n#   argument sqlPassword used during building of image\n#   used in changing connection string in web.config\nARG sqlPassword=\"xxxxxxxxx\"\n#   argument sqlPassword used during building of image\n#   used in changing connection string in web.config\nARG sqlServer=\"xxxxxxxxx\"\n#   argument sqlPassword used during building of image\n#   used in changing connection string in web.config\nARG databaseName=\"xxxxxxxxx\"\n#   installing IIS and its related windows feature\nRUN powershell -Command Install-WindowsFeature web-server, Web-Default-Doc, Web-Dir-Browsing, Web-Http-Errors, Web-Static-Content, Web-Http-Logging, Web-Request-Monitor, Web-Stat-Compression, Web-Filtering, Web-Windows-Auth, Web-Net-Ext45, Web-Asp-Net45, Web-ISAPI-Ext, Web-ISAPI-Filter, Web-Metabase\n#   installing .NET 4.5 \nRUN [\"Powershell\", \"install-windowsfeature\", \"NET-Framework-45-Core\"]\n#   creating a new Docker folder\nRUN powershell -Command New-Item -Path c:docker -ItemType Directory -Force\n#   Registering Nuget as Package source\nRUN powershell -Command Register-PackageSource -Name Nuget -Location https://api.nuget.org/v3/index.json -ProviderName Nuget -Trusted -Force -ForceBootstrap\n#   Registering Chocolatey as Package source\nRUN powershell -Command Register-PackageSource -Name chocolatey -Location http://chocolatey.org/api/v2/ -ProviderName chocolatey -Trusted -Force -ForceBootstrap\n#   installing xWebAdministration DSC resources \nRUN powershell -Command install-module -Name xWebAdministration -RequiredVersion 1.14.0.0 -Force -Confirm:$false -Verbose\n#   installing xWebDeploy DSC resources \nRUN powershell -Command install-module -Name xwebdeploy -RequiredVersion 1.2.0.0 -Force -Confirm:$false -Verbose\n#   removing default iisstrart.htm file\nRUN powershell -Command Remove-Item C:inetpubwwwrootiisstart.htm\n#   removing default iisstrart.png file\nRUN powershell -Command Remove-Item C:inetpubwwwrootiisstart.png\n#   removing default web site website from IIS\nRUN powershell -Command Remove-Website -Name 'Default Web Site'\n#   removing default application pool from IIS\nRUN powershell -Command Remove-WebAppPool -Name 'DefaultAppPool'\n#   adding lcm.ps1 to docker folder created previously\nADD lcm.ps1 c:\\docker\n#   adding ChangeConnectionString.ps1 to docker folder created previously\nADD ChangeConnectionString.ps1 c:\\docker\n#   executing lcm.ps1 for changing the LCM configuration of image\n#   the LCM should pull configuration from pull server\n#   specified in parameters\nRUN powerShell -Command c:dockerlcm.ps1 -port %port% -regKey %regkey% -ipaddress %ipaddress%\n#   Download Chocolatey installar and install the same\nRUN powershell -Command install-package -name webdeploy -ProviderName chocolatey -RequiredVersion 3.5.2 -Force -ForceBootstrap -Verbose\n#   adding the web application file from deployment folder\nADD \\Deployment C:\\Deployment\n#   changing the current working directory to deployment folder\nWORKDIR C:\\\\Deployment\n#   execute the webdeploy package commandline from deployment folder\nRUN C:DeploymentOnlinePharmacy.deploy.cmd /Y\n#   execute ChangeConnectionString.ps1 and change connectionstring in web.config\nRUN powerShell -Command c:dockerChangeConnectionString.ps1 -sqlUsername %sqlUsername% -sqlPassword %sqlPassword% -sqlServer %sqlServer% -databaseName %databaseName%\nCMD powershell -command while\n","originalDockerfileUglifiedHash":"4ecdcd5d070bd1687cb95269e0d572a7","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/ae3e56095ee53b7ee16c5704a059de7611db63bc.dockerfile"}