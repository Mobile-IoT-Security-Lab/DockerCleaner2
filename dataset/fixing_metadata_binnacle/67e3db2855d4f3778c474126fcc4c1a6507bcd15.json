{"seed":4018960008,"processedDockerfileHash":"84a238641b0948bee26ad3f7acb21ddc","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"#\n#   filezilla Dockerfile\n#\n#   https://github.com/jlesage/docker-filezilla\n#\n#   Pull base image.\nFROM jlesage/baseimage-gui:alpine-3.9-v3.5.2\n#   Define software versions.\nARG LIBFILEZILLA_VERSION=0.16.0\nARG FILEZILLA_VERSION=3.42.1\nARG VIM_VERSION=8.0.0830\n#   Define software download URLs.\nARG LIBFILEZILLA_URL=https://download.filezilla-project.org/libfilezilla/libfilezilla-${LIBFILEZILLA_VERSION}.tar.bz2\nARG FILEZILLA_URL=https://download.filezilla-project.org/client/FileZilla_${FILEZILLA_VERSION}_src.tar.bz2\nARG VIM_URL=https://github.com/vim/vim/archive/v${VIM_VERSION}.tar.gz\n#   Define working directory.\nWORKDIR /tmp\n#   Compile FileZilla.\nRUN add-pkg --virtual build-dependencies curl file patch build-base libidn-dev nettle-dev gnutls-dev sqlite-dev xdg-utils wxgtk-dev \\\n && echo \"Downloading sources...\" \\\n && curl -# -L ${LIBFILEZILLA_URL} | tar xj \\\n && curl -# -L ${FILEZILLA_URL} | tar xj \\\n && cd libfilezilla-${LIBFILEZILLA_VERSION} \\\n && ./configure --prefix=/tmp/libfilezilla_install --enable-shared=no \\\n && make install \\\n && cd .. \\\n && cd filezilla-${FILEZILLA_VERSION} \\\n && sed-patch 's/wxString cmd = GetSystemOpenCommand(fn.GetFullPath(), program_exists);/wxString cmd = pEditHandler->GetOpenCommand(fn.GetFullPath(), program_exists);/' src/interface/LocalListView.cpp \\\n && env PKG_CONFIG_PATH=/tmp/libfilezilla_install/lib/pkgconfig ./configure --prefix=/usr --with-pugixml=builtin --without-dbus --disable-autoupdatecheck --disable-manualupdatecheck \\\n && make install \\\n && strip /usr/bin/filezilla \\\n && rm /usr/share/applications/filezilla.desktop \\\n && rm -r /usr/share/applications \\\n && cd .. \\\n && del-pkg build-dependencies \\\n && rm -rf /tmp/* /tmp/.[!.]*\n#   Compile VIM.\nRUN add-pkg --virtual build-dependencies curl build-base ncurses-dev libxt-dev gtk+2.0-dev \\\n && curl -# -L ${VIM_URL} | tar xz \\\n && cd vim-${VIM_VERSION} \\\n && ./configure --prefix=/usr --enable-gui=gtk2 --disable-nls --enable-multibyte --localedir=/tmp/vim-local --mandir=/tmp/vim-man --docdir=/tmp/vim-doc \\\n && echo '#define SYS_VIMRC_FILE \"/etc/vim/vimrc\"' >> src/feature.h \\\n && echo '#define SYS_GVIMRC_FILE \"/etc/vim/gvimrc\"' >> src/feature.h \\\n && cd src \\\n && make \\\n && make installvimbin \\\n && make installrtbase \\\n && cd .. \\\n && cd .. \\\n && del-pkg build-dependencies \\\n && rm -rf /tmp/* /tmp/.[!.]*\n#   Install dependencies.\nRUN add-pkg xdotool ncurses gtk+2.0 libidn sdl sqlite-libs ttf-dejavu wxgtk adwaita-gtk2-theme\n#   Adjust the openbox config.\nRUN sed-patch 's/<application type=\"normal\">/<application type=\"normal\" title=\"FileZilla\">/' /etc/xdg/openbox/rc.xml \\\n && sed-patch '/<application type=\"normal\" title=\"FileZilla\">/a \\ <layer>below</layer>' /etc/xdg/openbox/rc.xml\n#   Generate and install favicons.\nRUN APP_ICON_URL=https://github.com/jlesage/docker-templates/raw/master/jlesage/images/filezilla-icon.png \\\n && install_app_icon.sh \"$APP_ICON_URL\"\n#   Add files.\nCOPY rootfs/ /\n#   Set environment variables.\nENV APP_NAME=\"FileZilla\"\n#   Define mountable directories.\nVOLUME [\"/config\"]\nVOLUME [\"/storage\"]\n#   Metadata.\nLABEL org.label-schema.name=\"filezilla\" \\\n      org.label-schema.description=\"Docker container for FileZilla\" \\\n      org.label-schema.version=\"unknown\" \\\n      org.label-schema.vcs-url=\"https://github.com/jlesage/docker-filezilla\" \\\n      org.label-schema.schema-version=\"1.0\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#\n#  filezilla Dockerfile\n#\n#  https://github.com/jlesage/docker-filezilla\n#\n#  Pull base image.\nFROM jlesage/baseimage-gui:alpine-3.9-v3.5.2\n#  Define software versions.\nARG LIBFILEZILLA_VERSION=0.16.0\nARG FILEZILLA_VERSION=3.42.1\nARG VIM_VERSION=8.0.0830\n#  Define software download URLs.\nARG LIBFILEZILLA_URL=https://download.filezilla-project.org/libfilezilla/libfilezilla-${LIBFILEZILLA_VERSION}.tar.bz2\nARG FILEZILLA_URL=https://download.filezilla-project.org/client/FileZilla_${FILEZILLA_VERSION}_src.tar.bz2\nARG VIM_URL=https://github.com/vim/vim/archive/v${VIM_VERSION}.tar.gz\n#  Define working directory.\nWORKDIR /tmp\n#  Compile FileZilla.\nRUN add-pkg --virtual build-dependencies curl file patch build-base libidn-dev nettle-dev gnutls-dev sqlite-dev xdg-utils wxgtk-dev \\\n && echo \"Downloading sources...\" \\\n && curl -# -L ${LIBFILEZILLA_URL} | tar xj \\\n && curl -# -L ${FILEZILLA_URL} | tar xj \\\n && cd libfilezilla-${LIBFILEZILLA_VERSION} \\\n && ./configure --prefix=/tmp/libfilezilla_install --enable-shared=no \\\n && make install \\\n && cd .. \\\n && cd filezilla-${FILEZILLA_VERSION} \\\n && sed-patch 's/wxString cmd = GetSystemOpenCommand(fn.GetFullPath(), program_exists);/wxString cmd = pEditHandler->GetOpenCommand(fn.GetFullPath(), program_exists);/' src/interface/LocalListView.cpp \\\n && env PKG_CONFIG_PATH=/tmp/libfilezilla_install/lib/pkgconfig ./configure --prefix=/usr --with-pugixml=builtin --without-dbus --disable-autoupdatecheck --disable-manualupdatecheck \\\n && make install \\\n && strip /usr/bin/filezilla \\\n && rm /usr/share/applications/filezilla.desktop \\\n && rm -r /usr/share/applications \\\n && cd .. \\\n && del-pkg build-dependencies \\\n && rm -rf /tmp/* /tmp/.[!.]*\n#  Compile VIM.\nRUN add-pkg --virtual build-dependencies curl build-base ncurses-dev libxt-dev gtk+2.0-dev \\\n && curl -# -L ${VIM_URL} | tar xz \\\n && cd vim-${VIM_VERSION} \\\n && ./configure --prefix=/usr --enable-gui=gtk2 --disable-nls --enable-multibyte --localedir=/tmp/vim-local --mandir=/tmp/vim-man --docdir=/tmp/vim-doc \\\n && echo '#define SYS_VIMRC_FILE \"/etc/vim/vimrc\"' >> src/feature.h \\\n && echo '#define SYS_GVIMRC_FILE \"/etc/vim/gvimrc\"' >> src/feature.h \\\n && cd src \\\n && make \\\n && make installvimbin \\\n && make installrtbase \\\n && cd .. \\\n && cd .. \\\n && del-pkg build-dependencies \\\n && rm -rf /tmp/* /tmp/.[!.]*\n#  Install dependencies.\nRUN add-pkg xdotool ncurses gtk+2.0 libidn sdl sqlite-libs ttf-dejavu wxgtk adwaita-gtk2-theme\n#  Adjust the openbox config.\nRUN sed-patch 's/<application type=\"normal\">/<application type=\"normal\" title=\"FileZilla\">/' /etc/xdg/openbox/rc.xml \\\n && sed-patch '/<application type=\"normal\" title=\"FileZilla\">/a \\ <layer>below</layer>' /etc/xdg/openbox/rc.xml\n#  Generate and install favicons.\nRUN APP_ICON_URL=https://github.com/jlesage/docker-templates/raw/master/jlesage/images/filezilla-icon.png \\\n && install_app_icon.sh \"$APP_ICON_URL\"\n#  Add files.\nCOPY rootfs/ /\n#  Set environment variables.\nENV APP_NAME=\"FileZilla\"\n#  Define mountable directories.\nVOLUME [\"/config\"]\nVOLUME [\"/storage\"]\n#  Metadata.\nLABEL org.label-schema.name=\"filezilla\" \\\n      org.label-schema.description=\"Docker container for FileZilla\" \\\n      org.label-schema.version=\"unknown\" \\\n      org.label-schema.vcs-url=\"https://github.com/jlesage/docker-filezilla\" \\\n      org.label-schema.schema-version=\"1.0\"\n","injectedSmells":[],"originalDockerfileHash":"fb43fcb0feef49c69ddad84cef8c7688","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#   filezilla Dockerfile\n#\n#   https://github.com/jlesage/docker-filezilla\n#\n#   Pull base image.\nFROM jlesage/baseimage-gui:alpine-3.9-v3.5.2\n#   Define software versions.\nARG LIBFILEZILLA_VERSION=0.16.0\nARG FILEZILLA_VERSION=3.42.1\nARG VIM_VERSION=8.0.0830\n#   Define software download URLs.\nARG LIBFILEZILLA_URL=https://download.filezilla-project.org/libfilezilla/libfilezilla-${LIBFILEZILLA_VERSION}.tar.bz2\nARG FILEZILLA_URL=https://download.filezilla-project.org/client/FileZilla_${FILEZILLA_VERSION}_src.tar.bz2\nARG VIM_URL=https://github.com/vim/vim/archive/v${VIM_VERSION}.tar.gz\n#   Define working directory.\nWORKDIR /tmp\n#   Compile FileZilla.\nRUN add-pkg --virtual build-dependencies curl file patch build-base libidn-dev nettle-dev gnutls-dev sqlite-dev xdg-utils wxgtk-dev \\\n && echo \"Downloading sources...\" \\\n && curl -# -L ${LIBFILEZILLA_URL} | tar xj \\\n && curl -# -L ${FILEZILLA_URL} | tar xj \\\n && cd libfilezilla-${LIBFILEZILLA_VERSION} \\\n && ./configure --prefix=/tmp/libfilezilla_install --enable-shared=no \\\n && make install \\\n && cd .. \\\n && cd filezilla-${FILEZILLA_VERSION} \\\n && sed-patch 's/wxString cmd = GetSystemOpenCommand(fn.GetFullPath(), program_exists);/wxString cmd = pEditHandler->GetOpenCommand(fn.GetFullPath(), program_exists);/' src/interface/LocalListView.cpp \\\n && env PKG_CONFIG_PATH=/tmp/libfilezilla_install/lib/pkgconfig ./configure --prefix=/usr --with-pugixml=builtin --without-dbus --disable-autoupdatecheck --disable-manualupdatecheck \\\n && make install \\\n && strip /usr/bin/filezilla \\\n && rm /usr/share/applications/filezilla.desktop \\\n && rm -r /usr/share/applications \\\n && cd .. \\\n && del-pkg build-dependencies \\\n && rm -rf /tmp/* /tmp/.[!.]*\n#   Compile VIM.\nRUN add-pkg --virtual build-dependencies curl build-base ncurses-dev libxt-dev gtk+2.0-dev \\\n && curl -# -L ${VIM_URL} | tar xz \\\n && cd vim-${VIM_VERSION} \\\n && ./configure --prefix=/usr --enable-gui=gtk2 --disable-nls --enable-multibyte --localedir=/tmp/vim-local --mandir=/tmp/vim-man --docdir=/tmp/vim-doc \\\n && echo '#define SYS_VIMRC_FILE \"/etc/vim/vimrc\"' >> src/feature.h \\\n && echo '#define SYS_GVIMRC_FILE \"/etc/vim/gvimrc\"' >> src/feature.h \\\n && cd src \\\n && make \\\n && make installvimbin \\\n && make installrtbase \\\n && cd .. \\\n && cd .. \\\n && del-pkg build-dependencies \\\n && rm -rf /tmp/* /tmp/.[!.]*\n#   Install dependencies.\nRUN add-pkg xdotool ncurses gtk+2.0 libidn sdl sqlite-libs ttf-dejavu wxgtk adwaita-gtk2-theme\n#   Adjust the openbox config.\nRUN sed-patch 's/<application type=\"normal\">/<application type=\"normal\" title=\"FileZilla\">/' /etc/xdg/openbox/rc.xml \\\n && sed-patch '/<application type=\"normal\" title=\"FileZilla\">/a \\ <layer>below</layer>' /etc/xdg/openbox/rc.xml\n#   Generate and install favicons.\nRUN APP_ICON_URL=https://github.com/jlesage/docker-templates/raw/master/jlesage/images/filezilla-icon.png \\\n && install_app_icon.sh \"$APP_ICON_URL\"\n#   Add files.\nCOPY rootfs/ /\n#   Set environment variables.\nENV APP_NAME=\"FileZilla\"\n#   Define mountable directories.\nVOLUME [\"/config\"]\nVOLUME [\"/storage\"]\n#   Metadata.\nLABEL org.label-schema.name=\"filezilla\" \\\n      org.label-schema.description=\"Docker container for FileZilla\" \\\n      org.label-schema.version=\"unknown\" \\\n      org.label-schema.vcs-url=\"https://github.com/jlesage/docker-filezilla\" \\\n      org.label-schema.schema-version=\"1.0\"\n","originalDockerfileUglifiedHash":"f1e86e97ddc3227ac002f508f681fa9a","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/67e3db2855d4f3778c474126fcc4c1a6507bcd15.dockerfile"}