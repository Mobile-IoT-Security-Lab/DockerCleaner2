{"seed":970933434,"processedDockerfileHash":"ba5b3925ef52de064dd05f306b229931","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-npm","have-a-healthcheck"],"processedDockerfile":"FROM microsoft/dotnet:latest\n#  from cmiles74/dotnet:latest\n#   get add-apt-repository\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends software-properties-common=0.99.35 curl=7.88.1-7ubuntu1 apt-transport-https=2.6.0 -y )\n#   add SQL Server tools PPA\n#   run curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\n#   run curl https://packages.microsoft.com/config/ubuntu/16.04/prod.list | tee /etc/apt/sources.list.d/msprod.list\n#   add nodejs ppa\nRUN curl -sL https://deb.nodesource.com/setup_8.x | bash -\n#   update apt cache\nRUN :\n#   vscode dependencies\nRUN (apt-get update ;apt-get install --no-install-recommends libc6-dev=2.37-0ubuntu2 libgtk2.0-0=2.24.33-2ubuntu2 libgtk-3-0=3.24.37-1ubuntu1 libpango-1.0-0=1.50.12+ds-1 libcairo2=1.16.0-7 libfontconfig1=2.14.1-3ubuntu3 libgconf2-4 libnss3=2:3.87.1-1 libasound2=1.2.8-1build1 libxtst6=2:1.2.3-1.1 unzip=6.0-27ubuntu1 libglib2.0-bin=2.76.0-1ubuntu1 libcanberra-gtk-module=0.30-10ubuntu4 libgl1-mesa-glx=23.0.1-1ubuntu1 curl=7.88.1-7ubuntu1 build-essential=12.9ubuntu3 gettext=0.21-11 libstdc++6=13-20230320-1ubuntu1 software-properties-common=0.99.35 wget=1.21.3-1ubuntu1 git=1:2.39.2-1ubuntu1 xterm=379-1ubuntu1 automake=1:1.16.5-1.3 libtool=2.4.7-5 autogen=1:5.18.16-5 nodejs=18.13.0+dfsg1-1ubuntu2 libnotify-bin=0.8.1-1 aspell=0.60.8-4build1 aspell-en=2018.04.16-0-1 htop=3.2.2-1 git=1:2.39.2-1ubuntu1 emacs25 mono-complete=6.8.0.105+dfsg-3.3 gvfs-bin libxss1=1:1.2.3-1build2 rxvt-unicode-256color x11-xserver-utils=7.7+9build1 sudo=1.9.13p1-1ubuntu2 vim=2:9.0.1000-4ubuntu2 libxkbfile1=1:1.1.0-1build3 -y )\n#   MS SQL Server tools\n#\n#   This doesn't work because it makes you agree to a license agreement. I've\n#   tried \"yes\" but to no avail.\n#\n#   run apt-get install mssql-tools\n#   update npm\nRUN npm install npm@9.6.4 -g\n#   install vscode\nRUN wget -O vscode-amd64.deb https://go.microsoft.com/fwlink/?LinkID=760868\nRUN dpkg -i vscode-amd64.deb\nRUN rm vscode-amd64.deb\n#   install flat plat theme\nRUN wget 'https://github.com/nana-4/Flat-Plat/releases/download/3.20.20160404/Flat-Plat-3.20.20160404.tar.gz'\nRUN tar -xf Flat-Plat*\nRUN mv Flat-Plat /usr/share/themes\nRUN rm Flat-Plat*gz\nRUN mv /usr/share/themes/Default /usr/share/themes/Default.bak\nRUN ln -s /usr/share/themes/Flat-Plat /usr/share/themes/Default\n#   install hack font\nRUN wget 'https://github.com/chrissimpkins/Hack/releases/download/v2.020/Hack-v2_020-ttf.zip'\nRUN unzip Hack*.zip\nRUN mkdir /usr/share/fonts/truetype/Hack\nRUN mv Hack* /usr/share/fonts/truetype/Hack\nRUN fc-cache -f -v\n#   create our developer user\nWORKDIR /root\nRUN groupadd -r developer -g 1000\nRUN useradd -u 1000 -r -g developer -d /developer -s /bin/bash -c \"Software Developer\" developer\nCOPY /developer /developer\nWORKDIR /developer\n#   default browser firefox\nRUN ln -s /developer/.local/share/firefox/firefox /bin/xdg-open\n#   enable sudo for developer\nRUN echo \"developer ALL=(ALL) NOPASSWD:ALL\" > /etc/sudoers.d/developer\n#   fix developer permissions\nRUN chmod +x /developer/bin/*\nRUN chown -R developer:developer /developer\nUSER developer\n#   install firefox\nRUN mkdir Applications\n#  run wget \"https://download.mozilla.org/?product=firefox-aurora-latest-ssl&os=linux64&lang=en-US\" -O firefox.tar.bz2\nRUN wget \"https://ftp.mozilla.org/pub/firefox/nightly/2016/06/2016-06-30-00-40-07-mozilla-aurora/firefox-49.0a2.en-US.linux-x86_64.tar.bz2\" -O firefox.tar.bz2\nRUN tar -xf firefox.tar.bz2\nRUN mv firefox .local/share\nRUN rm firefox.tar.bz2\n#   links for firefox\nRUN ln -s /developer/.local/share/firefox/firefox /developer/bin/x-www-browser\nRUN ln -s /developer/.local/share/firefox/firefox /developer/bin/gnome-www-browser\n#   copy in test project\nCOPY project /developer/project\nWORKDIR /developer/project\n#   setup our ports\nEXPOSE 5000/tcp\nEXPOSE 3000/tcp\nEXPOSE 3001/tcp\n#   install spacemacs\nUSER developer\nWORKDIR /developer\nRUN git clone --recursive https://github.com/syl20bnr/spacemacs ~/.emacs.d\n#   set environment variables\nENV PATH=\"/developer/.npm/bin:$PATH\"\nENV NODE_PATH=\"/developer/.npm/lib/node_modules:$NODE_PATH\"\nENV BROWSER=\"/developer/.local/share/firefox/firefox-bin\"\nENV SHELL=\"/bin/bash\"\n#   mount points\nVOLUME [\"/developer/.config/Code\"]\nVOLUME [\"/developer/.vscode\"]\nVOLUME [\"/developer/.ssh\"]\nVOLUME [\"/developer/project\"]\n#   start vscode\nENTRYPOINT [\"/developer/bin/start-shell\"]\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM microsoft/dotnet:latest\n# from cmiles74/dotnet:latest\n#  get add-apt-repository\nRUN apt-get update\nRUN apt-get install --no-install-recommends software-properties-common curl apt-transport-https -y\n#  add SQL Server tools PPA\n#  run curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\n#  run curl https://packages.microsoft.com/config/ubuntu/16.04/prod.list | tee /etc/apt/sources.list.d/msprod.list\n#  add nodejs ppa\nRUN curl -sL https://deb.nodesource.com/setup_8.x | bash -\n#  update apt cache\nRUN apt-get update\n#  vscode dependencies\nRUN apt-get install --no-install-recommends libc6-dev libgtk2.0-0 libgtk-3-0 libpango-1.0-0 libcairo2 libfontconfig1 libgconf2-4 libnss3 libasound2 libxtst6 unzip libglib2.0-bin libcanberra-gtk-module libgl1-mesa-glx curl build-essential gettext libstdc++6 software-properties-common wget git xterm automake libtool autogen nodejs libnotify-bin aspell aspell-en htop git emacs25 mono-complete gvfs-bin libxss1 rxvt-unicode-256color x11-xserver-utils sudo vim libxkbfile1 -y\n#  MS SQL Server tools\n#\n#  This doesn't work because it makes you agree to a license agreement. I've\n#  tried \"yes\" but to no avail.\n#\n#  run apt-get install mssql-tools\n#  update npm\nRUN npm install npm -g\n#  install vscode\nRUN wget -O vscode-amd64.deb https://go.microsoft.com/fwlink/?LinkID=760868\nRUN dpkg -i vscode-amd64.deb\nRUN rm vscode-amd64.deb\n#  install flat plat theme\nRUN wget 'https://github.com/nana-4/Flat-Plat/releases/download/3.20.20160404/Flat-Plat-3.20.20160404.tar.gz'\nRUN tar -xf Flat-Plat*\nRUN mv Flat-Plat /usr/share/themes\nRUN rm Flat-Plat*gz\nRUN mv /usr/share/themes/Default /usr/share/themes/Default.bak\nRUN ln -s /usr/share/themes/Flat-Plat /usr/share/themes/Default\n#  install hack font\nRUN wget 'https://github.com/chrissimpkins/Hack/releases/download/v2.020/Hack-v2_020-ttf.zip'\nRUN unzip Hack*.zip\nRUN mkdir /usr/share/fonts/truetype/Hack\nRUN mv Hack* /usr/share/fonts/truetype/Hack\nRUN fc-cache -f -v\n#  create our developer user\nWORKDIR /root\nRUN groupadd -r developer -g 1000\nRUN useradd -u 1000 -r -g developer -d /developer -s /bin/bash -c \"Software Developer\" developer\nCOPY /developer /developer\nWORKDIR /developer\n#  default browser firefox\nRUN ln -s /developer/.local/share/firefox/firefox /bin/xdg-open\n#  enable sudo for developer\nRUN echo \"developer ALL=(ALL) NOPASSWD:ALL\" > /etc/sudoers.d/developer\n#  fix developer permissions\nRUN chmod +x /developer/bin/*\nRUN chown -R developer:developer /developer\nUSER developer\n#  install firefox\nRUN mkdir Applications\n# run wget \"https://download.mozilla.org/?product=firefox-aurora-latest-ssl&os=linux64&lang=en-US\" -O firefox.tar.bz2\nRUN wget \"https://ftp.mozilla.org/pub/firefox/nightly/2016/06/2016-06-30-00-40-07-mozilla-aurora/firefox-49.0a2.en-US.linux-x86_64.tar.bz2\" -O firefox.tar.bz2\nRUN tar -xf firefox.tar.bz2\nRUN mv firefox .local/share\nRUN rm firefox.tar.bz2\n#  links for firefox\nRUN ln -s /developer/.local/share/firefox/firefox /developer/bin/x-www-browser\nRUN ln -s /developer/.local/share/firefox/firefox /developer/bin/gnome-www-browser\n#  copy in test project\nCOPY project /developer/project\nWORKDIR /developer/project\n#  setup our ports\nEXPOSE 5000/tcp\nEXPOSE 3000/tcp\nEXPOSE 3001/tcp\n#  install spacemacs\nUSER developer\nWORKDIR /developer\nRUN git clone --recursive https://github.com/syl20bnr/spacemacs ~/.emacs.d\n#  set environment variables\nENV PATH=\"/developer/.npm/bin:$PATH\"\nENV NODE_PATH=\"/developer/.npm/lib/node_modules:$NODE_PATH\"\nENV BROWSER=\"/developer/.local/share/firefox/firefox-bin\"\nENV SHELL=\"/bin/bash\"\n#  mount points\nVOLUME [\"/developer/.config/Code\"]\nVOLUME [\"/developer/.vscode\"]\nVOLUME [\"/developer/.ssh\"]\nVOLUME [\"/developer/project\"]\n#  start vscode\nENTRYPOINT [\"/developer/bin/start-shell\"]\n","injectedSmells":[],"originalDockerfileHash":"ff81eeab50eb1dcc233cdc0439df44ba","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM microsoft/dotnet:latest\n#  from cmiles74/dotnet:latest\n#   get add-apt-repository\nRUN apt-get update\nRUN apt-get install --no-install-recommends software-properties-common curl apt-transport-https -y\n#   add SQL Server tools PPA\n#   run curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\n#   run curl https://packages.microsoft.com/config/ubuntu/16.04/prod.list | tee /etc/apt/sources.list.d/msprod.list\n#   add nodejs ppa\nRUN curl -sL https://deb.nodesource.com/setup_8.x | bash -\n#   update apt cache\nRUN apt-get update\n#   vscode dependencies\nRUN apt-get install --no-install-recommends libc6-dev libgtk2.0-0 libgtk-3-0 libpango-1.0-0 libcairo2 libfontconfig1 libgconf2-4 libnss3 libasound2 libxtst6 unzip libglib2.0-bin libcanberra-gtk-module libgl1-mesa-glx curl build-essential gettext libstdc++6 software-properties-common wget git xterm automake libtool autogen nodejs libnotify-bin aspell aspell-en htop git emacs25 mono-complete gvfs-bin libxss1 rxvt-unicode-256color x11-xserver-utils sudo vim libxkbfile1 -y\n#   MS SQL Server tools\n#\n#   This doesn't work because it makes you agree to a license agreement. I've\n#   tried \"yes\" but to no avail.\n#\n#   run apt-get install mssql-tools\n#   update npm\nRUN npm install npm -g\n#   install vscode\nRUN wget -O vscode-amd64.deb https://go.microsoft.com/fwlink/?LinkID=760868\nRUN dpkg -i vscode-amd64.deb\nRUN rm vscode-amd64.deb\n#   install flat plat theme\nRUN wget 'https://github.com/nana-4/Flat-Plat/releases/download/3.20.20160404/Flat-Plat-3.20.20160404.tar.gz'\nRUN tar -xf Flat-Plat*\nRUN mv Flat-Plat /usr/share/themes\nRUN rm Flat-Plat*gz\nRUN mv /usr/share/themes/Default /usr/share/themes/Default.bak\nRUN ln -s /usr/share/themes/Flat-Plat /usr/share/themes/Default\n#   install hack font\nRUN wget 'https://github.com/chrissimpkins/Hack/releases/download/v2.020/Hack-v2_020-ttf.zip'\nRUN unzip Hack*.zip\nRUN mkdir /usr/share/fonts/truetype/Hack\nRUN mv Hack* /usr/share/fonts/truetype/Hack\nRUN fc-cache -f -v\n#   create our developer user\nWORKDIR /root\nRUN groupadd -r developer -g 1000\nRUN useradd -u 1000 -r -g developer -d /developer -s /bin/bash -c \"Software Developer\" developer\nCOPY /developer /developer\nWORKDIR /developer\n#   default browser firefox\nRUN ln -s /developer/.local/share/firefox/firefox /bin/xdg-open\n#   enable sudo for developer\nRUN echo \"developer ALL=(ALL) NOPASSWD:ALL\" > /etc/sudoers.d/developer\n#   fix developer permissions\nRUN chmod +x /developer/bin/*\nRUN chown -R developer:developer /developer\nUSER developer\n#   install firefox\nRUN mkdir Applications\n#  run wget \"https://download.mozilla.org/?product=firefox-aurora-latest-ssl&os=linux64&lang=en-US\" -O firefox.tar.bz2\nRUN wget \"https://ftp.mozilla.org/pub/firefox/nightly/2016/06/2016-06-30-00-40-07-mozilla-aurora/firefox-49.0a2.en-US.linux-x86_64.tar.bz2\" -O firefox.tar.bz2\nRUN tar -xf firefox.tar.bz2\nRUN mv firefox .local/share\nRUN rm firefox.tar.bz2\n#   links for firefox\nRUN ln -s /developer/.local/share/firefox/firefox /developer/bin/x-www-browser\nRUN ln -s /developer/.local/share/firefox/firefox /developer/bin/gnome-www-browser\n#   copy in test project\nCOPY project /developer/project\nWORKDIR /developer/project\n#   setup our ports\nEXPOSE 5000/tcp\nEXPOSE 3000/tcp\nEXPOSE 3001/tcp\n#   install spacemacs\nUSER developer\nWORKDIR /developer\nRUN git clone --recursive https://github.com/syl20bnr/spacemacs ~/.emacs.d\n#   set environment variables\nENV PATH=\"/developer/.npm/bin:$PATH\"\nENV NODE_PATH=\"/developer/.npm/lib/node_modules:$NODE_PATH\"\nENV BROWSER=\"/developer/.local/share/firefox/firefox-bin\"\nENV SHELL=\"/bin/bash\"\n#   mount points\nVOLUME [\"/developer/.config/Code\"]\nVOLUME [\"/developer/.vscode\"]\nVOLUME [\"/developer/.ssh\"]\nVOLUME [\"/developer/project\"]\n#   start vscode\nENTRYPOINT [\"/developer/bin/start-shell\"]\n","originalDockerfileUglifiedHash":"8c7ef64f42fcc1296f841e2e55e39d5d","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/03237a1abf1ab51f8c5731aed3e0f2c49b53029d.dockerfile"}