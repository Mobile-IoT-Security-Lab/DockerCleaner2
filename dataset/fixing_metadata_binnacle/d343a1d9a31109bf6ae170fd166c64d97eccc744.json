{"seed":3627571014,"processedDockerfileHash":"c84c11b2a82a1e9a58f58a8098e0e400","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM rocker/rstudio:3.3.2\nMAINTAINER ttickle@broadinstitute.org and Brian Haas (bhaas@broadinstitute.org)\n#  #####################\n#  # Environment\n#  #####################\n#  ## locations\nENV BIN=\"/usr/local/bin\"\nENV DATA=\"/usr/local/data\"\nENV R_STUDIO=\"/usr/local/R\"\nENV SRC=\"/usr/local/src\"\n#  ## User setup\nRUN groupadd -g 2000 training \\\n && useradd -m -u 2000 -g 2000 training\nRUN echo 'training:training' | chpasswd\nRUN chsh -s /bin/bash training\nENV HOME=\"/home/training\"\nRUN echo \"alias ll='ls -la -G'\" >> /home/training/.profile\nRUN usermod -G training,www-data training\n#  #####################\n#  # Dependencies and Tools\n#  #####################\n#  #############\n#  # Helper tools\nRUN apt-get update \\\n && apt-get install --no-install-recommends unzip wget git libssl-dev libcurl4-openssl-dev libxml2-dev libxt-dev libgstreamer0.10-0 ibgstreamer-plugins-base0.10-0 libcairo2-dev -y\n#      r-base r-base-dev \\\n#  #############\n#  # devtools\n#  # seurat\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"useful\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"devtools\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"RcppArmadillo\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"reshape\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"Rook\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"rjson\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"RMTstat\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"extRemes\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"pcaMethods\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"SummarizedExperiment\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"pheatmap\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"amap\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"vioplot\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"codetools\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"devtools::install_github(\\\"satijalab/seurat\\\")\" >> ${SRC}/install_pkgs.R \\\n && wget https://cran.r-project.org/src/contrib/Archive/nlme/nlme_3.1-123.tar.gz \\\n && R CMD INSTALL nlme_3.1-123.tar.gz \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"devtools::install_github(\\\"RGLab/MAST@summarizedExpt\\\")\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\n#   Ports\nEXPOSE 8787/tcp\n#  # Pull in data from ftp\nWORKDIR ${R_STUDIO}/data\nRUN wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_cluster_seurat_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_demo_seurat_pca.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_regress_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_seurat_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/mast_zlm_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/small_bipolar.Robj\nWORKDIR ${R_STUDIO}/src\nRUN wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/src/dotplot.R \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/src/makeNiceMAST.R\nWORKDIR ${SRC}\nRUN git clone https://github.com/TimothyTickle/single_cell_analysis.git\n#  # For seurat, needs java and unfortunately writes to /usr/local/lib/R/site-library! and needs open permissions\nRUN apt-get update \\\n && apt-get install --no-install-recommends default-jre htop -y \\\n && apt-get clean\nRUN chmod 777 /usr/local/lib/R/site-library\n#  # Rstudio is hard coded to look for /usr/bin/R but I need to the /usr/local/bin/R\n#  # And cringe the solution...\n#  RUN rm /usr/bin/R && ln -s /usr/local/bin/R /usr/bin/R\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM rocker/rstudio:3.3.2\nMAINTAINER ttickle@broadinstitute.org and Brian Haas (bhaas@broadinstitute.org)\n# #####################\n# # Environment\n# #####################\n# ## locations\nENV BIN=\"/usr/local/bin\"\nENV DATA=\"/usr/local/data\"\nENV R_STUDIO=\"/usr/local/R\"\nENV SRC=\"/usr/local/src\"\n# ## User setup\nRUN groupadd -g 2000 training \\\n && useradd -m -u 2000 -g 2000 training\nRUN echo 'training:training' | chpasswd\nRUN chsh -s /bin/bash training\nENV HOME=\"/home/training\"\nRUN echo \"alias ll='ls -la -G'\" >> /home/training/.profile\nRUN usermod -G training,www-data training\n# #####################\n# # Dependencies and Tools\n# #####################\n# #############\n# # Helper tools\nRUN apt-get update \\\n && apt-get install unzip wget git libssl-dev libcurl4-openssl-dev libxml2-dev libxt-dev libgstreamer0.10-0 ibgstreamer-plugins-base0.10-0 libcairo2-dev -y\n#     r-base r-base-dev \\\n# #############\n# # devtools\n# # seurat\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"useful\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"devtools\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"RcppArmadillo\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"reshape\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"Rook\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"rjson\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"RMTstat\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"extRemes\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"pcaMethods\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"SummarizedExperiment\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"pheatmap\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"amap\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"vioplot\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"codetools\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"devtools::install_github(\\\"satijalab/seurat\\\")\" >> ${SRC}/install_pkgs.R \\\n && wget https://cran.r-project.org/src/contrib/Archive/nlme/nlme_3.1-123.tar.gz \\\n && R CMD INSTALL nlme_3.1-123.tar.gz \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"devtools::install_github(\\\"RGLab/MAST@summarizedExpt\\\")\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\n#  Ports\nEXPOSE 8787/tcp\n# # Pull in data from ftp\nWORKDIR ${R_STUDIO}/data\nRUN wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_cluster_seurat_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_demo_seurat_pca.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_regress_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_seurat_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/mast_zlm_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/small_bipolar.Robj\nWORKDIR ${R_STUDIO}/src\nRUN wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/src/dotplot.R \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/src/makeNiceMAST.R\nWORKDIR ${SRC}\nRUN git clone https://github.com/TimothyTickle/single_cell_analysis.git\n# # For seurat, needs java and unfortunately writes to /usr/local/lib/R/site-library! and needs open permissions\nRUN apt-get update \\\n && apt-get install default-jre htop -y \\\n && apt-get clean\nRUN chmod 777 /usr/local/lib/R/site-library\n# # Rstudio is hard coded to look for /usr/bin/R but I need to the /usr/local/bin/R\n# # And cringe the solution...\n# RUN rm /usr/bin/R && ln -s /usr/local/bin/R /usr/bin/R\n","injectedSmells":[],"originalDockerfileHash":"c8ffff35f60560bb2c30ccaad8385746","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM rocker/rstudio:3.3.2\nMAINTAINER ttickle@broadinstitute.org and Brian Haas (bhaas@broadinstitute.org)\n#  #####################\n#  # Environment\n#  #####################\n#  ## locations\nENV BIN=\"/usr/local/bin\"\nENV DATA=\"/usr/local/data\"\nENV R_STUDIO=\"/usr/local/R\"\nENV SRC=\"/usr/local/src\"\n#  ## User setup\nRUN groupadd -g 2000 training \\\n && useradd -m -u 2000 -g 2000 training\nRUN echo 'training:training' | chpasswd\nRUN chsh -s /bin/bash training\nENV HOME=\"/home/training\"\nRUN echo \"alias ll='ls -la -G'\" >> /home/training/.profile\nRUN usermod -G training,www-data training\n#  #####################\n#  # Dependencies and Tools\n#  #####################\n#  #############\n#  # Helper tools\nRUN apt-get update \\\n && apt-get install unzip wget git libssl-dev libcurl4-openssl-dev libxml2-dev libxt-dev libgstreamer0.10-0 ibgstreamer-plugins-base0.10-0 libcairo2-dev -y\n#      r-base r-base-dev \\\n#  #############\n#  # devtools\n#  # seurat\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"useful\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"devtools\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"RcppArmadillo\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"reshape\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"Rook\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"rjson\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"RMTstat\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"extRemes\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"pcaMethods\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"SummarizedExperiment\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"pheatmap\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"amap\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"vioplot\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"biocLite(\\\"codetools\\\", dependencies=TRUE)\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"devtools::install_github(\\\"satijalab/seurat\\\")\" >> ${SRC}/install_pkgs.R \\\n && wget https://cran.r-project.org/src/contrib/Archive/nlme/nlme_3.1-123.tar.gz \\\n && R CMD INSTALL nlme_3.1-123.tar.gz \\\n && Rscript ${SRC}/install_pkgs.R\nRUN echo \".libPaths(c(\\\"/usr/local/lib/R/site-library\\\",\\\"/usr/local/lib/R/library\\\"))\" > ${SRC}/install_pkgs.R \\\n && echo \"source(\\\"https://bioconductor.org/biocLite.R\\\")\" > ${SRC}/install_pkgs.R \\\n && echo \"devtools::install_github(\\\"RGLab/MAST@summarizedExpt\\\")\" >> ${SRC}/install_pkgs.R \\\n && Rscript ${SRC}/install_pkgs.R\n#   Ports\nEXPOSE 8787/tcp\n#  # Pull in data from ftp\nWORKDIR ${R_STUDIO}/data\nRUN wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_cluster_seurat_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_demo_seurat_pca.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_regress_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/bipolar_seurat_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/mast_zlm_demo.Robj \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/data/small_bipolar.Robj\nWORKDIR ${R_STUDIO}/src\nRUN wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/src/dotplot.R \\\n && wget https://data.broadinstitute.org/Trinity/CTAT/single_cell_workshop/src/makeNiceMAST.R\nWORKDIR ${SRC}\nRUN git clone https://github.com/TimothyTickle/single_cell_analysis.git\n#  # For seurat, needs java and unfortunately writes to /usr/local/lib/R/site-library! and needs open permissions\nRUN apt-get update \\\n && apt-get install default-jre htop -y \\\n && apt-get clean\nRUN chmod 777 /usr/local/lib/R/site-library\n#  # Rstudio is hard coded to look for /usr/bin/R but I need to the /usr/local/bin/R\n#  # And cringe the solution...\n#  RUN rm /usr/bin/R && ln -s /usr/local/bin/R /usr/bin/R\n","originalDockerfileUglifiedHash":"9aceffc0cb613b231729e9d3fce775f3","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/d343a1d9a31109bf6ae170fd166c64d97eccc744.dockerfile"}