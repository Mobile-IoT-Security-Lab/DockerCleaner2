{"seed":1389065503,"processedDockerfileHash":"e13be3a237727e16d63bd6fe8fd8ca9c","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:14.04\n#   [ tensorflow ]\n#   https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/docker/Dockerfile\nRUN apt-get update ; apt-get install --no-install-recommends build-essential=11.6ubuntu6 curl=7.35.0-1ubuntu2.20 libfreetype6-dev=2.5.2-1ubuntu2.8 libpng12-dev=1.2.50-1ubuntu2.14.04.3 libzmq3-dev=4.0.4+dfsg-2ubuntu0.1 pkg-config=0.26-1ubuntu4 python=2.7.5-5ubuntu3 python-dev=2.7.5-5ubuntu3 rsync=3.1.0-2ubuntu0.4 software-properties-common=0.92.37.8 unzip=6.0-9ubuntu1.5 -y ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\nRUN curl -O https://bootstrap.pypa.io/get-pip.py ; python get-pip.py ; rm get-pip.py\nRUN pip install ipykernel==6.22.0 jupyter==1.0.0 matplotlib==3.7.1 numpy==1.24.2 scipy==1.10.1 sklearn==0.0.post4 pandas==2.0.0 Pillow==9.5.0 tensorflow==2.12.0 --no-cache-dir ; python -m ipykernel.kernelspec\n#   TensorBoard\nEXPOSE 6006/tcp\n#   IPython\nEXPOSE 8888/tcp\n#   [ pandas ]\nRUN pip install pandas==2.0.0 --no-cache-dir\n#   [ keras + theano ]\n#   https://github.com/fchollet/keras/blob/master/docker/Dockerfile\nRUN apt-get update ; apt-get install --no-install-recommends wget=1.15-1ubuntu1.14.04.5 git=1:1.9.1-1ubuntu0.10 libhdf5-dev=1.8.11-5ubuntu7.1 g++=4:4.8.2-1ubuntu6 graphviz=2.36.0-0ubuntu3.2 -y ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\nRUN pip install h5py==3.8.0 git+git://github.com/fchollet/keras.git --no-cache-dir\n#   [ gensim ]\nRUN pip install gensim==4.3.1 --no-cache-dir\n#   [ torch ]\n#   https://github.com/Kaixhin/dockerfiles/blob/master/torch/Dockerfile\n#   Install git, apt-add-repository and dependencies for iTorch\nRUN apt-get update ; apt-get install --no-install-recommends git=1:1.9.1-1ubuntu0.10 software-properties-common=0.92.37.8 ipython3=1.2.1-2 libssl-dev=1.0.1f-1ubuntu2.27 libzmq3-dev=4.0.4+dfsg-2ubuntu0.1 python-zmq=14.0.1-1build2 python-pip=1.5.4-1ubuntu4 -y ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\nRUN git clone https://github.com/torch/distro.git /root/torch --recursive ; cd /root/torch ; bash install-deps ; ./install.sh -b\nENV LUA_PATH=\"/root/.luarocks/share/lua/5.1/?.lua;/root/.luarocks/share/lua/5.1/?/init.lua;/root/torch/install/share/lua/5.1/?.lua;/root/torch/install/share/lua/5.1/?/init.lua;./?.lua;/root/torch/install/share/luajit-2.1.0-beta1/?.lua;/usr/local/share/lua/5.1/?.lua;/usr/local/share/lua/5.1/?/init.lua\"\nENV LUA_CPATH=\"/root/.luarocks/lib/lua/5.1/?.so;/root/torch/install/lib/lua/5.1/?.so;./?.so;/usr/local/lib/lua/5.1/?.so;/usr/local/lib/lua/5.1/loadall.so\"\nENV PATH=\"/root/torch/install/bin:$PATH\"\nENV LD_LIBRARY_PATH=\"/root/torch/install/lib:$LD_LIBRARY_PATH\"\nENV DYLD_LIBRARY_PATH=\"/root/torch/install/lib:$DYLD_LIBRARY_PATH\"\nENV LUA_CPATH=\"/root/torch/install/lib/?.so;$LUA_CPATH\"\nRUN git clone https://github.com/facebook/iTorch.git ; cd iTorch ; luarocks make ; cd .. ; rm -rf iTorch\n#   [ pyOSC ]\n#   this version is more up to date than pip\nRUN pip install git+git://github.com/ptone/pyosc.git --no-cache-dir\n#   [ dlib ]\nRUN apt-get update ; apt-get install --no-install-recommends libopenblas-dev=0.2.8-6ubuntu1 libboost-python-dev=1.54.0.1ubuntu1 liblapack-dev=3.5.0-2ubuntu1 -y ; git clone https://github.com/davisking/dlib.git /root/dlib ; cd /root/dlib ; mkdir build ; cd build ; cmake .. ; cmake --build . ; cd /root/dlib ; python setup.py install ; cd /root ; rm -rf dlib ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\n#   [ Multicore-TSNE ]\nRUN git clone https://github.com/DmitryUlyanov/Multicore-TSNE.git ; cd Multicore-TSNE ; pip install --no-cache-dir -r requirements.txt ; python setup.py install ; cd .. ; rm -rf Multicore-TSNE\nRUN pip install scikit-image==0.20.0 --no-cache-dir\n#   [ lapjv ]\nRUN pip install cython==0.29.34 git+git://github.com/gatagat/lapjv.git --no-cache-dir\n#   [ torch-rnn ]\nRUN git clone https://github.com/deepmind/torch-hdf5 ; cd torch-hdf5 ; luarocks make hdf5-0-0.rockspec ; cd .. ; rm -rf torch-hdf5\n#   [ neuraltalk2 ]\nRUN apt-get update ; apt-get install --no-install-recommends libprotobuf-dev=2.5.0-9ubuntu1 protobuf-compiler=2.5.0-9ubuntu1 -y ; luarocks install loadcaffe\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:14.04\n#  [ tensorflow ]\n#  https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/docker/Dockerfile\nRUN apt-get update ; apt-get install --no-install-recommends build-essential curl libfreetype6-dev libpng12-dev libzmq3-dev pkg-config python python-dev rsync software-properties-common unzip -y ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\nRUN curl -O https://bootstrap.pypa.io/get-pip.py ; python get-pip.py ; rm get-pip.py\nRUN pip install ipykernel jupyter matplotlib numpy scipy sklearn pandas Pillow tensorflow --no-cache-dir ; python -m ipykernel.kernelspec\n#  TensorBoard\nEXPOSE 6006/tcp\n#  IPython\nEXPOSE 8888/tcp\n#  [ pandas ]\nRUN pip install pandas --no-cache-dir\n#  [ keras + theano ]\n#  https://github.com/fchollet/keras/blob/master/docker/Dockerfile\nRUN apt-get update ; apt-get install wget git libhdf5-dev g++ graphviz -y ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\nRUN pip install h5py git+git://github.com/fchollet/keras.git --no-cache-dir\n#  [ gensim ]\nRUN pip install gensim --no-cache-dir\n#  [ torch ]\n#  https://github.com/Kaixhin/dockerfiles/blob/master/torch/Dockerfile\n#  Install git, apt-add-repository and dependencies for iTorch\nRUN apt-get update ; apt-get install git software-properties-common ipython3 libssl-dev libzmq3-dev python-zmq python-pip -y ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\nRUN git clone https://github.com/torch/distro.git /root/torch --recursive ; cd /root/torch ; bash install-deps ; ./install.sh -b\nENV LUA_PATH=\"/root/.luarocks/share/lua/5.1/?.lua;/root/.luarocks/share/lua/5.1/?/init.lua;/root/torch/install/share/lua/5.1/?.lua;/root/torch/install/share/lua/5.1/?/init.lua;./?.lua;/root/torch/install/share/luajit-2.1.0-beta1/?.lua;/usr/local/share/lua/5.1/?.lua;/usr/local/share/lua/5.1/?/init.lua\"\nENV LUA_CPATH=\"/root/.luarocks/lib/lua/5.1/?.so;/root/torch/install/lib/lua/5.1/?.so;./?.so;/usr/local/lib/lua/5.1/?.so;/usr/local/lib/lua/5.1/loadall.so\"\nENV PATH=\"/root/torch/install/bin:$PATH\"\nENV LD_LIBRARY_PATH=\"/root/torch/install/lib:$LD_LIBRARY_PATH\"\nENV DYLD_LIBRARY_PATH=\"/root/torch/install/lib:$DYLD_LIBRARY_PATH\"\nENV LUA_CPATH=\"/root/torch/install/lib/?.so;$LUA_CPATH\"\nRUN git clone https://github.com/facebook/iTorch.git ; cd iTorch ; luarocks make ; cd .. ; rm -rf iTorch\n#  [ pyOSC ]\n#  this version is more up to date than pip\nRUN pip install git+git://github.com/ptone/pyosc.git --no-cache-dir\n#  [ dlib ]\nRUN apt-get update ; apt-get install libopenblas-dev libboost-python-dev liblapack-dev -y ; git clone https://github.com/davisking/dlib.git /root/dlib ; cd /root/dlib ; mkdir build ; cd build ; cmake .. ; cmake --build . ; cd /root/dlib ; python setup.py install ; cd /root ; rm -rf dlib ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\n#  [ Multicore-TSNE ]\nRUN git clone https://github.com/DmitryUlyanov/Multicore-TSNE.git ; cd Multicore-TSNE ; pip install --no-cache-dir -r requirements.txt ; python setup.py install ; cd .. ; rm -rf Multicore-TSNE\nRUN pip install scikit-image --no-cache-dir\n#  [ lapjv ]\nRUN pip install cython git+git://github.com/gatagat/lapjv.git --no-cache-dir\n#  [ torch-rnn ]\nRUN git clone https://github.com/deepmind/torch-hdf5 ; cd torch-hdf5 ; luarocks make hdf5-0-0.rockspec ; cd .. ; rm -rf torch-hdf5\n#  [ neuraltalk2 ]\nRUN apt-get update ; apt-get install libprotobuf-dev protobuf-compiler -y ; luarocks install loadcaffe\n","injectedSmells":[],"originalDockerfileHash":"3dcaf535c4c62dd7259c35ef52cb751f","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:14.04\n#   [ tensorflow ]\n#   https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/docker/Dockerfile\nRUN apt-get update ; apt-get install --no-install-recommends build-essential curl libfreetype6-dev libpng12-dev libzmq3-dev pkg-config python python-dev rsync software-properties-common unzip -y ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\nRUN curl -O https://bootstrap.pypa.io/get-pip.py ; python get-pip.py ; rm get-pip.py\nRUN pip install ipykernel jupyter matplotlib numpy scipy sklearn pandas Pillow tensorflow --no-cache-dir ; python -m ipykernel.kernelspec\n#   TensorBoard\nEXPOSE 6006/tcp\n#   IPython\nEXPOSE 8888/tcp\n#   [ pandas ]\nRUN pip install pandas --no-cache-dir\n#   [ keras + theano ]\n#   https://github.com/fchollet/keras/blob/master/docker/Dockerfile\nRUN apt-get update ; apt-get install wget git libhdf5-dev g++ graphviz -y ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\nRUN pip install h5py git+git://github.com/fchollet/keras.git --no-cache-dir\n#   [ gensim ]\nRUN pip install gensim --no-cache-dir\n#   [ torch ]\n#   https://github.com/Kaixhin/dockerfiles/blob/master/torch/Dockerfile\n#   Install git, apt-add-repository and dependencies for iTorch\nRUN apt-get update ; apt-get install git software-properties-common ipython3 libssl-dev libzmq3-dev python-zmq python-pip -y ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\nRUN git clone https://github.com/torch/distro.git /root/torch --recursive ; cd /root/torch ; bash install-deps ; ./install.sh -b\nENV LUA_PATH=\"/root/.luarocks/share/lua/5.1/?.lua;/root/.luarocks/share/lua/5.1/?/init.lua;/root/torch/install/share/lua/5.1/?.lua;/root/torch/install/share/lua/5.1/?/init.lua;./?.lua;/root/torch/install/share/luajit-2.1.0-beta1/?.lua;/usr/local/share/lua/5.1/?.lua;/usr/local/share/lua/5.1/?/init.lua\"\nENV LUA_CPATH=\"/root/.luarocks/lib/lua/5.1/?.so;/root/torch/install/lib/lua/5.1/?.so;./?.so;/usr/local/lib/lua/5.1/?.so;/usr/local/lib/lua/5.1/loadall.so\"\nENV PATH=\"/root/torch/install/bin:$PATH\"\nENV LD_LIBRARY_PATH=\"/root/torch/install/lib:$LD_LIBRARY_PATH\"\nENV DYLD_LIBRARY_PATH=\"/root/torch/install/lib:$DYLD_LIBRARY_PATH\"\nENV LUA_CPATH=\"/root/torch/install/lib/?.so;$LUA_CPATH\"\nRUN git clone https://github.com/facebook/iTorch.git ; cd iTorch ; luarocks make ; cd .. ; rm -rf iTorch\n#   [ pyOSC ]\n#   this version is more up to date than pip\nRUN pip install git+git://github.com/ptone/pyosc.git --no-cache-dir\n#   [ dlib ]\nRUN apt-get update ; apt-get install libopenblas-dev libboost-python-dev liblapack-dev -y ; git clone https://github.com/davisking/dlib.git /root/dlib ; cd /root/dlib ; mkdir build ; cd build ; cmake .. ; cmake --build . ; cd /root/dlib ; python setup.py install ; cd /root ; rm -rf dlib ; apt-get clean autoclean ; apt-get autoremove -y ; rm -rf /var/lib/apt/lists/*\n#   [ Multicore-TSNE ]\nRUN git clone https://github.com/DmitryUlyanov/Multicore-TSNE.git ; cd Multicore-TSNE ; pip install --no-cache-dir -r requirements.txt ; python setup.py install ; cd .. ; rm -rf Multicore-TSNE\nRUN pip install scikit-image --no-cache-dir\n#   [ lapjv ]\nRUN pip install cython git+git://github.com/gatagat/lapjv.git --no-cache-dir\n#   [ torch-rnn ]\nRUN git clone https://github.com/deepmind/torch-hdf5 ; cd torch-hdf5 ; luarocks make hdf5-0-0.rockspec ; cd .. ; rm -rf torch-hdf5\n#   [ neuraltalk2 ]\nRUN apt-get update ; apt-get install libprotobuf-dev protobuf-compiler -y ; luarocks install loadcaffe\n","originalDockerfileUglifiedHash":"d51c80f4e5d161c613430dac8079d34a","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/7e9f88c3993774879917b1e5d8f6b6e36a31adc3.dockerfile"}