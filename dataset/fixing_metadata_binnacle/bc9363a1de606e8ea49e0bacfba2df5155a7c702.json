{"seed":1658707993,"processedDockerfileHash":"17720fe7927963eab50bde9b50b8e823","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:latest\nLABEL maintainer=\"amann@st.informatik.tu-darmstadt.de\"\n#   settings\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV LANG=\"C.UTF-8\" \\\n    GRADLE_VERSION=\"4.0.2\" \\\n    GRADLE_HOME=\"/usr/local/gradle\"\nENV JAVA_HOME=\"/usr/lib/jvm/java-8-oracle\"\nENV PATH=\"$PATH:$JAVA_HOME/bin\"\n#   Setup container environment\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install --no-install-recommends software-properties-common=0.99.35 locales=2.37-0ubuntu2 ca-certificates=20230311 unzip=6.0-27ubuntu1 -y \\\n && update-ca-certificates \\\n && locale-gen en_US en_US.UTF-8 \\\n && dpkg-reconfigure locales \\\n && echo \"APT::Get::Assume-Yes \\\"true\\\";\\nAPT::Get::force-yes \\\"true\\\";\" >> /etc/apt/apt.conf.d/90forceyes \\\n && add-apt-repository ppa:webupd8team/java \\\n && apt-get update \\\n && echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && apt-get install --no-install-recommends oracle-java8-installer -y \\\n && update-alternatives --set java \"$JAVA_HOME/jre/bin/java\" \\\n && update-alternatives --set javac \"$JAVA_HOME/bin/javac\" \\\n && update-alternatives --set javaws \"$JAVA_HOME/jre/bin/javaws\" \\\n && apt-get clean \\\n && apt-get autoclean \\\n && apt-get autoremove\n#   Setup pipeline environment\nRUN apt-get update \\\n && apt-get install --no-install-recommends python3-pip=23.0.1+dfsg-1 python3=3.11.2-1 python3-dev=3.11.2-1 python3-psutil=5.9.4-1build1 -y \\\n && ln -s python3 /usr/bin/python \\\n && ln -s pip3 /usr/bin/pip \\\n && pip3 install -r https://raw.githubusercontent.com/stg-tud/MUBench/master/mubench.pipeline/requirements.txt \\\n && apt-get install --no-install-recommends ant=1.10.13-1 git=1:2.39.2-1ubuntu1 graphviz=2.42.2-7build3 maven=3.8.7-1 subversion=1.14.2-4build2 -y \\\n && wget -q http://pyyaml.org/download/libyaml/yaml-0.1.7.tar.gz \\\n && tar xvf yaml-0.1.7.tar.gz -C /usr/local \\\n && rm -f yaml-0.1.7.tar.gz \\\n && cd /usr/local/yaml-0.1.7 \\\n && ./configure \\\n && make \\\n && make install \\\n && apt-get install --no-install-recommends git=1:2.39.2-1ubuntu1 -y \\\n && git config --global user.email \"bob@builder.com\" \\\n && git config --global user.name \"Bob the Builder\" \\\n && wget -q https://services.gradle.org/distributions/gradle-$GRADLE_VERSION-bin.zip \\\n && unzip -q gradle-$GRADLE_VERSION-bin.zip -d /usr/local \\\n && rm -f gradle-$GRADLE_VERSION-bin.zip \\\n && ln -s /usr/local/gradle-$GRADLE_VERSION/bin/gradle /usr/bin/gradle \\\n && apt-get clean \\\n && apt-get autoclean \\\n && apt-get autoremove\n#   Setup reviewsite environment\nRUN LC_ALL=C.UTF-8 add-apt-repository -y ppa:ondrej/php \\\n && apt-get update \\\n && apt-get install --no-install-recommends php7.0 php7.0-xml php7.0-mbstring php7.0-sqlite php7.0-zip php7.0-curl -y \\\n && wget -q https://getcomposer.org/installer -O composer-setup.php \\\n && php composer-setup.php --install-dir=/usr/local/bin --filename=composer \\\n && rm composer-setup.php \\\n && apt-get clean \\\n && apt-get autoclean \\\n && apt-get autoremove\n#   Setup test environment\nRUN wget -q https://phar.phpunit.de/phpunit-6.1.0.phar -O /usr/local/bin/phpunit \\\n && chmod +x /usr/local/bin/phpunit \\\n && pip3 install nose \\\n && apt-get install --no-install-recommends chromium-browser=1:85.0.4183.83-0ubuntu3 chromium-chromedriver=1:85.0.4183.83-0ubuntu3 -y \\\n && wget -q https://selenium-release.storage.googleapis.com/3.12/selenium-server-standalone-3.12.0.jar \\\n && mv selenium-server-standalone-3.12.0.jar /usr/local/bin/selenium-server-standalone-3.12.0.jar \\\n && ln /usr/lib/chromium-browser/chromedriver /usr/local/bin/chromedriver\nWORKDIR /mubench\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:latest\nLABEL maintainer=\"amann@st.informatik.tu-darmstadt.de\"\n#  settings\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV LANG=\"C.UTF-8\" \\\n    GRADLE_VERSION=\"4.0.2\" \\\n    GRADLE_HOME=\"/usr/local/gradle\"\nENV JAVA_HOME=\"/usr/lib/jvm/java-8-oracle\"\nENV PATH=\"$PATH:$JAVA_HOME/bin\"\n#  Setup container environment\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install software-properties-common locales ca-certificates unzip -y \\\n && update-ca-certificates \\\n && locale-gen en_US en_US.UTF-8 \\\n && dpkg-reconfigure locales \\\n && echo \"APT::Get::Assume-Yes \\\"true\\\";\\nAPT::Get::force-yes \\\"true\\\";\" >> /etc/apt/apt.conf.d/90forceyes \\\n && add-apt-repository ppa:webupd8team/java \\\n && apt-get update \\\n && echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && apt-get install oracle-java8-installer -y \\\n && update-alternatives --set java \"$JAVA_HOME/jre/bin/java\" \\\n && update-alternatives --set javac \"$JAVA_HOME/bin/javac\" \\\n && update-alternatives --set javaws \"$JAVA_HOME/jre/bin/javaws\" \\\n && apt-get clean \\\n && apt-get autoclean \\\n && apt-get autoremove\n#  Setup pipeline environment\nRUN apt-get update \\\n && apt-get install python3-pip python3 python3-dev python3-psutil -y \\\n && ln -s python3 /usr/bin/python \\\n && ln -s pip3 /usr/bin/pip \\\n && pip3 install -r https://raw.githubusercontent.com/stg-tud/MUBench/master/mubench.pipeline/requirements.txt \\\n && apt-get install ant git graphviz maven subversion -y \\\n && wget -q http://pyyaml.org/download/libyaml/yaml-0.1.7.tar.gz \\\n && tar xvf yaml-0.1.7.tar.gz -C /usr/local \\\n && rm -f yaml-0.1.7.tar.gz \\\n && cd /usr/local/yaml-0.1.7 \\\n && ./configure \\\n && make \\\n && make install \\\n && apt-get install git -y \\\n && git config --global user.email \"bob@builder.com\" \\\n && git config --global user.name \"Bob the Builder\" \\\n && wget -q https://services.gradle.org/distributions/gradle-$GRADLE_VERSION-bin.zip \\\n && unzip -q gradle-$GRADLE_VERSION-bin.zip -d /usr/local \\\n && rm -f gradle-$GRADLE_VERSION-bin.zip \\\n && ln -s /usr/local/gradle-$GRADLE_VERSION/bin/gradle /usr/bin/gradle \\\n && apt-get clean \\\n && apt-get autoclean \\\n && apt-get autoremove\n#  Setup reviewsite environment\nRUN LC_ALL=C.UTF-8 add-apt-repository -y ppa:ondrej/php \\\n && apt-get update \\\n && apt-get install php7.0 php7.0-xml php7.0-mbstring php7.0-sqlite php7.0-zip php7.0-curl -y \\\n && wget -q https://getcomposer.org/installer -O composer-setup.php \\\n && php composer-setup.php --install-dir=/usr/local/bin --filename=composer \\\n && rm composer-setup.php \\\n && apt-get clean \\\n && apt-get autoclean \\\n && apt-get autoremove\n#  Setup test environment\nRUN wget -q https://phar.phpunit.de/phpunit-6.1.0.phar -O /usr/local/bin/phpunit \\\n && chmod +x /usr/local/bin/phpunit \\\n && pip3 install nose \\\n && apt-get install chromium-browser chromium-chromedriver -y \\\n && wget -q https://selenium-release.storage.googleapis.com/3.12/selenium-server-standalone-3.12.0.jar \\\n && mv selenium-server-standalone-3.12.0.jar /usr/local/bin/selenium-server-standalone-3.12.0.jar \\\n && ln /usr/lib/chromium-browser/chromedriver /usr/local/bin/chromedriver\nWORKDIR /mubench\n","injectedSmells":[],"originalDockerfileHash":"5fe4a5532e090fea7f5877f562dde019","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:latest\nLABEL maintainer=\"amann@st.informatik.tu-darmstadt.de\"\n#   settings\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV LANG=\"C.UTF-8\" \\\n    GRADLE_VERSION=\"4.0.2\" \\\n    GRADLE_HOME=\"/usr/local/gradle\"\nENV JAVA_HOME=\"/usr/lib/jvm/java-8-oracle\"\nENV PATH=\"$PATH:$JAVA_HOME/bin\"\n#   Setup container environment\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install software-properties-common locales ca-certificates unzip -y \\\n && update-ca-certificates \\\n && locale-gen en_US en_US.UTF-8 \\\n && dpkg-reconfigure locales \\\n && echo \"APT::Get::Assume-Yes \\\"true\\\";\\nAPT::Get::force-yes \\\"true\\\";\" >> /etc/apt/apt.conf.d/90forceyes \\\n && add-apt-repository ppa:webupd8team/java \\\n && apt-get update \\\n && echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && apt-get install oracle-java8-installer -y \\\n && update-alternatives --set java \"$JAVA_HOME/jre/bin/java\" \\\n && update-alternatives --set javac \"$JAVA_HOME/bin/javac\" \\\n && update-alternatives --set javaws \"$JAVA_HOME/jre/bin/javaws\" \\\n && apt-get clean \\\n && apt-get autoclean \\\n && apt-get autoremove\n#   Setup pipeline environment\nRUN apt-get update \\\n && apt-get install python3-pip python3 python3-dev python3-psutil -y \\\n && ln -s python3 /usr/bin/python \\\n && ln -s pip3 /usr/bin/pip \\\n && pip3 install -r https://raw.githubusercontent.com/stg-tud/MUBench/master/mubench.pipeline/requirements.txt \\\n && apt-get install ant git graphviz maven subversion -y \\\n && wget -q http://pyyaml.org/download/libyaml/yaml-0.1.7.tar.gz \\\n && tar xvf yaml-0.1.7.tar.gz -C /usr/local \\\n && rm -f yaml-0.1.7.tar.gz \\\n && cd /usr/local/yaml-0.1.7 \\\n && ./configure \\\n && make \\\n && make install \\\n && apt-get install git -y \\\n && git config --global user.email \"bob@builder.com\" \\\n && git config --global user.name \"Bob the Builder\" \\\n && wget -q https://services.gradle.org/distributions/gradle-$GRADLE_VERSION-bin.zip \\\n && unzip -q gradle-$GRADLE_VERSION-bin.zip -d /usr/local \\\n && rm -f gradle-$GRADLE_VERSION-bin.zip \\\n && ln -s /usr/local/gradle-$GRADLE_VERSION/bin/gradle /usr/bin/gradle \\\n && apt-get clean \\\n && apt-get autoclean \\\n && apt-get autoremove\n#   Setup reviewsite environment\nRUN LC_ALL=C.UTF-8 add-apt-repository -y ppa:ondrej/php \\\n && apt-get update \\\n && apt-get install php7.0 php7.0-xml php7.0-mbstring php7.0-sqlite php7.0-zip php7.0-curl -y \\\n && wget -q https://getcomposer.org/installer -O composer-setup.php \\\n && php composer-setup.php --install-dir=/usr/local/bin --filename=composer \\\n && rm composer-setup.php \\\n && apt-get clean \\\n && apt-get autoclean \\\n && apt-get autoremove\n#   Setup test environment\nRUN wget -q https://phar.phpunit.de/phpunit-6.1.0.phar -O /usr/local/bin/phpunit \\\n && chmod +x /usr/local/bin/phpunit \\\n && pip3 install nose \\\n && apt-get install chromium-browser chromium-chromedriver -y \\\n && wget -q https://selenium-release.storage.googleapis.com/3.12/selenium-server-standalone-3.12.0.jar \\\n && mv selenium-server-standalone-3.12.0.jar /usr/local/bin/selenium-server-standalone-3.12.0.jar \\\n && ln /usr/lib/chromium-browser/chromedriver /usr/local/bin/chromedriver\nWORKDIR /mubench\n","originalDockerfileUglifiedHash":"e4a2b99c72541d06aceec6130c7b7931","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/bc9363a1de606e8ea49e0bacfba2df5155a7c702.dockerfile"}