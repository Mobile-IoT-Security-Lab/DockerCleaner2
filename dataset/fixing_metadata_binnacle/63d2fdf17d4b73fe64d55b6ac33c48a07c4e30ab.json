{"seed":3588996718,"processedDockerfileHash":"9f9eda2c896974d4caf17ba59c694acc","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck"],"processedDockerfile":"FROM base/archlinux\nMAINTAINER Mathieu Tarral <mathieu.tarral@gmail.com>\n#   FRAMEWORKS            |       BUILD DEPENDENCY\n#  -----------------------|---------------------------------\n#   ki18n                 |       qt5-script\n#   kguiaddons            |       qt5-quickcontrols\n#   kwindowsystem         |       qt5-x11extras\n#   kdocbook              |       docbook-xsl\n#   kwidgetsaddons        |       qt5-tools\n#   kiconthemes           |       qt5-svg\n#   kactivities           |       boost\n#   khtml                 |       giflib\n#   phonon-vlc            |       vlc\n#   phonon-gstreamer      |       pkg-config\n#   networkmanager-qt     |       libnm-glib\n#   plasma-nm             |       qca-qt5\n#   baloo                 |       lmdb\n#   kdewebkit             |       qt5-webkit\n#   kcodecs               |       gperf\n#   kservice              |       flex bison\n#   gpgme                 |       autoconf automake\n#   kirigami              |       qt5-quickcontrols2\n#   qca                   |       openssl-1.0\n#   purpose               |       intltool\n#  ---------------------------------------------------------\n#   WORKSPACE             |       BUILD DEPENDENCY\n#  -----------------------|---------------------------------\n#   user-manager          |       libpwquality\n#   kcm-touchpad          |       xf86-input-synaptics xorg-server-devel\n#   kde-gtk-config        |       gtkmm gtkmm3\n#   kwin                  |       libepoxy extra/xcb-util-cursor\n#   libnm-qt              |       libmm-glib\n#   oxygen-fonts          |       fontforge\n#   kdevplatform          |       qt5-quick1\n#   gwenview              |       exiv2\n#   libksane              |       sane\n#   kaccounts-integration |       libaccounts-qt signond\n#   plasma-pa             |       gconf libcanberra\n#  -----------------------|---------------------------------\n#   APPLICATIONS          |       BUILD DEPENDENCY\n#  -----------------------|---------------------------------\n#   lokalize              |       hunspell\n#   kdevplatform          |       grantlee-qt5\n#   kdevelop              |       clang llvm\n#   kalgebra              |       glu\n#   marble                |       automoc4\n#   parley                |       qt5-multimedia\n#   artikulate            |       qt5-gstreamer\n#   step                  |       eigen\n#   khelpcenter           |       xapian-core\n#  -----------------------|---------------------------------\n#   PIM                   |       BUILD DEPENDENCY\n#  -----------------------|---------------------------------\n#   prison                |       libdmtx qrencode\n#   kcalcore              |       libical\n#  -----------------------|---------------------------------\n#   General upgrade\n#  ---------------------------\nRUN pacman --noconfirm -Syu\n#   Install dependencies\n#  ---------------------------\n#   build-essential\nRUN pacman --noconfirm -Sy gcc git cmake make vim doxygen bzr\n#   kdesrc-build\nRUN pacman --noconfirm -Sy perl perl-json perl-libwww perl-xml-parser dialog perl-io-socket-ssl qt5-base perl-yaml-libyaml\n#   Frameworks\nRUN pacman --noconfirm -Sy qt5-script qt5-quickcontrols qt5-x11extras docbook-xsl qt5-tools qt5-svg boost giflib vlc pkg-config libnm-glib qca-qt5 qt5-webkit gperf flex bison autoconf automake qt5-quickcontrols2 openssl-1.0 intltool\n#   Workspace\nRUN pacman --noconfirm -Sy libpwquality xf86-input-synaptics xorg-server-devel gtkmm gtkmm3 lmdb libepoxy extra/xcb-util-cursor libmm-glib fontforge exiv2 sane libaccounts-qt signond gconf libcanberra\n#   Applications\nRUN pacman --noconfirm -Sy hunspell grantlee-qt5 clang llvm glu automoc4 qt5-multimedia qt5-gstreamer eigen xapian-core\n#   PIM\nRUN pacman --noconfirm -Sy libdmtx qrencode libical\n#   Xorg & VNC\nRUN pacman --noconfirm -Sy xorg-xsetroot xorg-xprop xorg-font-utils xorg-xmessage xorg-fonts-100dpi xorg-fonts-75dpi xorg-fonts-alias xorg-server-xvfb x11vnc\n#   setup kdedev account\nRUN useradd -d /home/kdedev -m kdedev -G video \\\n && pacman -S --noconfirm sudo \\\n && echo 'kdedev ALL=NOPASSWD: ALL' >> /etc/sudoers\n#   some symlinks in /root to handle sudo ./kdesrc-build\nRUN ln -s /home/kdedev/.kdesrc-buildrc /root/.kdesrc-buildrc \\\n && ln -s /home/kdedev/kdesrc-build /root/kdesrc-build \\\n && mkdir -p /root/.vnc \\\n && ln -s /home/kdedev/.vnc/passwd /root/.vnc/passwd\nUSER kdedev\nENV HOME=\"/home/kdedev\"\nWORKDIR /home/kdedev/\n#   VNC setup\nRUN mkdir -p ~/.vnc \\\n && x11vnc -storepasswd 1234 ~/.vnc/passwd\n#   kde anongit url alias\nRUN git config --global url.\"git://anongit.kde.org/\".insteadOf kde: \\\n && git config --global url.\"ssh://git@git.kde.org/\".pushInsteadOf kde: \\\n && git clone git://anongit.kde.org/kdesrc-build.git\nVOLUME /work\nVOLUME /qt\nCMD [\"bash\"]\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM base/archlinux\nMAINTAINER Mathieu Tarral <mathieu.tarral@gmail.com>\n#  FRAMEWORKS            |       BUILD DEPENDENCY\n# -----------------------|---------------------------------\n#  ki18n                 |       qt5-script\n#  kguiaddons            |       qt5-quickcontrols\n#  kwindowsystem         |       qt5-x11extras\n#  kdocbook              |       docbook-xsl\n#  kwidgetsaddons        |       qt5-tools\n#  kiconthemes           |       qt5-svg\n#  kactivities           |       boost\n#  khtml                 |       giflib\n#  phonon-vlc            |       vlc\n#  phonon-gstreamer      |       pkg-config\n#  networkmanager-qt     |       libnm-glib\n#  plasma-nm             |       qca-qt5\n#  baloo                 |       lmdb\n#  kdewebkit             |       qt5-webkit\n#  kcodecs               |       gperf\n#  kservice              |       flex bison\n#  gpgme                 |       autoconf automake\n#  kirigami              |       qt5-quickcontrols2\n#  qca                   |       openssl-1.0\n#  purpose               |       intltool\n# ---------------------------------------------------------\n#  WORKSPACE             |       BUILD DEPENDENCY\n# -----------------------|---------------------------------\n#  user-manager          |       libpwquality\n#  kcm-touchpad          |       xf86-input-synaptics xorg-server-devel\n#  kde-gtk-config        |       gtkmm gtkmm3\n#  kwin                  |       libepoxy extra/xcb-util-cursor\n#  libnm-qt              |       libmm-glib\n#  oxygen-fonts          |       fontforge\n#  kdevplatform          |       qt5-quick1\n#  gwenview              |       exiv2\n#  libksane              |       sane\n#  kaccounts-integration |       libaccounts-qt signond\n#  plasma-pa             |       gconf libcanberra\n# -----------------------|---------------------------------\n#  APPLICATIONS          |       BUILD DEPENDENCY\n# -----------------------|---------------------------------\n#  lokalize              |       hunspell\n#  kdevplatform          |       grantlee-qt5\n#  kdevelop              |       clang llvm\n#  kalgebra              |       glu\n#  marble                |       automoc4\n#  parley                |       qt5-multimedia\n#  artikulate            |       qt5-gstreamer\n#  step                  |       eigen\n#  khelpcenter           |       xapian-core\n# -----------------------|---------------------------------\n#  PIM                   |       BUILD DEPENDENCY\n# -----------------------|---------------------------------\n#  prison                |       libdmtx qrencode\n#  kcalcore              |       libical\n# -----------------------|---------------------------------\n#  General upgrade\n# ---------------------------\nRUN pacman --noconfirm -Syu\n#  Install dependencies\n# ---------------------------\n#  build-essential\nRUN pacman --noconfirm -Sy gcc git cmake make vim doxygen bzr\n#  kdesrc-build\nRUN pacman --noconfirm -Sy perl perl-json perl-libwww perl-xml-parser dialog perl-io-socket-ssl qt5-base perl-yaml-libyaml\n#  Frameworks\nRUN pacman --noconfirm -Sy qt5-script qt5-quickcontrols qt5-x11extras docbook-xsl qt5-tools qt5-svg boost giflib vlc pkg-config libnm-glib qca-qt5 qt5-webkit gperf flex bison autoconf automake qt5-quickcontrols2 openssl-1.0 intltool\n#  Workspace\nRUN pacman --noconfirm -Sy libpwquality xf86-input-synaptics xorg-server-devel gtkmm gtkmm3 lmdb libepoxy extra/xcb-util-cursor libmm-glib fontforge exiv2 sane libaccounts-qt signond gconf libcanberra\n#  Applications\nRUN pacman --noconfirm -Sy hunspell grantlee-qt5 clang llvm glu automoc4 qt5-multimedia qt5-gstreamer eigen xapian-core\n#  PIM\nRUN pacman --noconfirm -Sy libdmtx qrencode libical\n#  Xorg & VNC\nRUN pacman --noconfirm -Sy xorg-xsetroot xorg-xprop xorg-font-utils xorg-xmessage xorg-fonts-100dpi xorg-fonts-75dpi xorg-fonts-alias xorg-server-xvfb x11vnc\n#  setup kdedev account\nRUN useradd -d /home/kdedev -m kdedev -G video \\\n && pacman -S --noconfirm sudo \\\n && echo 'kdedev ALL=NOPASSWD: ALL' >> /etc/sudoers\n#  some symlinks in /root to handle sudo ./kdesrc-build\nRUN ln -s /home/kdedev/.kdesrc-buildrc /root/.kdesrc-buildrc \\\n && ln -s /home/kdedev/kdesrc-build /root/kdesrc-build \\\n && mkdir -p /root/.vnc \\\n && ln -s /home/kdedev/.vnc/passwd /root/.vnc/passwd\nUSER kdedev\nENV HOME=\"/home/kdedev\"\nWORKDIR /home/kdedev/\n#  VNC setup\nRUN mkdir -p ~/.vnc \\\n && x11vnc -storepasswd 1234 ~/.vnc/passwd\n#  kde anongit url alias\nRUN git config --global url.\"git://anongit.kde.org/\".insteadOf kde: \\\n && git config --global url.\"ssh://git@git.kde.org/\".pushInsteadOf kde: \\\n && git clone git://anongit.kde.org/kdesrc-build.git\nVOLUME /work\nVOLUME /qt\nCMD [\"bash\"]\n","injectedSmells":[],"originalDockerfileHash":"6a9bb88b14e158c5f5a9f166d5ebbe6e","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM base/archlinux\nMAINTAINER Mathieu Tarral <mathieu.tarral@gmail.com>\n#   FRAMEWORKS            |       BUILD DEPENDENCY\n#  -----------------------|---------------------------------\n#   ki18n                 |       qt5-script\n#   kguiaddons            |       qt5-quickcontrols\n#   kwindowsystem         |       qt5-x11extras\n#   kdocbook              |       docbook-xsl\n#   kwidgetsaddons        |       qt5-tools\n#   kiconthemes           |       qt5-svg\n#   kactivities           |       boost\n#   khtml                 |       giflib\n#   phonon-vlc            |       vlc\n#   phonon-gstreamer      |       pkg-config\n#   networkmanager-qt     |       libnm-glib\n#   plasma-nm             |       qca-qt5\n#   baloo                 |       lmdb\n#   kdewebkit             |       qt5-webkit\n#   kcodecs               |       gperf\n#   kservice              |       flex bison\n#   gpgme                 |       autoconf automake\n#   kirigami              |       qt5-quickcontrols2\n#   qca                   |       openssl-1.0\n#   purpose               |       intltool\n#  ---------------------------------------------------------\n#   WORKSPACE             |       BUILD DEPENDENCY\n#  -----------------------|---------------------------------\n#   user-manager          |       libpwquality\n#   kcm-touchpad          |       xf86-input-synaptics xorg-server-devel\n#   kde-gtk-config        |       gtkmm gtkmm3\n#   kwin                  |       libepoxy extra/xcb-util-cursor\n#   libnm-qt              |       libmm-glib\n#   oxygen-fonts          |       fontforge\n#   kdevplatform          |       qt5-quick1\n#   gwenview              |       exiv2\n#   libksane              |       sane\n#   kaccounts-integration |       libaccounts-qt signond\n#   plasma-pa             |       gconf libcanberra\n#  -----------------------|---------------------------------\n#   APPLICATIONS          |       BUILD DEPENDENCY\n#  -----------------------|---------------------------------\n#   lokalize              |       hunspell\n#   kdevplatform          |       grantlee-qt5\n#   kdevelop              |       clang llvm\n#   kalgebra              |       glu\n#   marble                |       automoc4\n#   parley                |       qt5-multimedia\n#   artikulate            |       qt5-gstreamer\n#   step                  |       eigen\n#   khelpcenter           |       xapian-core\n#  -----------------------|---------------------------------\n#   PIM                   |       BUILD DEPENDENCY\n#  -----------------------|---------------------------------\n#   prison                |       libdmtx qrencode\n#   kcalcore              |       libical\n#  -----------------------|---------------------------------\n#   General upgrade\n#  ---------------------------\nRUN pacman --noconfirm -Syu\n#   Install dependencies\n#  ---------------------------\n#   build-essential\nRUN pacman --noconfirm -Sy gcc git cmake make vim doxygen bzr\n#   kdesrc-build\nRUN pacman --noconfirm -Sy perl perl-json perl-libwww perl-xml-parser dialog perl-io-socket-ssl qt5-base perl-yaml-libyaml\n#   Frameworks\nRUN pacman --noconfirm -Sy qt5-script qt5-quickcontrols qt5-x11extras docbook-xsl qt5-tools qt5-svg boost giflib vlc pkg-config libnm-glib qca-qt5 qt5-webkit gperf flex bison autoconf automake qt5-quickcontrols2 openssl-1.0 intltool\n#   Workspace\nRUN pacman --noconfirm -Sy libpwquality xf86-input-synaptics xorg-server-devel gtkmm gtkmm3 lmdb libepoxy extra/xcb-util-cursor libmm-glib fontforge exiv2 sane libaccounts-qt signond gconf libcanberra\n#   Applications\nRUN pacman --noconfirm -Sy hunspell grantlee-qt5 clang llvm glu automoc4 qt5-multimedia qt5-gstreamer eigen xapian-core\n#   PIM\nRUN pacman --noconfirm -Sy libdmtx qrencode libical\n#   Xorg & VNC\nRUN pacman --noconfirm -Sy xorg-xsetroot xorg-xprop xorg-font-utils xorg-xmessage xorg-fonts-100dpi xorg-fonts-75dpi xorg-fonts-alias xorg-server-xvfb x11vnc\n#   setup kdedev account\nRUN useradd -d /home/kdedev -m kdedev -G video \\\n && pacman -S --noconfirm sudo \\\n && echo 'kdedev ALL=NOPASSWD: ALL' >> /etc/sudoers\n#   some symlinks in /root to handle sudo ./kdesrc-build\nRUN ln -s /home/kdedev/.kdesrc-buildrc /root/.kdesrc-buildrc \\\n && ln -s /home/kdedev/kdesrc-build /root/kdesrc-build \\\n && mkdir -p /root/.vnc \\\n && ln -s /home/kdedev/.vnc/passwd /root/.vnc/passwd\nUSER kdedev\nENV HOME=\"/home/kdedev\"\nWORKDIR /home/kdedev/\n#   VNC setup\nRUN mkdir -p ~/.vnc \\\n && x11vnc -storepasswd 1234 ~/.vnc/passwd\n#   kde anongit url alias\nRUN git config --global url.\"git://anongit.kde.org/\".insteadOf kde: \\\n && git config --global url.\"ssh://git@git.kde.org/\".pushInsteadOf kde: \\\n && git clone git://anongit.kde.org/kdesrc-build.git\nVOLUME /work\nVOLUME /qt\nCMD [\"bash\"]\n","originalDockerfileUglifiedHash":"b8bd224144aef60c1d73e7d54b260216","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/63d2fdf17d4b73fe64d55b6ac33c48a07c4e30ab.dockerfile"}