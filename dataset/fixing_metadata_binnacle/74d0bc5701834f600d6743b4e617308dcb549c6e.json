{"seed":1066440084,"processedDockerfileHash":"6d56d25f98b1736cd4aaae972e3c99e0","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM debian:7.8\nMAINTAINER Rob Sherwood <rob.sherwood@bigswitch.com>\n#   First round of dependences\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt apt-cacher-ng apt-file apt-utils autoconf automake1.9 autotools-dev bc binfmt-support binfmt-support bison bsdmainutils build-essential ccache cdbs cpio debhelper debhelper debhelper devscripts devscripts dialog dosfstools dpkg-sig file flex gcc genisoimage ifupdown iproute iputils-ping kmod less libc6-dev libedit-dev libi2c-dev libtool locales lsof make mingetty mtd-utils mtools multistrap nano ncurses-dev netbase net-tools nfs-common openssh-server pkg-config pkg-config procps psmisc python python python-yaml qemu qemu-user-static realpath realpath rsyslog squashfs-tools sudo syslinux texinfo=4.13a.dfsg.1-10 traceroute uboot-mkimage vim-tiny wget xapt zile zip -y\n#  RUN apt-get insstall binutils-powerpc-linux-gnu libgomp1-powerpc-cross\n#   Now the unstable deps and cross compilers\n#   NOTE 1: texinfo 5.x and above breaks the buildroot build, thus the specific 4.x version\n#   NOTE 2: this cp is needed to fix an i2c compile problem\n#   NOTE 3: the /etc/apt/apt.conf.d/docker-* options break multistrap so\n#         that it can't find.  Essential packages or resolve apt.opennetlinux.org\n#   NOTE 4: the default qemu-user-static (1.2) dies with a segfault in\n#         `make onl-powerpc`; use 1.4 instead\nRUN echo 'APT::Get::AllowUnauthenticated \"true\";\\nAPT::Get::Assume-Yes \"true\";' | tee /etc/apt/apt.conf.d/99opennetworklinux \\\n && echo \"deb http://apt.opennetlinux.org/debian/ unstable main\" | tee /etc/apt/sources.list.d/opennetlinux.list \\\n && dpkg --add-architecture powerpc \\\n && apt-get update \\\n && apt-get install --no-install-recommends binutils-powerpc-linux-gnu=2.22-7.1 gcc-4.7-powerpc-linux-gnu libc6-dev-powerpc-cross libgomp1-powerpc-cross=4.7.2-4 -y \\\n && xapt -a powerpc libedit-dev ncurses-dev libsensors4-dev libwrap0-dev libssl-dev libsnmp-dev \\\n && update-alternatives --install /usr/bin/powerpc-linux-gnu-gcc powerpc-linux-gnu-gcc /usr/bin/powerpc-linux-gnu-gcc-4.7 10 \\\n && cp /usr/include/linux/i2c-dev.h /usr/powerpc-linux-gnu/include/linux/i2c-dev.h \\\n && cp /usr/include/linux/i2c-dev.h /usr/include/linux/i2c-devices.h \\\n && cp /usr/include/linux/i2c-dev.h /usr/powerpc-linux-gnu/include/linux/i2c-devices.h \\\n && rm /etc/apt/apt.conf.d/docker-* \\\n && wget \"https://launchpad.net/ubuntu/+source/qemu/1.4.0+dfsg-1expubuntu3/+build/4336762/+files/qemu-user-static_1.4.0%2Bdfsg-1expubuntu3_amd64.deb\" \\\n && dpkg -i qemu-user-static_1.4.0+dfsg-1expubuntu3_amd64.deb\n#  RUN echo 'deb http://http.debian.net/debian unstable main' >> /etc/apt/sources.list && \\\n#      dpkg --add-architecture powerpc && \\\n#      apt-get update && \\\n#      apt-get install -y  \\\n#          binutils-powerpc-linux-gnu \\ \n#          cpp-powerpc-linux-gnu \\\n#          gcc-4.7-multilib \\\n#          gcc-powerpc-linux-gnu \\\n#          multistrap && \\\n#      xapt -a powerpc libedit-dev ncurses-dev libsensors4-dev libwrap0-dev libssl-dev libsnmp-dev && \\\n#      cp  /usr/include/linux/i2c-dev.h /usr/powerpc-linux-gnu/include/linux/i2c-dev.h && \\\n#      echo 'APT::Get::AllowUnauthenticated \"true\";\\nAPT::Get::Assume-Yes \"true\";' | tee /etc/apt/apt.conf.d/99opennetworklinux && \\\n#      echo \"deb http://apt.opennetlinux.org/debian/ unstable main\" | tee /etc/apt/sources.list.d/opennetlinux.list\n#   Run this by default if no other command is specified\n#  CMD make onl-powerpc onl-x86\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM debian:7.8\nMAINTAINER Rob Sherwood <rob.sherwood@bigswitch.com>\n#  First round of dependences\nRUN apt-get update \\\n && apt-get install apt apt-cacher-ng apt-file apt-utils autoconf automake1.9 autotools-dev bc binfmt-support binfmt-support bison bsdmainutils build-essential ccache cdbs cpio debhelper debhelper debhelper devscripts devscripts dialog dosfstools dpkg-sig file flex gcc genisoimage ifupdown iproute iputils-ping kmod less libc6-dev libedit-dev libi2c-dev libtool locales lsof make mingetty mtd-utils mtools multistrap nano ncurses-dev netbase net-tools nfs-common openssh-server pkg-config pkg-config procps psmisc python python python-yaml qemu qemu-user-static realpath realpath rsyslog squashfs-tools sudo syslinux texinfo=4.13a.dfsg.1-10 traceroute uboot-mkimage vim-tiny wget xapt zile zip -y\n# RUN apt-get insstall binutils-powerpc-linux-gnu libgomp1-powerpc-cross\n#  Now the unstable deps and cross compilers\n#  NOTE 1: texinfo 5.x and above breaks the buildroot build, thus the specific 4.x version\n#  NOTE 2: this cp is needed to fix an i2c compile problem\n#  NOTE 3: the /etc/apt/apt.conf.d/docker-* options break multistrap so\n#        that it can't find.  Essential packages or resolve apt.opennetlinux.org\n#  NOTE 4: the default qemu-user-static (1.2) dies with a segfault in\n#        `make onl-powerpc`; use 1.4 instead\nRUN echo 'APT::Get::AllowUnauthenticated \"true\";\\nAPT::Get::Assume-Yes \"true\";' | tee /etc/apt/apt.conf.d/99opennetworklinux \\\n && echo \"deb http://apt.opennetlinux.org/debian/ unstable main\" | tee /etc/apt/sources.list.d/opennetlinux.list \\\n && dpkg --add-architecture powerpc \\\n && apt-get update \\\n && apt-get install binutils-powerpc-linux-gnu=2.22-7.1 gcc-4.7-powerpc-linux-gnu libc6-dev-powerpc-cross libgomp1-powerpc-cross=4.7.2-4 -y \\\n && xapt -a powerpc libedit-dev ncurses-dev libsensors4-dev libwrap0-dev libssl-dev libsnmp-dev \\\n && update-alternatives --install /usr/bin/powerpc-linux-gnu-gcc powerpc-linux-gnu-gcc /usr/bin/powerpc-linux-gnu-gcc-4.7 10 \\\n && cp /usr/include/linux/i2c-dev.h /usr/powerpc-linux-gnu/include/linux/i2c-dev.h \\\n && cp /usr/include/linux/i2c-dev.h /usr/include/linux/i2c-devices.h \\\n && cp /usr/include/linux/i2c-dev.h /usr/powerpc-linux-gnu/include/linux/i2c-devices.h \\\n && rm /etc/apt/apt.conf.d/docker-* \\\n && wget \"https://launchpad.net/ubuntu/+source/qemu/1.4.0+dfsg-1expubuntu3/+build/4336762/+files/qemu-user-static_1.4.0%2Bdfsg-1expubuntu3_amd64.deb\" \\\n && dpkg -i qemu-user-static_1.4.0+dfsg-1expubuntu3_amd64.deb\n# RUN echo 'deb http://http.debian.net/debian unstable main' >> /etc/apt/sources.list && \\\n#     dpkg --add-architecture powerpc && \\\n#     apt-get update && \\\n#     apt-get install -y  \\\n#         binutils-powerpc-linux-gnu \\ \n#         cpp-powerpc-linux-gnu \\\n#         gcc-4.7-multilib \\\n#         gcc-powerpc-linux-gnu \\\n#         multistrap && \\\n#     xapt -a powerpc libedit-dev ncurses-dev libsensors4-dev libwrap0-dev libssl-dev libsnmp-dev && \\\n#     cp  /usr/include/linux/i2c-dev.h /usr/powerpc-linux-gnu/include/linux/i2c-dev.h && \\\n#     echo 'APT::Get::AllowUnauthenticated \"true\";\\nAPT::Get::Assume-Yes \"true\";' | tee /etc/apt/apt.conf.d/99opennetworklinux && \\\n#     echo \"deb http://apt.opennetlinux.org/debian/ unstable main\" | tee /etc/apt/sources.list.d/opennetlinux.list\n#  Run this by default if no other command is specified\n# CMD make onl-powerpc onl-x86\n","injectedSmells":[],"originalDockerfileHash":"e5ed5a8f0228c4aaf74c114e3f909594","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM debian:7.8\nMAINTAINER Rob Sherwood <rob.sherwood@bigswitch.com>\n#   First round of dependences\nRUN apt-get update \\\n && apt-get install apt apt-cacher-ng apt-file apt-utils autoconf automake1.9 autotools-dev bc binfmt-support binfmt-support bison bsdmainutils build-essential ccache cdbs cpio debhelper debhelper debhelper devscripts devscripts dialog dosfstools dpkg-sig file flex gcc genisoimage ifupdown iproute iputils-ping kmod less libc6-dev libedit-dev libi2c-dev libtool locales lsof make mingetty mtd-utils mtools multistrap nano ncurses-dev netbase net-tools nfs-common openssh-server pkg-config pkg-config procps psmisc python python python-yaml qemu qemu-user-static realpath realpath rsyslog squashfs-tools sudo syslinux texinfo=4.13a.dfsg.1-10 traceroute uboot-mkimage vim-tiny wget xapt zile zip -y\n#  RUN apt-get insstall binutils-powerpc-linux-gnu libgomp1-powerpc-cross\n#   Now the unstable deps and cross compilers\n#   NOTE 1: texinfo 5.x and above breaks the buildroot build, thus the specific 4.x version\n#   NOTE 2: this cp is needed to fix an i2c compile problem\n#   NOTE 3: the /etc/apt/apt.conf.d/docker-* options break multistrap so\n#         that it can't find.  Essential packages or resolve apt.opennetlinux.org\n#   NOTE 4: the default qemu-user-static (1.2) dies with a segfault in\n#         `make onl-powerpc`; use 1.4 instead\nRUN echo 'APT::Get::AllowUnauthenticated \"true\";\\nAPT::Get::Assume-Yes \"true\";' | tee /etc/apt/apt.conf.d/99opennetworklinux \\\n && echo \"deb http://apt.opennetlinux.org/debian/ unstable main\" | tee /etc/apt/sources.list.d/opennetlinux.list \\\n && dpkg --add-architecture powerpc \\\n && apt-get update \\\n && apt-get install binutils-powerpc-linux-gnu=2.22-7.1 gcc-4.7-powerpc-linux-gnu libc6-dev-powerpc-cross libgomp1-powerpc-cross=4.7.2-4 -y \\\n && xapt -a powerpc libedit-dev ncurses-dev libsensors4-dev libwrap0-dev libssl-dev libsnmp-dev \\\n && update-alternatives --install /usr/bin/powerpc-linux-gnu-gcc powerpc-linux-gnu-gcc /usr/bin/powerpc-linux-gnu-gcc-4.7 10 \\\n && cp /usr/include/linux/i2c-dev.h /usr/powerpc-linux-gnu/include/linux/i2c-dev.h \\\n && cp /usr/include/linux/i2c-dev.h /usr/include/linux/i2c-devices.h \\\n && cp /usr/include/linux/i2c-dev.h /usr/powerpc-linux-gnu/include/linux/i2c-devices.h \\\n && rm /etc/apt/apt.conf.d/docker-* \\\n && wget \"https://launchpad.net/ubuntu/+source/qemu/1.4.0+dfsg-1expubuntu3/+build/4336762/+files/qemu-user-static_1.4.0%2Bdfsg-1expubuntu3_amd64.deb\" \\\n && dpkg -i qemu-user-static_1.4.0+dfsg-1expubuntu3_amd64.deb\n#  RUN echo 'deb http://http.debian.net/debian unstable main' >> /etc/apt/sources.list && \\\n#      dpkg --add-architecture powerpc && \\\n#      apt-get update && \\\n#      apt-get install -y  \\\n#          binutils-powerpc-linux-gnu \\ \n#          cpp-powerpc-linux-gnu \\\n#          gcc-4.7-multilib \\\n#          gcc-powerpc-linux-gnu \\\n#          multistrap && \\\n#      xapt -a powerpc libedit-dev ncurses-dev libsensors4-dev libwrap0-dev libssl-dev libsnmp-dev && \\\n#      cp  /usr/include/linux/i2c-dev.h /usr/powerpc-linux-gnu/include/linux/i2c-dev.h && \\\n#      echo 'APT::Get::AllowUnauthenticated \"true\";\\nAPT::Get::Assume-Yes \"true\";' | tee /etc/apt/apt.conf.d/99opennetworklinux && \\\n#      echo \"deb http://apt.opennetlinux.org/debian/ unstable main\" | tee /etc/apt/sources.list.d/opennetlinux.list\n#   Run this by default if no other command is specified\n#  CMD make onl-powerpc onl-x86\n","originalDockerfileUglifiedHash":"4fbd8f0f2cfda2b8d01f4d9900ed2bbb","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/74d0bc5701834f600d6743b4e617308dcb549c6e.dockerfile"}