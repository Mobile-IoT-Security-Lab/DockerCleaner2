{"seed":2076587325,"processedDockerfileHash":"631e0b9c7f84b39bf8e356fc1725f8a7","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:xenial\nRUN apt-get clean all \\\n && apt-get update \\\n && apt-get install --no-install-recommends build-essential=12.1ubuntu2 git=1:2.7.4-0ubuntu1.10 wget=1.17.1-1ubuntu1.5 perl=5.22.1-9ubuntu0.9 python3.5=3.5.2-2ubuntu0~16.04.13 python2.7=2.7.12-1ubuntu0~16.04.18 software-properties-common=0.96.20.10 python3-pip=8.1.1-2ubuntu0.6 python-pip=8.1.1-2ubuntu0.6 debconf-utils=1.5.58ubuntu2 sudo=1.8.16-0ubuntu1.10 python-numpy=1:1.11.0-1ubuntu1 cmake=3.5.1-1ubuntu3 samtools=0.1.19-1ubuntu1 bedtools=2.25.0-1 zlib1g-dev=1:1.2.8.dfsg-2ubuntu4.3 libc6=2.23-0ubuntu11.3 aptitude=0.7.4-2ubuntu2 libdbd-mysql-perl=4.033-1ubuntu0.1 libdbi-perl=1.634-1ubuntu0.2 libboost-all-dev=1.58.0.1ubuntu1 libncurses5-dev=6.0+20160213-1ubuntu1 bowtie=1.1.2-3 default-jre=2:1.8-56ubuntu2 parallel=20161222-1~ubuntu0.16.04.1 nano=2.5.3-2ubuntu2 bowtie2=2.2.6-2 exonerate=2.2.0-7 bzip2=1.0.6-8ubuntu0.2 liblzma-dev=5.1.1alpha+20120614-2ubuntu2 libbz2-dev=1.0.6-8ubuntu0.2 software-properties-common=0.96.20.10 libboost-iostreams-dev=1.58.0.1ubuntu1 libboost-system-dev=1.58.0.1ubuntu1 libboost-filesystem-dev=1.58.0.1ubuntu1 zlibc=0.9k-4.3 gcc-multilib=4:5.3.1-1ubuntu1 apt-utils=1.2.35 zlib1g-dev=1:1.2.8.dfsg-2ubuntu4.3 cmake=3.5.1-1ubuntu3 tcsh=6.18.01-5 g++=4:5.3.1-1ubuntu1 iputils-ping=3:20121221-5ubuntu2 jellyfish=2.2.4-2 bowtie=1.1.2-3 bioperl=1.6.924-3 apache2=2.4.18-2ubuntu3.17 libcairo2-dev=1.14.6-1 libpango1.0-dev=1.38.1-1 libfile-homedir-perl=1.00-1 sqlite3=3.11.0-1ubuntu1.5 -y -q\n#  RUN echo \"mysql-server mysql-server/root_password password lorean\" | debconf-set-selections\n#  RUN echo \"mysql-server mysql-server/root_password_again password lorean\" | debconf-set-selections\n#  RUN apt-get install -y mysql-server mysql-client mysql-common\nRUN pip3 install numpy biopython==1.68 bcbio-gff==0.6.4 pandas==0.19.1 pybedtools==0.7.8 gffutils regex pysam matplotlib progressbar2 psutil memory_profiler pathlib colorama simplesam tqdm\nWORKDIR /opt/\nRUN git clone -b noIPRS https://github.com/lfaino/LoReAn.git\nWORKDIR /opt/LoReAn/third_party/software/\nRUN tar -zxvf Porechop.tar.gz \\\n && cd Porechop \\\n && make clean \\\n && make \\\n && cp porechop/cpp_functions.so /opt/LoReAn/code/\nRUN tar -zxvf AATpackage-r03052011.tgz \\\n && rm AATpackage-r03052011.tgz \\\n && cd AATpackage-r03052011 \\\n && make clean \\\n && sudo ./configure --prefix=$PWD \\\n && sudo make \\\n && sudo make install\nRUN tar -zxvf iAssembler-v1.3.2.x64.tgz \\\n && rm iAssembler-v1.3.2.x64.tgz \\\n && tar -zxvf gm_et_linux_64.tar.gz \\\n && rm gm_et_linux_64.tar.gz\nRUN tar -zxvf SE-MEI.tar.gz \\\n && cd SE-MEI \\\n && make\nCOPY PASApipeline-v2.3.3.tar.gz ./\nRUN tar -zxvf PASApipeline-v2.3.3.tar.gz \\\n && rm PASApipeline-v2.3.3.tar.gz \\\n && mv PASApipeline-v2.3.3 PASApipeline \\\n && cd PASApipeline \\\n && make clean \\\n && make \\\n && cp ../../scripts/process_GMAP_alignments_gff3_chimeras_ok.pl scripts/ \\\n && chmod 775 scripts/process_GMAP_alignments_gff3_chimeras_ok.pl\n#  #    cd .. &&  cp ../conf_files/conf.txt PASApipeline/pasa_conf/ &&\\\nRUN apt-get install --no-install-recommends bamtools=2.4.0+dfsg-3build1 libbamtools-dev=2.4.0+dfsg-3build1 liblzma-dev=5.1.1alpha+20120614-2ubuntu2 automake=1:1.15-4ubuntu1 autoconf=2.69-9 -y -q\nRUN git clone https://github.com/samtools/htslib.git \\\n && cd htslib \\\n && autoheader \\\n && autoconf \\\n && ./configure \\\n && make \\\n && sudo make install \\\n && cd .. \\\n && git clone https://github.com/samtools/bcftools.git \\\n && cd bcftools \\\n && autoheader \\\n && autoconf \\\n && ./configure \\\n && make \\\n && sudo make install \\\n && cd .. \\\n && git clone https://github.com/samtools/tabix.git \\\n && cd tabix \\\n && make \\\n && cd .. \\\n && git clone https://github.com/samtools/samtools.git \\\n && cd samtools \\\n && autoheader \\\n && autoconf -Wno-syntax \\\n && ./configure \\\n && make \\\n && sudo make install\nRUN apt-get update \\\n && apt-get install --no-install-recommends libcurl4-gnutls-dev=7.47.0-1ubuntu2.19 libssl-dev=1.0.2g-1ubuntu4.20 -y -q --fix-missing\nRUN export TOOLDIR=/opt/LoReAn/third_party/software \\\n && git clone https://github.com/Gaius-Augustus/Augustus.git \\\n && mv Augustus augustus \\\n && cd augustus \\\n && make clean \\\n && make\nCOPY Trinity-v2.5.1.tar.gz ./\nRUN tar -zxvf Trinity-v2.5.1.tar.gz \\\n && mv trinityrnaseq-Trinity-v2.5.1 Trinity \\\n && rm Trinity-v2.5.1.tar.gz \\\n && cd Trinity \\\n && make \\\n && make plugins\nRUN git clone https://github.com/lh3/minimap2.git \\\n && cd minimap2 \\\n && make\nRUN git clone https://github.com/alexdobin/STAR.git\nCOPY v3.0.1.tar.gz ./\nRUN tar -zxvf v3.0.1.tar.gz \\\n && rm v3.0.1.tar.gz \\\n && cd TransDecoder-3.0.1 \\\n && make\nCOPY gmap-gsnap-2017-11-15.tar.gz ./\nRUN tar -zxvf gmap-gsnap-2017-11-15.tar.gz \\\n && rm gmap-gsnap-2017-11-15.tar.gz \\\n && mv gmap-2017-11-15 gmap \\\n && cd gmap/ \\\n && ./configure \\\n && make \\\n && sudo make install\nCOPY fasta-36.3.8e.tar.gz ./\nRUN tar -zxvf fasta-36.3.8e.tar.gz \\\n && rm fasta-36.3.8e.tar.gz \\\n && cd fasta-36.3.8e/src \\\n && make -f ../make/Makefile.linux fasta36 \\\n && cp /opt/LoReAn/third_party/software/fasta-36.3.8e/bin/fasta36 /usr/local/bin/fasta\nRUN git clone https://github.com/Gaius-Augustus/BRAKER.git\nCOPY v1.1.1.tar.gz ./\nRUN tar -zxvf v1.1.1.tar.gz \\\n && rm v1.1.1.tar.gz\nRUN sudo perl -MCPAN -e shell \\\n && sudo cpan -f -i YAML \\\n && sudo cpan -f -i Hash::Merge \\\n && sudo cpan -f -i Logger::Simple \\\n && sudo cpan -f -i Parallel::ForkManager \\\n && sudo cpan -f -i Config::Std \\\n && sudo cpan -f -i Scalar::Util::Numeric \\\n && sudo cpan -f -i File::Which \\\n && sudo cpan -f -i DBD::SQLite.pm\nRUN mkdir gffread \\\n && cd gffread \\\n && git clone https://github.com/gpertea/gclib \\\n && git clone https://github.com/gpertea/gffread \\\n && cd gffread \\\n && make \\\n && cp ./gffread /usr/local/bin\nCOPY genometools-1.5.9.tar.gz ./\nRUN tar -zxvf genometools-1.5.9.tar.gz \\\n && rm genometools-1.5.9.tar.gz \\\n && cd genometools-1.5.9 \\\n && make\nRUN cp ../../code/createUser.py /usr/local/bin \\\n && chmod 775 /usr/local/bin/createUser.py\nRUN rm /opt/LoReAn/third_party/software/EVidenceModeler-1.1.1/EvmUtils/misc/cufflinks_gtf_to_alignment_gff3.pl\nRUN sudo chmod -R 775 /opt/LoReAn/code/\n#  COPY interproscan-5.27-66.0-64-bit.tar.gz ./\n#  RUN tar -pxvzf interproscan-5.27-66.0-64-bit.tar.gz && rm interproscan-5.27-66.0-64-bit.tar.gz\n#  WORKDIR /opt/LoReAn/third_party/software/interproscan-5.27-66.0\n#  RUN mkdir cddblast\n#  COPY ncbi-blast-2.7.1+-x64-linux.tar.gz ./cddblast\n#  RUN cd cddblast && tar -zxvf ncbi-blast-2.7.1+-x64-linux.tar.gz && cp -r ncbi-blast-2.7.1+ ../bin/blast\n#  COPY signalp-4.1f.Linux.tar.gz ./\n#  RUN  tar -xzf signalp-4.1f.Linux.tar.gz -C bin/signalp/4.1 --strip-components 1 && rm signalp-4.1f.Linux.tar.gz\n#  COPY signalp-4.1/signalp bin/signalp/4.1/\n#  RUN mkdir /data_panther\n#  COPY tmhmm-2.0c.Linux.tar.gz ./\n#  RUN  tar -xzf tmhmm-2.0c.Linux.tar.gz -C ./ && cp tmhmm-2.0c/bin/decodeanhmm.Linux_x86_64  bin/tmhmm/2.0c/decodeanhmm && \\\n#       cp tmhmm-2.0c/lib/TMHMM2.0.model  data/tmhmm/2.0c/TMHMM2.0c.model\n#  RUN cp /opt/LoReAn/third_party/conf_files/interproscan.properties ./interproscan.properties\nWORKDIR /usr/local/bin\nRUN apt-get install --no-install-recommends hmmer=3.1b2-2 -y -q\nCOPY trf ./\nWORKDIR /usr/local\nRUN mkdir nseg \\\n && cd nseg \\\n && wget ftp://ftp.ncbi.nih.gov/pub/seg/nseg/* \\\n && make \\\n && mv nseg ../bin \\\n && mv nmerge ../bin\nCOPY RepeatScout-1.0.5.tar.gz ./\nRUN tar -xvf RepeatScout* \\\n && rm RepeatScout*.tar.gz \\\n && mv RepeatScout* RepeatScout \\\n && cd RepeatScout \\\n && make\nRUN wget ftp://ftp.ncbi.nlm.nih.gov/blast/executables/rmblast/2.2.28/ncbi-rmblastn-2.2.28-x64-linux.tar.gz \\\n && tar -xzvf ncbi-rmblastn* \\\n && rm ncbi-rmblastn*.tar.gz \\\n && mv ncbi-rmblastn*/bin/rmblastn bin \\\n && rm -rf ncbi-rmblastn\nRUN wget ftp://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/2.6.0/ncbi-blast-2.6.0+-x64-linux.tar.gz \\\n && tar -xzvf ncbi-blast* \\\n && find ncbi-blast* -type f -executable -exec mv {} bin\nRUN sudo perl -MCPAN -e shell \\\n && sudo cpan -f -i Text::Soundex\nCOPY RepeatMasker-open-4-0-7.tar.gz ./\nRUN tar -xzvf RepeatMasker-open*.tar.gz \\\n && rm -f RepeatMasker-open*.tar.gz \\\n && perl -0p -e 's/\\/usr\\/local\\/hmmer/\\/usr\\/bin/g;' -e 's/\\/usr\\/local\\/rmblast/\\/usr\\/local\\/bin/g;' -e 's/DEFAULT_SEARCH_ENGINE = \"crossmatch\"/DEFAULT_SEARCH_ENGINE = \"ncbi\"/g;' -e 's/TRF_PRGM = \"\"/TRF_PRGM = \"\\/usr\\/local\\/bin\\/trf\"/g;' RepeatMasker/RepeatMaskerConfig.tmpl > RepeatMasker/RepeatMaskerConfig.pm\nRUN cd /usr/local/RepeatMasker \\\n && perl -i -0pe 's/^#\\!.*perl.*/#\\!\\/usr\\/bin\\/env perl/g' RepeatMasker DateRepeats ProcessRepeats RepeatProteinMask DupMasker util/queryRepeatDatabase.pl util/queryTaxonomyDatabase.pl util/rmOutToGFF3.pl util/rmToUCSCTables.pl\nRUN chmod -R 777 RepeatMasker/\nWORKDIR /opt/LoReAn/\nRUN cp /opt/LoReAn/code/lorean /usr/local/bin \\\n && chmod 775 /usr/local/bin/lorean\nRUN cp /opt/LoReAn/third_party/conf_files/environment /etc/environment\nRUN apt-get install --no-install-recommends locales=2.23-0ubuntu11.3 -y \\\n && locale-gen en_US.UTF-8 \\\n && update-locale\nRUN chmod a+w /opt/\nWORKDIR /data/\nCMD /usr/local/bin/createUser.py\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:xenial\nRUN apt-get clean all \\\n && apt-get update \\\n && apt-get install build-essential git wget perl python3.5 python2.7 software-properties-common python3-pip python-pip debconf-utils sudo python-numpy cmake samtools bedtools zlib1g-dev libc6 aptitude libdbd-mysql-perl libdbi-perl libboost-all-dev libncurses5-dev bowtie default-jre parallel nano bowtie2 exonerate bzip2 liblzma-dev libbz2-dev software-properties-common libboost-iostreams-dev libboost-system-dev libboost-filesystem-dev zlibc gcc-multilib apt-utils zlib1g-dev cmake tcsh g++ iputils-ping jellyfish bowtie bioperl apache2 libcairo2-dev libpango1.0-dev libfile-homedir-perl sqlite3 -y -q\n# RUN echo \"mysql-server mysql-server/root_password password lorean\" | debconf-set-selections\n# RUN echo \"mysql-server mysql-server/root_password_again password lorean\" | debconf-set-selections\n# RUN apt-get install -y mysql-server mysql-client mysql-common\nRUN pip3 install numpy biopython==1.68 bcbio-gff==0.6.4 pandas==0.19.1 pybedtools==0.7.8 gffutils regex pysam matplotlib progressbar2 psutil memory_profiler pathlib colorama simplesam tqdm\nWORKDIR /opt/\nRUN git clone -b noIPRS https://github.com/lfaino/LoReAn.git\nWORKDIR /opt/LoReAn/third_party/software/\nRUN tar -zxvf Porechop.tar.gz \\\n && cd Porechop \\\n && make clean \\\n && make \\\n && cp porechop/cpp_functions.so /opt/LoReAn/code/\nRUN tar -zxvf AATpackage-r03052011.tgz \\\n && rm AATpackage-r03052011.tgz \\\n && cd AATpackage-r03052011 \\\n && make clean \\\n && sudo ./configure --prefix=$PWD \\\n && sudo make \\\n && sudo make install\nRUN tar -zxvf iAssembler-v1.3.2.x64.tgz \\\n && rm iAssembler-v1.3.2.x64.tgz \\\n && tar -zxvf gm_et_linux_64.tar.gz \\\n && rm gm_et_linux_64.tar.gz\nRUN tar -zxvf SE-MEI.tar.gz \\\n && cd SE-MEI \\\n && make\nCOPY PASApipeline-v2.3.3.tar.gz ./\nRUN tar -zxvf PASApipeline-v2.3.3.tar.gz \\\n && rm PASApipeline-v2.3.3.tar.gz \\\n && mv PASApipeline-v2.3.3 PASApipeline \\\n && cd PASApipeline \\\n && make clean \\\n && make \\\n && cp ../../scripts/process_GMAP_alignments_gff3_chimeras_ok.pl scripts/ \\\n && chmod 775 scripts/process_GMAP_alignments_gff3_chimeras_ok.pl\n# #    cd .. &&  cp ../conf_files/conf.txt PASApipeline/pasa_conf/ &&\\\nRUN apt-get install bamtools libbamtools-dev liblzma-dev automake autoconf -y -q\nRUN git clone https://github.com/samtools/htslib.git \\\n && cd htslib \\\n && autoheader \\\n && autoconf \\\n && ./configure \\\n && make \\\n && sudo make install \\\n && cd .. \\\n && git clone https://github.com/samtools/bcftools.git \\\n && cd bcftools \\\n && autoheader \\\n && autoconf \\\n && ./configure \\\n && make \\\n && sudo make install \\\n && cd .. \\\n && git clone https://github.com/samtools/tabix.git \\\n && cd tabix \\\n && make \\\n && cd .. \\\n && git clone https://github.com/samtools/samtools.git \\\n && cd samtools \\\n && autoheader \\\n && autoconf -Wno-syntax \\\n && ./configure \\\n && make \\\n && sudo make install\nRUN apt-get update \\\n && apt-get install libcurl4-gnutls-dev libssl-dev -y -q --fix-missing\nRUN export TOOLDIR=/opt/LoReAn/third_party/software \\\n && git clone https://github.com/Gaius-Augustus/Augustus.git \\\n && mv Augustus augustus \\\n && cd augustus \\\n && make clean \\\n && make\nCOPY Trinity-v2.5.1.tar.gz ./\nRUN tar -zxvf Trinity-v2.5.1.tar.gz \\\n && mv trinityrnaseq-Trinity-v2.5.1 Trinity \\\n && rm Trinity-v2.5.1.tar.gz \\\n && cd Trinity \\\n && make \\\n && make plugins\nRUN git clone https://github.com/lh3/minimap2.git \\\n && cd minimap2 \\\n && make\nRUN git clone https://github.com/alexdobin/STAR.git\nCOPY v3.0.1.tar.gz ./\nRUN tar -zxvf v3.0.1.tar.gz \\\n && rm v3.0.1.tar.gz \\\n && cd TransDecoder-3.0.1 \\\n && make\nCOPY gmap-gsnap-2017-11-15.tar.gz ./\nRUN tar -zxvf gmap-gsnap-2017-11-15.tar.gz \\\n && rm gmap-gsnap-2017-11-15.tar.gz \\\n && mv gmap-2017-11-15 gmap \\\n && cd gmap/ \\\n && ./configure \\\n && make \\\n && sudo make install\nCOPY fasta-36.3.8e.tar.gz ./\nRUN tar -zxvf fasta-36.3.8e.tar.gz \\\n && rm fasta-36.3.8e.tar.gz \\\n && cd fasta-36.3.8e/src \\\n && make -f ../make/Makefile.linux fasta36 \\\n && cp /opt/LoReAn/third_party/software/fasta-36.3.8e/bin/fasta36 /usr/local/bin/fasta\nRUN git clone https://github.com/Gaius-Augustus/BRAKER.git\nCOPY v1.1.1.tar.gz ./\nRUN tar -zxvf v1.1.1.tar.gz \\\n && rm v1.1.1.tar.gz\nRUN sudo perl -MCPAN -e shell \\\n && sudo cpan -f -i YAML \\\n && sudo cpan -f -i Hash::Merge \\\n && sudo cpan -f -i Logger::Simple \\\n && sudo cpan -f -i Parallel::ForkManager \\\n && sudo cpan -f -i Config::Std \\\n && sudo cpan -f -i Scalar::Util::Numeric \\\n && sudo cpan -f -i File::Which \\\n && sudo cpan -f -i DBD::SQLite.pm\nRUN mkdir gffread \\\n && cd gffread \\\n && git clone https://github.com/gpertea/gclib \\\n && git clone https://github.com/gpertea/gffread \\\n && cd gffread \\\n && make \\\n && cp ./gffread /usr/local/bin\nCOPY genometools-1.5.9.tar.gz ./\nRUN tar -zxvf genometools-1.5.9.tar.gz \\\n && rm genometools-1.5.9.tar.gz \\\n && cd genometools-1.5.9 \\\n && make\nRUN cp ../../code/createUser.py /usr/local/bin \\\n && chmod 775 /usr/local/bin/createUser.py\nRUN rm /opt/LoReAn/third_party/software/EVidenceModeler-1.1.1/EvmUtils/misc/cufflinks_gtf_to_alignment_gff3.pl\nRUN sudo chmod -R 775 /opt/LoReAn/code/\n# COPY interproscan-5.27-66.0-64-bit.tar.gz ./\n# RUN tar -pxvzf interproscan-5.27-66.0-64-bit.tar.gz && rm interproscan-5.27-66.0-64-bit.tar.gz\n# WORKDIR /opt/LoReAn/third_party/software/interproscan-5.27-66.0\n# RUN mkdir cddblast\n# COPY ncbi-blast-2.7.1+-x64-linux.tar.gz ./cddblast\n# RUN cd cddblast && tar -zxvf ncbi-blast-2.7.1+-x64-linux.tar.gz && cp -r ncbi-blast-2.7.1+ ../bin/blast\n# COPY signalp-4.1f.Linux.tar.gz ./\n# RUN  tar -xzf signalp-4.1f.Linux.tar.gz -C bin/signalp/4.1 --strip-components 1 && rm signalp-4.1f.Linux.tar.gz\n# COPY signalp-4.1/signalp bin/signalp/4.1/\n# RUN mkdir /data_panther\n# COPY tmhmm-2.0c.Linux.tar.gz ./\n# RUN  tar -xzf tmhmm-2.0c.Linux.tar.gz -C ./ && cp tmhmm-2.0c/bin/decodeanhmm.Linux_x86_64  bin/tmhmm/2.0c/decodeanhmm && \\\n#      cp tmhmm-2.0c/lib/TMHMM2.0.model  data/tmhmm/2.0c/TMHMM2.0c.model\n# RUN cp /opt/LoReAn/third_party/conf_files/interproscan.properties ./interproscan.properties\nWORKDIR /usr/local/bin\nRUN apt-get install hmmer -y -q\nCOPY trf ./\nWORKDIR /usr/local\nRUN mkdir nseg \\\n && cd nseg \\\n && wget ftp://ftp.ncbi.nih.gov/pub/seg/nseg/* \\\n && make \\\n && mv nseg ../bin \\\n && mv nmerge ../bin\nCOPY RepeatScout-1.0.5.tar.gz ./\nRUN tar -xvf RepeatScout* \\\n && rm RepeatScout*.tar.gz \\\n && mv RepeatScout* RepeatScout \\\n && cd RepeatScout \\\n && make\nRUN wget ftp://ftp.ncbi.nlm.nih.gov/blast/executables/rmblast/2.2.28/ncbi-rmblastn-2.2.28-x64-linux.tar.gz \\\n && tar -xzvf ncbi-rmblastn* \\\n && rm ncbi-rmblastn*.tar.gz \\\n && mv ncbi-rmblastn*/bin/rmblastn bin \\\n && rm -rf ncbi-rmblastn\nRUN wget ftp://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/2.6.0/ncbi-blast-2.6.0+-x64-linux.tar.gz \\\n && tar -xzvf ncbi-blast* \\\n && find ncbi-blast* -type f -executable -exec mv {} bin ; \\\n && rm -rf ncbi-blast*\nRUN sudo perl -MCPAN -e shell \\\n && sudo cpan -f -i Text::Soundex\nCOPY RepeatMasker-open-4-0-7.tar.gz ./\nRUN tar -xzvf RepeatMasker-open*.tar.gz \\\n && rm -f RepeatMasker-open*.tar.gz \\\n && perl -0p -e 's/\\/usr\\/local\\/hmmer/\\/usr\\/bin/g;' -e 's/\\/usr\\/local\\/rmblast/\\/usr\\/local\\/bin/g;' -e 's/DEFAULT_SEARCH_ENGINE = \"crossmatch\"/DEFAULT_SEARCH_ENGINE = \"ncbi\"/g;' -e 's/TRF_PRGM = \"\"/TRF_PRGM = \"\\/usr\\/local\\/bin\\/trf\"/g;' RepeatMasker/RepeatMaskerConfig.tmpl > RepeatMasker/RepeatMaskerConfig.pm\nRUN cd /usr/local/RepeatMasker \\\n && perl -i -0pe 's/^#\\!.*perl.*/#\\!\\/usr\\/bin\\/env perl/g' RepeatMasker DateRepeats ProcessRepeats RepeatProteinMask DupMasker util/queryRepeatDatabase.pl util/queryTaxonomyDatabase.pl util/rmOutToGFF3.pl util/rmToUCSCTables.pl\nRUN chmod -R 777 RepeatMasker/\nWORKDIR /opt/LoReAn/\nRUN cp /opt/LoReAn/code/lorean /usr/local/bin \\\n && chmod 775 /usr/local/bin/lorean\nRUN cp /opt/LoReAn/third_party/conf_files/environment /etc/environment\nRUN apt-get install locales -y \\\n && locale-gen en_US.UTF-8 \\\n && update-locale\nRUN chmod a+w /opt/\nWORKDIR /data/\nCMD /usr/local/bin/createUser.py\n","injectedSmells":[],"originalDockerfileHash":"7e2a0bb068e36bcb78ce327f7bc6353d","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:xenial\nRUN apt-get clean all \\\n && apt-get update \\\n && apt-get install build-essential git wget perl python3.5 python2.7 software-properties-common python3-pip python-pip debconf-utils sudo python-numpy cmake samtools bedtools zlib1g-dev libc6 aptitude libdbd-mysql-perl libdbi-perl libboost-all-dev libncurses5-dev bowtie default-jre parallel nano bowtie2 exonerate bzip2 liblzma-dev libbz2-dev software-properties-common libboost-iostreams-dev libboost-system-dev libboost-filesystem-dev zlibc gcc-multilib apt-utils zlib1g-dev cmake tcsh g++ iputils-ping jellyfish bowtie bioperl apache2 libcairo2-dev libpango1.0-dev libfile-homedir-perl sqlite3 -y -q\n#  RUN echo \"mysql-server mysql-server/root_password password lorean\" | debconf-set-selections\n#  RUN echo \"mysql-server mysql-server/root_password_again password lorean\" | debconf-set-selections\n#  RUN apt-get install -y mysql-server mysql-client mysql-common\nRUN pip3 install numpy biopython==1.68 bcbio-gff==0.6.4 pandas==0.19.1 pybedtools==0.7.8 gffutils regex pysam matplotlib progressbar2 psutil memory_profiler pathlib colorama simplesam tqdm\nWORKDIR /opt/\nRUN git clone -b noIPRS https://github.com/lfaino/LoReAn.git\nWORKDIR /opt/LoReAn/third_party/software/\nRUN tar -zxvf Porechop.tar.gz \\\n && cd Porechop \\\n && make clean \\\n && make \\\n && cp porechop/cpp_functions.so /opt/LoReAn/code/\nRUN tar -zxvf AATpackage-r03052011.tgz \\\n && rm AATpackage-r03052011.tgz \\\n && cd AATpackage-r03052011 \\\n && make clean \\\n && sudo ./configure --prefix=$PWD \\\n && sudo make \\\n && sudo make install\nRUN tar -zxvf iAssembler-v1.3.2.x64.tgz \\\n && rm iAssembler-v1.3.2.x64.tgz \\\n && tar -zxvf gm_et_linux_64.tar.gz \\\n && rm gm_et_linux_64.tar.gz\nRUN tar -zxvf SE-MEI.tar.gz \\\n && cd SE-MEI \\\n && make\nCOPY PASApipeline-v2.3.3.tar.gz ./\nRUN tar -zxvf PASApipeline-v2.3.3.tar.gz \\\n && rm PASApipeline-v2.3.3.tar.gz \\\n && mv PASApipeline-v2.3.3 PASApipeline \\\n && cd PASApipeline \\\n && make clean \\\n && make \\\n && cp ../../scripts/process_GMAP_alignments_gff3_chimeras_ok.pl scripts/ \\\n && chmod 775 scripts/process_GMAP_alignments_gff3_chimeras_ok.pl\n#  #    cd .. &&  cp ../conf_files/conf.txt PASApipeline/pasa_conf/ &&\\\nRUN apt-get install bamtools libbamtools-dev liblzma-dev automake autoconf -y -q\nRUN git clone https://github.com/samtools/htslib.git \\\n && cd htslib \\\n && autoheader \\\n && autoconf \\\n && ./configure \\\n && make \\\n && sudo make install \\\n && cd .. \\\n && git clone https://github.com/samtools/bcftools.git \\\n && cd bcftools \\\n && autoheader \\\n && autoconf \\\n && ./configure \\\n && make \\\n && sudo make install \\\n && cd .. \\\n && git clone https://github.com/samtools/tabix.git \\\n && cd tabix \\\n && make \\\n && cd .. \\\n && git clone https://github.com/samtools/samtools.git \\\n && cd samtools \\\n && autoheader \\\n && autoconf -Wno-syntax \\\n && ./configure \\\n && make \\\n && sudo make install\nRUN apt-get update \\\n && apt-get install libcurl4-gnutls-dev libssl-dev -y -q --fix-missing\nRUN export TOOLDIR=/opt/LoReAn/third_party/software \\\n && git clone https://github.com/Gaius-Augustus/Augustus.git \\\n && mv Augustus augustus \\\n && cd augustus \\\n && make clean \\\n && make\nCOPY Trinity-v2.5.1.tar.gz ./\nRUN tar -zxvf Trinity-v2.5.1.tar.gz \\\n && mv trinityrnaseq-Trinity-v2.5.1 Trinity \\\n && rm Trinity-v2.5.1.tar.gz \\\n && cd Trinity \\\n && make \\\n && make plugins\nRUN git clone https://github.com/lh3/minimap2.git \\\n && cd minimap2 \\\n && make\nRUN git clone https://github.com/alexdobin/STAR.git\nCOPY v3.0.1.tar.gz ./\nRUN tar -zxvf v3.0.1.tar.gz \\\n && rm v3.0.1.tar.gz \\\n && cd TransDecoder-3.0.1 \\\n && make\nCOPY gmap-gsnap-2017-11-15.tar.gz ./\nRUN tar -zxvf gmap-gsnap-2017-11-15.tar.gz \\\n && rm gmap-gsnap-2017-11-15.tar.gz \\\n && mv gmap-2017-11-15 gmap \\\n && cd gmap/ \\\n && ./configure \\\n && make \\\n && sudo make install\nCOPY fasta-36.3.8e.tar.gz ./\nRUN tar -zxvf fasta-36.3.8e.tar.gz \\\n && rm fasta-36.3.8e.tar.gz \\\n && cd fasta-36.3.8e/src \\\n && make -f ../make/Makefile.linux fasta36 \\\n && cp /opt/LoReAn/third_party/software/fasta-36.3.8e/bin/fasta36 /usr/local/bin/fasta\nRUN git clone https://github.com/Gaius-Augustus/BRAKER.git\nCOPY v1.1.1.tar.gz ./\nRUN tar -zxvf v1.1.1.tar.gz \\\n && rm v1.1.1.tar.gz\nRUN sudo perl -MCPAN -e shell \\\n && sudo cpan -f -i YAML \\\n && sudo cpan -f -i Hash::Merge \\\n && sudo cpan -f -i Logger::Simple \\\n && sudo cpan -f -i Parallel::ForkManager \\\n && sudo cpan -f -i Config::Std \\\n && sudo cpan -f -i Scalar::Util::Numeric \\\n && sudo cpan -f -i File::Which \\\n && sudo cpan -f -i DBD::SQLite.pm\nRUN mkdir gffread \\\n && cd gffread \\\n && git clone https://github.com/gpertea/gclib \\\n && git clone https://github.com/gpertea/gffread \\\n && cd gffread \\\n && make \\\n && cp ./gffread /usr/local/bin\nCOPY genometools-1.5.9.tar.gz ./\nRUN tar -zxvf genometools-1.5.9.tar.gz \\\n && rm genometools-1.5.9.tar.gz \\\n && cd genometools-1.5.9 \\\n && make\nRUN cp ../../code/createUser.py /usr/local/bin \\\n && chmod 775 /usr/local/bin/createUser.py\nRUN rm /opt/LoReAn/third_party/software/EVidenceModeler-1.1.1/EvmUtils/misc/cufflinks_gtf_to_alignment_gff3.pl\nRUN sudo chmod -R 775 /opt/LoReAn/code/\n#  COPY interproscan-5.27-66.0-64-bit.tar.gz ./\n#  RUN tar -pxvzf interproscan-5.27-66.0-64-bit.tar.gz && rm interproscan-5.27-66.0-64-bit.tar.gz\n#  WORKDIR /opt/LoReAn/third_party/software/interproscan-5.27-66.0\n#  RUN mkdir cddblast\n#  COPY ncbi-blast-2.7.1+-x64-linux.tar.gz ./cddblast\n#  RUN cd cddblast && tar -zxvf ncbi-blast-2.7.1+-x64-linux.tar.gz && cp -r ncbi-blast-2.7.1+ ../bin/blast\n#  COPY signalp-4.1f.Linux.tar.gz ./\n#  RUN  tar -xzf signalp-4.1f.Linux.tar.gz -C bin/signalp/4.1 --strip-components 1 && rm signalp-4.1f.Linux.tar.gz\n#  COPY signalp-4.1/signalp bin/signalp/4.1/\n#  RUN mkdir /data_panther\n#  COPY tmhmm-2.0c.Linux.tar.gz ./\n#  RUN  tar -xzf tmhmm-2.0c.Linux.tar.gz -C ./ && cp tmhmm-2.0c/bin/decodeanhmm.Linux_x86_64  bin/tmhmm/2.0c/decodeanhmm && \\\n#       cp tmhmm-2.0c/lib/TMHMM2.0.model  data/tmhmm/2.0c/TMHMM2.0c.model\n#  RUN cp /opt/LoReAn/third_party/conf_files/interproscan.properties ./interproscan.properties\nWORKDIR /usr/local/bin\nRUN apt-get install hmmer -y -q\nCOPY trf ./\nWORKDIR /usr/local\nRUN mkdir nseg \\\n && cd nseg \\\n && wget ftp://ftp.ncbi.nih.gov/pub/seg/nseg/* \\\n && make \\\n && mv nseg ../bin \\\n && mv nmerge ../bin\nCOPY RepeatScout-1.0.5.tar.gz ./\nRUN tar -xvf RepeatScout* \\\n && rm RepeatScout*.tar.gz \\\n && mv RepeatScout* RepeatScout \\\n && cd RepeatScout \\\n && make\nRUN wget ftp://ftp.ncbi.nlm.nih.gov/blast/executables/rmblast/2.2.28/ncbi-rmblastn-2.2.28-x64-linux.tar.gz \\\n && tar -xzvf ncbi-rmblastn* \\\n && rm ncbi-rmblastn*.tar.gz \\\n && mv ncbi-rmblastn*/bin/rmblastn bin \\\n && rm -rf ncbi-rmblastn\nRUN wget ftp://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/2.6.0/ncbi-blast-2.6.0+-x64-linux.tar.gz \\\n && tar -xzvf ncbi-blast* \\\n && find ncbi-blast* -type f -executable -exec mv {} bin\nRUN sudo perl -MCPAN -e shell \\\n && sudo cpan -f -i Text::Soundex\nCOPY RepeatMasker-open-4-0-7.tar.gz ./\nRUN tar -xzvf RepeatMasker-open*.tar.gz \\\n && rm -f RepeatMasker-open*.tar.gz \\\n && perl -0p -e 's/\\/usr\\/local\\/hmmer/\\/usr\\/bin/g;' -e 's/\\/usr\\/local\\/rmblast/\\/usr\\/local\\/bin/g;' -e 's/DEFAULT_SEARCH_ENGINE = \"crossmatch\"/DEFAULT_SEARCH_ENGINE = \"ncbi\"/g;' -e 's/TRF_PRGM = \"\"/TRF_PRGM = \"\\/usr\\/local\\/bin\\/trf\"/g;' RepeatMasker/RepeatMaskerConfig.tmpl > RepeatMasker/RepeatMaskerConfig.pm\nRUN cd /usr/local/RepeatMasker \\\n && perl -i -0pe 's/^#\\!.*perl.*/#\\!\\/usr\\/bin\\/env perl/g' RepeatMasker DateRepeats ProcessRepeats RepeatProteinMask DupMasker util/queryRepeatDatabase.pl util/queryTaxonomyDatabase.pl util/rmOutToGFF3.pl util/rmToUCSCTables.pl\nRUN chmod -R 777 RepeatMasker/\nWORKDIR /opt/LoReAn/\nRUN cp /opt/LoReAn/code/lorean /usr/local/bin \\\n && chmod 775 /usr/local/bin/lorean\nRUN cp /opt/LoReAn/third_party/conf_files/environment /etc/environment\nRUN apt-get install locales -y \\\n && locale-gen en_US.UTF-8 \\\n && update-locale\nRUN chmod a+w /opt/\nWORKDIR /data/\nCMD /usr/local/bin/createUser.py\n","originalDockerfileUglifiedHash":"85be214721e5a33312821daf8a1dbc8c","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/f197a3680a262e53b09aac49640d4e1d2139000f.dockerfile"}