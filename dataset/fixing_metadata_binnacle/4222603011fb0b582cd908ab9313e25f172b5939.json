{"seed":2700689476,"processedDockerfileHash":"2fa0e7d9fd04234d90d49465ebdde733","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"#  +++++++++++++++++++++++++++++++++++++++\n#   Dockerfile for webdevops/php:alpine-php7\n#      -- automatically generated  --\n#  +++++++++++++++++++++++++++++++++++++++\nFROM webdevops/base-app:alpine\nENV WEB_DOCUMENT_ROOT=\"/app\" \\\n    WEB_DOCUMENT_INDEX=\"index.php\" \\\n    WEB_ALIAS_DOMAIN=\"*.vm\" \\\n    WEB_PHP_TIMEOUT=\"600\" \\\n    WEB_PHP_SOCKET=\"\"\nCOPY conf/ /opt/docker/\nRUN set -x \\\n && apk-install imagemagick graphicsmagick ghostscript jpegoptim pngcrush libjpeg-turbo-utils optipng pngquant php7-fpm php7-json php7-intl php7-curl php7-mysqli php7-mysqlnd php7-pdo_mysql php7-pdo_pgsql php7-pdo_sqlite php7-mcrypt php7-gd php7-imap php7-bcmath php7-soap php7-sqlite3 php7-bz2 php7-calendar php7-ctype php7-mongodb php7-pcntl php7-pgsql php7-posix php7-sockets php7-sysvmsg php7-sysvsem php7-sysvshm php7-xmlreader php7-exif php7-ftp php7-gettext php7-iconv php7-zip php7-zlib php7-shmop php7-wddx sqlite php7-xmlrpc php7-xsl geoip php7-ldap php7-redis php7-pear php7-phar php7-openssl php7-session php7-opcache php7-mbstring php7-iconv php7-apcu php7-fileinfo php7-simplexml php7-tokenizer php7-xmlwriter \\\n && ln -s /usr/sbin/php-fpm7 /usr/sbin/php-fpm \\\n && pecl channel-update pecl.php.net \\\n && pear config-set auto_discover 1 \\\n && curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin/ --filename=composer \\\n && sed -i \"s/ -n / /\" $( which pecl ;) \\\n && docker-service enable syslog \\\n && docker-service enable cron \\\n && docker-run-bootstrap \\\n && docker-image-cleanup\nEXPOSE 9000/tcp\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# +++++++++++++++++++++++++++++++++++++++\n#  Dockerfile for webdevops/php:alpine-php7\n#     -- automatically generated  --\n# +++++++++++++++++++++++++++++++++++++++\nFROM webdevops/base-app:alpine\nENV WEB_DOCUMENT_ROOT=\"/app\" \\\n    WEB_DOCUMENT_INDEX=\"index.php\" \\\n    WEB_ALIAS_DOMAIN=\"*.vm\" \\\n    WEB_PHP_TIMEOUT=\"600\" \\\n    WEB_PHP_SOCKET=\"\"\nCOPY conf/ /opt/docker/\nRUN set -x \\\n && apk-install imagemagick graphicsmagick ghostscript jpegoptim pngcrush libjpeg-turbo-utils optipng pngquant php7-fpm php7-json php7-intl php7-curl php7-mysqli php7-mysqlnd php7-pdo_mysql php7-pdo_pgsql php7-pdo_sqlite php7-mcrypt php7-gd php7-imap php7-bcmath php7-soap php7-sqlite3 php7-bz2 php7-calendar php7-ctype php7-mongodb php7-pcntl php7-pgsql php7-posix php7-sockets php7-sysvmsg php7-sysvsem php7-sysvshm php7-xmlreader php7-exif php7-ftp php7-gettext php7-iconv php7-zip php7-zlib php7-shmop php7-wddx sqlite php7-xmlrpc php7-xsl geoip php7-ldap php7-redis php7-pear php7-phar php7-openssl php7-session php7-opcache php7-mbstring php7-iconv php7-apcu php7-fileinfo php7-simplexml php7-tokenizer php7-xmlwriter \\\n && ln -s /usr/sbin/php-fpm7 /usr/sbin/php-fpm \\\n && pecl channel-update pecl.php.net \\\n && pear config-set auto_discover 1 \\\n && curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin/ --filename=composer \\\n && sed -i \"s/ -n / /\" $( which pecl ;) \\\n && docker-service enable syslog \\\n && docker-service enable cron \\\n && docker-run-bootstrap \\\n && docker-image-cleanup\nEXPOSE 9000/tcp\n","injectedSmells":[],"originalDockerfileHash":"67b19a08445d0edf7b261c9ca0f94044","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  +++++++++++++++++++++++++++++++++++++++\n#   Dockerfile for webdevops/php:alpine-php7\n#      -- automatically generated  --\n#  +++++++++++++++++++++++++++++++++++++++\nFROM webdevops/base-app:alpine\nENV WEB_DOCUMENT_ROOT=\"/app\" \\\n    WEB_DOCUMENT_INDEX=\"index.php\" \\\n    WEB_ALIAS_DOMAIN=\"*.vm\" \\\n    WEB_PHP_TIMEOUT=\"600\" \\\n    WEB_PHP_SOCKET=\"\"\nCOPY conf/ /opt/docker/\nRUN set -x \\\n && apk-install imagemagick graphicsmagick ghostscript jpegoptim pngcrush libjpeg-turbo-utils optipng pngquant php7-fpm php7-json php7-intl php7-curl php7-mysqli php7-mysqlnd php7-pdo_mysql php7-pdo_pgsql php7-pdo_sqlite php7-mcrypt php7-gd php7-imap php7-bcmath php7-soap php7-sqlite3 php7-bz2 php7-calendar php7-ctype php7-mongodb php7-pcntl php7-pgsql php7-posix php7-sockets php7-sysvmsg php7-sysvsem php7-sysvshm php7-xmlreader php7-exif php7-ftp php7-gettext php7-iconv php7-zip php7-zlib php7-shmop php7-wddx sqlite php7-xmlrpc php7-xsl geoip php7-ldap php7-redis php7-pear php7-phar php7-openssl php7-session php7-opcache php7-mbstring php7-iconv php7-apcu php7-fileinfo php7-simplexml php7-tokenizer php7-xmlwriter \\\n && ln -s /usr/sbin/php-fpm7 /usr/sbin/php-fpm \\\n && pecl channel-update pecl.php.net \\\n && pear config-set auto_discover 1 \\\n && curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin/ --filename=composer \\\n && sed -i \"s/ -n / /\" $( which pecl ;) \\\n && docker-service enable syslog \\\n && docker-service enable cron \\\n && docker-run-bootstrap \\\n && docker-image-cleanup\nEXPOSE 9000/tcp\n","originalDockerfileUglifiedHash":"534c4c78dde8164100c7f9ee1d0d57d9","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/4222603011fb0b582cd908ab9313e25f172b5939.dockerfile"}