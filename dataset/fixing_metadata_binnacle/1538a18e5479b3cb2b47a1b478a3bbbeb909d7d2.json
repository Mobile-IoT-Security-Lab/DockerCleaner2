{"seed":1731547509,"processedDockerfileHash":"20e2c5b7f641173d9c514bce444c0396","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-pip","have-a-healthcheck"],"processedDockerfile":"#   Copyright (c) Jupyter Development Team.\n#   Distributed under the terms of the Modified BSD License.\nFROM jupyter/minimal-notebook\nMAINTAINER Jupyter Project <jupyter@googlegroups.com>\nUSER root\n#   libav-tools for matplotlib anim\nRUN apt-get update \\\n && apt-get install --no-install-recommends libav-tools -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\nUSER $NB_USER\n#   Install Python 3 packages\n#   Remove pyqt and qt pulled in for matplotlib since we're only ever going to\n#   use notebook-friendly backends in these images\nRUN conda install --quiet --yes 'nomkl' 'ipywidgets=6.0*' 'pandas=0.19*' 'numexpr=2.6*' 'matplotlib=2.0*' 'scipy=0.19*' 'seaborn=0.7*' 'scikit-learn=0.18*' 'scikit-image=0.12*' 'sympy=1.0*' 'cython=0.25*' 'patsy=0.4*' 'statsmodels=0.8*' 'cloudpickle=0.2*' 'dill=0.2*' 'numba=0.31*' 'bokeh=0.12*' 'sqlalchemy=1.1*' 'hdf5=1.8.17' 'h5py=2.6*' 'vincent=0.4.*' 'beautifulsoup4=4.5.*' 'xlrd' \\\n && conda remove --quiet --yes --force qt pyqt \\\n && conda clean -tipsy\n#   Activate ipywidgets extension in the environment that runs the notebook server\nRUN jupyter nbextension enable --py widgetsnbextension --sys-prefix\n#   Install Python 2 packages\n#   Remove pyqt and qt pulled in for matplotlib since we're only ever going to\n#   use notebook-friendly backends in these images\nRUN conda create --quiet --yes -p $CONDA_DIR/envs/python2 python=2.7 'nomkl' 'ipython=5.3*' 'ipywidgets=6.0*' 'pandas=0.19*' 'numexpr=2.6*' 'matplotlib=2.0*' 'scipy=0.19*' 'seaborn=0.7*' 'scikit-learn=0.18*' 'scikit-image=0.12*' 'sympy=1.0*' 'cython=0.25*' 'patsy=0.4*' 'statsmodels=0.8*' 'cloudpickle=0.2*' 'dill=0.2*' 'numba=0.31*' 'bokeh=0.12*' 'hdf5=1.8.17' 'h5py=2.6*' 'sqlalchemy=1.1*' 'pyzmq' 'vincent=0.4.*' 'beautifulsoup4=4.5.*' 'xlrd' \\\n && conda remove -n python2 --quiet --yes --force qt pyqt \\\n && conda clean -tipsy\n#   Add shortcuts to distinguish pip for python2 and python3 envs\nRUN ln -s $CONDA_DIR/envs/python2/bin/pip $CONDA_DIR/bin/pip2 \\\n && ln -s $CONDA_DIR/bin/pip $CONDA_DIR/bin/pip3\n#   Import matplotlib the first time to build the font cache.\nENV XDG_CACHE_HOME=\"/home/$NB_USER/.cache/\"\nRUN MPLBACKEND=Agg $CONDA_DIR/envs/python2/bin/python -c \"import matplotlib.pyplot\"\nUSER root\n#   Install Python 2 kernel spec globally to avoid permission problems when NB_UID\n#   switching at runtime and to allow the notebook server running out of the root\n#   environment to find it. Also, activate the python2 environment upon kernel\n#   launch.\nRUN pip install kernda==0.3.0 --no-cache \\\n && $CONDA_DIR/envs/python2/bin/python -m ipykernel install \\\n && kernda -o -y /usr/local/share/jupyter/kernels/python2/kernel.json \\\n && pip uninstall kernda -y\nUSER $NB_USER\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Copyright (c) Jupyter Development Team.\n#  Distributed under the terms of the Modified BSD License.\nFROM jupyter/minimal-notebook\nMAINTAINER Jupyter Project <jupyter@googlegroups.com>\nUSER root\n#  libav-tools for matplotlib anim\nRUN apt-get update \\\n && apt-get install --no-install-recommends libav-tools -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\nUSER $NB_USER\n#  Install Python 3 packages\n#  Remove pyqt and qt pulled in for matplotlib since we're only ever going to\n#  use notebook-friendly backends in these images\nRUN conda install --quiet --yes 'nomkl' 'ipywidgets=6.0*' 'pandas=0.19*' 'numexpr=2.6*' 'matplotlib=2.0*' 'scipy=0.19*' 'seaborn=0.7*' 'scikit-learn=0.18*' 'scikit-image=0.12*' 'sympy=1.0*' 'cython=0.25*' 'patsy=0.4*' 'statsmodels=0.8*' 'cloudpickle=0.2*' 'dill=0.2*' 'numba=0.31*' 'bokeh=0.12*' 'sqlalchemy=1.1*' 'hdf5=1.8.17' 'h5py=2.6*' 'vincent=0.4.*' 'beautifulsoup4=4.5.*' 'xlrd' \\\n && conda remove --quiet --yes --force qt pyqt \\\n && conda clean -tipsy\n#  Activate ipywidgets extension in the environment that runs the notebook server\nRUN jupyter nbextension enable --py widgetsnbextension --sys-prefix\n#  Install Python 2 packages\n#  Remove pyqt and qt pulled in for matplotlib since we're only ever going to\n#  use notebook-friendly backends in these images\nRUN conda create --quiet --yes -p $CONDA_DIR/envs/python2 python=2.7 'nomkl' 'ipython=5.3*' 'ipywidgets=6.0*' 'pandas=0.19*' 'numexpr=2.6*' 'matplotlib=2.0*' 'scipy=0.19*' 'seaborn=0.7*' 'scikit-learn=0.18*' 'scikit-image=0.12*' 'sympy=1.0*' 'cython=0.25*' 'patsy=0.4*' 'statsmodels=0.8*' 'cloudpickle=0.2*' 'dill=0.2*' 'numba=0.31*' 'bokeh=0.12*' 'hdf5=1.8.17' 'h5py=2.6*' 'sqlalchemy=1.1*' 'pyzmq' 'vincent=0.4.*' 'beautifulsoup4=4.5.*' 'xlrd' \\\n && conda remove -n python2 --quiet --yes --force qt pyqt \\\n && conda clean -tipsy\n#  Add shortcuts to distinguish pip for python2 and python3 envs\nRUN ln -s $CONDA_DIR/envs/python2/bin/pip $CONDA_DIR/bin/pip2 \\\n && ln -s $CONDA_DIR/bin/pip $CONDA_DIR/bin/pip3\n#  Import matplotlib the first time to build the font cache.\nENV XDG_CACHE_HOME=\"/home/$NB_USER/.cache/\"\nRUN MPLBACKEND=Agg $CONDA_DIR/envs/python2/bin/python -c \"import matplotlib.pyplot\"\nUSER root\n#  Install Python 2 kernel spec globally to avoid permission problems when NB_UID\n#  switching at runtime and to allow the notebook server running out of the root\n#  environment to find it. Also, activate the python2 environment upon kernel\n#  launch.\nRUN pip install kernda --no-cache \\\n && $CONDA_DIR/envs/python2/bin/python -m ipykernel install \\\n && kernda -o -y /usr/local/share/jupyter/kernels/python2/kernel.json \\\n && pip uninstall kernda -y\nUSER $NB_USER\n","injectedSmells":[],"originalDockerfileHash":"edea2be050460fb0934aa90267355175","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Copyright (c) Jupyter Development Team.\n#   Distributed under the terms of the Modified BSD License.\nFROM jupyter/minimal-notebook\nMAINTAINER Jupyter Project <jupyter@googlegroups.com>\nUSER root\n#   libav-tools for matplotlib anim\nRUN apt-get update \\\n && apt-get install --no-install-recommends libav-tools -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\nUSER $NB_USER\n#   Install Python 3 packages\n#   Remove pyqt and qt pulled in for matplotlib since we're only ever going to\n#   use notebook-friendly backends in these images\nRUN conda install --quiet --yes 'nomkl' 'ipywidgets=6.0*' 'pandas=0.19*' 'numexpr=2.6*' 'matplotlib=2.0*' 'scipy=0.19*' 'seaborn=0.7*' 'scikit-learn=0.18*' 'scikit-image=0.12*' 'sympy=1.0*' 'cython=0.25*' 'patsy=0.4*' 'statsmodels=0.8*' 'cloudpickle=0.2*' 'dill=0.2*' 'numba=0.31*' 'bokeh=0.12*' 'sqlalchemy=1.1*' 'hdf5=1.8.17' 'h5py=2.6*' 'vincent=0.4.*' 'beautifulsoup4=4.5.*' 'xlrd' \\\n && conda remove --quiet --yes --force qt pyqt \\\n && conda clean -tipsy\n#   Activate ipywidgets extension in the environment that runs the notebook server\nRUN jupyter nbextension enable --py widgetsnbextension --sys-prefix\n#   Install Python 2 packages\n#   Remove pyqt and qt pulled in for matplotlib since we're only ever going to\n#   use notebook-friendly backends in these images\nRUN conda create --quiet --yes -p $CONDA_DIR/envs/python2 python=2.7 'nomkl' 'ipython=5.3*' 'ipywidgets=6.0*' 'pandas=0.19*' 'numexpr=2.6*' 'matplotlib=2.0*' 'scipy=0.19*' 'seaborn=0.7*' 'scikit-learn=0.18*' 'scikit-image=0.12*' 'sympy=1.0*' 'cython=0.25*' 'patsy=0.4*' 'statsmodels=0.8*' 'cloudpickle=0.2*' 'dill=0.2*' 'numba=0.31*' 'bokeh=0.12*' 'hdf5=1.8.17' 'h5py=2.6*' 'sqlalchemy=1.1*' 'pyzmq' 'vincent=0.4.*' 'beautifulsoup4=4.5.*' 'xlrd' \\\n && conda remove -n python2 --quiet --yes --force qt pyqt \\\n && conda clean -tipsy\n#   Add shortcuts to distinguish pip for python2 and python3 envs\nRUN ln -s $CONDA_DIR/envs/python2/bin/pip $CONDA_DIR/bin/pip2 \\\n && ln -s $CONDA_DIR/bin/pip $CONDA_DIR/bin/pip3\n#   Import matplotlib the first time to build the font cache.\nENV XDG_CACHE_HOME=\"/home/$NB_USER/.cache/\"\nRUN MPLBACKEND=Agg $CONDA_DIR/envs/python2/bin/python -c \"import matplotlib.pyplot\"\nUSER root\n#   Install Python 2 kernel spec globally to avoid permission problems when NB_UID\n#   switching at runtime and to allow the notebook server running out of the root\n#   environment to find it. Also, activate the python2 environment upon kernel\n#   launch.\nRUN pip install kernda --no-cache \\\n && $CONDA_DIR/envs/python2/bin/python -m ipykernel install \\\n && kernda -o -y /usr/local/share/jupyter/kernels/python2/kernel.json \\\n && pip uninstall kernda -y\nUSER $NB_USER\n","originalDockerfileUglifiedHash":"78a581912b7a247490469b6208de9c0f","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/1538a18e5479b3cb2b47a1b478a3bbbeb909d7d2.dockerfile"}