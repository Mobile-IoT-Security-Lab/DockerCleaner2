{"seed":1531183950,"processedDockerfileHash":"69d01928f750f8e414ade98f28eebc8d","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#  ###########################################################################\n#   (C) Copyright IBM Corporation 2015.                                      #\n#                                                                            #\n#   Licensed under the Apache License, Version 2.0 (the \"License\");          #\n#   you may not use this file except in compliance with the License.         #\n#   You may obtain a copy of the License at                                  #\n#                                                                            #\n#        http://www.apache.org/licenses/LICENSE-2.0                          #\n#                                                                            #\n#   Unless required by applicable law or agreed to in writing, software      #\n#   distributed under the License is distributed on an \"AS IS\" BASIS,        #\n#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. #\n#   See the License for the specific language governing permissions and      #\n#   limitations under the License.                                           #\n#                                                                            #\n#  ###########################################################################\nFROM ubuntu:16.04\nMAINTAINER Kavitha Suresh Kumar <kavisuresh@in.ibm.com>\nRUN apt-get update \\\n && apt-get install --no-install-recommends unzip=6.0-20ubuntu1.1 wget=1.17.1-1ubuntu1.5 -y\nARG URL\n#  ######################## Installation Manager #############################\n#   Install Installation Manager\nRUN wget -q $URL/Install_Mgr_v1.6.2_Lnx_WASv8.5.5.zip -O /tmp/IM.zip \\\n && mkdir /tmp/im \\\n && unzip -qd /tmp/im /tmp/IM.zip \\\n && /tmp/im/installc -acceptLicense -accessRights admin -installationDirectory \"/opt/IBM/InstallationManager\" -dataLocation \"/var/ibm/InstallationManager\" -showProgress \\\n && rm -fr /tmp/IM.zip /tmp/im\n#  ######################## IBM HTTP Server ##################################\n#   Install IBM HTTP Server\nRUN mkdir /tmp/supp \\\n && wget -q $URL/WAS_V8.5.5_SUPPL_1_OF_3.zip -O /tmp/supp1.zip \\\n && wget -q $URL/WAS_V8.5.5_SUPPL_2_OF_3.zip -O /tmp/supp2.zip \\\n && wget -q $URL/WAS_V8.5.5_SUPPL_3_OF_3.zip -O /tmp/supp3.zip \\\n && unzip -qd /tmp/supp /tmp/supp1.zip \\\n && unzip -qd /tmp/supp /tmp/supp2.zip \\\n && unzip -qd /tmp/supp /tmp/supp3.zip \\\n && rm /tmp/supp1.zip /tmp/supp2.zip /tmp/supp3.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.IHS.v85 -repositories /tmp/supp/repository.config -installationDirectory /opt/IBM/HTTPServer -properties \"user.ihs.httpPort=80,user.ihs.allowNonRootSilentInstall=true\"\n#  #################### IBM HTTPServer Fixpack ##################################\n#   Install IBM HTTP Server Fixpack\nRUN mkdir /tmp/suppfp \\\n && wget -q $URL/8.5.5-WS-WASSupplements-FP0000009-part1.zip -O /tmp/spart1.zip \\\n && wget -q $URL/8.5.5-WS-WASSupplements-FP0000009-part2.zip -O /tmp/spart2.zip \\\n && unzip -qd /tmp/suppfp /tmp/spart1.zip \\\n && unzip -qd /tmp/suppfp /tmp/spart2.zip \\\n && rm /tmp/spart1.zip /tmp/spart2.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.IHS.v85 -repositories /tmp/suppfp/repository.config -installationDirectory /opt/IBM/HTTPServer -properties \"user.ihs.httpPort=80,user.ihs.allowNonRootSilentInstall=true\"\n#  ######################### WebServer Plugins  ##################################\n#   Install WebServer Plugins\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.PLG.v85 -repositories /tmp/supp/repository.config -installationDirectory /opt/IBM/WebSphere/Plugins\n#  #################### WebServer Plugins Fixpack ################################\n#   Install WebServer Plugins Fixpack\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.PLG.v85 -repositories /tmp/suppfp/repository.config -installationDirectory /opt/IBM/WebSphere/Plugins \\\n && rm -fr /opt/IBM/WebSphere/Plugins/java /tmp/suppfp\n#  ###################### WebSphere Customization Tools ##########################\n#   Install IBM WebSphere Customization Tools\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.WCT.v85 -repositories /tmp/supp/repository.config -installationDirectory /opt/IBM/WebSphere/Toolbox \\\n && rm -fr /tmp/supp\n#  ##################### WebSphere Customization Tools Fixpack ################### \n#   Install IBM WebSphere Customization Tools Fixpack\nRUN mkdir /tmp/wct \\\n && wget -q $URL/8.5.5-WS-WCT-FP0000009-part1.zip -O /tmp/wct1.zip \\\n && wget -q $URL/8.5.5-WS-WCT-FP0000009-part2.zip -O /tmp/wct2.zip \\\n && unzip -qd /tmp/wct /tmp/wct1.zip \\\n && unzip -qd /tmp/wct /tmp/wct2.zip \\\n && rm /tmp/wct1.zip /tmp/wct2.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.WCT.v85 -repositories /tmp/wct/repository.config -installationDirectory /opt/IBM/WebSphere/Toolbox \\\n && rm -fr /tmp/wct\nCMD [\"tar\", \"cvf\", \"/tmp/ihs_plg_wct.tar\", \"/opt/IBM/HTTPServer\", \"/opt/IBM/WebSphere/Plugins\", \"/opt/IBM/WebSphere/Toolbox\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# ###########################################################################\n#  (C) Copyright IBM Corporation 2015.                                      #\n#                                                                           #\n#  Licensed under the Apache License, Version 2.0 (the \"License\");          #\n#  you may not use this file except in compliance with the License.         #\n#  You may obtain a copy of the License at                                  #\n#                                                                           #\n#       http://www.apache.org/licenses/LICENSE-2.0                          #\n#                                                                           #\n#  Unless required by applicable law or agreed to in writing, software      #\n#  distributed under the License is distributed on an \"AS IS\" BASIS,        #\n#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. #\n#  See the License for the specific language governing permissions and      #\n#  limitations under the License.                                           #\n#                                                                           #\n# ###########################################################################\nFROM ubuntu:16.04\nMAINTAINER Kavitha Suresh Kumar <kavisuresh@in.ibm.com>\nRUN apt-get update \\\n && apt-get install unzip wget -y\nARG URL\n# ######################## Installation Manager #############################\n#  Install Installation Manager\nRUN wget -q $URL/Install_Mgr_v1.6.2_Lnx_WASv8.5.5.zip -O /tmp/IM.zip \\\n && mkdir /tmp/im \\\n && unzip -qd /tmp/im /tmp/IM.zip \\\n && /tmp/im/installc -acceptLicense -accessRights admin -installationDirectory \"/opt/IBM/InstallationManager\" -dataLocation \"/var/ibm/InstallationManager\" -showProgress \\\n && rm -fr /tmp/IM.zip /tmp/im\n# ######################## IBM HTTP Server ##################################\n#  Install IBM HTTP Server\nRUN mkdir /tmp/supp \\\n && wget -q $URL/WAS_V8.5.5_SUPPL_1_OF_3.zip -O /tmp/supp1.zip \\\n && wget -q $URL/WAS_V8.5.5_SUPPL_2_OF_3.zip -O /tmp/supp2.zip \\\n && wget -q $URL/WAS_V8.5.5_SUPPL_3_OF_3.zip -O /tmp/supp3.zip \\\n && unzip -qd /tmp/supp /tmp/supp1.zip \\\n && unzip -qd /tmp/supp /tmp/supp2.zip \\\n && unzip -qd /tmp/supp /tmp/supp3.zip \\\n && rm /tmp/supp1.zip /tmp/supp2.zip /tmp/supp3.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.IHS.v85 -repositories /tmp/supp/repository.config -installationDirectory /opt/IBM/HTTPServer -properties \"user.ihs.httpPort=80,user.ihs.allowNonRootSilentInstall=true\"\n# #################### IBM HTTPServer Fixpack ##################################\n#  Install IBM HTTP Server Fixpack\nRUN mkdir /tmp/suppfp \\\n && wget -q $URL/8.5.5-WS-WASSupplements-FP0000009-part1.zip -O /tmp/spart1.zip \\\n && wget -q $URL/8.5.5-WS-WASSupplements-FP0000009-part2.zip -O /tmp/spart2.zip \\\n && unzip -qd /tmp/suppfp /tmp/spart1.zip \\\n && unzip -qd /tmp/suppfp /tmp/spart2.zip \\\n && rm /tmp/spart1.zip /tmp/spart2.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.IHS.v85 -repositories /tmp/suppfp/repository.config -installationDirectory /opt/IBM/HTTPServer -properties \"user.ihs.httpPort=80,user.ihs.allowNonRootSilentInstall=true\"\n# ######################### WebServer Plugins  ##################################\n#  Install WebServer Plugins\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.PLG.v85 -repositories /tmp/supp/repository.config -installationDirectory /opt/IBM/WebSphere/Plugins\n# #################### WebServer Plugins Fixpack ################################\n#  Install WebServer Plugins Fixpack\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.PLG.v85 -repositories /tmp/suppfp/repository.config -installationDirectory /opt/IBM/WebSphere/Plugins \\\n && rm -fr /opt/IBM/WebSphere/Plugins/java /tmp/suppfp\n# ###################### WebSphere Customization Tools ##########################\n#  Install IBM WebSphere Customization Tools\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.WCT.v85 -repositories /tmp/supp/repository.config -installationDirectory /opt/IBM/WebSphere/Toolbox \\\n && rm -fr /tmp/supp\n# ##################### WebSphere Customization Tools Fixpack ################### \n#  Install IBM WebSphere Customization Tools Fixpack\nRUN mkdir /tmp/wct \\\n && wget -q $URL/8.5.5-WS-WCT-FP0000009-part1.zip -O /tmp/wct1.zip \\\n && wget -q $URL/8.5.5-WS-WCT-FP0000009-part2.zip -O /tmp/wct2.zip \\\n && unzip -qd /tmp/wct /tmp/wct1.zip \\\n && unzip -qd /tmp/wct /tmp/wct2.zip \\\n && rm /tmp/wct1.zip /tmp/wct2.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.WCT.v85 -repositories /tmp/wct/repository.config -installationDirectory /opt/IBM/WebSphere/Toolbox \\\n && rm -fr /tmp/wct\nCMD [\"tar\", \"cvf\", \"/tmp/ihs_plg_wct.tar\", \"/opt/IBM/HTTPServer\", \"/opt/IBM/WebSphere/Plugins\", \"/opt/IBM/WebSphere/Toolbox\"]\n","injectedSmells":[],"originalDockerfileHash":"30d3fd663ab2e1d0b5f366525b44034e","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  ###########################################################################\n#   (C) Copyright IBM Corporation 2015.                                      #\n#                                                                            #\n#   Licensed under the Apache License, Version 2.0 (the \"License\");          #\n#   you may not use this file except in compliance with the License.         #\n#   You may obtain a copy of the License at                                  #\n#                                                                            #\n#        http://www.apache.org/licenses/LICENSE-2.0                          #\n#                                                                            #\n#   Unless required by applicable law or agreed to in writing, software      #\n#   distributed under the License is distributed on an \"AS IS\" BASIS,        #\n#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. #\n#   See the License for the specific language governing permissions and      #\n#   limitations under the License.                                           #\n#                                                                            #\n#  ###########################################################################\nFROM ubuntu:16.04\nMAINTAINER Kavitha Suresh Kumar <kavisuresh@in.ibm.com>\nRUN apt-get update \\\n && apt-get install unzip wget -y\nARG URL\n#  ######################## Installation Manager #############################\n#   Install Installation Manager\nRUN wget -q $URL/Install_Mgr_v1.6.2_Lnx_WASv8.5.5.zip -O /tmp/IM.zip \\\n && mkdir /tmp/im \\\n && unzip -qd /tmp/im /tmp/IM.zip \\\n && /tmp/im/installc -acceptLicense -accessRights admin -installationDirectory \"/opt/IBM/InstallationManager\" -dataLocation \"/var/ibm/InstallationManager\" -showProgress \\\n && rm -fr /tmp/IM.zip /tmp/im\n#  ######################## IBM HTTP Server ##################################\n#   Install IBM HTTP Server\nRUN mkdir /tmp/supp \\\n && wget -q $URL/WAS_V8.5.5_SUPPL_1_OF_3.zip -O /tmp/supp1.zip \\\n && wget -q $URL/WAS_V8.5.5_SUPPL_2_OF_3.zip -O /tmp/supp2.zip \\\n && wget -q $URL/WAS_V8.5.5_SUPPL_3_OF_3.zip -O /tmp/supp3.zip \\\n && unzip -qd /tmp/supp /tmp/supp1.zip \\\n && unzip -qd /tmp/supp /tmp/supp2.zip \\\n && unzip -qd /tmp/supp /tmp/supp3.zip \\\n && rm /tmp/supp1.zip /tmp/supp2.zip /tmp/supp3.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.IHS.v85 -repositories /tmp/supp/repository.config -installationDirectory /opt/IBM/HTTPServer -properties \"user.ihs.httpPort=80,user.ihs.allowNonRootSilentInstall=true\"\n#  #################### IBM HTTPServer Fixpack ##################################\n#   Install IBM HTTP Server Fixpack\nRUN mkdir /tmp/suppfp \\\n && wget -q $URL/8.5.5-WS-WASSupplements-FP0000009-part1.zip -O /tmp/spart1.zip \\\n && wget -q $URL/8.5.5-WS-WASSupplements-FP0000009-part2.zip -O /tmp/spart2.zip \\\n && unzip -qd /tmp/suppfp /tmp/spart1.zip \\\n && unzip -qd /tmp/suppfp /tmp/spart2.zip \\\n && rm /tmp/spart1.zip /tmp/spart2.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.IHS.v85 -repositories /tmp/suppfp/repository.config -installationDirectory /opt/IBM/HTTPServer -properties \"user.ihs.httpPort=80,user.ihs.allowNonRootSilentInstall=true\"\n#  ######################### WebServer Plugins  ##################################\n#   Install WebServer Plugins\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.PLG.v85 -repositories /tmp/supp/repository.config -installationDirectory /opt/IBM/WebSphere/Plugins\n#  #################### WebServer Plugins Fixpack ################################\n#   Install WebServer Plugins Fixpack\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.PLG.v85 -repositories /tmp/suppfp/repository.config -installationDirectory /opt/IBM/WebSphere/Plugins \\\n && rm -fr /opt/IBM/WebSphere/Plugins/java /tmp/suppfp\n#  ###################### WebSphere Customization Tools ##########################\n#   Install IBM WebSphere Customization Tools\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.WCT.v85 -repositories /tmp/supp/repository.config -installationDirectory /opt/IBM/WebSphere/Toolbox \\\n && rm -fr /tmp/supp\n#  ##################### WebSphere Customization Tools Fixpack ################### \n#   Install IBM WebSphere Customization Tools Fixpack\nRUN mkdir /tmp/wct \\\n && wget -q $URL/8.5.5-WS-WCT-FP0000009-part1.zip -O /tmp/wct1.zip \\\n && wget -q $URL/8.5.5-WS-WCT-FP0000009-part2.zip -O /tmp/wct2.zip \\\n && unzip -qd /tmp/wct /tmp/wct1.zip \\\n && unzip -qd /tmp/wct /tmp/wct2.zip \\\n && rm /tmp/wct1.zip /tmp/wct2.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress -acceptLicense install com.ibm.websphere.WCT.v85 -repositories /tmp/wct/repository.config -installationDirectory /opt/IBM/WebSphere/Toolbox \\\n && rm -fr /tmp/wct\nCMD [\"tar\", \"cvf\", \"/tmp/ihs_plg_wct.tar\", \"/opt/IBM/HTTPServer\", \"/opt/IBM/WebSphere/Plugins\", \"/opt/IBM/WebSphere/Toolbox\"]\n","originalDockerfileUglifiedHash":"0694a1f9dc248659384367b757cca847","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/27dff3aa383455d0a80c102819f3515abe8f910d.dockerfile"}