{"seed":1990357992,"processedDockerfileHash":"e34b44449c7fe724951de7408a8e15ab","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:wily\nMAINTAINER Tiago Antao <tiagoantao@gmail.com>\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN :\nRUN apt-get upgrade -y\nRUN (apt-get update ;apt-get install --no-install-recommends git wget build-essential unzip -y )\nRUN (apt-get update ;apt-get install --no-install-recommends samtools mafft muscle raxml tabix -y )\n#  R\nRUN (apt-get update ;apt-get install --no-install-recommends r-bioc-biobase -y )\nRUN (apt-get update ;apt-get install --no-install-recommends graphviz libgraphviz-dev pkg-config -y )\nRUN (apt-get update ;apt-get install --no-install-recommends swig -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libx11-dev -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libgsl0ldbl -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libgsl0-dev libopenblas-dev liblapacke-dev -y )\nRUN apt-get clean\n#  genepop\nRUN mkdir genepop\nWORKDIR /genepop\nRUN wget http://kimura.univ-montp2.fr/~rousset/sources.tar.gz\nRUN tar zxf sources.tar.gz\nRUN cp Cpp/* .\nRUN g++ -DNO_MODULES -o Genepop GenepopS.cpp -O3\nRUN cp Genepop /usr/bin\nWORKDIR /\nRUN rm -rf genepop\n#  fastsimcoal\nRUN wget http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc_linux64.zip\nRUN unzip fsc_linux64.zip\nRUN chmod a+x fsc_linux64/fsc25221\nRUN cp fsc_linux64/fsc25221 /usr/bin/fsc252\nRUN rm -rf fsc_*\n#  plink\nRUN wget https://www.cog-genomics.org/static/bin/plink170330/plink_linux_x86_64.zip\nRUN unzip plink_linux_x86_64.zip\nRUN mv plink /usr/bin\n#  trimal\nRUN wget http://trimal.cgenomics.org/_media/trimal.v1.2rev59.tar.gz\nRUN tar zxf trimal.v1.2rev59.tar.gz\nWORKDIR /trimAl/source\nRUN make\nRUN cp trimal /usr/bin\nWORKDIR /\nRUN wget http://repo.continuum.io/miniconda/Miniconda-3.7.3-Linux-x86_64.sh\n#  Presumes aceptance of the license\nRUN bash Miniconda-3.7.3-Linux-x86_64.sh -b\nRUN root/miniconda/bin/conda install --yes biopython=1.65\nRUN root/miniconda/bin/conda install --yes scipy\nRUN root/miniconda/bin/conda install --yes cython numba\nRUN root/miniconda/bin/conda install --yes matplotlib\nRUN root/miniconda/bin/conda install --yes ipython-notebook\nRUN root/miniconda/bin/conda install --yes anaconda-client\nRUN root/miniconda/bin/conda install --yes scikit-learn\nRUN root/miniconda/bin/conda install --yes statsmodels\n#  RUN root/miniconda/bin/conda install --yes pysam\nRUN root/miniconda/bin/conda install -c bioconda --yes pysam\nRUN root/miniconda/bin/conda install -c bioconda --yes gffutils\nRUN root/miniconda/bin/conda install --yes conda-build\nRUN root/miniconda/bin/conda install --yes pip\nRUN root/miniconda/bin/conda install --yes requests\nRUN root/miniconda/bin/conda install --yes -c bpeng simuPOP\nRUN root/miniconda/bin/pip install rpy2\nRUN root/miniconda/bin/pip install pygraphviz\nRUN root/miniconda/bin/pip install seaborn\nRUN root/miniconda/bin/pip install pyvcf\nRUN root/miniconda/bin/pip install pexpect\nRUN root/miniconda/bin/pip install reportlab\nRUN root/miniconda/bin/pip install networkx\nRUN root/miniconda/bin/pip install pygenomics\n#  RUN echo \"install.packages('RMySQL', repos='http://cran.us.r-project.org')\" > R.inst\nRUN echo \"install.packages('ggplot2', repos='http://cran.us.r-project.org')\" >> R.inst\nRUN echo \"install.packages('gridExtra', repos='http://cran.us.r-project.org')\" >> R.inst\nRUN R --no-save < R.inst\n#  smartpca\nRUN wget https://github.com/DReichLab/EIG/archive/v6.1.2.tar.gz\nRUN tar zxf v6.1.2.tar.gz\nRUN rm v6.1.2.tar.gz\nWORKDIR EIG-6.1.2/src\nRUN sed -i.bak 's/-lrt/-lrt -llapacke -lm -lpthread/' Makefile\nRUN make\nRUN cp eigensrc/smartpca /usr/bin\n#  dendropy\nRUN wget https://github.com/jeetsukumaran/DendroPy/archive/v3.12.1.tar.gz\nRUN tar zxf v3.12.1.tar.gz\nWORKDIR DendroPy-3.12.1\nRUN python setup.py install\nWORKDIR /\nEXPOSE 9875/tcp\nRUN git clone https://github.com/tiagoantao/bioinf-python.git\nWORKDIR /bioinf-python/notebooks\nRUN echo setterm -foreground magenta >> /etc/bash.bashrc\nCMD /root/miniconda/bin/ipython notebook --ip=0.0.0.0 --no-browser --port=9875\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:wily\nMAINTAINER Tiago Antao <tiagoantao@gmail.com>\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install git wget build-essential unzip -y\nRUN apt-get install samtools mafft muscle raxml tabix -y\n# R\nRUN apt-get install r-bioc-biobase -y\nRUN apt-get install graphviz libgraphviz-dev pkg-config -y\nRUN apt-get install swig -y\nRUN apt-get install libx11-dev -y\nRUN apt-get install libgsl0ldbl -y\nRUN apt-get install libgsl0-dev libopenblas-dev liblapacke-dev -y\nRUN apt-get clean\n# genepop\nRUN mkdir genepop\nWORKDIR /genepop\nRUN wget http://kimura.univ-montp2.fr/~rousset/sources.tar.gz\nRUN tar zxf sources.tar.gz\nRUN cp Cpp/* .\nRUN g++ -DNO_MODULES -o Genepop GenepopS.cpp -O3\nRUN cp Genepop /usr/bin\nWORKDIR /\nRUN rm -rf genepop\n# fastsimcoal\nRUN wget http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc_linux64.zip\nRUN unzip fsc_linux64.zip\nRUN chmod a+x fsc_linux64/fsc25221\nRUN cp fsc_linux64/fsc25221 /usr/bin/fsc252\nRUN rm -rf fsc_*\n# plink\nRUN wget https://www.cog-genomics.org/static/bin/plink170330/plink_linux_x86_64.zip\nRUN unzip plink_linux_x86_64.zip\nRUN mv plink /usr/bin\n# trimal\nRUN wget http://trimal.cgenomics.org/_media/trimal.v1.2rev59.tar.gz\nRUN tar zxf trimal.v1.2rev59.tar.gz\nWORKDIR /trimAl/source\nRUN make\nRUN cp trimal /usr/bin\nWORKDIR /\nRUN wget http://repo.continuum.io/miniconda/Miniconda-3.7.3-Linux-x86_64.sh\n# Presumes aceptance of the license\nRUN bash Miniconda-3.7.3-Linux-x86_64.sh -b\nRUN root/miniconda/bin/conda install --yes biopython=1.65\nRUN root/miniconda/bin/conda install --yes scipy\nRUN root/miniconda/bin/conda install --yes cython numba\nRUN root/miniconda/bin/conda install --yes matplotlib\nRUN root/miniconda/bin/conda install --yes ipython-notebook\nRUN root/miniconda/bin/conda install --yes anaconda-client\nRUN root/miniconda/bin/conda install --yes scikit-learn\nRUN root/miniconda/bin/conda install --yes statsmodels\n# RUN root/miniconda/bin/conda install --yes pysam\nRUN root/miniconda/bin/conda install -c bioconda --yes pysam\nRUN root/miniconda/bin/conda install -c bioconda --yes gffutils\nRUN root/miniconda/bin/conda install --yes conda-build\nRUN root/miniconda/bin/conda install --yes pip\nRUN root/miniconda/bin/conda install --yes requests\nRUN root/miniconda/bin/conda install --yes -c bpeng simuPOP\nRUN root/miniconda/bin/pip install rpy2\nRUN root/miniconda/bin/pip install pygraphviz\nRUN root/miniconda/bin/pip install seaborn\nRUN root/miniconda/bin/pip install pyvcf\nRUN root/miniconda/bin/pip install pexpect\nRUN root/miniconda/bin/pip install reportlab\nRUN root/miniconda/bin/pip install networkx\nRUN root/miniconda/bin/pip install pygenomics\n# RUN echo \"install.packages('RMySQL', repos='http://cran.us.r-project.org')\" > R.inst\nRUN echo \"install.packages('ggplot2', repos='http://cran.us.r-project.org')\" >> R.inst\nRUN echo \"install.packages('gridExtra', repos='http://cran.us.r-project.org')\" >> R.inst\nRUN R --no-save < R.inst\n# smartpca\nRUN wget https://github.com/DReichLab/EIG/archive/v6.1.2.tar.gz\nRUN tar zxf v6.1.2.tar.gz\nRUN rm v6.1.2.tar.gz\nWORKDIR EIG-6.1.2/src\nRUN sed -i.bak 's/-lrt/-lrt -llapacke -lm -lpthread/' Makefile\nRUN make\nRUN cp eigensrc/smartpca /usr/bin\n# dendropy\nRUN wget https://github.com/jeetsukumaran/DendroPy/archive/v3.12.1.tar.gz\nRUN tar zxf v3.12.1.tar.gz\nWORKDIR DendroPy-3.12.1\nRUN python setup.py install\nWORKDIR /\nEXPOSE 9875/tcp\nRUN git clone https://github.com/tiagoantao/bioinf-python.git\nWORKDIR /bioinf-python/notebooks\nRUN echo setterm -foreground magenta >> /etc/bash.bashrc\nCMD /root/miniconda/bin/ipython notebook --ip=0.0.0.0 --no-browser --port=9875\n","injectedSmells":[],"originalDockerfileHash":"87729d6cb884a29791184aa976a273e8","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:wily\nMAINTAINER Tiago Antao <tiagoantao@gmail.com>\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install git wget build-essential unzip -y\nRUN apt-get install samtools mafft muscle raxml tabix -y\n#  R\nRUN apt-get install r-bioc-biobase -y\nRUN apt-get install graphviz libgraphviz-dev pkg-config -y\nRUN apt-get install swig -y\nRUN apt-get install libx11-dev -y\nRUN apt-get install libgsl0ldbl -y\nRUN apt-get install libgsl0-dev libopenblas-dev liblapacke-dev -y\nRUN apt-get clean\n#  genepop\nRUN mkdir genepop\nWORKDIR /genepop\nRUN wget http://kimura.univ-montp2.fr/~rousset/sources.tar.gz\nRUN tar zxf sources.tar.gz\nRUN cp Cpp/* .\nRUN g++ -DNO_MODULES -o Genepop GenepopS.cpp -O3\nRUN cp Genepop /usr/bin\nWORKDIR /\nRUN rm -rf genepop\n#  fastsimcoal\nRUN wget http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc_linux64.zip\nRUN unzip fsc_linux64.zip\nRUN chmod a+x fsc_linux64/fsc25221\nRUN cp fsc_linux64/fsc25221 /usr/bin/fsc252\nRUN rm -rf fsc_*\n#  plink\nRUN wget https://www.cog-genomics.org/static/bin/plink170330/plink_linux_x86_64.zip\nRUN unzip plink_linux_x86_64.zip\nRUN mv plink /usr/bin\n#  trimal\nRUN wget http://trimal.cgenomics.org/_media/trimal.v1.2rev59.tar.gz\nRUN tar zxf trimal.v1.2rev59.tar.gz\nWORKDIR /trimAl/source\nRUN make\nRUN cp trimal /usr/bin\nWORKDIR /\nRUN wget http://repo.continuum.io/miniconda/Miniconda-3.7.3-Linux-x86_64.sh\n#  Presumes aceptance of the license\nRUN bash Miniconda-3.7.3-Linux-x86_64.sh -b\nRUN root/miniconda/bin/conda install --yes biopython=1.65\nRUN root/miniconda/bin/conda install --yes scipy\nRUN root/miniconda/bin/conda install --yes cython numba\nRUN root/miniconda/bin/conda install --yes matplotlib\nRUN root/miniconda/bin/conda install --yes ipython-notebook\nRUN root/miniconda/bin/conda install --yes anaconda-client\nRUN root/miniconda/bin/conda install --yes scikit-learn\nRUN root/miniconda/bin/conda install --yes statsmodels\n#  RUN root/miniconda/bin/conda install --yes pysam\nRUN root/miniconda/bin/conda install -c bioconda --yes pysam\nRUN root/miniconda/bin/conda install -c bioconda --yes gffutils\nRUN root/miniconda/bin/conda install --yes conda-build\nRUN root/miniconda/bin/conda install --yes pip\nRUN root/miniconda/bin/conda install --yes requests\nRUN root/miniconda/bin/conda install --yes -c bpeng simuPOP\nRUN root/miniconda/bin/pip install rpy2\nRUN root/miniconda/bin/pip install pygraphviz\nRUN root/miniconda/bin/pip install seaborn\nRUN root/miniconda/bin/pip install pyvcf\nRUN root/miniconda/bin/pip install pexpect\nRUN root/miniconda/bin/pip install reportlab\nRUN root/miniconda/bin/pip install networkx\nRUN root/miniconda/bin/pip install pygenomics\n#  RUN echo \"install.packages('RMySQL', repos='http://cran.us.r-project.org')\" > R.inst\nRUN echo \"install.packages('ggplot2', repos='http://cran.us.r-project.org')\" >> R.inst\nRUN echo \"install.packages('gridExtra', repos='http://cran.us.r-project.org')\" >> R.inst\nRUN R --no-save < R.inst\n#  smartpca\nRUN wget https://github.com/DReichLab/EIG/archive/v6.1.2.tar.gz\nRUN tar zxf v6.1.2.tar.gz\nRUN rm v6.1.2.tar.gz\nWORKDIR EIG-6.1.2/src\nRUN sed -i.bak 's/-lrt/-lrt -llapacke -lm -lpthread/' Makefile\nRUN make\nRUN cp eigensrc/smartpca /usr/bin\n#  dendropy\nRUN wget https://github.com/jeetsukumaran/DendroPy/archive/v3.12.1.tar.gz\nRUN tar zxf v3.12.1.tar.gz\nWORKDIR DendroPy-3.12.1\nRUN python setup.py install\nWORKDIR /\nEXPOSE 9875/tcp\nRUN git clone https://github.com/tiagoantao/bioinf-python.git\nWORKDIR /bioinf-python/notebooks\nRUN echo setterm -foreground magenta >> /etc/bash.bashrc\nCMD /root/miniconda/bin/ipython notebook --ip=0.0.0.0 --no-browser --port=9875\n","originalDockerfileUglifiedHash":"a8a62e582154899a660a3b58ddad32c4","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/1768fc3c8027938c3d9a4a1705ea03ca30ef4b73.dockerfile"}