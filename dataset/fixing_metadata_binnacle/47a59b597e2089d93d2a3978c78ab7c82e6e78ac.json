{"seed":2394532756,"processedDockerfileHash":"6f62ac760539062aa0702581e4ef1146","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:18.04\nUSER root\n#   install Ubuntu packages\nRUN apt-get update \\\n && apt-get install --no-install-recommends autoconf=2.69-11 autogen=1:5.18.12-4 automake=1:1.15.1-3ubuntu2 autotools-dev=20180224.1 ca-certificates=20211016ubuntu0.18.04.1 g++=4:7.4.0-1ubuntu2.3 git=1:2.17.1-1ubuntu0.17 less=487-0.1 libtool=2.4.6-2 make=4.1-9.1ubuntu1 nano=2.9.3-2 pkg-config=0.29.1-0ubuntu2 python=2.7.15~rc1-1 unzip=6.0-21ubuntu1.2 wget=1.19.4-1ubuntu2.2 zlib1g-dev=1:1.2.11.dfsg-0ubuntu2.2 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   copy helper scripts\nWORKDIR /opt/cp2k-toolchain\nRUN mkdir scripts\nCOPY ./scripts/VERSION ./scripts/parse_if.py ./scripts/tool_kit.sh ./scripts/common_vars.sh ./scripts/signal_trap.sh ./scripts/\nCOPY ./install_cp2k_toolchain.sh .\nRUN ./install_cp2k_toolchain.sh --install-all --dry-run\nCOPY ./scripts/install_valgrind.sh ./scripts/\nRUN ./scripts/install_valgrind.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_cmake.sh ./scripts/\nRUN ./scripts/install_cmake.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_gcc.sh ./scripts/\nRUN ./scripts/install_gcc.sh \\\n && rm -rf ./build\nCOPY ./scripts/get_openblas_arch.sh ./scripts/\nCOPY ./scripts/setup_buildtools.sh ./scripts/\nRUN ./scripts/setup_buildtools.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_mpich.sh ./scripts/\nRUN ./scripts/install_mpich.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_openmpi.sh ./scripts/\nRUN ./scripts/install_openmpi.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_reflapack.sh ./scripts/install_mkl.sh ./scripts/install_acml.sh ./scripts/install_openblas.sh ./scripts/install_mathlibs.sh ./scripts/\nRUN ./scripts/install_mathlibs.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_fftw.sh ./scripts/\nRUN ./scripts/install_fftw.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libint.sh ./scripts/\nRUN ./scripts/install_libint.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libxc.sh ./scripts/\nRUN ./scripts/install_libxc.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libsmm.sh ./scripts/\nRUN ./scripts/install_libsmm.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libxsmm.sh ./scripts/\nRUN ./scripts/install_libxsmm.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_scalapack.sh ./scripts/\nRUN ./scripts/install_scalapack.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_elpa.sh ./scripts/\nRUN ./scripts/install_elpa.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_ptscotch.sh ./scripts/\nRUN ./scripts/install_ptscotch.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_parmetis.sh ./scripts/\nRUN ./scripts/install_parmetis.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_metis.sh ./scripts/\nRUN ./scripts/install_metis.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_superlu.sh ./scripts/\nRUN ./scripts/install_superlu.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_pexsi.sh ./scripts/\nRUN ./scripts/install_pexsi.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_quip.sh ./scripts/\nRUN ./scripts/install_quip.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_gsl.sh ./scripts/\nRUN ./scripts/install_gsl.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_spglib.sh ./scripts/\nRUN ./scripts/install_spglib.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_hdf5.sh ./scripts/\nRUN ./scripts/install_hdf5.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libvdwxc.sh ./scripts/\nRUN ./scripts/install_libvdwxc.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_sirius.sh ./scripts/\nRUN ./scripts/install_sirius.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_json_fortran.sh ./scripts/\nRUN ./scripts/install_json_fortran.sh \\\n && rm -rf ./build\nCOPY ./scripts/arch_base.tmpl ./scripts/generate_arch_files.sh ./scripts/\nRUN ./scripts/generate_arch_files.sh \\\n && rm -rf ./build\n#  EOF\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:18.04\nUSER root\n#  install Ubuntu packages\nRUN apt-get update \\\n && apt-get install --no-install-recommends autoconf autogen automake autotools-dev ca-certificates g++ git less libtool make nano pkg-config python unzip wget zlib1g-dev -y \\\n && rm -rf /var/lib/apt/lists/*\n#  copy helper scripts\nWORKDIR /opt/cp2k-toolchain\nRUN mkdir scripts\nCOPY ./scripts/VERSION ./scripts/parse_if.py ./scripts/tool_kit.sh ./scripts/common_vars.sh ./scripts/signal_trap.sh ./scripts/\nCOPY ./install_cp2k_toolchain.sh .\nRUN ./install_cp2k_toolchain.sh --install-all --dry-run\nCOPY ./scripts/install_valgrind.sh ./scripts/\nRUN ./scripts/install_valgrind.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_cmake.sh ./scripts/\nRUN ./scripts/install_cmake.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_gcc.sh ./scripts/\nRUN ./scripts/install_gcc.sh \\\n && rm -rf ./build\nCOPY ./scripts/get_openblas_arch.sh ./scripts/\nCOPY ./scripts/setup_buildtools.sh ./scripts/\nRUN ./scripts/setup_buildtools.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_mpich.sh ./scripts/\nRUN ./scripts/install_mpich.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_openmpi.sh ./scripts/\nRUN ./scripts/install_openmpi.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_reflapack.sh ./scripts/install_mkl.sh ./scripts/install_acml.sh ./scripts/install_openblas.sh ./scripts/install_mathlibs.sh ./scripts/\nRUN ./scripts/install_mathlibs.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_fftw.sh ./scripts/\nRUN ./scripts/install_fftw.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libint.sh ./scripts/\nRUN ./scripts/install_libint.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libxc.sh ./scripts/\nRUN ./scripts/install_libxc.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libsmm.sh ./scripts/\nRUN ./scripts/install_libsmm.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libxsmm.sh ./scripts/\nRUN ./scripts/install_libxsmm.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_scalapack.sh ./scripts/\nRUN ./scripts/install_scalapack.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_elpa.sh ./scripts/\nRUN ./scripts/install_elpa.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_ptscotch.sh ./scripts/\nRUN ./scripts/install_ptscotch.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_parmetis.sh ./scripts/\nRUN ./scripts/install_parmetis.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_metis.sh ./scripts/\nRUN ./scripts/install_metis.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_superlu.sh ./scripts/\nRUN ./scripts/install_superlu.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_pexsi.sh ./scripts/\nRUN ./scripts/install_pexsi.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_quip.sh ./scripts/\nRUN ./scripts/install_quip.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_gsl.sh ./scripts/\nRUN ./scripts/install_gsl.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_spglib.sh ./scripts/\nRUN ./scripts/install_spglib.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_hdf5.sh ./scripts/\nRUN ./scripts/install_hdf5.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libvdwxc.sh ./scripts/\nRUN ./scripts/install_libvdwxc.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_sirius.sh ./scripts/\nRUN ./scripts/install_sirius.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_json_fortran.sh ./scripts/\nRUN ./scripts/install_json_fortran.sh \\\n && rm -rf ./build\nCOPY ./scripts/arch_base.tmpl ./scripts/generate_arch_files.sh ./scripts/\nRUN ./scripts/generate_arch_files.sh \\\n && rm -rf ./build\n# EOF\n","injectedSmells":[],"originalDockerfileHash":"6197f24f6371344d4e50cf3d8eb9ab94","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:18.04\nUSER root\n#   install Ubuntu packages\nRUN apt-get update \\\n && apt-get install --no-install-recommends autoconf autogen automake autotools-dev ca-certificates g++ git less libtool make nano pkg-config python unzip wget zlib1g-dev -y \\\n && rm -rf /var/lib/apt/lists/*\n#   copy helper scripts\nWORKDIR /opt/cp2k-toolchain\nRUN mkdir scripts\nCOPY ./scripts/VERSION ./scripts/parse_if.py ./scripts/tool_kit.sh ./scripts/common_vars.sh ./scripts/signal_trap.sh ./scripts/\nCOPY ./install_cp2k_toolchain.sh .\nRUN ./install_cp2k_toolchain.sh --install-all --dry-run\nCOPY ./scripts/install_valgrind.sh ./scripts/\nRUN ./scripts/install_valgrind.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_cmake.sh ./scripts/\nRUN ./scripts/install_cmake.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_gcc.sh ./scripts/\nRUN ./scripts/install_gcc.sh \\\n && rm -rf ./build\nCOPY ./scripts/get_openblas_arch.sh ./scripts/\nCOPY ./scripts/setup_buildtools.sh ./scripts/\nRUN ./scripts/setup_buildtools.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_mpich.sh ./scripts/\nRUN ./scripts/install_mpich.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_openmpi.sh ./scripts/\nRUN ./scripts/install_openmpi.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_reflapack.sh ./scripts/install_mkl.sh ./scripts/install_acml.sh ./scripts/install_openblas.sh ./scripts/install_mathlibs.sh ./scripts/\nRUN ./scripts/install_mathlibs.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_fftw.sh ./scripts/\nRUN ./scripts/install_fftw.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libint.sh ./scripts/\nRUN ./scripts/install_libint.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libxc.sh ./scripts/\nRUN ./scripts/install_libxc.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libsmm.sh ./scripts/\nRUN ./scripts/install_libsmm.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libxsmm.sh ./scripts/\nRUN ./scripts/install_libxsmm.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_scalapack.sh ./scripts/\nRUN ./scripts/install_scalapack.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_elpa.sh ./scripts/\nRUN ./scripts/install_elpa.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_ptscotch.sh ./scripts/\nRUN ./scripts/install_ptscotch.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_parmetis.sh ./scripts/\nRUN ./scripts/install_parmetis.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_metis.sh ./scripts/\nRUN ./scripts/install_metis.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_superlu.sh ./scripts/\nRUN ./scripts/install_superlu.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_pexsi.sh ./scripts/\nRUN ./scripts/install_pexsi.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_quip.sh ./scripts/\nRUN ./scripts/install_quip.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_gsl.sh ./scripts/\nRUN ./scripts/install_gsl.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_spglib.sh ./scripts/\nRUN ./scripts/install_spglib.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_hdf5.sh ./scripts/\nRUN ./scripts/install_hdf5.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_libvdwxc.sh ./scripts/\nRUN ./scripts/install_libvdwxc.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_sirius.sh ./scripts/\nRUN ./scripts/install_sirius.sh \\\n && rm -rf ./build\nCOPY ./scripts/install_json_fortran.sh ./scripts/\nRUN ./scripts/install_json_fortran.sh \\\n && rm -rf ./build\nCOPY ./scripts/arch_base.tmpl ./scripts/generate_arch_files.sh ./scripts/\nRUN ./scripts/generate_arch_files.sh \\\n && rm -rf ./build\n#  EOF\n","originalDockerfileUglifiedHash":"55d7bee7fe3401df3e46c7fb6fc4ac46","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/47a59b597e2089d93d2a3978c78ab7c82e6e78ac.dockerfile"}