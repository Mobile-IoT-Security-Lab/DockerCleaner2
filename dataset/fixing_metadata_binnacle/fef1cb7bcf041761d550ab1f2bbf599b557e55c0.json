{"seed":2073271803,"processedDockerfileHash":"cbabc799b11dd15d067f252c684748ca","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck"],"processedDockerfile":"FROM ubuntu:artful\nLABEL maintainer=\"Luis Martinez de Bartolome <luism@jfrog.com>\"\nENV LLVM_VERSION=\"3.9\" \\\n    CC=\"clang\" \\\n    CXX=\"clang++\" \\\n    CMAKE_C_COMPILER=\"clang\" \\\n    CMAKE_CXX_COMPILER=\"clang++\" \\\n    PYENV_ROOT=\"/opt/pyenv\" \\\n    PATH=\"/opt/pyenv/shims:${PATH}\"\nCOPY sources.list /etc/apt/sources.list\nRUN dpkg --add-architecture i386 \\\n && ls -lhR /etc/apt/ \\\n && apt-get update -qq \\\n && apt-get install --no-install-recommends sudo=1.8.20p2-1ubuntu1 wget=1.19.1-3ubuntu1 git=1:2.14.1-1ubuntu4 g++-multilib=4:7.2.0-1ubuntu1 make=4.1-9.1 libc6-dev-i386=2.26-0ubuntu2.1 libgmp-dev=2:6.1.2+dfsg-1 libmpfr-dev=3.1.6-1 libmpc-dev=1.0.3-2 nasm=2.13.01-2 dh-autoreconf=14 libffi-dev=3.2.1-6 ninja-build=1.7.2-3 libc++-dev=3.9.1-3 libc++-dev:i386=3.9.1-3 libc++abi-dev=3.9.1-3 libc++abi-dev:i386=3.9.1-3 pkg-config=0.29.1-0ubuntu2 subversion=1.9.7-2ubuntu1 ca-certificates=20170717 autoconf-archive clang-${LLVM_VERSION}=1:3.9.1-* llvm-${LLVM_VERSION}=1:3.9.1-* llvm-${LLVM_VERSION}-dev=1:3.9.1-* llvm-${LLVM_VERSION}-runtime=1:3.9.1-* llvm=1:4.0-* libssl-dev=1.0.2* zlib1g-dev=1:1.* libbz2-dev=1.* libsqlite3-dev=3.* libreadline-dev=7.* xz-utils=5.* curl=7.* libncurses5-dev=6.* libncursesw5-dev=6.* liblzma-dev=5.* -qq -y \\\n && update-alternatives --install /usr/bin/clang++ clang++ /usr/bin/clang++-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/clang clang /usr/bin/clang-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/cc cc /usr/bin/clang-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/c++ c++ /usr/bin/clang++-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/cpp cpp /usr/bin/clang++-${LLVM_VERSION} 100 \\\n && ln -s /usr/include/locale.h /usr/include/xlocale.h \\\n && rm -rf /var/lib/apt/lists/* \\\n && wget -q --no-check-certificate https://cmake.org/files/v3.14/cmake-3.14.3-Linux-x86_64.tar.gz \\\n && tar -xzf cmake-3.14.3-Linux-x86_64.tar.gz --exclude=bin/cmake-gui --exclude=doc/cmake --exclude=share/cmake-3.12/Help \\\n && cp -fR cmake-3.14.3-Linux-x86_64/* /usr \\\n && rm -rf cmake-3.14.3-Linux-x86_64 \\\n && rm cmake-3.14.3-Linux-x86_64.tar.gz \\\n && groupadd 1001 -g 1001 \\\n && groupadd 1000 -g 1000 \\\n && groupadd 2000 -g 2000 \\\n && groupadd 999 -g 999 \\\n && useradd -ms /bin/bash conan -g 1001 -G 1000,2000,999 \\\n && printf \"conan:conan\" | chpasswd \\\n && adduser conan sudo \\\n && printf \"conan ALL= NOPASSWD: ALL\\n\" >> /etc/sudoers \\\n && wget --no-check-certificate --quiet -O /tmp/pyenv-installer https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer \\\n && chmod +x /tmp/pyenv-installer \\\n && /tmp/pyenv-installer \\\n && rm /tmp/pyenv-installer \\\n && update-alternatives --install /usr/bin/pyenv pyenv /opt/pyenv/bin/pyenv 100 \\\n && PYTHON_CONFIGURE_OPTS=\"--enable-shared\" pyenv install 3.7.1 \\\n && pyenv global 3.7.1 \\\n && pip install pip==23.1 -q --upgrade --no-cache-dir \\\n && pip install conan==2.0.4 conan-package-tools==0.39.0 -q --no-cache-dir \\\n && chown -R conan:1001 /opt/pyenv \\\n && find /opt/pyenv -iname __pycache__ -print0 | xargs -0 rm -rf \\\n && update-alternatives --install /usr/bin/python python /opt/pyenv/shims/python 100 \\\n && update-alternatives --install /usr/bin/python3 python3 /opt/pyenv/shims/python3 100 \\\n && update-alternatives --install /usr/bin/pip pip /opt/pyenv/shims/pip 100 \\\n && update-alternatives --install /usr/bin/pip3 pip3 /opt/pyenv/shims/pip3 100\nUSER conan\nWORKDIR /home/conan\nRUN mkdir -p /home/conan/.conan \\\n && printf 'eval \"$(pyenv init -)\"\\n' >> ~/.bashrc \\\n && printf 'eval \"$(pyenv virtualenv-init -)\"\\n' >> ~/.bashrc\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:artful\nLABEL maintainer=\"Luis Martinez de Bartolome <luism@jfrog.com>\"\nENV LLVM_VERSION=\"3.9\" \\\n    CC=\"clang\" \\\n    CXX=\"clang++\" \\\n    CMAKE_C_COMPILER=\"clang\" \\\n    CMAKE_CXX_COMPILER=\"clang++\" \\\n    PYENV_ROOT=\"/opt/pyenv\" \\\n    PATH=\"/opt/pyenv/shims:${PATH}\"\nCOPY sources.list /etc/apt/sources.list\nRUN dpkg --add-architecture i386 \\\n && ls -lhR /etc/apt/ \\\n && apt-get update -qq \\\n && apt-get install --no-install-recommends sudo=1.8.20p2-1ubuntu1 wget=1.19.1-3ubuntu1 git=1:2.14.1-1ubuntu4 g++-multilib=4:7.2.0-1ubuntu1 make=4.1-9.1 libc6-dev-i386=2.26-0ubuntu2.1 libgmp-dev=2:6.1.2+dfsg-1 libmpfr-dev=3.1.6-1 libmpc-dev=1.0.3-2 nasm=2.13.01-2 dh-autoreconf=14 libffi-dev=3.2.1-6 ninja-build=1.7.2-3 libc++-dev=3.9.1-3 libc++-dev:i386=3.9.1-3 libc++abi-dev=3.9.1-3 libc++abi-dev:i386=3.9.1-3 pkg-config=0.29.1-0ubuntu2 subversion=1.9.7-2ubuntu1 ca-certificates=20170717 autoconf-archive clang-${LLVM_VERSION}=1:3.9.1-* llvm-${LLVM_VERSION}=1:3.9.1-* llvm-${LLVM_VERSION}-dev=1:3.9.1-* llvm-${LLVM_VERSION}-runtime=1:3.9.1-* llvm=1:4.0-* libssl-dev=1.0.2* zlib1g-dev=1:1.* libbz2-dev=1.* libsqlite3-dev=3.* libreadline-dev=7.* xz-utils=5.* curl=7.* libncurses5-dev=6.* libncursesw5-dev=6.* liblzma-dev=5.* -qq -y \\\n && update-alternatives --install /usr/bin/clang++ clang++ /usr/bin/clang++-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/clang clang /usr/bin/clang-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/cc cc /usr/bin/clang-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/c++ c++ /usr/bin/clang++-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/cpp cpp /usr/bin/clang++-${LLVM_VERSION} 100 \\\n && ln -s /usr/include/locale.h /usr/include/xlocale.h \\\n && rm -rf /var/lib/apt/lists/* \\\n && wget -q --no-check-certificate https://cmake.org/files/v3.14/cmake-3.14.3-Linux-x86_64.tar.gz \\\n && tar -xzf cmake-3.14.3-Linux-x86_64.tar.gz --exclude=bin/cmake-gui --exclude=doc/cmake --exclude=share/cmake-3.12/Help \\\n && cp -fR cmake-3.14.3-Linux-x86_64/* /usr \\\n && rm -rf cmake-3.14.3-Linux-x86_64 \\\n && rm cmake-3.14.3-Linux-x86_64.tar.gz \\\n && groupadd 1001 -g 1001 \\\n && groupadd 1000 -g 1000 \\\n && groupadd 2000 -g 2000 \\\n && groupadd 999 -g 999 \\\n && useradd -ms /bin/bash conan -g 1001 -G 1000,2000,999 \\\n && printf \"conan:conan\" | chpasswd \\\n && adduser conan sudo \\\n && printf \"conan ALL= NOPASSWD: ALL\\n\" >> /etc/sudoers \\\n && wget --no-check-certificate --quiet -O /tmp/pyenv-installer https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer \\\n && chmod +x /tmp/pyenv-installer \\\n && /tmp/pyenv-installer \\\n && rm /tmp/pyenv-installer \\\n && update-alternatives --install /usr/bin/pyenv pyenv /opt/pyenv/bin/pyenv 100 \\\n && PYTHON_CONFIGURE_OPTS=\"--enable-shared\" pyenv install 3.7.1 \\\n && pyenv global 3.7.1 \\\n && pip install pip -q --upgrade --no-cache-dir \\\n && pip install conan conan-package-tools -q --no-cache-dir \\\n && chown -R conan:1001 /opt/pyenv \\\n && find /opt/pyenv -iname __pycache__ -print0 | xargs -0 rm -rf \\\n && update-alternatives --install /usr/bin/python python /opt/pyenv/shims/python 100 \\\n && update-alternatives --install /usr/bin/python3 python3 /opt/pyenv/shims/python3 100 \\\n && update-alternatives --install /usr/bin/pip pip /opt/pyenv/shims/pip 100 \\\n && update-alternatives --install /usr/bin/pip3 pip3 /opt/pyenv/shims/pip3 100\nUSER conan\nWORKDIR /home/conan\nRUN mkdir -p /home/conan/.conan \\\n && printf 'eval \"$(pyenv init -)\"\\n' >> ~/.bashrc \\\n && printf 'eval \"$(pyenv virtualenv-init -)\"\\n' >> ~/.bashrc\n","injectedSmells":[],"originalDockerfileHash":"6c29e845ad81ab46e48078807b939dfb","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:artful\nLABEL maintainer=\"Luis Martinez de Bartolome <luism@jfrog.com>\"\nENV LLVM_VERSION=\"3.9\" \\\n    CC=\"clang\" \\\n    CXX=\"clang++\" \\\n    CMAKE_C_COMPILER=\"clang\" \\\n    CMAKE_CXX_COMPILER=\"clang++\" \\\n    PYENV_ROOT=\"/opt/pyenv\" \\\n    PATH=\"/opt/pyenv/shims:${PATH}\"\nCOPY sources.list /etc/apt/sources.list\nRUN dpkg --add-architecture i386 \\\n && ls -lhR /etc/apt/ \\\n && apt-get update -qq \\\n && apt-get install --no-install-recommends sudo=1.8.20p2-1ubuntu1 wget=1.19.1-3ubuntu1 git=1:2.14.1-1ubuntu4 g++-multilib=4:7.2.0-1ubuntu1 make=4.1-9.1 libc6-dev-i386=2.26-0ubuntu2.1 libgmp-dev=2:6.1.2+dfsg-1 libmpfr-dev=3.1.6-1 libmpc-dev=1.0.3-2 nasm=2.13.01-2 dh-autoreconf=14 libffi-dev=3.2.1-6 ninja-build=1.7.2-3 libc++-dev=3.9.1-3 libc++-dev:i386=3.9.1-3 libc++abi-dev=3.9.1-3 libc++abi-dev:i386=3.9.1-3 pkg-config=0.29.1-0ubuntu2 subversion=1.9.7-2ubuntu1 ca-certificates=20170717 autoconf-archive clang-${LLVM_VERSION}=1:3.9.1-* llvm-${LLVM_VERSION}=1:3.9.1-* llvm-${LLVM_VERSION}-dev=1:3.9.1-* llvm-${LLVM_VERSION}-runtime=1:3.9.1-* llvm=1:4.0-* libssl-dev=1.0.2* zlib1g-dev=1:1.* libbz2-dev=1.* libsqlite3-dev=3.* libreadline-dev=7.* xz-utils=5.* curl=7.* libncurses5-dev=6.* libncursesw5-dev=6.* liblzma-dev=5.* -qq -y \\\n && update-alternatives --install /usr/bin/clang++ clang++ /usr/bin/clang++-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/clang clang /usr/bin/clang-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/cc cc /usr/bin/clang-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/c++ c++ /usr/bin/clang++-${LLVM_VERSION} 100 \\\n && update-alternatives --install /usr/bin/cpp cpp /usr/bin/clang++-${LLVM_VERSION} 100 \\\n && ln -s /usr/include/locale.h /usr/include/xlocale.h \\\n && rm -rf /var/lib/apt/lists/* \\\n && wget -q --no-check-certificate https://cmake.org/files/v3.14/cmake-3.14.3-Linux-x86_64.tar.gz \\\n && tar -xzf cmake-3.14.3-Linux-x86_64.tar.gz --exclude=bin/cmake-gui --exclude=doc/cmake --exclude=share/cmake-3.12/Help \\\n && cp -fR cmake-3.14.3-Linux-x86_64/* /usr \\\n && rm -rf cmake-3.14.3-Linux-x86_64 \\\n && rm cmake-3.14.3-Linux-x86_64.tar.gz \\\n && groupadd 1001 -g 1001 \\\n && groupadd 1000 -g 1000 \\\n && groupadd 2000 -g 2000 \\\n && groupadd 999 -g 999 \\\n && useradd -ms /bin/bash conan -g 1001 -G 1000,2000,999 \\\n && printf \"conan:conan\" | chpasswd \\\n && adduser conan sudo \\\n && printf \"conan ALL= NOPASSWD: ALL\\n\" >> /etc/sudoers \\\n && wget --no-check-certificate --quiet -O /tmp/pyenv-installer https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer \\\n && chmod +x /tmp/pyenv-installer \\\n && /tmp/pyenv-installer \\\n && rm /tmp/pyenv-installer \\\n && update-alternatives --install /usr/bin/pyenv pyenv /opt/pyenv/bin/pyenv 100 \\\n && PYTHON_CONFIGURE_OPTS=\"--enable-shared\" pyenv install 3.7.1 \\\n && pyenv global 3.7.1 \\\n && pip install pip -q --upgrade --no-cache-dir \\\n && pip install conan conan-package-tools -q --no-cache-dir \\\n && chown -R conan:1001 /opt/pyenv \\\n && find /opt/pyenv -iname __pycache__ -print0 | xargs -0 rm -rf \\\n && update-alternatives --install /usr/bin/python python /opt/pyenv/shims/python 100 \\\n && update-alternatives --install /usr/bin/python3 python3 /opt/pyenv/shims/python3 100 \\\n && update-alternatives --install /usr/bin/pip pip /opt/pyenv/shims/pip 100 \\\n && update-alternatives --install /usr/bin/pip3 pip3 /opt/pyenv/shims/pip3 100\nUSER conan\nWORKDIR /home/conan\nRUN mkdir -p /home/conan/.conan \\\n && printf 'eval \"$(pyenv init -)\"\\n' >> ~/.bashrc \\\n && printf 'eval \"$(pyenv virtualenv-init -)\"\\n' >> ~/.bashrc\n","originalDockerfileUglifiedHash":"6c29e845ad81ab46e48078807b939dfb","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/fef1cb7bcf041761d550ab1f2bbf599b557e55c0.dockerfile"}