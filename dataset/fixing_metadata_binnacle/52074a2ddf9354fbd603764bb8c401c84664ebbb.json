{"seed":1258417472,"processedDockerfileHash":"cfa1adda1f136b7ba7ce4453ac241e56","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Copyright (c) 2017 Sony Corporation. All Rights Reserved.\n#\n#   Licensed under the Apache License, Version 2.0 (the \"License\");\n#   you may not use this file except in compliance with the License.\n#   You may obtain a copy of the License at\n#\n#       http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing, software\n#   distributed under the License is distributed on an \"AS IS\" BASIS,\n#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#   See the License for the specific language governing permissions and\n#   limitations under the License.\n#   for nnabla>=1.0.17\nFROM multiarch/ubuntu-core:armhf-xenial\nENV LC_ALL=\"C\"\nENV LANG=\"C\"\nENV LANGUAGE=\"C\"\nRUN apt-get update \\\n && apt-get install --no-install-recommends bzip2 ca-certificates ccache clang-format-3.8 cmake curl g++ git libarchive-dev libatlas-dev libhdf5-dev liblapack-dev make pkg-config python python-dev python-pip python-setuptools python-wheel python3 python3-dev python3-pip python3-setuptools python3-wheel unzip wget zip -y\nRUN mkdir /tmp/deps \\\n && cd /tmp/deps \\\n && curl -L https://github.com/google/protobuf/archive/v3.1.0.tar.gz -o protobuf-v3.1.0.tar.gz \\\n && tar xvf protobuf-v3.1.0.tar.gz \\\n && cd protobuf-3.1.0 \\\n && mkdir build \\\n && cd build \\\n && cmake -DCMAKE_POSITION_INDEPENDENT_CODE=ON -Dprotobuf_BUILD_TESTS=OFF ../cmake \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf /tmp/*\nRUN python3 -m pip install --upgrade pip\nRUN python2 -m pip install --upgrade pip\nRUN pip install autopep8==2.0.2 boto3==1.26.114 cython==0.29.34 h5py==3.8.0 mako==1.2.4 numpy==1.24.2 onnx==1.4.1 pillow==9.5.0 protobuf==4.22.3 pytest==7.3.1 pyyaml==6.0 requests==2.28.2 scipy==1.10.1 tqdm==4.65.0 virtualenv==20.21.0 --no-cache-dir > ==.16\nRUN pip3 install --no-cache-dir autopep8 boto3 cython h5py mako numpy onnx==1.4.1 pillow protobuf pytest pyyaml requests scipy tqdm virtualenv > =1.16\nRUN pip install ipython==5.0\nRUN pip3 install ipython\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Copyright (c) 2017 Sony Corporation. All Rights Reserved.\n#\n#  Licensed under the Apache License, Version 2.0 (the \"License\");\n#  you may not use this file except in compliance with the License.\n#  You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n#  Unless required by applicable law or agreed to in writing, software\n#  distributed under the License is distributed on an \"AS IS\" BASIS,\n#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#  See the License for the specific language governing permissions and\n#  limitations under the License.\n#  for nnabla>=1.0.17\nFROM multiarch/ubuntu-core:armhf-xenial\nENV LC_ALL=\"C\"\nENV LANG=\"C\"\nENV LANGUAGE=\"C\"\nRUN apt-get update \\\n && apt-get install --no-install-recommends bzip2 ca-certificates ccache clang-format-3.8 cmake curl g++ git libarchive-dev libatlas-dev libhdf5-dev liblapack-dev make pkg-config python python-dev python-pip python-setuptools python-wheel python3 python3-dev python3-pip python3-setuptools python3-wheel unzip wget zip -y\nRUN mkdir /tmp/deps \\\n && cd /tmp/deps \\\n && curl -L https://github.com/google/protobuf/archive/v3.1.0.tar.gz -o protobuf-v3.1.0.tar.gz \\\n && tar xvf protobuf-v3.1.0.tar.gz \\\n && cd protobuf-3.1.0 \\\n && mkdir build \\\n && cd build \\\n && cmake -DCMAKE_POSITION_INDEPENDENT_CODE=ON -Dprotobuf_BUILD_TESTS=OFF ../cmake \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf /tmp/*\nRUN python3 -m pip install --upgrade pip\nRUN python2 -m pip install --upgrade pip\nRUN pip install autopep8 boto3 cython h5py mako numpy>==.16 onnx==1.4.1 pillow protobuf pytest pyyaml requests scipy tqdm virtualenv --no-cache-dir\nRUN pip3 install --no-cache-dir autopep8 boto3 cython h5py mako numpy>=1.16 onnx==1.4.1 pillow protobuf pytest pyyaml requests scipy tqdm virtualenv\nRUN pip install ipython==5.0\nRUN pip3 install ipython\n","injectedSmells":[],"originalDockerfileHash":"2cbd8998a218a670ee0326f74b01ed40","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Copyright (c) 2017 Sony Corporation. All Rights Reserved.\n#\n#   Licensed under the Apache License, Version 2.0 (the \"License\");\n#   you may not use this file except in compliance with the License.\n#   You may obtain a copy of the License at\n#\n#       http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing, software\n#   distributed under the License is distributed on an \"AS IS\" BASIS,\n#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#   See the License for the specific language governing permissions and\n#   limitations under the License.\n#   for nnabla>=1.0.17\nFROM multiarch/ubuntu-core:armhf-xenial\nENV LC_ALL=\"C\"\nENV LANG=\"C\"\nENV LANGUAGE=\"C\"\nRUN apt-get update \\\n && apt-get install --no-install-recommends bzip2 ca-certificates ccache clang-format-3.8 cmake curl g++ git libarchive-dev libatlas-dev libhdf5-dev liblapack-dev make pkg-config python python-dev python-pip python-setuptools python-wheel python3 python3-dev python3-pip python3-setuptools python3-wheel unzip wget zip -y\nRUN mkdir /tmp/deps \\\n && cd /tmp/deps \\\n && curl -L https://github.com/google/protobuf/archive/v3.1.0.tar.gz -o protobuf-v3.1.0.tar.gz \\\n && tar xvf protobuf-v3.1.0.tar.gz \\\n && cd protobuf-3.1.0 \\\n && mkdir build \\\n && cd build \\\n && cmake -DCMAKE_POSITION_INDEPENDENT_CODE=ON -Dprotobuf_BUILD_TESTS=OFF ../cmake \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf /tmp/*\nRUN python3 -m pip install --upgrade pip\nRUN python2 -m pip install --upgrade pip\nRUN pip install autopep8 boto3 cython h5py mako numpy onnx==1.4.1 pillow protobuf pytest pyyaml requests scipy tqdm virtualenv --no-cache-dir > ==.16\nRUN pip3 install --no-cache-dir autopep8 boto3 cython h5py mako numpy onnx==1.4.1 pillow protobuf pytest pyyaml requests scipy tqdm virtualenv > =1.16\nRUN pip install ipython==5.0\nRUN pip3 install ipython\n","originalDockerfileUglifiedHash":"f2d1dc6a05ae9eb28adcad9d80669840","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/52074a2ddf9354fbd603764bb8c401c84664ebbb.dockerfile"}