{"seed":3566805855,"processedDockerfileHash":"6a796d7465d14f7dced2f8b379de5bff","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   runnable base\nFROM boxcar/raring\n#   REPOS\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends software-properties-common=0.99.35 -y -q )\nRUN add-apt-repository -y \"deb http://archive.ubuntu.com/ubuntu $( lsb_release -sc ;) universe\"\nRUN add-apt-repository -y ppa:gophers/go/ubuntu\nRUN add-apt-repository -y ppa:chris-lea/node.js\nRUN add-apt-repository -y ppa:webupd8team/java\nRUN add-apt-repository -y ppa:nginx/stable\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10\nRUN echo 'deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen' | sudo tee /etc/apt/sources.list.d/10gen.list\nRUN :\n#  SHIMS\nRUN dpkg-divert --local --rename --add /sbin/initctl\nRUN ln -s /bin/true /sbin/initctl\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   EDITORS\nRUN (apt-get update ;apt-get install --no-install-recommends vim=2:9.0.1000-4ubuntu2 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends nano=7.2-1 -y -q )\n#   TOOLS\nRUN (apt-get update ;apt-get install --no-install-recommends curl=7.88.1-7ubuntu1 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends git=1:2.39.2-1ubuntu1 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends make=4.3-4.1build1 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends wget=1.21.3-1ubuntu1 -y -q )\n#   RUN apt-get install -y -q supervisor\n#   BUILD\nRUN (apt-get update ;apt-get install --no-install-recommends build-essential=12.9ubuntu3 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends g++=4:12.2.0-3ubuntu1 -y -q )\n#   SERVICES\n#  # MEMCACHED\nRUN (apt-get update ;apt-get install --no-install-recommends memcached=1.6.18-1 -y -q )\n#  RUN pecl install -y memcache\n#  # COUCHDB\nRUN (apt-get update ;apt-get install --no-install-recommends couchdb -y -q )\n#  # REDIS\nRUN (apt-get update ;apt-get install --no-install-recommends redis-server=5:7.0.8-4 -y -q )\n#  # MONGO\nRUN (apt-get update ;apt-get install --no-install-recommends mongodb-10gen -y -q )\n#  # POSTGRES\nRUN echo \"#!/bin/sh\\nexit 101\" > /usr/sbin/policy-rc.d; chmod +x /usr/sbin/policy-rc.d\nRUN (apt-get update ;apt-get install --no-install-recommends postgresql-9.1 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends postgresql-contrib-9.1 -y -q )\nRUN rm /usr/sbin/policy-rc.d\nRUN (apt-get update ;apt-get install --no-install-recommends pgadmin3 -y -q )\n#  # MAGICK\nRUN (apt-get update ;apt-get install --no-install-recommends imagemagick=8:6.9.11.60+dfsg-1.6 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends graphicsmagick=1.4+really1.3.40-2build1 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends graphicsmagick-libmagick-dev-compat=1.4+really1.3.40-2build1 -y -q )\n#   #RUN pecl install -y imagick\n#  # APACHE\nRUN (apt-get update ;apt-get install --no-install-recommends apache2=2.4.55-1ubuntu2 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends libapache2-mod-php5 -y -q )\n#  # MYSQL\nRUN (apt-get update ;apt-get install --no-install-recommends mysql-client=8.0.32-0ubuntu4 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends mysql-server=8.0.32-0ubuntu4 -y -q )\n#  # NGINX\nRUN (apt-get update ;apt-get install --no-install-recommends nginx=1.22.0-1ubuntu3 -y -q )\n#   LANGS\n#  # GO\nRUN (apt-get update ;apt-get install --no-install-recommends golang=2:1.20~0ubuntu1 -y -q )\n#  # RUBY\nRUN (apt-get update ;apt-get install --no-install-recommends ruby=1:3.1 -y -q )\n#  # NODE\nRUN (apt-get update ;apt-get install --no-install-recommends nodejs=18.13.0+dfsg1-1ubuntu2 -y -q )\n#  # PHP\nRUN (apt-get update ;apt-get install --no-install-recommends php5 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends php-pear=1:1.10.13+submodules+notgz+2022032202-2 -y -q )\n#  # ERLANG\nRUN (apt-get update ;apt-get install --no-install-recommends erlang=1:25.2.3+dfsg-1 -y -q )\n#   # # JAVA\n#   # # Broken\n#   # RUN debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections\n#   # RUN debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections\n#   # RUN apt-get install -y -q oracle-java7-installer\n#  # PYTHON\nRUN (apt-get update ;apt-get install --no-install-recommends python-software-properties -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends python -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends python-dev -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends python-distribute -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends python-pip -y -q )\nRUN pip install pip==23.1 --no-input --exists-action=w --upgrade\n#   LIBS\nRUN (apt-get update ;apt-get install --no-install-recommends libjpeg8-dev=8c-2ubuntu11 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends zlib1g-dev=1:1.2.13.dfsg-1ubuntu4 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends libfreetype6-dev=2.12.1+dfsg-4 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends liblcms1-dev -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends libwebp-dev=1.2.4-0.1build1 -y -q )\nRUN (apt-get update ;apt-get install --no-install-recommends libtiff-dev=4.5.0-4ubuntu1 -y -q )\nENV DEBIAN_FRONTEND=\"dialog\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  runnable base\nFROM boxcar/raring\n#  REPOS\nRUN apt-get update -y\nRUN apt-get install software-properties-common -y -q\nRUN add-apt-repository -y \"deb http://archive.ubuntu.com/ubuntu $( lsb_release -sc ;) universe\"\nRUN add-apt-repository -y ppa:gophers/go/ubuntu\nRUN add-apt-repository -y ppa:chris-lea/node.js\nRUN add-apt-repository -y ppa:webupd8team/java\nRUN add-apt-repository -y ppa:nginx/stable\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10\nRUN echo 'deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen' | sudo tee /etc/apt/sources.list.d/10gen.list\nRUN apt-get update -y\n# SHIMS\nRUN dpkg-divert --local --rename --add /sbin/initctl\nRUN ln -s /bin/true /sbin/initctl\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  EDITORS\nRUN apt-get install vim -y -q\nRUN apt-get install nano -y -q\n#  TOOLS\nRUN apt-get install curl -y -q\nRUN apt-get install git -y -q\nRUN apt-get install make -y -q\nRUN apt-get install wget -y -q\n#  RUN apt-get install -y -q supervisor\n#  BUILD\nRUN apt-get install build-essential -y -q\nRUN apt-get install g++ -y -q\n#  SERVICES\n# # MEMCACHED\nRUN apt-get install memcached -y -q\n# RUN pecl install -y memcache\n# # COUCHDB\nRUN apt-get install couchdb -y -q\n# # REDIS\nRUN apt-get install redis-server -y -q\n# # MONGO\nRUN apt-get install mongodb-10gen -y -q\n# # POSTGRES\nRUN echo \"#!/bin/sh\\nexit 101\" > /usr/sbin/policy-rc.d; chmod +x /usr/sbin/policy-rc.d\nRUN apt-get install postgresql-9.1 -y -q\nRUN apt-get install postgresql-contrib-9.1 -y -q\nRUN rm /usr/sbin/policy-rc.d\nRUN apt-get install pgadmin3 -y -q\n# # MAGICK\nRUN apt-get install imagemagick -y -q\nRUN apt-get install graphicsmagick -y -q\nRUN apt-get install graphicsmagick-libmagick-dev-compat -y -q\n#  #RUN pecl install -y imagick\n# # APACHE\nRUN apt-get install apache2 -y -q\nRUN apt-get install libapache2-mod-php5 -y -q\n# # MYSQL\nRUN apt-get install mysql-client -y -q\nRUN apt-get install mysql-server -y -q\n# # NGINX\nRUN apt-get install nginx -y -q\n#  LANGS\n# # GO\nRUN apt-get install golang -y -q\n# # RUBY\nRUN apt-get install ruby -y -q\n# # NODE\nRUN apt-get install nodejs -y -q\n# # PHP\nRUN apt-get install php5 -y -q\nRUN apt-get install php-pear -y -q\n# # ERLANG\nRUN apt-get install erlang -y -q\n#  # # JAVA\n#  # # Broken\n#  # RUN debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections\n#  # RUN debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections\n#  # RUN apt-get install -y -q oracle-java7-installer\n# # PYTHON\nRUN apt-get install python-software-properties -y -q\nRUN apt-get install python -y -q\nRUN apt-get install python-dev -y -q\nRUN apt-get install python-distribute -y -q\nRUN apt-get install python-pip -y -q\nRUN pip install pip --no-input --exists-action=w --upgrade\n#  LIBS\nRUN apt-get install libjpeg8-dev -y -q\nRUN apt-get install zlib1g-dev -y -q\nRUN apt-get install libfreetype6-dev -y -q\nRUN apt-get install liblcms1-dev -y -q\nRUN apt-get install libwebp-dev -y -q\nRUN apt-get install libtiff-dev -y -q\nENV DEBIAN_FRONTEND=\"dialog\"\n","injectedSmells":[],"originalDockerfileHash":"662e728c4341572c42b1a15ad499235f","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   runnable base\nFROM boxcar/raring\n#   REPOS\nRUN apt-get update -y\nRUN apt-get install software-properties-common -y -q\nRUN add-apt-repository -y \"deb http://archive.ubuntu.com/ubuntu $( lsb_release -sc ;) universe\"\nRUN add-apt-repository -y ppa:gophers/go/ubuntu\nRUN add-apt-repository -y ppa:chris-lea/node.js\nRUN add-apt-repository -y ppa:webupd8team/java\nRUN add-apt-repository -y ppa:nginx/stable\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10\nRUN echo 'deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen' | sudo tee /etc/apt/sources.list.d/10gen.list\nRUN apt-get update -y\n#  SHIMS\nRUN dpkg-divert --local --rename --add /sbin/initctl\nRUN ln -s /bin/true /sbin/initctl\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   EDITORS\nRUN apt-get install vim -y -q\nRUN apt-get install nano -y -q\n#   TOOLS\nRUN apt-get install curl -y -q\nRUN apt-get install git -y -q\nRUN apt-get install make -y -q\nRUN apt-get install wget -y -q\n#   RUN apt-get install -y -q supervisor\n#   BUILD\nRUN apt-get install build-essential -y -q\nRUN apt-get install g++ -y -q\n#   SERVICES\n#  # MEMCACHED\nRUN apt-get install memcached -y -q\n#  RUN pecl install -y memcache\n#  # COUCHDB\nRUN apt-get install couchdb -y -q\n#  # REDIS\nRUN apt-get install redis-server -y -q\n#  # MONGO\nRUN apt-get install mongodb-10gen -y -q\n#  # POSTGRES\nRUN echo \"#!/bin/sh\\nexit 101\" > /usr/sbin/policy-rc.d; chmod +x /usr/sbin/policy-rc.d\nRUN apt-get install postgresql-9.1 -y -q\nRUN apt-get install postgresql-contrib-9.1 -y -q\nRUN rm /usr/sbin/policy-rc.d\nRUN apt-get install pgadmin3 -y -q\n#  # MAGICK\nRUN apt-get install imagemagick -y -q\nRUN apt-get install graphicsmagick -y -q\nRUN apt-get install graphicsmagick-libmagick-dev-compat -y -q\n#   #RUN pecl install -y imagick\n#  # APACHE\nRUN apt-get install apache2 -y -q\nRUN apt-get install libapache2-mod-php5 -y -q\n#  # MYSQL\nRUN apt-get install mysql-client -y -q\nRUN apt-get install mysql-server -y -q\n#  # NGINX\nRUN apt-get install nginx -y -q\n#   LANGS\n#  # GO\nRUN apt-get install golang -y -q\n#  # RUBY\nRUN apt-get install ruby -y -q\n#  # NODE\nRUN apt-get install nodejs -y -q\n#  # PHP\nRUN apt-get install php5 -y -q\nRUN apt-get install php-pear -y -q\n#  # ERLANG\nRUN apt-get install erlang -y -q\n#   # # JAVA\n#   # # Broken\n#   # RUN debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections\n#   # RUN debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections\n#   # RUN apt-get install -y -q oracle-java7-installer\n#  # PYTHON\nRUN apt-get install python-software-properties -y -q\nRUN apt-get install python -y -q\nRUN apt-get install python-dev -y -q\nRUN apt-get install python-distribute -y -q\nRUN apt-get install python-pip -y -q\nRUN pip install pip --no-input --exists-action=w --upgrade\n#   LIBS\nRUN apt-get install libjpeg8-dev -y -q\nRUN apt-get install zlib1g-dev -y -q\nRUN apt-get install libfreetype6-dev -y -q\nRUN apt-get install liblcms1-dev -y -q\nRUN apt-get install libwebp-dev -y -q\nRUN apt-get install libtiff-dev -y -q\nENV DEBIAN_FRONTEND=\"dialog\"\n","originalDockerfileUglifiedHash":"46565df86aa9a8d8ec6ab2954febf83b","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/77e895e294cbe5c9de822f2ac8d1cf723f532ed7.dockerfile"}