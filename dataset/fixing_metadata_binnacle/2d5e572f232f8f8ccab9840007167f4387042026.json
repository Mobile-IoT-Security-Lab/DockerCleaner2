{"seed":494455551,"processedDockerfileHash":"e97a5d1693120918758efe4196d0b33d","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM jayyi/angelix:0.0\nMAINTAINER Jooyong Yi <jooyong.m.lee@gmail.com>\n#  #####################\n#   Dependencies\n#  #####################\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends git make wget unzip m4 gcc curl indent software-properties-common maven -y )\n#  # RUN apt-add-repository -y ppa:webupd8team/java && apt-get -y update\n#  # RUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections\n#  # RUN apt-get -y install oracle-java8-installer\n#  # RUN unset JAVA_TOOL_OPTIONS\n#  ################\n#   Install ocaml\n#  ################\nRUN wget https://raw.github.com/ocaml/opam/master/shell/opam_installer.sh -O - | sh -s /usr/local/bin\nRUN opam init -y --comp=3.12.1\nRUN eval `opam config env `\nRUN opam install -y ocamlfind\nWORKDIR /root/.opam/3.12.1/lib/ocaml\nRUN ln -s libcamlstr.a libstr.a\n#  ###################\n#   Install parallel\n#  ###################\nWORKDIR /\nRUN wget https://ftp.gnu.org/gnu/parallel/parallel-20161122.tar.bz2\nRUN bzip2 -dc parallel-20161122.tar.bz2 | tar xvf -\nWORKDIR /parallel-20161122\nRUN ./configure \\\n && make \\\n && make install\nRUN rm -f parallel-20161122.tar.bz2 \\\n && rm -rf parallel-20161122\n#  #####################\n#   Download\n#  #####################\nWORKDIR /\nRUN git clone https://github.com/jyi/ITSP.git\n#  #####################\n#   Environment\n#  #####################\nENV ITSP_DIR=\"/ITSP\"\nENV ITSP_EXP_DIR=\"/ITSP-experiments\"\nENV CIL=\"${ITSP_DIR}/genprog-source-v3.0/cil-1.3.7\"\nENV PATH=\"/root/.opam/3.12.1/bin:${PATH}:${CIL}/bin:${ITSP_DIR}/genprog-source-v3.0/src:${ITSP_DIR}/prophet-gpl/src:${ITSP_DIR}/prophet-gpl/tools\"\nENV SIMILARITY_JAR=\"${ITSP_DIR}/java-string-similarity/target/java-string-similarity-0.20-SNAPSHOT.jar\"\nENV PROPHET_FEATURE_PARA=\"${ITSP_DIR}/prophet-gpl/crawler/para-all.out\"\nENV PROPHET_TOOLS_DIR=\"${ITSP_DIR}/prophet-gpl/tools\"\nENV PS1=\"\\n\\w\\n\\W > \"\nENV PROMPT_COMMAND=\"\"\n#  #####################\n#   Install GenProg\n#  #####################\nWORKDIR ${ITSP_DIR}/genprog-source-v3.0\nRUN tar zxvf cil-1.3.7.tar.gz\nWORKDIR ${ITSP_DIR}/genprog-source-v3.0/cil-1.3.7\nRUN ./configure \\\n && make \\\n && make cillib\nWORKDIR ${ITSP_DIR}/genprog-source-v3.0/src\nRUN make\n#  ###################################\n#   Install java-string-similarity\n#  ###################################\nWORKDIR ${ITSP_DIR}/java-string-similarity\nRUN mvn package\n#  #####################\n#   Install Prophet\n#  #####################\nWORKDIR /\nRUN wget http://releases.llvm.org/3.6.1/clang+llvm-3.6.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz\nRUN tar xf clang+llvm-3.6.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz\nRUN rm -f clang+llvm-3.6.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz\nWORKDIR /clang+llvm-3.6.1-x86_64-linux-gnu\nRUN cp bin/* /usr/local/bin/\nRUN cp -r include/* /usr/local/include/\nRUN cp -r lib/* /usr/local/lib/\nWORKDIR ${ITSP_DIR}/prophet-gpl\nRUN (apt-get update ;apt-get install --no-install-recommends autotools-dev automake libtool zlib1g-dev -y )\nRUN apt-add-repository -y ppa:pmiller-opensource/ppa \\\n && :\nRUN (apt-get update ;apt-get install --no-install-recommends libexplain-dev -y )\nRUN aclocal \\\n && autoconf \\\n && autoreconf --install \\\n && automake\nRUN ./configure\nRUN make clean \\\n && make\n#  #####################\n#   Clean up\n#  #####################\nWORKDIR /\nRUN rm -rf clang+llvm-3.6.1-x86_64-linux-gnu\nRUN rm -rf parallel-20161122\nRUN rm -f parallel-20161122.tar.bz2\n#  #####################\n#   Experiment Setup\n#  #####################\nWORKDIR /\nRUN mkdir -p ${ITSP_EXP_DIR}\nRUN echo \"source /angelix/activate\" >> /root/.bashrc\nRUN echo \"source ${ITSP_DIR}/activate.sh\" >> /root/.bashrc\nRUN echo \"export JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\" >> /root/.bashrc\nWORKDIR ${ITSP_DIR}\nRUN cp -r ${ITSP_DIR}/dataset ${ITSP_EXP_DIR}/dataset-base\nRUN cp -r ${ITSP_DIR}/dataset ${ITSP_EXP_DIR}/dataset-inc-repair\nWORKDIR /\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM jayyi/angelix:0.0\nMAINTAINER Jooyong Yi <jooyong.m.lee@gmail.com>\n# #####################\n#  Dependencies\n# #####################\nRUN apt-get update -y\nRUN apt-get install git make wget unzip m4 gcc curl indent software-properties-common maven -y\n# # RUN apt-add-repository -y ppa:webupd8team/java && apt-get -y update\n# # RUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections\n# # RUN apt-get -y install oracle-java8-installer\n# # RUN unset JAVA_TOOL_OPTIONS\n# ################\n#  Install ocaml\n# ################\nRUN wget https://raw.github.com/ocaml/opam/master/shell/opam_installer.sh -O - | sh -s /usr/local/bin\nRUN opam init -y --comp=3.12.1\nRUN eval `opam config env `\nRUN opam install -y ocamlfind\nWORKDIR /root/.opam/3.12.1/lib/ocaml\nRUN ln -s libcamlstr.a libstr.a\n# ###################\n#  Install parallel\n# ###################\nWORKDIR /\nRUN wget https://ftp.gnu.org/gnu/parallel/parallel-20161122.tar.bz2\nRUN bzip2 -dc parallel-20161122.tar.bz2 | tar xvf -\nWORKDIR /parallel-20161122\nRUN ./configure \\\n && make \\\n && make install\nRUN rm -f parallel-20161122.tar.bz2 \\\n && rm -rf parallel-20161122\n# #####################\n#  Download\n# #####################\nWORKDIR /\nRUN git clone https://github.com/jyi/ITSP.git\n# #####################\n#  Environment\n# #####################\nENV ITSP_DIR=\"/ITSP\"\nENV ITSP_EXP_DIR=\"/ITSP-experiments\"\nENV CIL=\"${ITSP_DIR}/genprog-source-v3.0/cil-1.3.7\"\nENV PATH=\"/root/.opam/3.12.1/bin:${PATH}:${CIL}/bin:${ITSP_DIR}/genprog-source-v3.0/src:${ITSP_DIR}/prophet-gpl/src:${ITSP_DIR}/prophet-gpl/tools\"\nENV SIMILARITY_JAR=\"${ITSP_DIR}/java-string-similarity/target/java-string-similarity-0.20-SNAPSHOT.jar\"\nENV PROPHET_FEATURE_PARA=\"${ITSP_DIR}/prophet-gpl/crawler/para-all.out\"\nENV PROPHET_TOOLS_DIR=\"${ITSP_DIR}/prophet-gpl/tools\"\nENV PS1=\"\\n\\w\\n\\W > \"\nENV PROMPT_COMMAND=\"\"\n# #####################\n#  Install GenProg\n# #####################\nWORKDIR ${ITSP_DIR}/genprog-source-v3.0\nRUN tar zxvf cil-1.3.7.tar.gz\nWORKDIR ${ITSP_DIR}/genprog-source-v3.0/cil-1.3.7\nRUN ./configure \\\n && make \\\n && make cillib\nWORKDIR ${ITSP_DIR}/genprog-source-v3.0/src\nRUN make\n# ###################################\n#  Install java-string-similarity\n# ###################################\nWORKDIR ${ITSP_DIR}/java-string-similarity\nRUN mvn package\n# #####################\n#  Install Prophet\n# #####################\nWORKDIR /\nRUN wget http://releases.llvm.org/3.6.1/clang+llvm-3.6.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz\nRUN tar xf clang+llvm-3.6.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz\nRUN rm -f clang+llvm-3.6.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz\nWORKDIR /clang+llvm-3.6.1-x86_64-linux-gnu\nRUN cp bin/* /usr/local/bin/\nRUN cp -r include/* /usr/local/include/\nRUN cp -r lib/* /usr/local/lib/\nWORKDIR ${ITSP_DIR}/prophet-gpl\nRUN apt-get install autotools-dev automake libtool zlib1g-dev -y\nRUN apt-add-repository -y ppa:pmiller-opensource/ppa \\\n && apt-get update -y\nRUN apt-get install libexplain-dev -y\nRUN aclocal \\\n && autoconf \\\n && autoreconf --install \\\n && automake\nRUN ./configure\nRUN make clean \\\n && make\n# #####################\n#  Clean up\n# #####################\nWORKDIR /\nRUN rm -rf clang+llvm-3.6.1-x86_64-linux-gnu\nRUN rm -rf parallel-20161122\nRUN rm -f parallel-20161122.tar.bz2\n# #####################\n#  Experiment Setup\n# #####################\nWORKDIR /\nRUN mkdir -p ${ITSP_EXP_DIR}\nRUN echo \"source /angelix/activate\" >> /root/.bashrc\nRUN echo \"source ${ITSP_DIR}/activate.sh\" >> /root/.bashrc\nRUN echo \"export JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\" >> /root/.bashrc\nWORKDIR ${ITSP_DIR}\nRUN cp -r ${ITSP_DIR}/dataset ${ITSP_EXP_DIR}/dataset-base\nRUN cp -r ${ITSP_DIR}/dataset ${ITSP_EXP_DIR}/dataset-inc-repair\nWORKDIR /\n","injectedSmells":[],"originalDockerfileHash":"eeb8537679a9949b8bf539a21d78caff","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM jayyi/angelix:0.0\nMAINTAINER Jooyong Yi <jooyong.m.lee@gmail.com>\n#  #####################\n#   Dependencies\n#  #####################\nRUN apt-get update -y\nRUN apt-get install git make wget unzip m4 gcc curl indent software-properties-common maven -y\n#  # RUN apt-add-repository -y ppa:webupd8team/java && apt-get -y update\n#  # RUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections\n#  # RUN apt-get -y install oracle-java8-installer\n#  # RUN unset JAVA_TOOL_OPTIONS\n#  ################\n#   Install ocaml\n#  ################\nRUN wget https://raw.github.com/ocaml/opam/master/shell/opam_installer.sh -O - | sh -s /usr/local/bin\nRUN opam init -y --comp=3.12.1\nRUN eval `opam config env `\nRUN opam install -y ocamlfind\nWORKDIR /root/.opam/3.12.1/lib/ocaml\nRUN ln -s libcamlstr.a libstr.a\n#  ###################\n#   Install parallel\n#  ###################\nWORKDIR /\nRUN wget https://ftp.gnu.org/gnu/parallel/parallel-20161122.tar.bz2\nRUN bzip2 -dc parallel-20161122.tar.bz2 | tar xvf -\nWORKDIR /parallel-20161122\nRUN ./configure \\\n && make \\\n && make install\nRUN rm -f parallel-20161122.tar.bz2 \\\n && rm -rf parallel-20161122\n#  #####################\n#   Download\n#  #####################\nWORKDIR /\nRUN git clone https://github.com/jyi/ITSP.git\n#  #####################\n#   Environment\n#  #####################\nENV ITSP_DIR=\"/ITSP\"\nENV ITSP_EXP_DIR=\"/ITSP-experiments\"\nENV CIL=\"${ITSP_DIR}/genprog-source-v3.0/cil-1.3.7\"\nENV PATH=\"/root/.opam/3.12.1/bin:${PATH}:${CIL}/bin:${ITSP_DIR}/genprog-source-v3.0/src:${ITSP_DIR}/prophet-gpl/src:${ITSP_DIR}/prophet-gpl/tools\"\nENV SIMILARITY_JAR=\"${ITSP_DIR}/java-string-similarity/target/java-string-similarity-0.20-SNAPSHOT.jar\"\nENV PROPHET_FEATURE_PARA=\"${ITSP_DIR}/prophet-gpl/crawler/para-all.out\"\nENV PROPHET_TOOLS_DIR=\"${ITSP_DIR}/prophet-gpl/tools\"\nENV PS1=\"\\n\\w\\n\\W > \"\nENV PROMPT_COMMAND=\"\"\n#  #####################\n#   Install GenProg\n#  #####################\nWORKDIR ${ITSP_DIR}/genprog-source-v3.0\nRUN tar zxvf cil-1.3.7.tar.gz\nWORKDIR ${ITSP_DIR}/genprog-source-v3.0/cil-1.3.7\nRUN ./configure \\\n && make \\\n && make cillib\nWORKDIR ${ITSP_DIR}/genprog-source-v3.0/src\nRUN make\n#  ###################################\n#   Install java-string-similarity\n#  ###################################\nWORKDIR ${ITSP_DIR}/java-string-similarity\nRUN mvn package\n#  #####################\n#   Install Prophet\n#  #####################\nWORKDIR /\nRUN wget http://releases.llvm.org/3.6.1/clang+llvm-3.6.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz\nRUN tar xf clang+llvm-3.6.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz\nRUN rm -f clang+llvm-3.6.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz\nWORKDIR /clang+llvm-3.6.1-x86_64-linux-gnu\nRUN cp bin/* /usr/local/bin/\nRUN cp -r include/* /usr/local/include/\nRUN cp -r lib/* /usr/local/lib/\nWORKDIR ${ITSP_DIR}/prophet-gpl\nRUN apt-get install autotools-dev automake libtool zlib1g-dev -y\nRUN apt-add-repository -y ppa:pmiller-opensource/ppa \\\n && apt-get update -y\nRUN apt-get install libexplain-dev -y\nRUN aclocal \\\n && autoconf \\\n && autoreconf --install \\\n && automake\nRUN ./configure\nRUN make clean \\\n && make\n#  #####################\n#   Clean up\n#  #####################\nWORKDIR /\nRUN rm -rf clang+llvm-3.6.1-x86_64-linux-gnu\nRUN rm -rf parallel-20161122\nRUN rm -f parallel-20161122.tar.bz2\n#  #####################\n#   Experiment Setup\n#  #####################\nWORKDIR /\nRUN mkdir -p ${ITSP_EXP_DIR}\nRUN echo \"source /angelix/activate\" >> /root/.bashrc\nRUN echo \"source ${ITSP_DIR}/activate.sh\" >> /root/.bashrc\nRUN echo \"export JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\" >> /root/.bashrc\nWORKDIR ${ITSP_DIR}\nRUN cp -r ${ITSP_DIR}/dataset ${ITSP_EXP_DIR}/dataset-base\nRUN cp -r ${ITSP_DIR}/dataset ${ITSP_EXP_DIR}/dataset-inc-repair\nWORKDIR /\n","originalDockerfileUglifiedHash":"52ed864acbbb29fc8629f89cc2c0eec6","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/2d5e572f232f8f8ccab9840007167f4387042026.dockerfile"}