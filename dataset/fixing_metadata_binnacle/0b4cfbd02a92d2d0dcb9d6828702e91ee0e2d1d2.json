{"seed":2554430836,"processedDockerfileHash":"96c1b3b38c7196b788db6fe8d0d33437","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck"],"processedDockerfile":"#   Project: gmacario/easy-jenkins\n#\n#   Extend the standard Jenkins LTS Docker image with:\n#   - Jenkins workflow plugins\n#   - Docker\n#\n#   Based on https://github.com/camiloribeiro/cdeasy\nFROM jenkins/jenkins\n#   FROM jenkins/jenkins:lts\n#   FROM jenkins/jenkins-experimental:latest-jdk10-incrementals\nUSER root\nRUN apt-get update -qq \\\n && apt-cache search groovy \\\n && apt-get install --no-install-recommends apt-transport-https=2.6.0 ca-certificates=20230311 curl=7.88.1-7ubuntu1 wget=1.21.3-1ubuntu1 lxc=1:5.0.1-0ubuntu6 iptables=1.8.7-1ubuntu7 dos2unix=7.4.3-1 groovy=2.4.21-7 -qqy\n#   Install gosu\nRUN curl -o /usr/local/bin/gosu -fsSL \"https://github.com/tianon/gosu/releases/download/1.7/gosu-$( dpkg --print-architecture ;)\" \\\n && chmod +x /usr/local/bin/gosu\n#   Install Docker\nRUN wget -qO- https://get.docker.com/ | sh\nRUN usermod -aG docker jenkins\n#   Add user \"jenkins\" to group \"docker\" of the Docker host\n#   (on boot2docker, group \"docker\" has gid=100)\nRUN usermod -aG 100 jenkins\n#   Install docker-compose\nRUN curl -o /usr/local/bin/docker-compose -fsSL \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$( uname -s ;)-$( uname -m ;)\" \\\n && chmod +x /usr/local/bin/docker-compose\n#   Workaround to prevent install-plugins.sh to fail\nRUN mkdir -p /usr/share/jenkins/ref/plugins/tmp\nENV JENKINS_UC_EXPERIMENTAL=\"https://updates.jenkins.io/experimental\"\n#   Install additional Jenkins plugins\nRUN install-plugins.sh ansicolor ant antisamy-markup-formatter blueocean blueocean-pipeline-editor build-timeout command-launcher configuration-as-code configuration-as-code-support delivery-pipeline-plugin docker-build-publish docker-custom-build-environment docker-plugin email-ext ez-templates git git-client github-branch-source github-oauth github-organization-folder github-pullrequest gradle greenballs groovy htmlpublisher jenkins-multijob-plugin job-dsl jobConfigHistory join kubernetes kubernetes-cli ldap mailer mapdb-api matrix-auth matrix-project mercurial mock-slave pam-auth pipeline-github-lib publish-over-ssh resource-disposer run-condition sectioned-view ssh-slaves subversion timestamper translation view-job-filters windows-slaves workflow-aggregator workflow-job workflow-support ws-cleanup\n#      \"workflow-support:incrementals;org.jenkins-ci.plugins.workflow;2.19-rc295.e017dc58c0a3\" \\\nCOPY seed.groovy /usr/share/jenkins/ref/init.groovy.d/seed.groovy\nRUN touch /var/run/docker.sock\nUSER jenkins\n#   EOF\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Project: gmacario/easy-jenkins\n#\n#  Extend the standard Jenkins LTS Docker image with:\n#  - Jenkins workflow plugins\n#  - Docker\n#\n#  Based on https://github.com/camiloribeiro/cdeasy\nFROM jenkins/jenkins\n#  FROM jenkins/jenkins:lts\n#  FROM jenkins/jenkins-experimental:latest-jdk10-incrementals\nUSER root\nRUN apt-get update -qq \\\n && apt-cache search groovy \\\n && apt-get install apt-transport-https ca-certificates curl wget lxc iptables dos2unix groovy -qqy\n#  Install gosu\nRUN curl -o /usr/local/bin/gosu -fsSL \"https://github.com/tianon/gosu/releases/download/1.7/gosu-$( dpkg --print-architecture ;)\" \\\n && chmod +x /usr/local/bin/gosu\n#  Install Docker\nRUN wget -qO- https://get.docker.com/ | sh\nRUN usermod -aG docker jenkins\n#  Add user \"jenkins\" to group \"docker\" of the Docker host\n#  (on boot2docker, group \"docker\" has gid=100)\nRUN usermod -aG 100 jenkins\n#  Install docker-compose\nRUN curl -o /usr/local/bin/docker-compose -fsSL \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$( uname -s ;)-$( uname -m ;)\" \\\n && chmod +x /usr/local/bin/docker-compose\n#  Workaround to prevent install-plugins.sh to fail\nRUN mkdir -p /usr/share/jenkins/ref/plugins/tmp\nENV JENKINS_UC_EXPERIMENTAL=\"https://updates.jenkins.io/experimental\"\n#  Install additional Jenkins plugins\nRUN install-plugins.sh ansicolor ant antisamy-markup-formatter blueocean blueocean-pipeline-editor build-timeout command-launcher configuration-as-code configuration-as-code-support delivery-pipeline-plugin docker-build-publish docker-custom-build-environment docker-plugin email-ext ez-templates git git-client github-branch-source github-oauth github-organization-folder github-pullrequest gradle greenballs groovy htmlpublisher jenkins-multijob-plugin job-dsl jobConfigHistory join kubernetes kubernetes-cli ldap mailer mapdb-api matrix-auth matrix-project mercurial mock-slave pam-auth pipeline-github-lib publish-over-ssh resource-disposer run-condition sectioned-view ssh-slaves subversion timestamper translation view-job-filters windows-slaves workflow-aggregator workflow-job workflow-support ws-cleanup\n#     \"workflow-support:incrementals;org.jenkins-ci.plugins.workflow;2.19-rc295.e017dc58c0a3\" \\\nCOPY seed.groovy /usr/share/jenkins/ref/init.groovy.d/seed.groovy\nRUN touch /var/run/docker.sock\nUSER jenkins\n#  EOF\n","injectedSmells":[],"originalDockerfileHash":"93ebeb63327fc3e53fc2547c98418574","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Project: gmacario/easy-jenkins\n#\n#   Extend the standard Jenkins LTS Docker image with:\n#   - Jenkins workflow plugins\n#   - Docker\n#\n#   Based on https://github.com/camiloribeiro/cdeasy\nFROM jenkins/jenkins\n#   FROM jenkins/jenkins:lts\n#   FROM jenkins/jenkins-experimental:latest-jdk10-incrementals\nUSER root\nRUN apt-get update -qq \\\n && apt-cache search groovy \\\n && apt-get install apt-transport-https ca-certificates curl wget lxc iptables dos2unix groovy -qqy\n#   Install gosu\nRUN curl -o /usr/local/bin/gosu -fsSL \"https://github.com/tianon/gosu/releases/download/1.7/gosu-$( dpkg --print-architecture ;)\" \\\n && chmod +x /usr/local/bin/gosu\n#   Install Docker\nRUN wget -qO- https://get.docker.com/ | sh\nRUN usermod -aG docker jenkins\n#   Add user \"jenkins\" to group \"docker\" of the Docker host\n#   (on boot2docker, group \"docker\" has gid=100)\nRUN usermod -aG 100 jenkins\n#   Install docker-compose\nRUN curl -o /usr/local/bin/docker-compose -fsSL \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$( uname -s ;)-$( uname -m ;)\" \\\n && chmod +x /usr/local/bin/docker-compose\n#   Workaround to prevent install-plugins.sh to fail\nRUN mkdir -p /usr/share/jenkins/ref/plugins/tmp\nENV JENKINS_UC_EXPERIMENTAL=\"https://updates.jenkins.io/experimental\"\n#   Install additional Jenkins plugins\nRUN install-plugins.sh ansicolor ant antisamy-markup-formatter blueocean blueocean-pipeline-editor build-timeout command-launcher configuration-as-code configuration-as-code-support delivery-pipeline-plugin docker-build-publish docker-custom-build-environment docker-plugin email-ext ez-templates git git-client github-branch-source github-oauth github-organization-folder github-pullrequest gradle greenballs groovy htmlpublisher jenkins-multijob-plugin job-dsl jobConfigHistory join kubernetes kubernetes-cli ldap mailer mapdb-api matrix-auth matrix-project mercurial mock-slave pam-auth pipeline-github-lib publish-over-ssh resource-disposer run-condition sectioned-view ssh-slaves subversion timestamper translation view-job-filters windows-slaves workflow-aggregator workflow-job workflow-support ws-cleanup\n#      \"workflow-support:incrementals;org.jenkins-ci.plugins.workflow;2.19-rc295.e017dc58c0a3\" \\\nCOPY seed.groovy /usr/share/jenkins/ref/init.groovy.d/seed.groovy\nRUN touch /var/run/docker.sock\nUSER jenkins\n#   EOF\n","originalDockerfileUglifiedHash":"af941c0d28f4687001ec687484d26796","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/0b4cfbd02a92d2d0dcb9d6828702e91ee0e2d1d2.dockerfile"}