{"seed":3109538259,"processedDockerfileHash":"e40a0c8a554d0ca8218af545f10d4bb1","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM continuumio/anaconda3:5.2.0\n#   kaggle\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential unzip -y \\\n && conda update -y conda \\\n && conda update -y python \\\n && pip install pip==23.1 --upgrade \\\n && apt-get install --no-install-recommends cmake -y\n#  mlcopurse.ai\nRUN apt-get install --no-install-recommends apt-utils curl nano -y\n#  RUN apt-get install -y python3 python3-dev python-distribute python3-pip git\n#  Kaggle\n#   Tensorflow doesn't support python 3.7 yet. See https://github.com/tensorflow/tensorflow/issues/20517\n#   Fix to install tf 1.10:: Downgrade python 3.7->3.6.6 and downgrade Pandas 0.23.3->0.23.2\nRUN conda install -y python=3.6.6\nRUN conda upgrade -y notebook\n#  Kaggle\n#   The anaconda base image includes outdated versions of these packages. Update them to include the latest version.\nRUN pip install seaborn==0.12.2 python-dateutil==2.8.2 dask==2023.4.0 --upgrade \\\n && pip install pyyaml==6.0 joblib==1.2.0 pytagcloud==0.3.5 husl==4.0.3 geopy==2.3.0 ml_metrics==0.1.4 mne==1.3.1 pyshp==2.3.1\n#   && \\\n#      conda install -y -c conda-forge spacy && python -m spacy download en && \\\n#      python -m spacy download en_core_web_lg\n#  More upgrades to bring in sync with Kaggle\nRUN pip install matplotlib==2.2.3 pandas==0.23.4 scikit-learn==0.20.2 numpy==1.16.0\n#   main python packages\n#  RUN pip3 install --upgrade pip\n#  RUN pip3 install --upgrade numpy scipy matplotlib scikit-learn pandas seaborn plotly jupyter statsmodels\n#   bug with 5.7.0 jupyter/docker-stacks#721\n#  RUN pip3 install notebook==5.6.0\nRUN pip install tqdm==4.65.0 pydot==1.4.2 pydotplus==2.0.2 watermark==2.3.1 pillow==9.5.0 mlxtend==0.22.0 ua-parser==0.16.1 user-agents==2.2.0 plotly==5.14.1 --upgrade\n#   Graphviz, visualizing trees\nRUN apt-get install --no-install-recommends graphviz -y\n#  KAggle\n#   Make sure the dynamic linker finds the right libstdc++\nENV LD_LIBRARY_PATH=\"/opt/conda/lib\"\n#   boost ?\n#  RUN apt-get -y install libboost-program-options-dev zlib1g-dev libboost-python-dev\n#   JDK ? - this was for h2o\n#  RUN apt-get -y install openjdk-8-jdk\n#  ENV CPLUS_INCLUDE_PATH=/usr/lib/jvm/java-8-openjdk-amd64/include/linux:/usr/lib/jvm/java-1.8.0-openjdk-amd64/include\n#   Vowpal Wabbit\n#  RUN git clone -b 8.6.0 https://github.com/VowpalWabbit/vowpal_wabbit.git\n#  RUN cd vowpal_wabbit && make && make install\n#   python wrapper\n#  RUN cd vowpal_wabbit/python && python3 setup.py install\n#  RUN pip3 install --upgrade vowpalwabbit\n#  kaggle\n#  beware that vw -V says 8.5.0 - @datamove\nRUN cd /usr/local/src \\\n && git clone -b 8.6.0 https://github.com/JohnLangford/vowpal_wabbit.git \\\n && ./vowpal_wabbit/python/conda_install.sh \\\n && pip install vowpal_wabbit/python \\\n && ln -s /usr/local/src/vowpal_wabbit/python/src/vowpalwabbit/vw /opt/conda/bin/vw\n#   XGBoost\n#  RUN git clone --recursive https://github.com/dmlc/xgboost && \\\n#      cd xgboost && \\\n#      make -j4 \n#   xgboost python wrapper\n#  RUN cd xgboost/python-package; python3 setup.py install && cd ../..\n#  RUN apt-get -y install cmake \n#   LightGBM\n#  RUN cd /usr/local/src && git clone --recursive --depth 1 https://github.com/Microsoft/LightGBM && \\\n#      cd LightGBM && mkdir build && cd build && cmake .. && make -j $(nproc) \n#   LightGBM python wrapper\n#  RUN cd /usr/local/src/LightGBM/python-package && python3 setup.py install \n#   CatBoost\n#  RUN pip3 install --upgrade catboost\n#  Kaggle installs with pip\nRUN pip install xgboost==1.7.5 \\\n && pip install lightgbm==3.3.5 \\\n && pip install catboost==1.1.1 --upgrade\n#   PyTorch\n#  RUN pip3 install http://download.pytorch.org/whl/cpu/torch-0.4.0-cp35-cp35m-linux_x86_64.whl \n#  RUN pip3 install --upgrade torchvision\n#   TensorFlow \n#  RUN pip3 install --upgrade tensorflow  \n#   Keras with TensorFlow backend\n#  RUN pip3 install --upgrade keras\n#   Facebook Prophet\nRUN pip3 install --upgrade pystan cython\n#  Kaggle\n#   Latest version of fbprophet fails with incompatibility with PyStan. From the logs:\n#   pystan:Something went wrong while unpickling the StanModel. Consider recompiling \n#   See: https://github.com/facebook/prophet/issues/775\nRUN pip install fbprophet==0.3.post2\nEXPOSE 8888/tcp\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM continuumio/anaconda3:5.2.0\n#  kaggle\nRUN apt-get update \\\n && apt-get install build-essential unzip -y \\\n && conda update -y conda \\\n && conda update -y python \\\n && pip install pip --upgrade \\\n && apt-get install cmake -y\n# mlcopurse.ai\nRUN apt-get install --no-install-recommends apt-utils curl nano -y\n# RUN apt-get install -y python3 python3-dev python-distribute python3-pip git\n# Kaggle\n#  Tensorflow doesn't support python 3.7 yet. See https://github.com/tensorflow/tensorflow/issues/20517\n#  Fix to install tf 1.10:: Downgrade python 3.7->3.6.6 and downgrade Pandas 0.23.3->0.23.2\nRUN conda install -y python=3.6.6\nRUN conda upgrade -y notebook\n# Kaggle\n#  The anaconda base image includes outdated versions of these packages. Update them to include the latest version.\nRUN pip install seaborn python-dateutil dask --upgrade \\\n && pip install pyyaml joblib pytagcloud husl geopy ml_metrics mne pyshp\n#  && \\\n#     conda install -y -c conda-forge spacy && python -m spacy download en && \\\n#     python -m spacy download en_core_web_lg\n# More upgrades to bring in sync with Kaggle\nRUN pip install matplotlib==2.2.3 pandas==0.23.4 scikit-learn==0.20.2 numpy==1.16.0\n#  main python packages\n# RUN pip3 install --upgrade pip\n# RUN pip3 install --upgrade numpy scipy matplotlib scikit-learn pandas seaborn plotly jupyter statsmodels\n#  bug with 5.7.0 jupyter/docker-stacks#721\n# RUN pip3 install notebook==5.6.0\nRUN pip install tqdm pydot pydotplus watermark pillow mlxtend ua-parser user-agents plotly --upgrade\n#  Graphviz, visualizing trees\nRUN apt-get install graphviz -y\n# KAggle\n#  Make sure the dynamic linker finds the right libstdc++\nENV LD_LIBRARY_PATH=\"/opt/conda/lib\"\n#  boost ?\n# RUN apt-get -y install libboost-program-options-dev zlib1g-dev libboost-python-dev\n#  JDK ? - this was for h2o\n# RUN apt-get -y install openjdk-8-jdk\n# ENV CPLUS_INCLUDE_PATH=/usr/lib/jvm/java-8-openjdk-amd64/include/linux:/usr/lib/jvm/java-1.8.0-openjdk-amd64/include\n#  Vowpal Wabbit\n# RUN git clone -b 8.6.0 https://github.com/VowpalWabbit/vowpal_wabbit.git\n# RUN cd vowpal_wabbit && make && make install\n#  python wrapper\n# RUN cd vowpal_wabbit/python && python3 setup.py install\n# RUN pip3 install --upgrade vowpalwabbit\n# kaggle\n# beware that vw -V says 8.5.0 - @datamove\nRUN cd /usr/local/src \\\n && git clone -b 8.6.0 https://github.com/JohnLangford/vowpal_wabbit.git \\\n && ./vowpal_wabbit/python/conda_install.sh \\\n && pip install vowpal_wabbit/python \\\n && ln -s /usr/local/src/vowpal_wabbit/python/src/vowpalwabbit/vw /opt/conda/bin/vw\n#  XGBoost\n# RUN git clone --recursive https://github.com/dmlc/xgboost && \\\n#     cd xgboost && \\\n#     make -j4 \n#  xgboost python wrapper\n# RUN cd xgboost/python-package; python3 setup.py install && cd ../..\n# RUN apt-get -y install cmake \n#  LightGBM\n# RUN cd /usr/local/src && git clone --recursive --depth 1 https://github.com/Microsoft/LightGBM && \\\n#     cd LightGBM && mkdir build && cd build && cmake .. && make -j $(nproc) \n#  LightGBM python wrapper\n# RUN cd /usr/local/src/LightGBM/python-package && python3 setup.py install \n#  CatBoost\n# RUN pip3 install --upgrade catboost\n# Kaggle installs with pip\nRUN pip install xgboost \\\n && pip install lightgbm \\\n && pip install catboost --upgrade\n#  PyTorch\n# RUN pip3 install http://download.pytorch.org/whl/cpu/torch-0.4.0-cp35-cp35m-linux_x86_64.whl \n# RUN pip3 install --upgrade torchvision\n#  TensorFlow \n# RUN pip3 install --upgrade tensorflow  \n#  Keras with TensorFlow backend\n# RUN pip3 install --upgrade keras\n#  Facebook Prophet\nRUN pip3 install --upgrade pystan cython\n# Kaggle\n#  Latest version of fbprophet fails with incompatibility with PyStan. From the logs:\n#  pystan:Something went wrong while unpickling the StanModel. Consider recompiling \n#  See: https://github.com/facebook/prophet/issues/775\nRUN pip install fbprophet==0.3.post2\nEXPOSE 8888/tcp\n","injectedSmells":[],"originalDockerfileHash":"f39750df2de4bce03247ef72b957c9d3","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM continuumio/anaconda3:5.2.0\n#   kaggle\nRUN apt-get update \\\n && apt-get install build-essential unzip -y \\\n && conda update -y conda \\\n && conda update -y python \\\n && pip install pip --upgrade \\\n && apt-get install cmake -y\n#  mlcopurse.ai\nRUN apt-get install --no-install-recommends apt-utils curl nano -y\n#  RUN apt-get install -y python3 python3-dev python-distribute python3-pip git\n#  Kaggle\n#   Tensorflow doesn't support python 3.7 yet. See https://github.com/tensorflow/tensorflow/issues/20517\n#   Fix to install tf 1.10:: Downgrade python 3.7->3.6.6 and downgrade Pandas 0.23.3->0.23.2\nRUN conda install -y python=3.6.6\nRUN conda upgrade -y notebook\n#  Kaggle\n#   The anaconda base image includes outdated versions of these packages. Update them to include the latest version.\nRUN pip install seaborn python-dateutil dask --upgrade \\\n && pip install pyyaml joblib pytagcloud husl geopy ml_metrics mne pyshp\n#   && \\\n#      conda install -y -c conda-forge spacy && python -m spacy download en && \\\n#      python -m spacy download en_core_web_lg\n#  More upgrades to bring in sync with Kaggle\nRUN pip install matplotlib==2.2.3 pandas==0.23.4 scikit-learn==0.20.2 numpy==1.16.0\n#   main python packages\n#  RUN pip3 install --upgrade pip\n#  RUN pip3 install --upgrade numpy scipy matplotlib scikit-learn pandas seaborn plotly jupyter statsmodels\n#   bug with 5.7.0 jupyter/docker-stacks#721\n#  RUN pip3 install notebook==5.6.0\nRUN pip install tqdm pydot pydotplus watermark pillow mlxtend ua-parser user-agents plotly --upgrade\n#   Graphviz, visualizing trees\nRUN apt-get install graphviz -y\n#  KAggle\n#   Make sure the dynamic linker finds the right libstdc++\nENV LD_LIBRARY_PATH=\"/opt/conda/lib\"\n#   boost ?\n#  RUN apt-get -y install libboost-program-options-dev zlib1g-dev libboost-python-dev\n#   JDK ? - this was for h2o\n#  RUN apt-get -y install openjdk-8-jdk\n#  ENV CPLUS_INCLUDE_PATH=/usr/lib/jvm/java-8-openjdk-amd64/include/linux:/usr/lib/jvm/java-1.8.0-openjdk-amd64/include\n#   Vowpal Wabbit\n#  RUN git clone -b 8.6.0 https://github.com/VowpalWabbit/vowpal_wabbit.git\n#  RUN cd vowpal_wabbit && make && make install\n#   python wrapper\n#  RUN cd vowpal_wabbit/python && python3 setup.py install\n#  RUN pip3 install --upgrade vowpalwabbit\n#  kaggle\n#  beware that vw -V says 8.5.0 - @datamove\nRUN cd /usr/local/src \\\n && git clone -b 8.6.0 https://github.com/JohnLangford/vowpal_wabbit.git \\\n && ./vowpal_wabbit/python/conda_install.sh \\\n && pip install vowpal_wabbit/python \\\n && ln -s /usr/local/src/vowpal_wabbit/python/src/vowpalwabbit/vw /opt/conda/bin/vw\n#   XGBoost\n#  RUN git clone --recursive https://github.com/dmlc/xgboost && \\\n#      cd xgboost && \\\n#      make -j4 \n#   xgboost python wrapper\n#  RUN cd xgboost/python-package; python3 setup.py install && cd ../..\n#  RUN apt-get -y install cmake \n#   LightGBM\n#  RUN cd /usr/local/src && git clone --recursive --depth 1 https://github.com/Microsoft/LightGBM && \\\n#      cd LightGBM && mkdir build && cd build && cmake .. && make -j $(nproc) \n#   LightGBM python wrapper\n#  RUN cd /usr/local/src/LightGBM/python-package && python3 setup.py install \n#   CatBoost\n#  RUN pip3 install --upgrade catboost\n#  Kaggle installs with pip\nRUN pip install xgboost \\\n && pip install lightgbm \\\n && pip install catboost --upgrade\n#   PyTorch\n#  RUN pip3 install http://download.pytorch.org/whl/cpu/torch-0.4.0-cp35-cp35m-linux_x86_64.whl \n#  RUN pip3 install --upgrade torchvision\n#   TensorFlow \n#  RUN pip3 install --upgrade tensorflow  \n#   Keras with TensorFlow backend\n#  RUN pip3 install --upgrade keras\n#   Facebook Prophet\nRUN pip3 install --upgrade pystan cython\n#  Kaggle\n#   Latest version of fbprophet fails with incompatibility with PyStan. From the logs:\n#   pystan:Something went wrong while unpickling the StanModel. Consider recompiling \n#   See: https://github.com/facebook/prophet/issues/775\nRUN pip install fbprophet==0.3.post2\nEXPOSE 8888/tcp\n","originalDockerfileUglifiedHash":"b7a55a4e8af098f969a8fb9945483a90","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/a695d735965a2d7d9dd9f0cac6a523846a3ce229.dockerfile"}