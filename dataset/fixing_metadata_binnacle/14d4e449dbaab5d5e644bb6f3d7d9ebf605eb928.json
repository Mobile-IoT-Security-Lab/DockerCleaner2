{"seed":327337901,"processedDockerfileHash":"a7dc8240d5e4ac2ca6302fc9854af883","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Licensed to the Apache Software Foundation (ASF) under one\n#   or more contributor license agreements.  See the NOTICE file\n#   distributed with this work for additional information\n#   regarding copyright ownership.  The ASF licenses this file\n#   to you under the Apache License, Version 2.0 (the\n#   \"License\"); you may not use this file except in compliance\n#   with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing,\n#   software distributed under the License is distributed on an\n#   \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n#   KIND, either express or implied.  See the License for the\n#   specific language governing permissions and limitations\n#   under the License.\nFROM quay.io/pypa/manylinux1_x86_64:latest\n#   Install dependencies\nRUN yum install -y xz ccache flex wget \\\n && yum clean all\nCOPY scripts/build_zlib.sh /\nRUN /build_zlib.sh\nCOPY scripts/build_openssl.sh /\nRUN /build_openssl.sh\n#   Install cmake manylinux1 package\nCOPY scripts/install_cmake.sh /\nRUN /install_cmake.sh\nCOPY scripts/build_gflags.sh /\nRUN /build_gflags.sh\nCOPY scripts/build_protobuf.sh /\nRUN /build_protobuf.sh\nENV PROTOBUF_HOME=\"/usr\"\nCOPY scripts/build_cares.sh /\nRUN /build_cares.sh\nCOPY scripts/build_grpc.sh /\nRUN /build_grpc.sh\nCOPY scripts/build_boost.sh /\nRUN /build_boost.sh\nCOPY scripts/build_gtest.sh /\nRUN /build_gtest.sh\nENV GTEST_HOME=\"/usr\"\nCOPY scripts/build_flatbuffers.sh /\nRUN /build_flatbuffers.sh\nENV FLATBUFFERS_HOME=\"/usr\"\nCOPY scripts/build_bison.sh /\nRUN /build_bison.sh\nCOPY scripts/build_thrift.sh /\nRUN /build_thrift.sh\nENV THRIFT_HOME=\"/usr\"\nCOPY scripts/build_brotli.sh /\nRUN /build_brotli.sh\nENV BROTLI_HOME=\"/usr\"\nCOPY scripts/build_snappy.sh /\nRUN /build_snappy.sh\nENV SNAPPY_HOME=\"/usr\"\nCOPY scripts/build_lz4.sh /\nRUN /build_lz4.sh\nENV LZ4_HOME=\"/usr\"\nCOPY scripts/build_zstd.sh /\nRUN /build_zstd.sh\nENV ZSTD_HOME=\"/usr\"\nCOPY scripts/build_ccache.sh /\nRUN /build_ccache.sh\nCOPY scripts/build_glog.sh /\nRUN /build_glog.sh\nENV GLOG_HOME=\"/usr\"\nWORKDIR /\nRUN git clone https://github.com/matthew-brett/multibuild.git \\\n && cd multibuild \\\n && git checkout ffe59955ad8690c2f8bb74766cb7e9b0d0ee3963\nCOPY scripts/build_virtualenvs.sh /\nRUN /build_virtualenvs.sh\nCOPY scripts/build_llvm.sh /\nRUN /build_llvm.sh\nCOPY scripts/build_clang.sh /\nRUN /build_clang.sh\nCOPY scripts/build_double_conversion.sh /\nRUN /build_double_conversion.sh\nCOPY scripts/build_rapidjson.sh /\nRUN /build_rapidjson.sh\nCOPY scripts/build_re2.sh /\nRUN /build_re2.sh\nCOPY scripts/build_uriparser.sh /\nRUN /build_uriparser.sh\nCOPY scripts/build_bz2.sh /\nRUN /build_bz2.sh\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Licensed to the Apache Software Foundation (ASF) under one\n#  or more contributor license agreements.  See the NOTICE file\n#  distributed with this work for additional information\n#  regarding copyright ownership.  The ASF licenses this file\n#  to you under the Apache License, Version 2.0 (the\n#  \"License\"); you may not use this file except in compliance\n#  with the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n#  Unless required by applicable law or agreed to in writing,\n#  software distributed under the License is distributed on an\n#  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n#  KIND, either express or implied.  See the License for the\n#  specific language governing permissions and limitations\n#  under the License.\nFROM quay.io/pypa/manylinux1_x86_64:latest\n#  Install dependencies\nRUN yum install -y xz ccache flex wget \\\n && yum clean all\nADD scripts/build_zlib.sh /\nRUN /build_zlib.sh\nADD scripts/build_openssl.sh /\nRUN /build_openssl.sh\n#  Install cmake manylinux1 package\nADD scripts/install_cmake.sh /\nRUN /install_cmake.sh\nADD scripts/build_gflags.sh /\nRUN /build_gflags.sh\nADD scripts/build_protobuf.sh /\nRUN /build_protobuf.sh\nENV PROTOBUF_HOME=\"/usr\"\nADD scripts/build_cares.sh /\nRUN /build_cares.sh\nADD scripts/build_grpc.sh /\nRUN /build_grpc.sh\nADD scripts/build_boost.sh /\nRUN /build_boost.sh\nADD scripts/build_gtest.sh /\nRUN /build_gtest.sh\nENV GTEST_HOME=\"/usr\"\nADD scripts/build_flatbuffers.sh /\nRUN /build_flatbuffers.sh\nENV FLATBUFFERS_HOME=\"/usr\"\nADD scripts/build_bison.sh /\nRUN /build_bison.sh\nADD scripts/build_thrift.sh /\nRUN /build_thrift.sh\nENV THRIFT_HOME=\"/usr\"\nADD scripts/build_brotli.sh /\nRUN /build_brotli.sh\nENV BROTLI_HOME=\"/usr\"\nADD scripts/build_snappy.sh /\nRUN /build_snappy.sh\nENV SNAPPY_HOME=\"/usr\"\nADD scripts/build_lz4.sh /\nRUN /build_lz4.sh\nENV LZ4_HOME=\"/usr\"\nADD scripts/build_zstd.sh /\nRUN /build_zstd.sh\nENV ZSTD_HOME=\"/usr\"\nADD scripts/build_ccache.sh /\nRUN /build_ccache.sh\nADD scripts/build_glog.sh /\nRUN /build_glog.sh\nENV GLOG_HOME=\"/usr\"\nWORKDIR /\nRUN git clone https://github.com/matthew-brett/multibuild.git \\\n && cd multibuild \\\n && git checkout ffe59955ad8690c2f8bb74766cb7e9b0d0ee3963\nADD scripts/build_virtualenvs.sh /\nRUN /build_virtualenvs.sh\nADD scripts/build_llvm.sh /\nRUN /build_llvm.sh\nADD scripts/build_clang.sh /\nRUN /build_clang.sh\nADD scripts/build_double_conversion.sh /\nRUN /build_double_conversion.sh\nADD scripts/build_rapidjson.sh /\nRUN /build_rapidjson.sh\nADD scripts/build_re2.sh /\nRUN /build_re2.sh\nADD scripts/build_uriparser.sh /\nRUN /build_uriparser.sh\nADD scripts/build_bz2.sh /\nRUN /build_bz2.sh\n","injectedSmells":[],"originalDockerfileHash":"073b623a814c814e38ecb8a81382c7ad","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Licensed to the Apache Software Foundation (ASF) under one\n#   or more contributor license agreements.  See the NOTICE file\n#   distributed with this work for additional information\n#   regarding copyright ownership.  The ASF licenses this file\n#   to you under the Apache License, Version 2.0 (the\n#   \"License\"); you may not use this file except in compliance\n#   with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing,\n#   software distributed under the License is distributed on an\n#   \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n#   KIND, either express or implied.  See the License for the\n#   specific language governing permissions and limitations\n#   under the License.\nFROM quay.io/pypa/manylinux1_x86_64:latest\n#   Install dependencies\nRUN yum install -y xz ccache flex wget \\\n && yum clean all\nADD scripts/build_zlib.sh /\nRUN /build_zlib.sh\nADD scripts/build_openssl.sh /\nRUN /build_openssl.sh\n#   Install cmake manylinux1 package\nADD scripts/install_cmake.sh /\nRUN /install_cmake.sh\nADD scripts/build_gflags.sh /\nRUN /build_gflags.sh\nADD scripts/build_protobuf.sh /\nRUN /build_protobuf.sh\nENV PROTOBUF_HOME=\"/usr\"\nADD scripts/build_cares.sh /\nRUN /build_cares.sh\nADD scripts/build_grpc.sh /\nRUN /build_grpc.sh\nADD scripts/build_boost.sh /\nRUN /build_boost.sh\nADD scripts/build_gtest.sh /\nRUN /build_gtest.sh\nENV GTEST_HOME=\"/usr\"\nADD scripts/build_flatbuffers.sh /\nRUN /build_flatbuffers.sh\nENV FLATBUFFERS_HOME=\"/usr\"\nADD scripts/build_bison.sh /\nRUN /build_bison.sh\nADD scripts/build_thrift.sh /\nRUN /build_thrift.sh\nENV THRIFT_HOME=\"/usr\"\nADD scripts/build_brotli.sh /\nRUN /build_brotli.sh\nENV BROTLI_HOME=\"/usr\"\nADD scripts/build_snappy.sh /\nRUN /build_snappy.sh\nENV SNAPPY_HOME=\"/usr\"\nADD scripts/build_lz4.sh /\nRUN /build_lz4.sh\nENV LZ4_HOME=\"/usr\"\nADD scripts/build_zstd.sh /\nRUN /build_zstd.sh\nENV ZSTD_HOME=\"/usr\"\nADD scripts/build_ccache.sh /\nRUN /build_ccache.sh\nADD scripts/build_glog.sh /\nRUN /build_glog.sh\nENV GLOG_HOME=\"/usr\"\nWORKDIR /\nRUN git clone https://github.com/matthew-brett/multibuild.git \\\n && cd multibuild \\\n && git checkout ffe59955ad8690c2f8bb74766cb7e9b0d0ee3963\nADD scripts/build_virtualenvs.sh /\nRUN /build_virtualenvs.sh\nADD scripts/build_llvm.sh /\nRUN /build_llvm.sh\nADD scripts/build_clang.sh /\nRUN /build_clang.sh\nADD scripts/build_double_conversion.sh /\nRUN /build_double_conversion.sh\nADD scripts/build_rapidjson.sh /\nRUN /build_rapidjson.sh\nADD scripts/build_re2.sh /\nRUN /build_re2.sh\nADD scripts/build_uriparser.sh /\nRUN /build_uriparser.sh\nADD scripts/build_bz2.sh /\nRUN /build_bz2.sh\n","originalDockerfileUglifiedHash":"da42e16e9969042ea3d1176c9faf340b","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/14d4e449dbaab5d5e644bb6f3d7d9ebf605eb928.dockerfile"}