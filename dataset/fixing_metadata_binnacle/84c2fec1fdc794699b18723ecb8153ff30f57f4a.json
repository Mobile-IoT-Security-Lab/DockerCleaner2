{"seed":2547664870,"processedDockerfileHash":"ac98cc59d3bc9ded19c0cf3654fe12dc","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Set the base image to Ubuntu 14.04\nFROM ubuntu:14.04\n#   File Author / Maintainer\nMAINTAINER Samantha Zarate\n#   System packages \nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends curl=7.35.0-1ubuntu2.20 wget=1.15-1ubuntu1.14.04.5 -y )\n#   Install miniconda to /miniconda\nRUN curl -LO http://repo.continuum.io/miniconda/Miniconda-latest-Linux-x86_64.sh \\\n && bash Miniconda-latest-Linux-x86_64.sh -p /miniconda -b \\\n && rm Miniconda-latest-Linux-x86_64.sh\nENV PATH=\"/miniconda/bin:${PATH}\"\n#   RUN conda update -y conda\nRUN /bin/bash -c \"echo 'deb http://dnanexus-apt-prod.s3.amazonaws.com/ubuntu trusty/amd64/' > /etc/apt/sources.list.d/dnanexus.list\"\nRUN /bin/bash -c \"echo 'deb http://dnanexus-apt-prod.s3.amazonaws.com/ubuntu trusty/all/' >> /etc/apt/sources.list.d/dnanexus.list\"\nRUN wget https://wiki.dnanexus.com/images/files/ubuntu-signing-key.gpg\nRUN apt-key add ubuntu-signing-key.gpg\nRUN apt-get update -y \\\n && apt-get upgrade -y \\\n && (apt-get update ;apt-get install --no-install-recommends autoconf=2.69-6 bedtools=2.17.0-1 bsdtar=3.1.2-7ubuntu2.8 build-essential=11.6ubuntu6 cmake=2.8.12.2-0ubuntu3 dx-toolkit g++=4:4.8.2-1ubuntu6 gcc=4:4.8.2-1ubuntu6 gettext=0.18.3.1-1ubuntu3.1 gfortran=4:4.8.2-1ubuntu6 git=1:1.9.1-1ubuntu0.10 gzip=1.6-3ubuntu1 inkscape=0.48.4-3ubuntu2 libc6=2.19-0ubuntu6.15 libcurl4-openssl-dev=7.35.0-1ubuntu2.20 libfontconfig libfreetype6-dev=2.5.2-1ubuntu2.8 libgsl0-dev=1.16+dfsg-1ubuntu1 libgtkmm-3.0-dev=3.10.1-0ubuntu2 libhdf5-serial-dev=1.8.11-5ubuntu7.1 liblzma-dev=5.1.1alpha+20120614-2ubuntu2 liblzo2-dev=2.06-1.2ubuntu1.1 libpangomm-1.4-dev=2.34.0-1ubuntu1 libpng-dev libpopt-dev=1.16-8ubuntu1 libpthread-stubs0-dev=0.3-4 librsvg2-bin=2.40.2-1 librsvg2-dev=2.40.2-1 libsqlite3-dev=3.8.2-1ubuntu2.2 libstdc++6=4.8.4-2ubuntu1~14.04.4 libx11-dev=2:1.6.2-1ubuntu2.1 libxext-dev=2:1.3.2-1ubuntu0.0.14.04.1 libxft-dev=2.3.1-2 libxpm-dev=1:3.5.10-1ubuntu0.1 libxslt1-dev=1.1.28-2ubuntu0.2 python-pip=1.5.4-1ubuntu4 sqlite3=3.8.2-1ubuntu2.2 wget=1.15-1ubuntu1.14.04.5 wkhtmltopdf=0.9.9-4 xvfb=2:1.15.1-0ubuntu2.11 zlib1g-dev=1:1.2.8.dfsg-1ubuntu1.1 -y --force-yes )\nRUN :\nRUN conda config --add channels conda-forge\nRUN conda config --add channels bioconda\nRUN conda config --add channels defaults\nRUN conda install -c bioconda samtools\nRUN conda install -c bioconda sambamba -y\nRUN conda install -c bioconda bcftools -y\nRUN conda install -c bcbio bx-python -y\nRUN conda install -c defaults networkx -y\nRUN conda install -c bioconda samblaster -y\nRUN conda install gcc_linux-64 -y\nRUN conda install -c bioconda manta\nRUN conda update -y pyopenssl\nWORKDIR /\nCOPY resources.tar.gz /\nRUN cp -a /resources/* / \\\n && rm -rf /resources/\nRUN conda install -c defaults -y numpy\nRUN pip install https://github.com/bioinform/breakseq2/archive/2.2.tar.gz\nRUN pip install pycparser==2.21\nRUN pip install asn1crypto==1.5.1\nRUN pip install idna==3.4\nRUN pip install ipaddress==1.0.23\nRUN pip install dxpy==0.345.0\nWORKDIR /root\nRUN mkdir -p /home/dnanexus/in /home/dnanexus/out\nWORKDIR /home/dnanexus\nCOPY parliament2.py .\nCOPY parliament2.sh .\nCOPY svtyper_env.yml .\nRUN conda create -y --name svviz_env svviz\n#   We have to use a slightly different method for \n#   svtyper as it installs software directly from git \nRUN conda env create --name svtyper_env --file svtyper_env.yml\nRUN /bin/bash -c \"source /etc/profile.d/dnanexus.environment.sh\"\nENV PATH=\"${PATH}:/home/dnanexus/\"\nENV PATH=\"${PATH}:/opt/conda/bin/\"\nENV PATH=\"${PATH}:/usr/bin/\"\nENV PYTHONPATH=\"${PYTHONPATH}:/opt/conda/bin/\"\nENV ROOTSYS=\"/home/dnanexus/root\"\nENV LD_LIBRARY_PATH=\"/usr/lib/root/lib\"\nENV LD_LIBRARY_PATH=\"${LD_LIBRARY_PATH}:/home/dnanexus/root/lib\"\nENV DYLD_LIBRARY_PATH=\"/usr/lib/root/lib\"\nENV HTSLIB_LIBRARY_DIR=\"/usr/local/lib\"\nENV HTSLIB_INCLUDE_DIR=\"/usr/local/include\"\nWORKDIR /home/dnanexus\nRUN [\"chmod\", \"+x\", \"parliament2.py\"]\nRUN [\"chmod\", \"+x\", \"parliament2.sh\"]\nENTRYPOINT [\"python\", \"/home/dnanexus/parliament2.py\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Set the base image to Ubuntu 14.04\nFROM ubuntu:14.04\n#  File Author / Maintainer\nMAINTAINER Samantha Zarate\n#  System packages \nRUN apt-get update \\\n && apt-get install curl wget -y\n#  Install miniconda to /miniconda\nRUN curl -LO http://repo.continuum.io/miniconda/Miniconda-latest-Linux-x86_64.sh \\\n && bash Miniconda-latest-Linux-x86_64.sh -p /miniconda -b \\\n && rm Miniconda-latest-Linux-x86_64.sh\nENV PATH=\"/miniconda/bin:${PATH}\"\n#  RUN conda update -y conda\nRUN /bin/bash -c \"echo 'deb http://dnanexus-apt-prod.s3.amazonaws.com/ubuntu trusty/amd64/' > /etc/apt/sources.list.d/dnanexus.list\"\nRUN /bin/bash -c \"echo 'deb http://dnanexus-apt-prod.s3.amazonaws.com/ubuntu trusty/all/' >> /etc/apt/sources.list.d/dnanexus.list\"\nRUN wget https://wiki.dnanexus.com/images/files/ubuntu-signing-key.gpg\nRUN apt-key add ubuntu-signing-key.gpg\nRUN apt-get update -y \\\n && apt-get upgrade -y \\\n && apt-get install autoconf bedtools bsdtar build-essential cmake dx-toolkit g++ gcc gettext gfortran git gzip inkscape libc6 libcurl4-openssl-dev libfontconfig libfreetype6-dev libgsl0-dev libgtkmm-3.0-dev libhdf5-serial-dev liblzma-dev liblzo2-dev libpangomm-1.4-dev libpng-dev libpopt-dev libpthread-stubs0-dev librsvg2-bin librsvg2-dev libsqlite3-dev libstdc++6 libx11-dev libxext-dev libxft-dev libxpm-dev libxslt1-dev python-pip sqlite3 wget wkhtmltopdf xvfb zlib1g-dev -y --force-yes\nRUN apt-get update\nRUN conda config --add channels conda-forge\nRUN conda config --add channels bioconda\nRUN conda config --add channels defaults\nRUN conda install -c bioconda samtools\nRUN conda install -c bioconda sambamba -y\nRUN conda install -c bioconda bcftools -y\nRUN conda install -c bcbio bx-python -y\nRUN conda install -c defaults networkx -y\nRUN conda install -c bioconda samblaster -y\nRUN conda install gcc_linux-64 -y\nRUN conda install -c bioconda manta\nRUN conda update -y pyopenssl\nWORKDIR /\nADD resources.tar.gz /\nRUN cp -a /resources/* / \\\n && rm -rf /resources/\nRUN conda install -c defaults -y numpy\nRUN pip install https://github.com/bioinform/breakseq2/archive/2.2.tar.gz\nRUN pip install pycparser\nRUN pip install asn1crypto\nRUN pip install idna\nRUN pip install ipaddress\nRUN pip install dxpy\nWORKDIR /root\nRUN mkdir -p /home/dnanexus/in /home/dnanexus/out\nWORKDIR /home/dnanexus\nCOPY parliament2.py .\nCOPY parliament2.sh .\nCOPY svtyper_env.yml .\nRUN conda create -y --name svviz_env svviz\n#  We have to use a slightly different method for \n#  svtyper as it installs software directly from git \nRUN conda env create --name svtyper_env --file svtyper_env.yml\nRUN /bin/bash -c \"source /etc/profile.d/dnanexus.environment.sh\"\nENV PATH=\"${PATH}:/home/dnanexus/\"\nENV PATH=\"${PATH}:/opt/conda/bin/\"\nENV PATH=\"${PATH}:/usr/bin/\"\nENV PYTHONPATH=\"${PYTHONPATH}:/opt/conda/bin/\"\nENV ROOTSYS=\"/home/dnanexus/root\"\nENV LD_LIBRARY_PATH=\"/usr/lib/root/lib\"\nENV LD_LIBRARY_PATH=\"${LD_LIBRARY_PATH}:/home/dnanexus/root/lib\"\nENV DYLD_LIBRARY_PATH=\"/usr/lib/root/lib\"\nENV HTSLIB_LIBRARY_DIR=\"/usr/local/lib\"\nENV HTSLIB_INCLUDE_DIR=\"/usr/local/include\"\nWORKDIR /home/dnanexus\nRUN [\"chmod\", \"+x\", \"parliament2.py\"]\nRUN [\"chmod\", \"+x\", \"parliament2.sh\"]\nENTRYPOINT [\"python\", \"/home/dnanexus/parliament2.py\"]\n","injectedSmells":[],"originalDockerfileHash":"b0b43226b6e99710e6f986e497da47e6","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Set the base image to Ubuntu 14.04\nFROM ubuntu:14.04\n#   File Author / Maintainer\nMAINTAINER Samantha Zarate\n#   System packages \nRUN apt-get update \\\n && apt-get install curl wget -y\n#   Install miniconda to /miniconda\nRUN curl -LO http://repo.continuum.io/miniconda/Miniconda-latest-Linux-x86_64.sh \\\n && bash Miniconda-latest-Linux-x86_64.sh -p /miniconda -b \\\n && rm Miniconda-latest-Linux-x86_64.sh\nENV PATH=\"/miniconda/bin:${PATH}\"\n#   RUN conda update -y conda\nRUN /bin/bash -c \"echo 'deb http://dnanexus-apt-prod.s3.amazonaws.com/ubuntu trusty/amd64/' > /etc/apt/sources.list.d/dnanexus.list\"\nRUN /bin/bash -c \"echo 'deb http://dnanexus-apt-prod.s3.amazonaws.com/ubuntu trusty/all/' >> /etc/apt/sources.list.d/dnanexus.list\"\nRUN wget https://wiki.dnanexus.com/images/files/ubuntu-signing-key.gpg\nRUN apt-key add ubuntu-signing-key.gpg\nRUN apt-get update -y \\\n && apt-get upgrade -y \\\n && apt-get install autoconf bedtools bsdtar build-essential cmake dx-toolkit g++ gcc gettext gfortran git gzip inkscape libc6 libcurl4-openssl-dev libfontconfig libfreetype6-dev libgsl0-dev libgtkmm-3.0-dev libhdf5-serial-dev liblzma-dev liblzo2-dev libpangomm-1.4-dev libpng-dev libpopt-dev libpthread-stubs0-dev librsvg2-bin librsvg2-dev libsqlite3-dev libstdc++6 libx11-dev libxext-dev libxft-dev libxpm-dev libxslt1-dev python-pip sqlite3 wget wkhtmltopdf xvfb zlib1g-dev -y --force-yes\nRUN apt-get update\nRUN conda config --add channels conda-forge\nRUN conda config --add channels bioconda\nRUN conda config --add channels defaults\nRUN conda install -c bioconda samtools\nRUN conda install -c bioconda sambamba -y\nRUN conda install -c bioconda bcftools -y\nRUN conda install -c bcbio bx-python -y\nRUN conda install -c defaults networkx -y\nRUN conda install -c bioconda samblaster -y\nRUN conda install gcc_linux-64 -y\nRUN conda install -c bioconda manta\nRUN conda update -y pyopenssl\nWORKDIR /\nADD resources.tar.gz /\nRUN cp -a /resources/* / \\\n && rm -rf /resources/\nRUN conda install -c defaults -y numpy\nRUN pip install https://github.com/bioinform/breakseq2/archive/2.2.tar.gz\nRUN pip install pycparser\nRUN pip install asn1crypto\nRUN pip install idna\nRUN pip install ipaddress\nRUN pip install dxpy\nWORKDIR /root\nRUN mkdir -p /home/dnanexus/in /home/dnanexus/out\nWORKDIR /home/dnanexus\nCOPY parliament2.py .\nCOPY parliament2.sh .\nCOPY svtyper_env.yml .\nRUN conda create -y --name svviz_env svviz\n#   We have to use a slightly different method for \n#   svtyper as it installs software directly from git \nRUN conda env create --name svtyper_env --file svtyper_env.yml\nRUN /bin/bash -c \"source /etc/profile.d/dnanexus.environment.sh\"\nENV PATH=\"${PATH}:/home/dnanexus/\"\nENV PATH=\"${PATH}:/opt/conda/bin/\"\nENV PATH=\"${PATH}:/usr/bin/\"\nENV PYTHONPATH=\"${PYTHONPATH}:/opt/conda/bin/\"\nENV ROOTSYS=\"/home/dnanexus/root\"\nENV LD_LIBRARY_PATH=\"/usr/lib/root/lib\"\nENV LD_LIBRARY_PATH=\"${LD_LIBRARY_PATH}:/home/dnanexus/root/lib\"\nENV DYLD_LIBRARY_PATH=\"/usr/lib/root/lib\"\nENV HTSLIB_LIBRARY_DIR=\"/usr/local/lib\"\nENV HTSLIB_INCLUDE_DIR=\"/usr/local/include\"\nWORKDIR /home/dnanexus\nRUN [\"chmod\", \"+x\", \"parliament2.py\"]\nRUN [\"chmod\", \"+x\", \"parliament2.sh\"]\nENTRYPOINT [\"python\", \"/home/dnanexus/parliament2.py\"]\n","originalDockerfileUglifiedHash":"d02a3a327861e3d97e618275437afd1d","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/84c2fec1fdc794699b18723ecb8153ff30f57f4a.dockerfile"}