{"seed":1749222363,"processedDockerfileHash":"abe5a0dd14801305b56cdeb299f0feda","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#  # Adapted from rocker/r-devel-san-clang and rocker/hadleyverse\nFROM r-base:latest\nMAINTAINER \"Hadley Wickham\" hadley@rstudio.com\n#  # From the Build-Depends of the Debian R package, plus subversion, and clang-3.5\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends unstable bash-completion bison clang-3.6 debhelper default-jdk g++ gcc gfortran git groff-base libblas-dev libbz2-dev libcairo2-dev libcurl4-openssl-dev libjpeg-dev liblapack-dev liblzma-dev libncurses5-dev libpango1.0-dev libpcre3-dev libpng-dev libreadline-dev libtiff5-dev libx11-dev libxt-dev mpack rsync subversion tcl8.5-dev texinfo texlive-base texlive-extra-utils texlive-fonts-recommended texlive-generic-recommended texlive-latex-base texlive-latex-extra texlive-latex-recommended tk8.5-dev valgrind x11proto-core-dev xauth xdg-utils xfonts-base xvfb zlib1g-dev -t -y\n#  # Install inconsolata by hand\nRUN cd /usr/share/texlive/texmf-dist \\\n && wget http://mirrors.ctan.org/install/fonts/inconsolata.tds.zip \\\n && unzip inconsolata.tds.zip \\\n && rm inconsolata.tds.zip \\\n && echo \"Map zi4.map\" >> /usr/share/texlive/texmf-dist/web2c/updmap.cfg \\\n && mktexlsr \\\n && updmap-sys\n#  # Check out R-devel\nRUN cd /tmp \\\n && svn co http://svn.r-project.org/R/trunk R-devel \\\n && R-devel/tools/rsync-recommended\n#  # Build and install according to Dirk's standard recipe\nRUN cd /tmp/R-devel \\\n && R_PAPERSIZE=letter R_BATCHSAVE=\"--no-save --no-restore\" R_BROWSER=xdg-open PAGER=/usr/bin/pager PERL=/usr/bin/perl R_UNZIPCMD=/usr/bin/unzip R_ZIPCMD=/usr/bin/zip R_PRINTCMD=/usr/bin/lpr LIBnn=lib AWK=/usr/bin/awk CFLAGS=\"-pipe -std=gnu99 -Wall -pedantic -g\" CXXFLAGS=\"-pipe -Wall -pedantic -g\" FFLAGS=\"-pipe -Wall -pedantic -g\" FCFLAGS=\"-pipe -Wall -pedantic -g\" CC=\"clang-3.6 -fsanitize=undefined -fno-sanitize=float-divide-by-zero,vptr,function\" CXX=\"clang++-3.6 -fsanitize=undefined -fno-sanitize=float-divide-by-zero,vptr,function\" CXX1X=\"clang++-3.6 -fsanitize=undefined -fno-sanitize=float-divide-by-zero,vptr,function\" FC=\"gfortran\" F77=\"gfortran\" ./configure --enable-R-shlib --without-blas --without-lapack --with-readline --disable-openmp \\\n && make --jobs=4 \\\n && make install \\\n && make clean\n#  # Set default CRAN repo to RStudio\nRUN echo 'options(\"repos\"=\"http://cran.rstudio.com\")' >> /usr/local/lib/R/etc/Rprofile.site\n#   Useful packages -------------------------------------------------------------\n#   Packages needed for full R CMD check\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends unstable aspell aspell-en ghostscript imagemagick lmodern -t -y\n#   Common dev headers\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends unstable libcairo2-dev libmysqlclient-dev libpq-dev libssl-dev libsqlite3-dev libxml2-dev -t -y\n#   Install biocInstaller\nRUN R -q -e 'source(\"http://bioconductor.org/biocLite.R\")'\n#   Install devtools and all deps\nRUN install2.r -d TRUE --error devtools \\\n && rm -rf /tmp/downloaded_packages/ /tmp/*.rds\n#   Attach devtools and testthat to match my local env\nRUN echo 'if (interactive()) { suppressMessages(require(devtools)); suppressMessages(require(testthat)) }' >> /usr/local/lib/R/etc/Rprofile.site\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# # Adapted from rocker/r-devel-san-clang and rocker/hadleyverse\nFROM r-base:latest\nMAINTAINER \"Hadley Wickham\" hadley@rstudio.com\n# # From the Build-Depends of the Debian R package, plus subversion, and clang-3.5\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends unstable bash-completion bison clang-3.6 debhelper default-jdk g++ gcc gfortran git groff-base libblas-dev libbz2-dev libcairo2-dev libcurl4-openssl-dev libjpeg-dev liblapack-dev liblzma-dev libncurses5-dev libpango1.0-dev libpcre3-dev libpng-dev libreadline-dev libtiff5-dev libx11-dev libxt-dev mpack rsync subversion tcl8.5-dev texinfo texlive-base texlive-extra-utils texlive-fonts-recommended texlive-generic-recommended texlive-latex-base texlive-latex-extra texlive-latex-recommended tk8.5-dev valgrind x11proto-core-dev xauth xdg-utils xfonts-base xvfb zlib1g-dev -t -y\n# # Install inconsolata by hand\nRUN cd /usr/share/texlive/texmf-dist \\\n && wget http://mirrors.ctan.org/install/fonts/inconsolata.tds.zip \\\n && unzip inconsolata.tds.zip \\\n && rm inconsolata.tds.zip \\\n && echo \"Map zi4.map\" >> /usr/share/texlive/texmf-dist/web2c/updmap.cfg \\\n && mktexlsr \\\n && updmap-sys\n# # Check out R-devel\nRUN cd /tmp \\\n && svn co http://svn.r-project.org/R/trunk R-devel \\\n && R-devel/tools/rsync-recommended\n# # Build and install according to Dirk's standard recipe\nRUN cd /tmp/R-devel \\\n && R_PAPERSIZE=letter R_BATCHSAVE=\"--no-save --no-restore\" R_BROWSER=xdg-open PAGER=/usr/bin/pager PERL=/usr/bin/perl R_UNZIPCMD=/usr/bin/unzip R_ZIPCMD=/usr/bin/zip R_PRINTCMD=/usr/bin/lpr LIBnn=lib AWK=/usr/bin/awk CFLAGS=\"-pipe -std=gnu99 -Wall -pedantic -g\" CXXFLAGS=\"-pipe -Wall -pedantic -g\" FFLAGS=\"-pipe -Wall -pedantic -g\" FCFLAGS=\"-pipe -Wall -pedantic -g\" CC=\"clang-3.6 -fsanitize=undefined -fno-sanitize=float-divide-by-zero,vptr,function\" CXX=\"clang++-3.6 -fsanitize=undefined -fno-sanitize=float-divide-by-zero,vptr,function\" CXX1X=\"clang++-3.6 -fsanitize=undefined -fno-sanitize=float-divide-by-zero,vptr,function\" FC=\"gfortran\" F77=\"gfortran\" ./configure --enable-R-shlib --without-blas --without-lapack --with-readline --disable-openmp \\\n && make --jobs=4 \\\n && make install \\\n && make clean\n# # Set default CRAN repo to RStudio\nRUN echo 'options(\"repos\"=\"http://cran.rstudio.com\")' >> /usr/local/lib/R/etc/Rprofile.site\n#  Useful packages -------------------------------------------------------------\n#  Packages needed for full R CMD check\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends unstable aspell aspell-en ghostscript imagemagick lmodern -t -y\n#  Common dev headers\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends unstable libcairo2-dev libmysqlclient-dev libpq-dev libssl-dev libsqlite3-dev libxml2-dev -t -y\n#  Install biocInstaller\nRUN R -q -e 'source(\"http://bioconductor.org/biocLite.R\")'\n#  Install devtools and all deps\nRUN install2.r -d TRUE --error devtools \\\n && rm -rf /tmp/downloaded_packages/ /tmp/*.rds\n#  Attach devtools and testthat to match my local env\nRUN echo 'if (interactive()) { suppressMessages(require(devtools)); suppressMessages(require(testthat)) }' >> /usr/local/lib/R/etc/Rprofile.site\n","injectedSmells":[],"originalDockerfileHash":"5a3d48485dcb328c9f5ea325684303db","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  # Adapted from rocker/r-devel-san-clang and rocker/hadleyverse\nFROM r-base:latest\nMAINTAINER \"Hadley Wickham\" hadley@rstudio.com\n#  # From the Build-Depends of the Debian R package, plus subversion, and clang-3.5\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends unstable bash-completion bison clang-3.6 debhelper default-jdk g++ gcc gfortran git groff-base libblas-dev libbz2-dev libcairo2-dev libcurl4-openssl-dev libjpeg-dev liblapack-dev liblzma-dev libncurses5-dev libpango1.0-dev libpcre3-dev libpng-dev libreadline-dev libtiff5-dev libx11-dev libxt-dev mpack rsync subversion tcl8.5-dev texinfo texlive-base texlive-extra-utils texlive-fonts-recommended texlive-generic-recommended texlive-latex-base texlive-latex-extra texlive-latex-recommended tk8.5-dev valgrind x11proto-core-dev xauth xdg-utils xfonts-base xvfb zlib1g-dev -t -y\n#  # Install inconsolata by hand\nRUN cd /usr/share/texlive/texmf-dist \\\n && wget http://mirrors.ctan.org/install/fonts/inconsolata.tds.zip \\\n && unzip inconsolata.tds.zip \\\n && rm inconsolata.tds.zip \\\n && echo \"Map zi4.map\" >> /usr/share/texlive/texmf-dist/web2c/updmap.cfg \\\n && mktexlsr \\\n && updmap-sys\n#  # Check out R-devel\nRUN cd /tmp \\\n && svn co http://svn.r-project.org/R/trunk R-devel \\\n && R-devel/tools/rsync-recommended\n#  # Build and install according to Dirk's standard recipe\nRUN cd /tmp/R-devel \\\n && R_PAPERSIZE=letter R_BATCHSAVE=\"--no-save --no-restore\" R_BROWSER=xdg-open PAGER=/usr/bin/pager PERL=/usr/bin/perl R_UNZIPCMD=/usr/bin/unzip R_ZIPCMD=/usr/bin/zip R_PRINTCMD=/usr/bin/lpr LIBnn=lib AWK=/usr/bin/awk CFLAGS=\"-pipe -std=gnu99 -Wall -pedantic -g\" CXXFLAGS=\"-pipe -Wall -pedantic -g\" FFLAGS=\"-pipe -Wall -pedantic -g\" FCFLAGS=\"-pipe -Wall -pedantic -g\" CC=\"clang-3.6 -fsanitize=undefined -fno-sanitize=float-divide-by-zero,vptr,function\" CXX=\"clang++-3.6 -fsanitize=undefined -fno-sanitize=float-divide-by-zero,vptr,function\" CXX1X=\"clang++-3.6 -fsanitize=undefined -fno-sanitize=float-divide-by-zero,vptr,function\" FC=\"gfortran\" F77=\"gfortran\" ./configure --enable-R-shlib --without-blas --without-lapack --with-readline --disable-openmp \\\n && make --jobs=4 \\\n && make install \\\n && make clean\n#  # Set default CRAN repo to RStudio\nRUN echo 'options(\"repos\"=\"http://cran.rstudio.com\")' >> /usr/local/lib/R/etc/Rprofile.site\n#   Useful packages -------------------------------------------------------------\n#   Packages needed for full R CMD check\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends unstable aspell aspell-en ghostscript imagemagick lmodern -t -y\n#   Common dev headers\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends unstable libcairo2-dev libmysqlclient-dev libpq-dev libssl-dev libsqlite3-dev libxml2-dev -t -y\n#   Install biocInstaller\nRUN R -q -e 'source(\"http://bioconductor.org/biocLite.R\")'\n#   Install devtools and all deps\nRUN install2.r -d TRUE --error devtools \\\n && rm -rf /tmp/downloaded_packages/ /tmp/*.rds\n#   Attach devtools and testthat to match my local env\nRUN echo 'if (interactive()) { suppressMessages(require(devtools)); suppressMessages(require(testthat)) }' >> /usr/local/lib/R/etc/Rprofile.site\n","originalDockerfileUglifiedHash":"b9117e952ede30fd94be44202c3027c5","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/51c4ba14ce8e5cdae8e063f8119e980b579d6c44.dockerfile"}