{"seed":4129119611,"processedDockerfileHash":"03ea07f05a8e685e11d7a87414485644","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck"],"processedDockerfile":"FROM linuxbrew/linuxbrew\nMAINTAINER Jon Palmer <nextgenusfs@gmail.com>\nRUN sudo apt-get update \\\n && sudo apt-get install --fix-missing -y build-essential ncbi-blast+ cmake autoconf autogen pigz xvfb default-jre wget zlib1g-dev libboost-all-dev \\\n && sudo rm -rf /var/lib/apt/lists/*\nUSER linuxbrew\t\nENV PATH=\"/home/linuxbrew:/home/linuxbrew/funannotate:/home/linuxbrew/conda/bin:/home/linuxbrew/conda/bin/ete3_apps/bin:/home/linuxbrew/augustus/bin:/home/linuxbrew/braker:/home/linuxbrew/gm_et_linux_64/gmes_petap:/home/linuxbrew/signalp-4.1:/home/linuxbrew/phobius:/home/linuxbrew/Trinity:/home/linuxbrew/RapMap/bin:/home/linuxbrew/trnascan/bin:/home/linuxbrew/nseg:/home/linuxbrew/repeatmasker:/home/linuxbrew/rmblast:/home/linuxbrew/repeatmodeler:/home/linuxbrew/repeatscout:/home/linuxbrew/recon/scripts:/home/linuxbrew/proteinortho:/home/linuxbrew/CodingQuarry_v2.0:$PATH\" \\\n    MAFFT_BINARIES=\"/home/linuxbrew/conda/bin/ete3_apps/bin\" \\\n    AUGUSTUS_CONFIG_PATH=\"/home/linuxbrew/augustus/config\" \\\n    EVM_HOME=\"/home/linuxbrew/evidencemodeler\" \\\n    GENEMARK_PATH=\"/home/linuxbrew/gm_et_linux_64/gmes_petap\" \\\n    BAMTOOLS_PATH=\"/usr/local/bin\" \\\n    PASAHOME=\"/home/linuxbrew/PASApipeline\" \\\n    TRINITYHOME=\"/home/linuxbrew/Trinity\" \\\n    FUNANNOTATE_DB=\"/home/linuxbrew/DB\" \\\n    QUARRY_PATH=\"/home/CodingQuarry_v2.0/QuarryFiles\"\nCOPY repeatmodeler.txt repeatmasker.txt phobius.tar.gz funannotate-genemark.tar.gz /home/linuxbrew/\nWORKDIR /home/linuxbrew\nRUN wget --quiet https://repo.continuum.io/miniconda/Miniconda2-latest-Linux-x86_64.sh -O ~/miniconda.sh \\\n && sudo /bin/bash ~/miniconda.sh -b -p /home/linuxbrew/conda \\\n && rm ~/miniconda.sh \\\n && sudo chown -R linuxbrew: /home/linuxbrew/conda \\\n && conda update -y conda \\\n && conda config --add channels r \\\n && conda config --add channels defaults \\\n && conda config --add channels etetoolkit \\\n && conda config --add channels conda-forge \\\n && conda config --add channels bioconda \\\n && conda install -y numpy pandas scipy matplotlib seaborn natsort scikit-learn psutil biopython requests goatools fisher bedtools blat hmmer exonerate diamond tbl2asn hisat2 ucsc-pslcdnafilter stringtie perl-dbd-sqlite samtools raxml trimal mafft phyml kallisto bowtie2 infernal perl-threaded perl-db-file perl-bioperl perl-dbd-mysql perl-app-cpanminus mummer ete3 ete_toolchain minimap2 salmon=0.9.1 jellyfish htslib nano perl-text-soundex perl-scalar-util-numeric \\\n && conda clean --all \\\n && sudo ln -s /home/linuxbrew/conda/bin/ete3_apps/bin/raxmlHPC-PTHREADS-SSE3 /home/linuxbrew/conda/bin/ete3_apps/bin/raxmlHPC-PTHREADS \\\n && cpanm Getopt::Long Pod::Usage File::Basename Thread::Queue Carp Data::Dumper YAML Hash::Merge Logger::Simple Parallel::ForkManager DBI Clone JSON LWP::UserAgent \\\n && wget https://sourceforge.net/projects/codingquarry/files/CodingQuarry_v2.0.tar.gz \\\n && tar -zxvf CodingQuarry_v2.0.tar.gz \\\n && rm CodingQuarry_v2.0.tar.gz \\\n && cd CodingQuarry_v2.0 \\\n && make \\\n && cd /home/linuxbrew/ \\\n && wget --no-check-certificate https://tandem.bu.edu/trf/downloads/trf409.linux64 \\\n && sudo mv trf409.linux64 /usr/local/bin/trf \\\n && sudo chmod +x /usr/local/bin/trf \\\n && wget http://www.repeatmasker.org/RepeatMasker-open-4-0-7.tar.gz \\\n && tar -zxvf RepeatMasker-open-4-0-7.tar.gz \\\n && rm RepeatMasker-open-4-0-7.tar.gz \\\n && mv RepeatMasker repeatmasker \\\n && sudo chmod +x /home/linuxbrew/repeatmasker/RepeatMasker \\\n && sudo chmod +x /home/linuxbrew/repeatmasker/util/rmOutToGFF3.pl \\\n && sudo ln -s /home/linuxbrew/repeatmasker/util/rmOutToGFF3.pl /home/linuxbrew/repeatmasker/rmOutToGFF3.pl \\\n && wget http://www.repeatmasker.org/RepeatModeler/RECON-1.08.tar.gz \\\n && tar -zxvf RECON-1.08.tar.gz \\\n && rm RECON-1.08.tar.gz \\\n && mv RECON-1.08 recon \\\n && cd recon/src \\\n && make \\\n && make install \\\n && cd /home/linuxbrew/ \\\n && sed -i 's,path = \\\"\\\";,path = \\\"/home/linuxbrew/recon/bin\\\";,g' /home/linuxbrew/recon/scripts/recon.pl \\\n && wget http://www.repeatmasker.org/RepeatScout-1.0.5.tar.gz \\\n && tar -zxvf RepeatScout-1.0.5.tar.gz \\\n && mv RepeatScout-1 repeatscout \\\n && cd repeatscout \\\n && make \\\n && cd /home/linuxbrew/ \\\n && wget -r -np -nH -R index.html ftp://ftp.ncbi.nih.gov/pub/seg/nseg/ \\\n && cd pub/seg/nseg/ \\\n && make \\\n && cd /home/linuxbrew/ \\\n && mv /home/linuxbrew/pub/seg/nseg /home/linuxbrew/nseg \\\n && wget http://www.repeatmasker.org/RepeatModeler/RepeatModeler-open-1.0.11.tar.gz \\\n && tar -zxvf RepeatModeler-open-1.0.11.tar.gz \\\n && rm RepeatModeler-open-1.0.11.tar.gz \\\n && mv RepeatModeler-open-1.0.11 repeatmodeler \\\n && wget --no-check-certificate https://www.bioinf.uni-leipzig.de/Software/proteinortho/proteinortho_v5.16b.tar.gz \\\n && tar -zxvf proteinortho_v5.16b.tar.gz \\\n && mv proteinortho_v5.16b proteinortho \\\n && cd proteinortho \\\n && find . -name \"*.pl\" | xargs sed -i 's,#!/usr/bin/perl,#!/usr/bin/env perl,g' \\\n && cd /home/linuxbrew/ \\\n && wget https://github.com/nextgenusfs/EVidenceModeler/archive/0.1.3.tar.gz \\\n && tar -zxvf 0.1.3.tar.gz \\\n && rm 0.1.3.tar.gz \\\n && mv EVidenceModeler-0.1.3 evidencemodeler \\\n && wget https://github.com/pezmaster31/bamtools/archive/v2.5.0.tar.gz \\\n && tar -zxvf v2.5.0.tar.gz \\\n && rm v2.5.0.tar.gz \\\n && mv bamtools-2.5.0 bamtools \\\n && cd bamtools \\\n && mkdir build \\\n && cd build \\\n && cmake .. \\\n && make \\\n && sudo make install \\\n && cd /usr/include \\\n && sudo ln -f -s ../local/include/bamtools/ \\\n && cd /usr/lib/ \\\n && sudo ln -f -s /usr/local/lib/bamtools/libbamtools.* . \\\n && cd /home/linuxbrew/ \\\n && wget http://bioinf.uni-greifswald.de/augustus/binaries/augustus-3.3.1.tar.gz \\\n && tar -zxvf augustus-3.3.1.tar.gz \\\n && rm augustus-3.3.1.tar.gz \\\n && mv augustus-3.3.1 augustus \\\n && cd augustus \\\n && sed -i 's/ cd bam2wig; make/ #cd bam2wig; make/g' /home/linuxbrew/augustus/auxprogs/Makefile \\\n && make clean \\\n && make \\\n && cd /home/linuxbrew/ \\\n && wget https://github.com/trinityrnaseq/trinityrnaseq/archive/Trinity-v2.6.6.tar.gz \\\n && tar -zxvf Trinity-v2.6.6.tar.gz \\\n && rm Trinity-v2.6.6.tar.gz \\\n && mv trinityrnaseq-Trinity-v2.6.6 Trinity \\\n && cd Trinity \\\n && make \\\n && make plugins \\\n && cd /home/linuxbrew/ \\\n && wget http://research-pub.gene.com/gmap/src/gmap-gsnap-2017-06-20.tar.gz \\\n && tar -zxvf gmap-gsnap-2017-06-20.tar.gz \\\n && rm gmap-gsnap-2017-06-20.tar.gz \\\n && mv gmap-2017-06-20/ gmap \\\n && cd gmap/ \\\n && ./configure \\\n && make \\\n && sudo make install \\\n && cd /home/linuxbrew/ \\\n && rm -r gmap \\\n && wget https://github.com/PASApipeline/PASApipeline/releases/download/pasa-v2.3.3/PASApipeline-v2.3.3.tar.gz \\\n && tar -zxvf PASApipeline-v2.3.3.tar.gz \\\n && rm PASApipeline-v2.3.3.tar.gz \\\n && mv PASApipeline-v2.3.3 PASApipeline \\\n && cd PASApipeline \\\n && make clean \\\n && make \\\n && sed -i 's/gene_id varchar(1000)/gene_id varchar(800)/g' /home/linuxbrew/PASApipeline/schema/cdna_alignment_mysqlschema \\\n && cd /home/linuxbrew/ \\\n && wget http://faculty.virginia.edu/wrpearson/fasta/fasta36/fasta-36.3.8e.tar.gz \\\n && tar -zxvf fasta-36.3.8e.tar.gz \\\n && rm fasta-36.3.8e.tar.gz \\\n && cd fasta-36.3.8e/src \\\n && make -f ../make/Makefile.linux fasta36 \\\n && cd /home/linuxbrew/ \\\n && ln -s /home/linuxbrew/fasta-36.3.8e/bin/fasta36 /home/linuxbrew/conda/bin/fasta \\\n && wget http://trna.ucsc.edu/software/trnascan-se-2.0.0.tar.gz \\\n && tar -zxvf trnascan-se-2.0.0.tar.gz \\\n && rm trnascan-se-2.0.0.tar.gz \\\n && mv tRNAscan-SE-2.0 tRNAscan-SE \\\n && cd tRNAscan-SE \\\n && ./configure --prefix=/home/linuxbrew/trnascan \\\n && make \\\n && make install \\\n && cd /home/linuxbrew/ rm -r tRNAscan-SE \\\n && ln -s /home/linuxbrew/conda/bin/cmscan /home/linuxbrew/trnascan/bin/ \\\n && ln -s /home/linuxbrew/conda/bin/cmsearch /home/linuxbrew/trnascan/bin/ \\\n && tar -zxvf phobius.tar.gz \\\n && tar -zxvf funannotate-genemark.tar.gz \\\n && brew update \\\n && brew install blast brewsci/bio/rmblast brewsci/bio/iqtree \\\n && brew cleanup \\\n && rm /home/linuxbrew/.linuxbrew/bin/tblastn\nCOPY pasa_conf.txt /home/linuxbrew/PASApipeline/pasa_conf/conf.txt\nRUN wget https://github.com/nextgenusfs/funannotate/archive/1.5.3.tar.gz \\\n && tar -zxvf 1.5.3.tar.gz \\\n && rm 1.5.3.tar.gz \\\n && mv funannotate-1.5.3 funannotate\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM linuxbrew/linuxbrew\nMAINTAINER Jon Palmer <nextgenusfs@gmail.com>\nRUN sudo apt-get update \\\n && sudo apt-get install --fix-missing -y build-essential ncbi-blast+ cmake autoconf autogen pigz xvfb default-jre wget zlib1g-dev libboost-all-dev \\\n && sudo rm -rf /var/lib/apt/lists/*\nUSER linuxbrew\t\nENV PATH=\"/home/linuxbrew:/home/linuxbrew/funannotate:/home/linuxbrew/conda/bin:/home/linuxbrew/conda/bin/ete3_apps/bin:/home/linuxbrew/augustus/bin:/home/linuxbrew/braker:/home/linuxbrew/gm_et_linux_64/gmes_petap:/home/linuxbrew/signalp-4.1:/home/linuxbrew/phobius:/home/linuxbrew/Trinity:/home/linuxbrew/RapMap/bin:/home/linuxbrew/trnascan/bin:/home/linuxbrew/nseg:/home/linuxbrew/repeatmasker:/home/linuxbrew/rmblast:/home/linuxbrew/repeatmodeler:/home/linuxbrew/repeatscout:/home/linuxbrew/recon/scripts:/home/linuxbrew/proteinortho:/home/linuxbrew/CodingQuarry_v2.0:$PATH\" \\\n    MAFFT_BINARIES=\"/home/linuxbrew/conda/bin/ete3_apps/bin\" \\\n    AUGUSTUS_CONFIG_PATH=\"/home/linuxbrew/augustus/config\" \\\n    EVM_HOME=\"/home/linuxbrew/evidencemodeler\" \\\n    GENEMARK_PATH=\"/home/linuxbrew/gm_et_linux_64/gmes_petap\" \\\n    BAMTOOLS_PATH=\"/usr/local/bin\" \\\n    PASAHOME=\"/home/linuxbrew/PASApipeline\" \\\n    TRINITYHOME=\"/home/linuxbrew/Trinity\" \\\n    FUNANNOTATE_DB=\"/home/linuxbrew/DB\" \\\n    QUARRY_PATH=\"/home/CodingQuarry_v2.0/QuarryFiles\"\nCOPY repeatmodeler.txt repeatmasker.txt phobius.tar.gz funannotate-genemark.tar.gz /home/linuxbrew/\nWORKDIR /home/linuxbrew\nRUN wget --quiet https://repo.continuum.io/miniconda/Miniconda2-latest-Linux-x86_64.sh -O ~/miniconda.sh \\\n && sudo /bin/bash ~/miniconda.sh -b -p /home/linuxbrew/conda \\\n && rm ~/miniconda.sh \\\n && sudo chown -R linuxbrew: /home/linuxbrew/conda \\\n && conda update -y conda \\\n && conda config --add channels r \\\n && conda config --add channels defaults \\\n && conda config --add channels etetoolkit \\\n && conda config --add channels conda-forge \\\n && conda config --add channels bioconda \\\n && conda install -y numpy pandas scipy matplotlib seaborn natsort scikit-learn psutil biopython requests goatools fisher bedtools blat hmmer exonerate diamond tbl2asn hisat2 ucsc-pslcdnafilter stringtie perl-dbd-sqlite samtools raxml trimal mafft phyml kallisto bowtie2 infernal perl-threaded perl-db-file perl-bioperl perl-dbd-mysql perl-app-cpanminus mummer ete3 ete_toolchain minimap2 salmon=0.9.1 jellyfish htslib nano perl-text-soundex perl-scalar-util-numeric \\\n && conda clean --all \\\n && sudo ln -s /home/linuxbrew/conda/bin/ete3_apps/bin/raxmlHPC-PTHREADS-SSE3 /home/linuxbrew/conda/bin/ete3_apps/bin/raxmlHPC-PTHREADS \\\n && cpanm Getopt::Long Pod::Usage File::Basename Thread::Queue Carp Data::Dumper YAML Hash::Merge Logger::Simple Parallel::ForkManager DBI Clone JSON LWP::UserAgent \\\n && wget https://sourceforge.net/projects/codingquarry/files/CodingQuarry_v2.0.tar.gz \\\n && tar -zxvf CodingQuarry_v2.0.tar.gz \\\n && rm CodingQuarry_v2.0.tar.gz \\\n && cd CodingQuarry_v2.0 \\\n && make \\\n && cd /home/linuxbrew/ \\\n && wget --no-check-certificate https://tandem.bu.edu/trf/downloads/trf409.linux64 \\\n && sudo mv trf409.linux64 /usr/local/bin/trf \\\n && sudo chmod +x /usr/local/bin/trf \\\n && wget http://www.repeatmasker.org/RepeatMasker-open-4-0-7.tar.gz \\\n && tar -zxvf RepeatMasker-open-4-0-7.tar.gz \\\n && rm RepeatMasker-open-4-0-7.tar.gz \\\n && mv RepeatMasker repeatmasker \\\n && sudo chmod +x /home/linuxbrew/repeatmasker/RepeatMasker \\\n && sudo chmod +x /home/linuxbrew/repeatmasker/util/rmOutToGFF3.pl \\\n && sudo ln -s /home/linuxbrew/repeatmasker/util/rmOutToGFF3.pl /home/linuxbrew/repeatmasker/rmOutToGFF3.pl \\\n && wget http://www.repeatmasker.org/RepeatModeler/RECON-1.08.tar.gz \\\n && tar -zxvf RECON-1.08.tar.gz \\\n && rm RECON-1.08.tar.gz \\\n && mv RECON-1.08 recon \\\n && cd recon/src \\\n && make \\\n && make install \\\n && cd /home/linuxbrew/ \\\n && sed -i 's,path = \\\"\\\";,path = \\\"/home/linuxbrew/recon/bin\\\";,g' /home/linuxbrew/recon/scripts/recon.pl \\\n && wget http://www.repeatmasker.org/RepeatScout-1.0.5.tar.gz \\\n && tar -zxvf RepeatScout-1.0.5.tar.gz \\\n && mv RepeatScout-1 repeatscout \\\n && cd repeatscout \\\n && make \\\n && cd /home/linuxbrew/ \\\n && wget -r -np -nH -R index.html ftp://ftp.ncbi.nih.gov/pub/seg/nseg/ \\\n && cd pub/seg/nseg/ \\\n && make \\\n && cd /home/linuxbrew/ \\\n && mv /home/linuxbrew/pub/seg/nseg /home/linuxbrew/nseg \\\n && wget http://www.repeatmasker.org/RepeatModeler/RepeatModeler-open-1.0.11.tar.gz \\\n && tar -zxvf RepeatModeler-open-1.0.11.tar.gz \\\n && rm RepeatModeler-open-1.0.11.tar.gz \\\n && mv RepeatModeler-open-1.0.11 repeatmodeler \\\n && wget --no-check-certificate https://www.bioinf.uni-leipzig.de/Software/proteinortho/proteinortho_v5.16b.tar.gz \\\n && tar -zxvf proteinortho_v5.16b.tar.gz \\\n && mv proteinortho_v5.16b proteinortho \\\n && cd proteinortho \\\n && find . -name \"*.pl\" | xargs sed -i 's,#!/usr/bin/perl,#!/usr/bin/env perl,g' \\\n && cd /home/linuxbrew/ \\\n && wget https://github.com/nextgenusfs/EVidenceModeler/archive/0.1.3.tar.gz \\\n && tar -zxvf 0.1.3.tar.gz \\\n && rm 0.1.3.tar.gz \\\n && mv EVidenceModeler-0.1.3 evidencemodeler \\\n && wget https://github.com/pezmaster31/bamtools/archive/v2.5.0.tar.gz \\\n && tar -zxvf v2.5.0.tar.gz \\\n && rm v2.5.0.tar.gz \\\n && mv bamtools-2.5.0 bamtools \\\n && cd bamtools \\\n && mkdir build \\\n && cd build \\\n && cmake .. \\\n && make \\\n && sudo make install \\\n && cd /usr/include \\\n && sudo ln -f -s ../local/include/bamtools/ \\\n && cd /usr/lib/ \\\n && sudo ln -f -s /usr/local/lib/bamtools/libbamtools.* . \\\n && cd /home/linuxbrew/ \\\n && wget http://bioinf.uni-greifswald.de/augustus/binaries/augustus-3.3.1.tar.gz \\\n && tar -zxvf augustus-3.3.1.tar.gz \\\n && rm augustus-3.3.1.tar.gz \\\n && mv augustus-3.3.1 augustus \\\n && cd augustus \\\n && sed -i 's/ cd bam2wig; make/ #cd bam2wig; make/g' /home/linuxbrew/augustus/auxprogs/Makefile \\\n && make clean \\\n && make \\\n && cd /home/linuxbrew/ \\\n && wget https://github.com/trinityrnaseq/trinityrnaseq/archive/Trinity-v2.6.6.tar.gz \\\n && tar -zxvf Trinity-v2.6.6.tar.gz \\\n && rm Trinity-v2.6.6.tar.gz \\\n && mv trinityrnaseq-Trinity-v2.6.6 Trinity \\\n && cd Trinity \\\n && make \\\n && make plugins \\\n && cd /home/linuxbrew/ \\\n && wget http://research-pub.gene.com/gmap/src/gmap-gsnap-2017-06-20.tar.gz \\\n && tar -zxvf gmap-gsnap-2017-06-20.tar.gz \\\n && rm gmap-gsnap-2017-06-20.tar.gz \\\n && mv gmap-2017-06-20/ gmap \\\n && cd gmap/ \\\n && ./configure \\\n && make \\\n && sudo make install \\\n && cd /home/linuxbrew/ \\\n && rm -r gmap \\\n && wget https://github.com/PASApipeline/PASApipeline/releases/download/pasa-v2.3.3/PASApipeline-v2.3.3.tar.gz \\\n && tar -zxvf PASApipeline-v2.3.3.tar.gz \\\n && rm PASApipeline-v2.3.3.tar.gz \\\n && mv PASApipeline-v2.3.3 PASApipeline \\\n && cd PASApipeline \\\n && make clean \\\n && make \\\n && sed -i 's/gene_id varchar(1000)/gene_id varchar(800)/g' /home/linuxbrew/PASApipeline/schema/cdna_alignment_mysqlschema \\\n && cd /home/linuxbrew/ \\\n && wget http://faculty.virginia.edu/wrpearson/fasta/fasta36/fasta-36.3.8e.tar.gz \\\n && tar -zxvf fasta-36.3.8e.tar.gz \\\n && rm fasta-36.3.8e.tar.gz \\\n && cd fasta-36.3.8e/src \\\n && make -f ../make/Makefile.linux fasta36 \\\n && cd /home/linuxbrew/ \\\n && ln -s /home/linuxbrew/fasta-36.3.8e/bin/fasta36 /home/linuxbrew/conda/bin/fasta \\\n && wget http://trna.ucsc.edu/software/trnascan-se-2.0.0.tar.gz \\\n && tar -zxvf trnascan-se-2.0.0.tar.gz \\\n && rm trnascan-se-2.0.0.tar.gz \\\n && mv tRNAscan-SE-2.0 tRNAscan-SE \\\n && cd tRNAscan-SE \\\n && ./configure --prefix=/home/linuxbrew/trnascan \\\n && make \\\n && make install \\\n && cd /home/linuxbrew/ rm -r tRNAscan-SE \\\n && ln -s /home/linuxbrew/conda/bin/cmscan /home/linuxbrew/trnascan/bin/ \\\n && ln -s /home/linuxbrew/conda/bin/cmsearch /home/linuxbrew/trnascan/bin/ \\\n && tar -zxvf phobius.tar.gz \\\n && tar -zxvf funannotate-genemark.tar.gz \\\n && brew update \\\n && brew install blast brewsci/bio/rmblast brewsci/bio/iqtree \\\n && brew cleanup \\\n && rm /home/linuxbrew/.linuxbrew/bin/tblastn\nCOPY pasa_conf.txt /home/linuxbrew/PASApipeline/pasa_conf/conf.txt\nRUN wget https://github.com/nextgenusfs/funannotate/archive/1.5.3.tar.gz \\\n && tar -zxvf 1.5.3.tar.gz \\\n && rm 1.5.3.tar.gz \\\n && mv funannotate-1.5.3 funannotate\n","injectedSmells":[],"originalDockerfileHash":"1f7cb47a513c565d23fccaf6f61d5d7b","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM linuxbrew/linuxbrew\nMAINTAINER Jon Palmer <nextgenusfs@gmail.com>\nRUN sudo apt-get update \\\n && sudo apt-get install --fix-missing -y build-essential ncbi-blast+ cmake autoconf autogen pigz xvfb default-jre wget zlib1g-dev libboost-all-dev \\\n && sudo rm -rf /var/lib/apt/lists/*\nUSER linuxbrew\t\nENV PATH=\"/home/linuxbrew:/home/linuxbrew/funannotate:/home/linuxbrew/conda/bin:/home/linuxbrew/conda/bin/ete3_apps/bin:/home/linuxbrew/augustus/bin:/home/linuxbrew/braker:/home/linuxbrew/gm_et_linux_64/gmes_petap:/home/linuxbrew/signalp-4.1:/home/linuxbrew/phobius:/home/linuxbrew/Trinity:/home/linuxbrew/RapMap/bin:/home/linuxbrew/trnascan/bin:/home/linuxbrew/nseg:/home/linuxbrew/repeatmasker:/home/linuxbrew/rmblast:/home/linuxbrew/repeatmodeler:/home/linuxbrew/repeatscout:/home/linuxbrew/recon/scripts:/home/linuxbrew/proteinortho:/home/linuxbrew/CodingQuarry_v2.0:$PATH\" \\\n    MAFFT_BINARIES=\"/home/linuxbrew/conda/bin/ete3_apps/bin\" \\\n    AUGUSTUS_CONFIG_PATH=\"/home/linuxbrew/augustus/config\" \\\n    EVM_HOME=\"/home/linuxbrew/evidencemodeler\" \\\n    GENEMARK_PATH=\"/home/linuxbrew/gm_et_linux_64/gmes_petap\" \\\n    BAMTOOLS_PATH=\"/usr/local/bin\" \\\n    PASAHOME=\"/home/linuxbrew/PASApipeline\" \\\n    TRINITYHOME=\"/home/linuxbrew/Trinity\" \\\n    FUNANNOTATE_DB=\"/home/linuxbrew/DB\" \\\n    QUARRY_PATH=\"/home/CodingQuarry_v2.0/QuarryFiles\"\nCOPY repeatmodeler.txt repeatmasker.txt phobius.tar.gz funannotate-genemark.tar.gz /home/linuxbrew/\nWORKDIR /home/linuxbrew\nRUN wget --quiet https://repo.continuum.io/miniconda/Miniconda2-latest-Linux-x86_64.sh -O ~/miniconda.sh \\\n && sudo /bin/bash ~/miniconda.sh -b -p /home/linuxbrew/conda \\\n && rm ~/miniconda.sh \\\n && sudo chown -R linuxbrew: /home/linuxbrew/conda \\\n && conda update -y conda \\\n && conda config --add channels r \\\n && conda config --add channels defaults \\\n && conda config --add channels etetoolkit \\\n && conda config --add channels conda-forge \\\n && conda config --add channels bioconda \\\n && conda install -y numpy pandas scipy matplotlib seaborn natsort scikit-learn psutil biopython requests goatools fisher bedtools blat hmmer exonerate diamond tbl2asn hisat2 ucsc-pslcdnafilter stringtie perl-dbd-sqlite samtools raxml trimal mafft phyml kallisto bowtie2 infernal perl-threaded perl-db-file perl-bioperl perl-dbd-mysql perl-app-cpanminus mummer ete3 ete_toolchain minimap2 salmon=0.9.1 jellyfish htslib nano perl-text-soundex perl-scalar-util-numeric \\\n && conda clean --all \\\n && sudo ln -s /home/linuxbrew/conda/bin/ete3_apps/bin/raxmlHPC-PTHREADS-SSE3 /home/linuxbrew/conda/bin/ete3_apps/bin/raxmlHPC-PTHREADS \\\n && cpanm Getopt::Long Pod::Usage File::Basename Thread::Queue Carp Data::Dumper YAML Hash::Merge Logger::Simple Parallel::ForkManager DBI Clone JSON LWP::UserAgent \\\n && wget https://sourceforge.net/projects/codingquarry/files/CodingQuarry_v2.0.tar.gz \\\n && tar -zxvf CodingQuarry_v2.0.tar.gz \\\n && rm CodingQuarry_v2.0.tar.gz \\\n && cd CodingQuarry_v2.0 \\\n && make \\\n && cd /home/linuxbrew/ \\\n && wget --no-check-certificate https://tandem.bu.edu/trf/downloads/trf409.linux64 \\\n && sudo mv trf409.linux64 /usr/local/bin/trf \\\n && sudo chmod +x /usr/local/bin/trf \\\n && wget http://www.repeatmasker.org/RepeatMasker-open-4-0-7.tar.gz \\\n && tar -zxvf RepeatMasker-open-4-0-7.tar.gz \\\n && rm RepeatMasker-open-4-0-7.tar.gz \\\n && mv RepeatMasker repeatmasker \\\n && sudo chmod +x /home/linuxbrew/repeatmasker/RepeatMasker \\\n && sudo chmod +x /home/linuxbrew/repeatmasker/util/rmOutToGFF3.pl \\\n && sudo ln -s /home/linuxbrew/repeatmasker/util/rmOutToGFF3.pl /home/linuxbrew/repeatmasker/rmOutToGFF3.pl \\\n && wget http://www.repeatmasker.org/RepeatModeler/RECON-1.08.tar.gz \\\n && tar -zxvf RECON-1.08.tar.gz \\\n && rm RECON-1.08.tar.gz \\\n && mv RECON-1.08 recon \\\n && cd recon/src \\\n && make \\\n && make install \\\n && cd /home/linuxbrew/ \\\n && sed -i 's,path = \\\"\\\";,path = \\\"/home/linuxbrew/recon/bin\\\";,g' /home/linuxbrew/recon/scripts/recon.pl \\\n && wget http://www.repeatmasker.org/RepeatScout-1.0.5.tar.gz \\\n && tar -zxvf RepeatScout-1.0.5.tar.gz \\\n && mv RepeatScout-1 repeatscout \\\n && cd repeatscout \\\n && make \\\n && cd /home/linuxbrew/ \\\n && wget -r -np -nH -R index.html ftp://ftp.ncbi.nih.gov/pub/seg/nseg/ \\\n && cd pub/seg/nseg/ \\\n && make \\\n && cd /home/linuxbrew/ \\\n && mv /home/linuxbrew/pub/seg/nseg /home/linuxbrew/nseg \\\n && wget http://www.repeatmasker.org/RepeatModeler/RepeatModeler-open-1.0.11.tar.gz \\\n && tar -zxvf RepeatModeler-open-1.0.11.tar.gz \\\n && rm RepeatModeler-open-1.0.11.tar.gz \\\n && mv RepeatModeler-open-1.0.11 repeatmodeler \\\n && wget --no-check-certificate https://www.bioinf.uni-leipzig.de/Software/proteinortho/proteinortho_v5.16b.tar.gz \\\n && tar -zxvf proteinortho_v5.16b.tar.gz \\\n && mv proteinortho_v5.16b proteinortho \\\n && cd proteinortho \\\n && find . -name \"*.pl\" | xargs sed -i 's,#!/usr/bin/perl,#!/usr/bin/env perl,g' \\\n && cd /home/linuxbrew/ \\\n && wget https://github.com/nextgenusfs/EVidenceModeler/archive/0.1.3.tar.gz \\\n && tar -zxvf 0.1.3.tar.gz \\\n && rm 0.1.3.tar.gz \\\n && mv EVidenceModeler-0.1.3 evidencemodeler \\\n && wget https://github.com/pezmaster31/bamtools/archive/v2.5.0.tar.gz \\\n && tar -zxvf v2.5.0.tar.gz \\\n && rm v2.5.0.tar.gz \\\n && mv bamtools-2.5.0 bamtools \\\n && cd bamtools \\\n && mkdir build \\\n && cd build \\\n && cmake .. \\\n && make \\\n && sudo make install \\\n && cd /usr/include \\\n && sudo ln -f -s ../local/include/bamtools/ \\\n && cd /usr/lib/ \\\n && sudo ln -f -s /usr/local/lib/bamtools/libbamtools.* . \\\n && cd /home/linuxbrew/ \\\n && wget http://bioinf.uni-greifswald.de/augustus/binaries/augustus-3.3.1.tar.gz \\\n && tar -zxvf augustus-3.3.1.tar.gz \\\n && rm augustus-3.3.1.tar.gz \\\n && mv augustus-3.3.1 augustus \\\n && cd augustus \\\n && sed -i 's/ cd bam2wig; make/ #cd bam2wig; make/g' /home/linuxbrew/augustus/auxprogs/Makefile \\\n && make clean \\\n && make \\\n && cd /home/linuxbrew/ \\\n && wget https://github.com/trinityrnaseq/trinityrnaseq/archive/Trinity-v2.6.6.tar.gz \\\n && tar -zxvf Trinity-v2.6.6.tar.gz \\\n && rm Trinity-v2.6.6.tar.gz \\\n && mv trinityrnaseq-Trinity-v2.6.6 Trinity \\\n && cd Trinity \\\n && make \\\n && make plugins \\\n && cd /home/linuxbrew/ \\\n && wget http://research-pub.gene.com/gmap/src/gmap-gsnap-2017-06-20.tar.gz \\\n && tar -zxvf gmap-gsnap-2017-06-20.tar.gz \\\n && rm gmap-gsnap-2017-06-20.tar.gz \\\n && mv gmap-2017-06-20/ gmap \\\n && cd gmap/ \\\n && ./configure \\\n && make \\\n && sudo make install \\\n && cd /home/linuxbrew/ \\\n && rm -r gmap \\\n && wget https://github.com/PASApipeline/PASApipeline/releases/download/pasa-v2.3.3/PASApipeline-v2.3.3.tar.gz \\\n && tar -zxvf PASApipeline-v2.3.3.tar.gz \\\n && rm PASApipeline-v2.3.3.tar.gz \\\n && mv PASApipeline-v2.3.3 PASApipeline \\\n && cd PASApipeline \\\n && make clean \\\n && make \\\n && sed -i 's/gene_id varchar(1000)/gene_id varchar(800)/g' /home/linuxbrew/PASApipeline/schema/cdna_alignment_mysqlschema \\\n && cd /home/linuxbrew/ \\\n && wget http://faculty.virginia.edu/wrpearson/fasta/fasta36/fasta-36.3.8e.tar.gz \\\n && tar -zxvf fasta-36.3.8e.tar.gz \\\n && rm fasta-36.3.8e.tar.gz \\\n && cd fasta-36.3.8e/src \\\n && make -f ../make/Makefile.linux fasta36 \\\n && cd /home/linuxbrew/ \\\n && ln -s /home/linuxbrew/fasta-36.3.8e/bin/fasta36 /home/linuxbrew/conda/bin/fasta \\\n && wget http://trna.ucsc.edu/software/trnascan-se-2.0.0.tar.gz \\\n && tar -zxvf trnascan-se-2.0.0.tar.gz \\\n && rm trnascan-se-2.0.0.tar.gz \\\n && mv tRNAscan-SE-2.0 tRNAscan-SE \\\n && cd tRNAscan-SE \\\n && ./configure --prefix=/home/linuxbrew/trnascan \\\n && make \\\n && make install \\\n && cd /home/linuxbrew/ rm -r tRNAscan-SE \\\n && ln -s /home/linuxbrew/conda/bin/cmscan /home/linuxbrew/trnascan/bin/ \\\n && ln -s /home/linuxbrew/conda/bin/cmsearch /home/linuxbrew/trnascan/bin/ \\\n && tar -zxvf phobius.tar.gz \\\n && tar -zxvf funannotate-genemark.tar.gz \\\n && brew update \\\n && brew install blast brewsci/bio/rmblast brewsci/bio/iqtree \\\n && brew cleanup \\\n && rm /home/linuxbrew/.linuxbrew/bin/tblastn\nCOPY pasa_conf.txt /home/linuxbrew/PASApipeline/pasa_conf/conf.txt\nRUN wget https://github.com/nextgenusfs/funannotate/archive/1.5.3.tar.gz \\\n && tar -zxvf 1.5.3.tar.gz \\\n && rm 1.5.3.tar.gz \\\n && mv funannotate-1.5.3 funannotate\n","originalDockerfileUglifiedHash":"1f7cb47a513c565d23fccaf6f61d5d7b","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/c93c6ccb872dd5b4efb90e5543e539e4e03def4d.dockerfile"}