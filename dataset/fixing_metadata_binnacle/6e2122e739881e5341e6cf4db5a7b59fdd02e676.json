{"seed":171821422,"processedDockerfileHash":"424fca158787b1fe2edab2e4da342faf","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-npm","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM microsoft/vsts-agent:windows-servercore-10.0.14393\nENV chocolateyUseWindowsCompression=\"false\"\nRUN @powershell -NoProfile -ExecutionPolicy Bypass -Command \"iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))\" \\\n && SET \"PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin\"\nRUN choco config set cachelocation C:chococache\nRUN choco install git nodejs jdk8 curl maven gradle ant docker ruby visualstudio2015community --confirm ---limit-output --timeout 216000\n#   choco install visualstudio2015community --confirm --timeout 216000 \\\n#   common node tools\nRUN npm install gulp@4.0.2 -g \\\n && npm install grunt@1.6.1 -g \\\n && npm install less@4.1.3 -g \\\n && npm install phantomjs-prebuilt@2.1.16 -g\nSHELL [\"powershell\", \"-Command\", \"$ErrorActionPreference\", \"=\", \"'Stop'\", \";\", \"$ProgressPreference\", \"=\", \"'SilentlyContinue'\"]\n#   .NET Core SDK\nENV DOTNET_SDK_VERSION=\"1.0.0-preview3-004056\"\nENV DOTNET_SDK_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/preview/Binaries/$DOTNET_SDK_VERSION/dotnet-dev-win-x64.$DOTNET_SDK_VERSION.zip\"\nRUN powershell -NoProfile -Command $ErrorActionPreference = 'Stop' ; Invoke-WebRequest %DOTNET_SDK_DOWNLOAD_URL% -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath '%ProgramFiles%\\dotnet' -Force ; Remove-Item -Force dotnet.zip\n#   Install .NET Core\nENV DOTNET_VERSION=\"1.1.1\"\nENV DOTNET_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/release/1.1.0/Binaries/$DOTNET_VERSION/dotnet-win-x64.$DOTNET_VERSION.zip\"\nRUN Invoke-WebRequest $Env:DOTNET_DOWNLOAD_URL -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath $Env:ProgramFilesdotnet -Force ; Remove-Item -Force dotnet.zip\n#   Install .NET Core\nENV DOTNET_VERSION=\"1.0.4\"\nENV DOTNET_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/preview/Binaries/$DOTNET_VERSION/dotnet-win-x64.$DOTNET_VERSION.zip\"\nRUN Invoke-WebRequest $Env:DOTNET_DOWNLOAD_URL -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath $Env:ProgramFilesdotnet -Force ; Remove-Item -Force dotnet.zip\n#   Install .NET Core SDK\nENV DOTNET_SDK_VERSION=\"1.0.1\"\nENV DOTNET_SDK_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/Sdk/$DOTNET_SDK_VERSION/dotnet-dev-win-x64.$DOTNET_SDK_VERSION.zip\"\nRUN Invoke-WebRequest $Env:DOTNET_SDK_DOWNLOAD_URL -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath $Env:ProgramFilesdotnet -Force ; Remove-Item -Force dotnet.zip\nSHELL [\"cmd\", \"/S\", \"/C\"]\n#   .NET Core 1.1 Runtime\nENV DOTNET_VERSION=\"1.1.0\"\nENV DOTNET_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/release/1.1.0/Binaries/$DOTNET_VERSION/dotnet-win-x64.$DOTNET_VERSION.zip\"\nRUN powershell -NoProfile -Command $ErrorActionPreference = 'Stop' ; Invoke-WebRequest %DOTNET_DOWNLOAD_URL% -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath '%ProgramFiles%\\dotnet' -Force ; Remove-Item -Force dotnet.zip\n#   .NET Core SDK\n#   ENV DOTNET_SDK_VERSION 1.0.0-preview3-004056\n#   ENV DOTNET_SDK_DOWNLOAD_URL https://dotnetcli.blob.core.windows.net/dotnet/preview/Binaries/$DOTNET_SDK_VERSION/dotnet-dev-win-x64.$DOTNET_SDK_VERSION.zip\n#   RUN powershell -NoProfile -Command \\\n#          $ErrorActionPreference = 'Stop'; \\\n#          Invoke-WebRequest %DOTNET_SDK_DOWNLOAD_URL% -OutFile dotnet.zip; \\\n#          Expand-Archive dotnet.zip -DestinationPath '%ProgramFiles%\\dotnet' -Force; \\\n#          Remove-Item -Force dotnet.zip\nRUN setx /M PATH \"%PATH%;%ProgramFiles%\\dotnet\"\n#   Trigger the population of the local package cache\nENV NUGET_XMLDOC_MODE=\"skip\"\nRUN mkdir C:warmup \\\n && cd C:warmup \\\n && dotnet new \\\n && cd .. \\\n && rmdir /S /Q C:warmup \\\n && rmdir /S /Q C:chococache\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM microsoft/vsts-agent:windows-servercore-10.0.14393\nENV chocolateyUseWindowsCompression=\"false\"\nRUN @powershell -NoProfile -ExecutionPolicy Bypass -Command \"iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))\" \\\n && SET \"PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin\"\nRUN choco config set cachelocation C:chococache\nRUN choco install git nodejs jdk8 curl maven gradle ant docker ruby visualstudio2015community --confirm ---limit-output --timeout 216000\n#  choco install visualstudio2015community --confirm --timeout 216000 \\\n#  common node tools\nRUN npm install gulp -g \\\n && npm install grunt -g \\\n && npm install less -g \\\n && npm install phantomjs-prebuilt -g\nSHELL [\"powershell\", \"-Command\", \"$ErrorActionPreference\", \"=\", \"'Stop'\", \";\", \"$ProgressPreference\", \"=\", \"'SilentlyContinue'\"]\n#  .NET Core SDK\nENV DOTNET_SDK_VERSION=\"1.0.0-preview3-004056\"\nENV DOTNET_SDK_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/preview/Binaries/$DOTNET_SDK_VERSION/dotnet-dev-win-x64.$DOTNET_SDK_VERSION.zip\"\nRUN powershell -NoProfile -Command $ErrorActionPreference = 'Stop' ; Invoke-WebRequest %DOTNET_SDK_DOWNLOAD_URL% -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath '%ProgramFiles%\\dotnet' -Force ; Remove-Item -Force dotnet.zip\n#  Install .NET Core\nENV DOTNET_VERSION=\"1.1.1\"\nENV DOTNET_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/release/1.1.0/Binaries/$DOTNET_VERSION/dotnet-win-x64.$DOTNET_VERSION.zip\"\nRUN Invoke-WebRequest $Env:DOTNET_DOWNLOAD_URL -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath $Env:ProgramFilesdotnet -Force ; Remove-Item -Force dotnet.zip\n#  Install .NET Core\nENV DOTNET_VERSION=\"1.0.4\"\nENV DOTNET_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/preview/Binaries/$DOTNET_VERSION/dotnet-win-x64.$DOTNET_VERSION.zip\"\nRUN Invoke-WebRequest $Env:DOTNET_DOWNLOAD_URL -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath $Env:ProgramFilesdotnet -Force ; Remove-Item -Force dotnet.zip\n#  Install .NET Core SDK\nENV DOTNET_SDK_VERSION=\"1.0.1\"\nENV DOTNET_SDK_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/Sdk/$DOTNET_SDK_VERSION/dotnet-dev-win-x64.$DOTNET_SDK_VERSION.zip\"\nRUN Invoke-WebRequest $Env:DOTNET_SDK_DOWNLOAD_URL -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath $Env:ProgramFilesdotnet -Force ; Remove-Item -Force dotnet.zip\nSHELL [\"cmd\", \"/S\", \"/C\"]\n#  .NET Core 1.1 Runtime\nENV DOTNET_VERSION=\"1.1.0\"\nENV DOTNET_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/release/1.1.0/Binaries/$DOTNET_VERSION/dotnet-win-x64.$DOTNET_VERSION.zip\"\nRUN powershell -NoProfile -Command $ErrorActionPreference = 'Stop' ; Invoke-WebRequest %DOTNET_DOWNLOAD_URL% -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath '%ProgramFiles%\\dotnet' -Force ; Remove-Item -Force dotnet.zip\n#  .NET Core SDK\n#  ENV DOTNET_SDK_VERSION 1.0.0-preview3-004056\n#  ENV DOTNET_SDK_DOWNLOAD_URL https://dotnetcli.blob.core.windows.net/dotnet/preview/Binaries/$DOTNET_SDK_VERSION/dotnet-dev-win-x64.$DOTNET_SDK_VERSION.zip\n#  RUN powershell -NoProfile -Command \\\n#         $ErrorActionPreference = 'Stop'; \\\n#         Invoke-WebRequest %DOTNET_SDK_DOWNLOAD_URL% -OutFile dotnet.zip; \\\n#         Expand-Archive dotnet.zip -DestinationPath '%ProgramFiles%\\dotnet' -Force; \\\n#         Remove-Item -Force dotnet.zip\nRUN setx /M PATH \"%PATH%;%ProgramFiles%\\dotnet\"\n#  Trigger the population of the local package cache\nENV NUGET_XMLDOC_MODE=\"skip\"\nRUN mkdir C:warmup \\\n && cd C:warmup \\\n && dotnet new \\\n && cd .. \\\n && rmdir /S /Q C:warmup \\\n && rmdir /S /Q C:chococache\n","injectedSmells":[],"originalDockerfileHash":"9b83a1620ec74477e11e26df0a3dc96e","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM microsoft/vsts-agent:windows-servercore-10.0.14393\nENV chocolateyUseWindowsCompression=\"false\"\nRUN @powershell -NoProfile -ExecutionPolicy Bypass -Command \"iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))\" \\\n && SET \"PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin\"\nRUN choco config set cachelocation C:chococache\nRUN choco install git nodejs jdk8 curl maven gradle ant docker ruby visualstudio2015community --confirm ---limit-output --timeout 216000\n#   choco install visualstudio2015community --confirm --timeout 216000 \\\n#   common node tools\nRUN npm install gulp -g \\\n && npm install grunt -g \\\n && npm install less -g \\\n && npm install phantomjs-prebuilt -g\nSHELL [\"powershell\", \"-Command\", \"$ErrorActionPreference\", \"=\", \"'Stop'\", \";\", \"$ProgressPreference\", \"=\", \"'SilentlyContinue'\"]\n#   .NET Core SDK\nENV DOTNET_SDK_VERSION=\"1.0.0-preview3-004056\"\nENV DOTNET_SDK_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/preview/Binaries/$DOTNET_SDK_VERSION/dotnet-dev-win-x64.$DOTNET_SDK_VERSION.zip\"\nRUN powershell -NoProfile -Command $ErrorActionPreference = 'Stop' ; Invoke-WebRequest %DOTNET_SDK_DOWNLOAD_URL% -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath '%ProgramFiles%\\dotnet' -Force ; Remove-Item -Force dotnet.zip\n#   Install .NET Core\nENV DOTNET_VERSION=\"1.1.1\"\nENV DOTNET_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/release/1.1.0/Binaries/$DOTNET_VERSION/dotnet-win-x64.$DOTNET_VERSION.zip\"\nRUN Invoke-WebRequest $Env:DOTNET_DOWNLOAD_URL -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath $Env:ProgramFilesdotnet -Force ; Remove-Item -Force dotnet.zip\n#   Install .NET Core\nENV DOTNET_VERSION=\"1.0.4\"\nENV DOTNET_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/preview/Binaries/$DOTNET_VERSION/dotnet-win-x64.$DOTNET_VERSION.zip\"\nRUN Invoke-WebRequest $Env:DOTNET_DOWNLOAD_URL -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath $Env:ProgramFilesdotnet -Force ; Remove-Item -Force dotnet.zip\n#   Install .NET Core SDK\nENV DOTNET_SDK_VERSION=\"1.0.1\"\nENV DOTNET_SDK_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/Sdk/$DOTNET_SDK_VERSION/dotnet-dev-win-x64.$DOTNET_SDK_VERSION.zip\"\nRUN Invoke-WebRequest $Env:DOTNET_SDK_DOWNLOAD_URL -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath $Env:ProgramFilesdotnet -Force ; Remove-Item -Force dotnet.zip\nSHELL [\"cmd\", \"/S\", \"/C\"]\n#   .NET Core 1.1 Runtime\nENV DOTNET_VERSION=\"1.1.0\"\nENV DOTNET_DOWNLOAD_URL=\"https://dotnetcli.blob.core.windows.net/dotnet/release/1.1.0/Binaries/$DOTNET_VERSION/dotnet-win-x64.$DOTNET_VERSION.zip\"\nRUN powershell -NoProfile -Command $ErrorActionPreference = 'Stop' ; Invoke-WebRequest %DOTNET_DOWNLOAD_URL% -OutFile dotnet.zip ; Expand-Archive dotnet.zip -DestinationPath '%ProgramFiles%\\dotnet' -Force ; Remove-Item -Force dotnet.zip\n#   .NET Core SDK\n#   ENV DOTNET_SDK_VERSION 1.0.0-preview3-004056\n#   ENV DOTNET_SDK_DOWNLOAD_URL https://dotnetcli.blob.core.windows.net/dotnet/preview/Binaries/$DOTNET_SDK_VERSION/dotnet-dev-win-x64.$DOTNET_SDK_VERSION.zip\n#   RUN powershell -NoProfile -Command \\\n#          $ErrorActionPreference = 'Stop'; \\\n#          Invoke-WebRequest %DOTNET_SDK_DOWNLOAD_URL% -OutFile dotnet.zip; \\\n#          Expand-Archive dotnet.zip -DestinationPath '%ProgramFiles%\\dotnet' -Force; \\\n#          Remove-Item -Force dotnet.zip\nRUN setx /M PATH \"%PATH%;%ProgramFiles%\\dotnet\"\n#   Trigger the population of the local package cache\nENV NUGET_XMLDOC_MODE=\"skip\"\nRUN mkdir C:warmup \\\n && cd C:warmup \\\n && dotnet new \\\n && cd .. \\\n && rmdir /S /Q C:warmup \\\n && rmdir /S /Q C:chococache\n","originalDockerfileUglifiedHash":"4328b2e684ec9a5bc454f6e6ba7459df","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/6e2122e739881e5341e6cf4db5a7b59fdd02e676.dockerfile"}