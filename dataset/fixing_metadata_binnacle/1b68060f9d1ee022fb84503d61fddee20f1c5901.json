{"seed":4209645593,"processedDockerfileHash":"70a23cfb83a1fbbbb044337ac3eb2f1f","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:14.04\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN :\n#  Runit\nRUN (apt-get update ;apt-get install --no-install-recommends runit=2.1.1-6.2ubuntu3 -y )\nCMD /usr/sbin/runsvdir-start\n#  SSHD\nRUN (apt-get update ;apt-get install --no-install-recommends openssh-server=1:6.6p1-2ubuntu2.13 -y ) \\\n && mkdir -p /var/run/sshd \\\n && echo 'root:root' | chpasswd\nRUN sed -i \"s/session.*required.*pam_loginuid.so/#session required pam_loginuid.so/\" /etc/pam.d/sshd\nRUN sed -i \"s/PermitRootLogin without-password/#PermitRootLogin without-password/\" /etc/ssh/sshd_config\n#  Utilities\nRUN (apt-get update ;apt-get install --no-install-recommends vim=2:7.4.052-1ubuntu3.1 less=458-2 net-tools=1.60-25ubuntu2.1 inetutils-ping=2:1.9.2-1 curl=7.35.0-1ubuntu2.20 git=1:1.9.1-1ubuntu0.10 telnet=0.17-36build2 nmap=6.40-0.2ubuntu1 socat=1.7.2.3-1 dnsutils=1:9.9.5.dfsg-3ubuntu0.19 netcat=1.10-40 tree=1.6.0-1 htop=1.0.2-3 unzip=6.0-9ubuntu1.5 sudo=1.8.9p5-1ubuntu1.4 software-properties-common=0.92.37.8 -y )\n#  Required by Python packages\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y build-essential python-dev python-pip liblapack-dev libatlas-dev gfortran libfreetype6 libfreetype6-dev libpng12-dev python-lxml libyaml-dev g++ libffi-dev\n#  0MQ\nRUN cd /tmp \\\n && wget http://download.zeromq.org/zeromq-4.0.3.tar.gz \\\n && tar xvfz zeromq-4.0.3.tar.gz \\\n && cd zeromq-4.0.3 \\\n && ./configure \\\n && make install \\\n && ldconfig\n#  Upgrade pip\nRUN pip install setuptools==67.6.1 -U\nRUN pip install pip==23.1 -U\n#  matplotlib needs latest distribute\nRUN pip install distribute==0.7.3 -U\n#  IPython\nRUN pip install ipython==8.12.0\nENV IPYTHONDIR=\"/ipython\"\nRUN mkdir /ipython \\\n && ipython profile create nbserver\n#  NumPy v1.7.1 is required for Numba\nRUN pip install numpy==1.7.1\n#  Pandas\nRUN pip install pandas==2.0.0\n#  Optional\nRUN pip install cython==0.29.34\nRUN pip install jinja2==3.1.2 pyzmq==25.0.2 tornado==6.2\nRUN pip install numexpr==2.8.4 bottleneck==1.3.7 scipy==1.10.1 pygments==2.15.0\nRUN (apt-get update ;apt-get install --no-install-recommends pkg-config=0.26-1ubuntu4 )\nRUN pip install matplotlib==3.7.1\nRUN pip install sympy==1.11.1 pymc==5.3.0\nRUN pip install patsy==0.5.3\nRUN pip install statsmodels==0.13.5\nRUN pip install beautifulsoup4==4.12.2 html5lib==1.1\n#  Pattern\nRUN pip install --allow-external pattern\n#  NLTK\nRUN pip install pyyaml==6.0 nltk==3.8.1\n#  Networkx\nRUN pip install networkx==3.1\n#  LLVM and Numba\nRUN cd /tmp \\\n && wget http://llvm.org/releases/3.2/llvm-3.2.src.tar.gz \\\n && tar zxvf llvm-3.2.src.tar.gz \\\n && cd llvm-3.2.src \\\n && ./configure --enable-optimized \\\n && REQUIRES_RTTI=1 make install \\\n && pip install llvmpy==0.12.7 \\\n && pip install llvmmath==0.1.1 \\\n && pip install numba==0.56.4\n#  Biopython\nRUN pip install biopython==1.81\n#  Bokeh\n#  RUN pip install requests bokeh\n#  Install R 3+\nRUN echo 'deb http://cran.rstudio.com/bin/linux/ubuntu trusty/' > /etc/apt/sources.list.d/r.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends r-base=3.0.2-1ubuntu1 -y )\n#  Rmagic\nRUN pip install rpy2==3.5.10\n#  Vincent\nRUN pip install vincent==0.4.4\n#  Add runit services\nCOPY sv /etc/service\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:14.04\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN apt-get update\n# Runit\nRUN apt-get install runit -y\nCMD /usr/sbin/runsvdir-start\n# SSHD\nRUN apt-get install openssh-server -y \\\n && mkdir -p /var/run/sshd \\\n && echo 'root:root' | chpasswd\nRUN sed -i \"s/session.*required.*pam_loginuid.so/#session required pam_loginuid.so/\" /etc/pam.d/sshd\nRUN sed -i \"s/PermitRootLogin without-password/#PermitRootLogin without-password/\" /etc/ssh/sshd_config\n# Utilities\nRUN apt-get install vim less net-tools inetutils-ping curl git telnet nmap socat dnsutils netcat tree htop unzip sudo software-properties-common -y\n# Required by Python packages\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y build-essential python-dev python-pip liblapack-dev libatlas-dev gfortran libfreetype6 libfreetype6-dev libpng12-dev python-lxml libyaml-dev g++ libffi-dev\n# 0MQ\nRUN cd /tmp \\\n && wget http://download.zeromq.org/zeromq-4.0.3.tar.gz \\\n && tar xvfz zeromq-4.0.3.tar.gz \\\n && cd zeromq-4.0.3 \\\n && ./configure \\\n && make install \\\n && ldconfig\n# Upgrade pip\nRUN pip install setuptools -U\nRUN pip install pip -U\n# matplotlib needs latest distribute\nRUN pip install distribute -U\n# IPython\nRUN pip install ipython\nENV IPYTHONDIR=\"/ipython\"\nRUN mkdir /ipython \\\n && ipython profile create nbserver\n# NumPy v1.7.1 is required for Numba\nRUN pip install numpy==1.7.1\n# Pandas\nRUN pip install pandas\n# Optional\nRUN pip install cython\nRUN pip install jinja2 pyzmq tornado\nRUN pip install numexpr bottleneck scipy pygments\nRUN apt-get install pkg-config\nRUN pip install matplotlib\nRUN pip install sympy pymc\nRUN pip install patsy\nRUN pip install statsmodels\nRUN pip install beautifulsoup4 html5lib\n# Pattern\nRUN pip install --allow-external pattern\n# NLTK\nRUN pip install pyyaml nltk\n# Networkx\nRUN pip install networkx\n# LLVM and Numba\nRUN cd /tmp \\\n && wget http://llvm.org/releases/3.2/llvm-3.2.src.tar.gz \\\n && tar zxvf llvm-3.2.src.tar.gz \\\n && cd llvm-3.2.src \\\n && ./configure --enable-optimized \\\n && REQUIRES_RTTI=1 make install \\\n && pip install llvmpy \\\n && pip install llvmmath \\\n && pip install numba\n# Biopython\nRUN pip install biopython\n# Bokeh\n# RUN pip install requests bokeh\n# Install R 3+\nRUN echo 'deb http://cran.rstudio.com/bin/linux/ubuntu trusty/' > /etc/apt/sources.list.d/r.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9\nRUN apt-get update\nRUN apt-get install r-base -y\n# Rmagic\nRUN pip install rpy2\n# Vincent\nRUN pip install vincent\n# Add runit services\nADD sv /etc/service\n","injectedSmells":[],"originalDockerfileHash":"3f2f3f35d3efea5569518949faea1819","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:14.04\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN apt-get update\n#  Runit\nRUN apt-get install runit -y\nCMD /usr/sbin/runsvdir-start\n#  SSHD\nRUN apt-get install openssh-server -y \\\n && mkdir -p /var/run/sshd \\\n && echo 'root:root' | chpasswd\nRUN sed -i \"s/session.*required.*pam_loginuid.so/#session required pam_loginuid.so/\" /etc/pam.d/sshd\nRUN sed -i \"s/PermitRootLogin without-password/#PermitRootLogin without-password/\" /etc/ssh/sshd_config\n#  Utilities\nRUN apt-get install vim less net-tools inetutils-ping curl git telnet nmap socat dnsutils netcat tree htop unzip sudo software-properties-common -y\n#  Required by Python packages\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y build-essential python-dev python-pip liblapack-dev libatlas-dev gfortran libfreetype6 libfreetype6-dev libpng12-dev python-lxml libyaml-dev g++ libffi-dev\n#  0MQ\nRUN cd /tmp \\\n && wget http://download.zeromq.org/zeromq-4.0.3.tar.gz \\\n && tar xvfz zeromq-4.0.3.tar.gz \\\n && cd zeromq-4.0.3 \\\n && ./configure \\\n && make install \\\n && ldconfig\n#  Upgrade pip\nRUN pip install setuptools -U\nRUN pip install pip -U\n#  matplotlib needs latest distribute\nRUN pip install distribute -U\n#  IPython\nRUN pip install ipython\nENV IPYTHONDIR=\"/ipython\"\nRUN mkdir /ipython \\\n && ipython profile create nbserver\n#  NumPy v1.7.1 is required for Numba\nRUN pip install numpy==1.7.1\n#  Pandas\nRUN pip install pandas\n#  Optional\nRUN pip install cython\nRUN pip install jinja2 pyzmq tornado\nRUN pip install numexpr bottleneck scipy pygments\nRUN apt-get install pkg-config\nRUN pip install matplotlib\nRUN pip install sympy pymc\nRUN pip install patsy\nRUN pip install statsmodels\nRUN pip install beautifulsoup4 html5lib\n#  Pattern\nRUN pip install --allow-external pattern\n#  NLTK\nRUN pip install pyyaml nltk\n#  Networkx\nRUN pip install networkx\n#  LLVM and Numba\nRUN cd /tmp \\\n && wget http://llvm.org/releases/3.2/llvm-3.2.src.tar.gz \\\n && tar zxvf llvm-3.2.src.tar.gz \\\n && cd llvm-3.2.src \\\n && ./configure --enable-optimized \\\n && REQUIRES_RTTI=1 make install \\\n && pip install llvmpy \\\n && pip install llvmmath \\\n && pip install numba\n#  Biopython\nRUN pip install biopython\n#  Bokeh\n#  RUN pip install requests bokeh\n#  Install R 3+\nRUN echo 'deb http://cran.rstudio.com/bin/linux/ubuntu trusty/' > /etc/apt/sources.list.d/r.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9\nRUN apt-get update\nRUN apt-get install r-base -y\n#  Rmagic\nRUN pip install rpy2\n#  Vincent\nRUN pip install vincent\n#  Add runit services\nADD sv /etc/service\n","originalDockerfileUglifiedHash":"37f055c97359d0c2d19824a2bc8dc3f9","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/1b68060f9d1ee022fb84503d61fddee20f1c5901.dockerfile"}