{"seed":2269633482,"processedDockerfileHash":"800cd66417e1e9fcc9747e3c3341b2fb","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM centos:6\n#   Install dependencies\nRUN yum install -y centos-release-SCL epel-release wget unzip \\\n && rpm --import http://linuxsoft.cern.ch/cern/slc6X/x86_64/RPM-GPG-KEY-cern \\\n && wget -O /etc/yum.repos.d/slc6-devtoolset.repo http://linuxsoft.cern.ch/cern/devtoolset/slc6-devtoolset.repo \\\n && yum install -y \"perl(Time::HiRes)\" autoconf cmake cmake3 devtoolset-2-toolchain doxygen expat-devel gcc gcc-c++ gdb gettext-devel krb5-devel libedit-devel libidn-devel libmetalink-devel libnghttp2-devel libssh2-devel libunwind-devel libuuid-devel lttng-ust-devel lzma ncurses-devel openssl-devel perl-devel python-argparse python27 readline-devel swig xz zlib-devel \\\n && yum clean all\n#   Build and install clang and lldb 3.9.1\nRUN wget ftp://sourceware.org/pub/binutils/snapshots/binutils-2.29.1.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/cfe-3.9.1.src.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/llvm-3.9.1.src.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/lldb-3.9.1.src.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/compiler-rt-3.9.1.src.tar.xz \\\n && tar -xf binutils-2.29.1.tar.xz \\\n && tar -xf llvm-3.9.1.src.tar.xz \\\n && mkdir llvm-3.9.1.src/tools/clang \\\n && mkdir llvm-3.9.1.src/tools/lldb \\\n && mkdir llvm-3.9.1.src/projects/compiler-rt \\\n && tar -xf cfe-3.9.1.src.tar.xz --strip 1 -C llvm-3.9.1.src/tools/clang \\\n && tar -xf lldb-3.9.1.src.tar.xz --strip 1 -C llvm-3.9.1.src/tools/lldb \\\n && tar -xf compiler-rt-3.9.1.src.tar.xz --strip 1 -C llvm-3.9.1.src/projects/compiler-rt \\\n && rm binutils-2.29.1.tar.xz \\\n && rm cfe-3.9.1.src.tar.xz \\\n && rm lldb-3.9.1.src.tar.xz \\\n && rm llvm-3.9.1.src.tar.xz \\\n && rm compiler-rt-3.9.1.src.tar.xz \\\n && mkdir llvmbuild \\\n && cd llvmbuild \\\n && scl enable python27 devtoolset-2 ' cmake3 -DCMAKE_CXX_COMPILER=/opt/rh/devtoolset-2/root/usr/bin/g++ -DCMAKE_C_COMPILER=/opt/rh/devtoolset-2/root/usr/bin/gcc -DCMAKE_LINKER=/opt/rh/devtoolset-2/root/usr/bin/ld -DCMAKE_BUILD_TYPE=Release -DLLVM_LIBDIR_SUFFIX=64 -DLLVM_ENABLE_EH=1 -DLLVM_ENABLE_RTTI=1 -DLLVM_BINUTILS_INCDIR=../binutils-2.29.1/include ../llvm-3.9.1.src \\\n && make -j $(($(getconf _NPROCESSORS_ONLN)+1)) \\\n && make install ' \\\n && cd .. \\\n && rm -r llvmbuild \\\n && rm -r llvm-3.9.1.src \\\n && rm -r binutils-2.29.1\n#   Build and install curl 7.45.0\nRUN wget https://curl.haxx.se/download/curl-7.45.0.tar.lzma \\\n && tar -xf curl-7.45.0.tar.lzma \\\n && rm curl-7.45.0.tar.lzma \\\n && cd curl-7.45.0 \\\n && scl enable python27 devtoolset-2 ' ./configure --disable-dict --disable-ftp --disable-gopher --disable-imap --disable-ldap --disable-ldaps --disable-libcurl-option --disable-manual --disable-pop3 --disable-rtsp --disable-smb --disable-smtp --disable-telnet --disable-tftp --enable-ipv6 --enable-optimize --enable-symbol-hiding --with-ca-bundle=/etc/pki/tls/certs/ca-bundle.crt --with-nghttp2 --with-gssapi --with-ssl --without-librtmp \\\n && make install ' \\\n && cd .. \\\n && rm -r curl-7.45.0\n#   Install ICU 57.1\nRUN wget http://download.icu-project.org/files/icu4c/57.1/icu4c-57_1-RHEL6-x64.tgz \\\n && tar -xf icu4c-57_1-RHEL6-x64.tgz -C / \\\n && rm icu4c-57_1-RHEL6-x64.tgz\n#   Compile and install a version of the git that supports the features that cli repo build needs\n#   NOTE: The git needs to be built after the curl so that it can use the libcurl to add https\n#   protocol support.\nRUN wget https://www.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz \\\n && tar -xf git-2.9.5.tar.gz \\\n && rm git-2.9.5.tar.gz \\\n && cd git-2.9.5 \\\n && make configure \\\n && ./configure --prefix=/usr/local --without-tcltk \\\n && make -j $( nproc --all ;) all \\\n && make install \\\n && cd .. \\\n && rm -r git-2.9.5\nENV LD_LIBRARY_PATH=\"/usr/local/lib\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM centos:6\n#  Install dependencies\nRUN yum install -y centos-release-SCL epel-release wget unzip \\\n && rpm --import http://linuxsoft.cern.ch/cern/slc6X/x86_64/RPM-GPG-KEY-cern \\\n && wget -O /etc/yum.repos.d/slc6-devtoolset.repo http://linuxsoft.cern.ch/cern/devtoolset/slc6-devtoolset.repo \\\n && yum install -y \"perl(Time::HiRes)\" autoconf cmake cmake3 devtoolset-2-toolchain doxygen expat-devel gcc gcc-c++ gdb gettext-devel krb5-devel libedit-devel libidn-devel libmetalink-devel libnghttp2-devel libssh2-devel libunwind-devel libuuid-devel lttng-ust-devel lzma ncurses-devel openssl-devel perl-devel python-argparse python27 readline-devel swig xz zlib-devel \\\n && yum clean all\n#  Build and install clang and lldb 3.9.1\nRUN wget ftp://sourceware.org/pub/binutils/snapshots/binutils-2.29.1.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/cfe-3.9.1.src.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/llvm-3.9.1.src.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/lldb-3.9.1.src.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/compiler-rt-3.9.1.src.tar.xz \\\n && tar -xf binutils-2.29.1.tar.xz \\\n && tar -xf llvm-3.9.1.src.tar.xz \\\n && mkdir llvm-3.9.1.src/tools/clang \\\n && mkdir llvm-3.9.1.src/tools/lldb \\\n && mkdir llvm-3.9.1.src/projects/compiler-rt \\\n && tar -xf cfe-3.9.1.src.tar.xz --strip 1 -C llvm-3.9.1.src/tools/clang \\\n && tar -xf lldb-3.9.1.src.tar.xz --strip 1 -C llvm-3.9.1.src/tools/lldb \\\n && tar -xf compiler-rt-3.9.1.src.tar.xz --strip 1 -C llvm-3.9.1.src/projects/compiler-rt \\\n && rm binutils-2.29.1.tar.xz \\\n && rm cfe-3.9.1.src.tar.xz \\\n && rm lldb-3.9.1.src.tar.xz \\\n && rm llvm-3.9.1.src.tar.xz \\\n && rm compiler-rt-3.9.1.src.tar.xz \\\n && mkdir llvmbuild \\\n && cd llvmbuild \\\n && scl enable python27 devtoolset-2 ' cmake3 -DCMAKE_CXX_COMPILER=/opt/rh/devtoolset-2/root/usr/bin/g++ -DCMAKE_C_COMPILER=/opt/rh/devtoolset-2/root/usr/bin/gcc -DCMAKE_LINKER=/opt/rh/devtoolset-2/root/usr/bin/ld -DCMAKE_BUILD_TYPE=Release -DLLVM_LIBDIR_SUFFIX=64 -DLLVM_ENABLE_EH=1 -DLLVM_ENABLE_RTTI=1 -DLLVM_BINUTILS_INCDIR=../binutils-2.29.1/include ../llvm-3.9.1.src \\\n && make -j $(($(getconf _NPROCESSORS_ONLN)+1)) \\\n && make install ' \\\n && cd .. \\\n && rm -r llvmbuild \\\n && rm -r llvm-3.9.1.src \\\n && rm -r binutils-2.29.1\n#  Build and install curl 7.45.0\nRUN wget https://curl.haxx.se/download/curl-7.45.0.tar.lzma \\\n && tar -xf curl-7.45.0.tar.lzma \\\n && rm curl-7.45.0.tar.lzma \\\n && cd curl-7.45.0 \\\n && scl enable python27 devtoolset-2 ' ./configure --disable-dict --disable-ftp --disable-gopher --disable-imap --disable-ldap --disable-ldaps --disable-libcurl-option --disable-manual --disable-pop3 --disable-rtsp --disable-smb --disable-smtp --disable-telnet --disable-tftp --enable-ipv6 --enable-optimize --enable-symbol-hiding --with-ca-bundle=/etc/pki/tls/certs/ca-bundle.crt --with-nghttp2 --with-gssapi --with-ssl --without-librtmp \\\n && make install ' \\\n && cd .. \\\n && rm -r curl-7.45.0\n#  Install ICU 57.1\nRUN wget http://download.icu-project.org/files/icu4c/57.1/icu4c-57_1-RHEL6-x64.tgz \\\n && tar -xf icu4c-57_1-RHEL6-x64.tgz -C / \\\n && rm icu4c-57_1-RHEL6-x64.tgz\n#  Compile and install a version of the git that supports the features that cli repo build needs\n#  NOTE: The git needs to be built after the curl so that it can use the libcurl to add https\n#  protocol support.\nRUN wget https://www.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz \\\n && tar -xf git-2.9.5.tar.gz \\\n && rm git-2.9.5.tar.gz \\\n && cd git-2.9.5 \\\n && make configure \\\n && ./configure --prefix=/usr/local --without-tcltk \\\n && make -j $( nproc --all ;) all \\\n && make install \\\n && cd .. \\\n && rm -r git-2.9.5\nENV LD_LIBRARY_PATH=\"/usr/local/lib\"\n","injectedSmells":[],"originalDockerfileHash":"8ac671b1a911b181d22467fd8747dbca","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM centos:6\n#   Install dependencies\nRUN yum install -y centos-release-SCL epel-release wget unzip \\\n && rpm --import http://linuxsoft.cern.ch/cern/slc6X/x86_64/RPM-GPG-KEY-cern \\\n && wget -O /etc/yum.repos.d/slc6-devtoolset.repo http://linuxsoft.cern.ch/cern/devtoolset/slc6-devtoolset.repo \\\n && yum install -y \"perl(Time::HiRes)\" autoconf cmake cmake3 devtoolset-2-toolchain doxygen expat-devel gcc gcc-c++ gdb gettext-devel krb5-devel libedit-devel libidn-devel libmetalink-devel libnghttp2-devel libssh2-devel libunwind-devel libuuid-devel lttng-ust-devel lzma ncurses-devel openssl-devel perl-devel python-argparse python27 readline-devel swig xz zlib-devel \\\n && yum clean all\n#   Build and install clang and lldb 3.9.1\nRUN wget ftp://sourceware.org/pub/binutils/snapshots/binutils-2.29.1.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/cfe-3.9.1.src.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/llvm-3.9.1.src.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/lldb-3.9.1.src.tar.xz \\\n && wget http://releases.llvm.org/3.9.1/compiler-rt-3.9.1.src.tar.xz \\\n && tar -xf binutils-2.29.1.tar.xz \\\n && tar -xf llvm-3.9.1.src.tar.xz \\\n && mkdir llvm-3.9.1.src/tools/clang \\\n && mkdir llvm-3.9.1.src/tools/lldb \\\n && mkdir llvm-3.9.1.src/projects/compiler-rt \\\n && tar -xf cfe-3.9.1.src.tar.xz --strip 1 -C llvm-3.9.1.src/tools/clang \\\n && tar -xf lldb-3.9.1.src.tar.xz --strip 1 -C llvm-3.9.1.src/tools/lldb \\\n && tar -xf compiler-rt-3.9.1.src.tar.xz --strip 1 -C llvm-3.9.1.src/projects/compiler-rt \\\n && rm binutils-2.29.1.tar.xz \\\n && rm cfe-3.9.1.src.tar.xz \\\n && rm lldb-3.9.1.src.tar.xz \\\n && rm llvm-3.9.1.src.tar.xz \\\n && rm compiler-rt-3.9.1.src.tar.xz \\\n && mkdir llvmbuild \\\n && cd llvmbuild \\\n && scl enable python27 devtoolset-2 ' cmake3 -DCMAKE_CXX_COMPILER=/opt/rh/devtoolset-2/root/usr/bin/g++ -DCMAKE_C_COMPILER=/opt/rh/devtoolset-2/root/usr/bin/gcc -DCMAKE_LINKER=/opt/rh/devtoolset-2/root/usr/bin/ld -DCMAKE_BUILD_TYPE=Release -DLLVM_LIBDIR_SUFFIX=64 -DLLVM_ENABLE_EH=1 -DLLVM_ENABLE_RTTI=1 -DLLVM_BINUTILS_INCDIR=../binutils-2.29.1/include ../llvm-3.9.1.src \\\n && make -j $(($(getconf _NPROCESSORS_ONLN)+1)) \\\n && make install ' \\\n && cd .. \\\n && rm -r llvmbuild \\\n && rm -r llvm-3.9.1.src \\\n && rm -r binutils-2.29.1\n#   Build and install curl 7.45.0\nRUN wget https://curl.haxx.se/download/curl-7.45.0.tar.lzma \\\n && tar -xf curl-7.45.0.tar.lzma \\\n && rm curl-7.45.0.tar.lzma \\\n && cd curl-7.45.0 \\\n && scl enable python27 devtoolset-2 ' ./configure --disable-dict --disable-ftp --disable-gopher --disable-imap --disable-ldap --disable-ldaps --disable-libcurl-option --disable-manual --disable-pop3 --disable-rtsp --disable-smb --disable-smtp --disable-telnet --disable-tftp --enable-ipv6 --enable-optimize --enable-symbol-hiding --with-ca-bundle=/etc/pki/tls/certs/ca-bundle.crt --with-nghttp2 --with-gssapi --with-ssl --without-librtmp \\\n && make install ' \\\n && cd .. \\\n && rm -r curl-7.45.0\n#   Install ICU 57.1\nRUN wget http://download.icu-project.org/files/icu4c/57.1/icu4c-57_1-RHEL6-x64.tgz \\\n && tar -xf icu4c-57_1-RHEL6-x64.tgz -C / \\\n && rm icu4c-57_1-RHEL6-x64.tgz\n#   Compile and install a version of the git that supports the features that cli repo build needs\n#   NOTE: The git needs to be built after the curl so that it can use the libcurl to add https\n#   protocol support.\nRUN wget https://www.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz \\\n && tar -xf git-2.9.5.tar.gz \\\n && rm git-2.9.5.tar.gz \\\n && cd git-2.9.5 \\\n && make configure \\\n && ./configure --prefix=/usr/local --without-tcltk \\\n && make -j $( nproc --all ;) all \\\n && make install \\\n && cd .. \\\n && rm -r git-2.9.5\nENV LD_LIBRARY_PATH=\"/usr/local/lib\"\n","originalDockerfileUglifiedHash":"cc4b1cffa491ed0065cfec62f6fc15aa","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/8270e68b98792d5612e1a377cfb78a3b81c342e8.dockerfile"}