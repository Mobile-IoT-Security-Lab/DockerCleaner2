{"seed":267784809,"processedDockerfileHash":"5306fb1eae8d5a83e7d2c4e5d9999977","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM alpine\nMAINTAINER Lothar Wieske <lothar.wieske@gmail.com>\nRUN cd /tmp \\\n && apk add ca-certificates=20220614-r4 wget=1.21.3-r2 --no-cache --virtual=build-dependencies \\\n && export GLIBC_VERSION=\"2.23-r3\" \\\n && export JAVA_PACKAGE=\"jdk\" \\\n && export JAVA_UPDATE=\"11\" \\\n && export JAVA_BUILD=\"12\" \\\n && export GLIBC_URL=\"https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}\" \\\n && export GLIBC_APK=\"glibc-${GLIBC_VERSION}.apk\" \\\n && export GLIBC_BIN_APK=\"glibc-bin-${GLIBC_VERSION}.apk\" \\\n && export JAVA_URL=\"http://download.oracle.com/otn-pub/java/jdk/8u${JAVA_UPDATE}-b${JAVA_BUILD}\" \\\n && export JAVA_TGZ=\"${JAVA_PACKAGE}-8u${JAVA_UPDATE}-linux-x64.tar.gz\" \\\n && export JAVA_HOME=\"/usr/lib/jvm/default-jvm\" \\\n && wget -q ${GLIBC_URL}/${GLIBC_APK} \\\n && wget -q ${GLIBC_URL}/${GLIBC_BIN_APK} \\\n && apk add ${GLIBC_APK} --no-cache --allow-untrusted \\\n && apk add ${GLIBC_BIN_APK} --no-cache --allow-untrusted \\\n && echo 'hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4' >> /etc/nsswitch.conf \\\n && mkdir -p /usr/lib/jvm \\\n && wget -qO- --header \"Cookie: oraclelicense=accept-securebackup-cookie;\" ${JAVA_URL}/${JAVA_TGZ} | tar -xzf - \\\n && if [ ${JAVA_PACKAGE} = \"server-jre\" ] ; then mv jdk*/jre /usr/lib/jvm/java-8-oracle ; else mv j* /usr/lib/jvm/java-8-oracle ; fi \\\n && ln -s java-8-oracle $JAVA_HOME \\\n && rm -rf $JAVA_HOME/*src.zip \\\n && rm -rf ${JAVA_HOME}/*/javaws ${JAVA_HOME}/*/jjs ${JAVA_HOME}/*/keytool ${JAVA_HOME}/*/orbd ${JAVA_HOME}/*/pack200 ${JAVA_HOME}/*/policytool ${JAVA_HOME}/*/rmid ${JAVA_HOME}/*/rmiregistry ${JAVA_HOME}/*/servertool ${JAVA_HOME}/*/tnameserv ${JAVA_HOME}/*/unpack200 ${JAVA_HOME}/*/*javafx* ${JAVA_HOME}/*/*jfx* ${JAVA_HOME}/*/amd64/libdecora_sse.so ${JAVA_HOME}/*/amd64/libfxplugins.so ${JAVA_HOME}/*/amd64/libglass.so ${JAVA_HOME}/*/amd64/libgstreamer-lite.so ${JAVA_HOME}/*/amd64/libjavafx*.so ${JAVA_HOME}/*/amd64/libjfx*.so ${JAVA_HOME}/*/amd64/libprism_*.so ${JAVA_HOME}/*/deploy* ${JAVA_HOME}/*/desktop ${JAVA_HOME}/*/ext/jfxrt.jar ${JAVA_HOME}/*/ext/nashorn.jar ${JAVA_HOME}/*/javaws.jar ${JAVA_HOME}/*/jfr ${JAVA_HOME}/*/jfr ${JAVA_HOME}/*/jfr.jar ${JAVA_HOME}/*/missioncontrol ${JAVA_HOME}/*/oblique-fonts ${JAVA_HOME}/*/plugin.jar ${JAVA_HOME}/*/visualvm ${JAVA_HOME}/man ${JAVA_HOME}/plugin ${JAVA_HOME}/*.txt ${JAVA_HOME}/*/*/javaws ${JAVA_HOME}/*/*/jjs ${JAVA_HOME}/*/*/keytool ${JAVA_HOME}/*/*/orbd ${JAVA_HOME}/*/*/pack200 ${JAVA_HOME}/*/*/policytool ${JAVA_HOME}/*/*/rmid ${JAVA_HOME}/*/*/rmiregistry ${JAVA_HOME}/*/*/servertool ${JAVA_HOME}/*/*/tnameserv ${JAVA_HOME}/*/*/unpack200 ${JAVA_HOME}/*/*/*javafx* ${JAVA_HOME}/*/*/*jfx* ${JAVA_HOME}/*/*/amd64/libdecora_sse.so ${JAVA_HOME}/*/*/amd64/libfxplugins.so ${JAVA_HOME}/*/*/amd64/libglass.so ${JAVA_HOME}/*/*/amd64/libgstreamer-lite.so ${JAVA_HOME}/*/*/amd64/libjavafx*.so ${JAVA_HOME}/*/*/amd64/libjfx*.so ${JAVA_HOME}/*/*/amd64/libprism_*.so ${JAVA_HOME}/*/*/deploy* ${JAVA_HOME}/*/*/desktop ${JAVA_HOME}/*/*/ext/jfxrt.jar ${JAVA_HOME}/*/*/ext/nashorn.jar ${JAVA_HOME}/*/*/javaws.jar ${JAVA_HOME}/*/*/jfr ${JAVA_HOME}/*/*/jfr ${JAVA_HOME}/*/*/jfr.jar ${JAVA_HOME}/*/*/missioncontrol ${JAVA_HOME}/*/*/oblique-fonts ${JAVA_HOME}/*/*/plugin.jar ${JAVA_HOME}/*/*/visualvm ${JAVA_HOME}/*/man ${JAVA_HOME}/*/plugin ${JAVA_HOME}/*.txt \\\n && apk del build-dependencies \\\n && ln -s $JAVA_HOME/bin/* /usr/bin/ \\\n && rm -rf /tmp/*\nENV JAVA_HOME=\"/usr/lib/jvm/default-jvm/\" \\\n    PATH=\"${PATH}:/usr/lib/jvm/default-jvm/bin\"\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM alpine\nMAINTAINER Lothar Wieske <lothar.wieske@gmail.com>\nRUN cd /tmp \\\n && apk add --no-cache --virtual=build-dependencies ca-certificates wget \\\n && export GLIBC_VERSION=\"2.23-r3\" \\\n && export JAVA_PACKAGE=\"jdk\" \\\n && export JAVA_UPDATE=\"11\" \\\n && export JAVA_BUILD=\"12\" \\\n && export GLIBC_URL=\"https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}\" \\\n && export GLIBC_APK=\"glibc-${GLIBC_VERSION}.apk\" \\\n && export GLIBC_BIN_APK=\"glibc-bin-${GLIBC_VERSION}.apk\" \\\n && export JAVA_URL=\"http://download.oracle.com/otn-pub/java/jdk/8u${JAVA_UPDATE}-b${JAVA_BUILD}\" \\\n && export JAVA_TGZ=\"${JAVA_PACKAGE}-8u${JAVA_UPDATE}-linux-x64.tar.gz\" \\\n && export JAVA_HOME=\"/usr/lib/jvm/default-jvm\" \\\n && wget -q ${GLIBC_URL}/${GLIBC_APK} \\\n && wget -q ${GLIBC_URL}/${GLIBC_BIN_APK} \\\n && apk add --no-cache --allow-untrusted ${GLIBC_APK} \\\n && apk add --no-cache --allow-untrusted ${GLIBC_BIN_APK} \\\n && echo 'hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4' >> /etc/nsswitch.conf \\\n && mkdir -p /usr/lib/jvm \\\n && wget -qO- --header \"Cookie: oraclelicense=accept-securebackup-cookie;\" ${JAVA_URL}/${JAVA_TGZ} | tar -xzf - \\\n && if [ ${JAVA_PACKAGE} = \"server-jre\" ] ; then mv jdk*/jre /usr/lib/jvm/java-8-oracle ; else mv j* /usr/lib/jvm/java-8-oracle ; fi \\\n && ln -s java-8-oracle $JAVA_HOME \\\n && rm -rf $JAVA_HOME/*src.zip \\\n && rm -rf ${JAVA_HOME}/*/javaws ${JAVA_HOME}/*/jjs ${JAVA_HOME}/*/keytool ${JAVA_HOME}/*/orbd ${JAVA_HOME}/*/pack200 ${JAVA_HOME}/*/policytool ${JAVA_HOME}/*/rmid ${JAVA_HOME}/*/rmiregistry ${JAVA_HOME}/*/servertool ${JAVA_HOME}/*/tnameserv ${JAVA_HOME}/*/unpack200 ${JAVA_HOME}/*/*javafx* ${JAVA_HOME}/*/*jfx* ${JAVA_HOME}/*/amd64/libdecora_sse.so ${JAVA_HOME}/*/amd64/libfxplugins.so ${JAVA_HOME}/*/amd64/libglass.so ${JAVA_HOME}/*/amd64/libgstreamer-lite.so ${JAVA_HOME}/*/amd64/libjavafx*.so ${JAVA_HOME}/*/amd64/libjfx*.so ${JAVA_HOME}/*/amd64/libprism_*.so ${JAVA_HOME}/*/deploy* ${JAVA_HOME}/*/desktop ${JAVA_HOME}/*/ext/jfxrt.jar ${JAVA_HOME}/*/ext/nashorn.jar ${JAVA_HOME}/*/javaws.jar ${JAVA_HOME}/*/jfr ${JAVA_HOME}/*/jfr ${JAVA_HOME}/*/jfr.jar ${JAVA_HOME}/*/missioncontrol ${JAVA_HOME}/*/oblique-fonts ${JAVA_HOME}/*/plugin.jar ${JAVA_HOME}/*/visualvm ${JAVA_HOME}/man ${JAVA_HOME}/plugin ${JAVA_HOME}/*.txt ${JAVA_HOME}/*/*/javaws ${JAVA_HOME}/*/*/jjs ${JAVA_HOME}/*/*/keytool ${JAVA_HOME}/*/*/orbd ${JAVA_HOME}/*/*/pack200 ${JAVA_HOME}/*/*/policytool ${JAVA_HOME}/*/*/rmid ${JAVA_HOME}/*/*/rmiregistry ${JAVA_HOME}/*/*/servertool ${JAVA_HOME}/*/*/tnameserv ${JAVA_HOME}/*/*/unpack200 ${JAVA_HOME}/*/*/*javafx* ${JAVA_HOME}/*/*/*jfx* ${JAVA_HOME}/*/*/amd64/libdecora_sse.so ${JAVA_HOME}/*/*/amd64/libfxplugins.so ${JAVA_HOME}/*/*/amd64/libglass.so ${JAVA_HOME}/*/*/amd64/libgstreamer-lite.so ${JAVA_HOME}/*/*/amd64/libjavafx*.so ${JAVA_HOME}/*/*/amd64/libjfx*.so ${JAVA_HOME}/*/*/amd64/libprism_*.so ${JAVA_HOME}/*/*/deploy* ${JAVA_HOME}/*/*/desktop ${JAVA_HOME}/*/*/ext/jfxrt.jar ${JAVA_HOME}/*/*/ext/nashorn.jar ${JAVA_HOME}/*/*/javaws.jar ${JAVA_HOME}/*/*/jfr ${JAVA_HOME}/*/*/jfr ${JAVA_HOME}/*/*/jfr.jar ${JAVA_HOME}/*/*/missioncontrol ${JAVA_HOME}/*/*/oblique-fonts ${JAVA_HOME}/*/*/plugin.jar ${JAVA_HOME}/*/*/visualvm ${JAVA_HOME}/*/man ${JAVA_HOME}/*/plugin ${JAVA_HOME}/*.txt \\\n && apk del build-dependencies \\\n && ln -s $JAVA_HOME/bin/* /usr/bin/ \\\n && rm -rf /tmp/*\nENV JAVA_HOME=\"/usr/lib/jvm/default-jvm/\" \\\n    PATH=\"${PATH}:/usr/lib/jvm/default-jvm/bin\"\n","injectedSmells":[],"originalDockerfileHash":"524c0a9cc066ad28cda8d9950ff61269","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine\nMAINTAINER Lothar Wieske <lothar.wieske@gmail.com>\nRUN cd /tmp \\\n && apk add --no-cache --virtual=build-dependencies ca-certificates wget \\\n && export GLIBC_VERSION=\"2.23-r3\" \\\n && export JAVA_PACKAGE=\"jdk\" \\\n && export JAVA_UPDATE=\"11\" \\\n && export JAVA_BUILD=\"12\" \\\n && export GLIBC_URL=\"https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}\" \\\n && export GLIBC_APK=\"glibc-${GLIBC_VERSION}.apk\" \\\n && export GLIBC_BIN_APK=\"glibc-bin-${GLIBC_VERSION}.apk\" \\\n && export JAVA_URL=\"http://download.oracle.com/otn-pub/java/jdk/8u${JAVA_UPDATE}-b${JAVA_BUILD}\" \\\n && export JAVA_TGZ=\"${JAVA_PACKAGE}-8u${JAVA_UPDATE}-linux-x64.tar.gz\" \\\n && export JAVA_HOME=\"/usr/lib/jvm/default-jvm\" \\\n && wget -q ${GLIBC_URL}/${GLIBC_APK} \\\n && wget -q ${GLIBC_URL}/${GLIBC_BIN_APK} \\\n && apk add --no-cache --allow-untrusted ${GLIBC_APK} \\\n && apk add --no-cache --allow-untrusted ${GLIBC_BIN_APK} \\\n && echo 'hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4' >> /etc/nsswitch.conf \\\n && mkdir -p /usr/lib/jvm \\\n && wget -qO- --header \"Cookie: oraclelicense=accept-securebackup-cookie;\" ${JAVA_URL}/${JAVA_TGZ} | tar -xzf - \\\n && if [ ${JAVA_PACKAGE} = \"server-jre\" ] ; then mv jdk*/jre /usr/lib/jvm/java-8-oracle ; else mv j* /usr/lib/jvm/java-8-oracle ; fi \\\n && ln -s java-8-oracle $JAVA_HOME \\\n && rm -rf $JAVA_HOME/*src.zip \\\n && rm -rf ${JAVA_HOME}/*/javaws ${JAVA_HOME}/*/jjs ${JAVA_HOME}/*/keytool ${JAVA_HOME}/*/orbd ${JAVA_HOME}/*/pack200 ${JAVA_HOME}/*/policytool ${JAVA_HOME}/*/rmid ${JAVA_HOME}/*/rmiregistry ${JAVA_HOME}/*/servertool ${JAVA_HOME}/*/tnameserv ${JAVA_HOME}/*/unpack200 ${JAVA_HOME}/*/*javafx* ${JAVA_HOME}/*/*jfx* ${JAVA_HOME}/*/amd64/libdecora_sse.so ${JAVA_HOME}/*/amd64/libfxplugins.so ${JAVA_HOME}/*/amd64/libglass.so ${JAVA_HOME}/*/amd64/libgstreamer-lite.so ${JAVA_HOME}/*/amd64/libjavafx*.so ${JAVA_HOME}/*/amd64/libjfx*.so ${JAVA_HOME}/*/amd64/libprism_*.so ${JAVA_HOME}/*/deploy* ${JAVA_HOME}/*/desktop ${JAVA_HOME}/*/ext/jfxrt.jar ${JAVA_HOME}/*/ext/nashorn.jar ${JAVA_HOME}/*/javaws.jar ${JAVA_HOME}/*/jfr ${JAVA_HOME}/*/jfr ${JAVA_HOME}/*/jfr.jar ${JAVA_HOME}/*/missioncontrol ${JAVA_HOME}/*/oblique-fonts ${JAVA_HOME}/*/plugin.jar ${JAVA_HOME}/*/visualvm ${JAVA_HOME}/man ${JAVA_HOME}/plugin ${JAVA_HOME}/*.txt ${JAVA_HOME}/*/*/javaws ${JAVA_HOME}/*/*/jjs ${JAVA_HOME}/*/*/keytool ${JAVA_HOME}/*/*/orbd ${JAVA_HOME}/*/*/pack200 ${JAVA_HOME}/*/*/policytool ${JAVA_HOME}/*/*/rmid ${JAVA_HOME}/*/*/rmiregistry ${JAVA_HOME}/*/*/servertool ${JAVA_HOME}/*/*/tnameserv ${JAVA_HOME}/*/*/unpack200 ${JAVA_HOME}/*/*/*javafx* ${JAVA_HOME}/*/*/*jfx* ${JAVA_HOME}/*/*/amd64/libdecora_sse.so ${JAVA_HOME}/*/*/amd64/libfxplugins.so ${JAVA_HOME}/*/*/amd64/libglass.so ${JAVA_HOME}/*/*/amd64/libgstreamer-lite.so ${JAVA_HOME}/*/*/amd64/libjavafx*.so ${JAVA_HOME}/*/*/amd64/libjfx*.so ${JAVA_HOME}/*/*/amd64/libprism_*.so ${JAVA_HOME}/*/*/deploy* ${JAVA_HOME}/*/*/desktop ${JAVA_HOME}/*/*/ext/jfxrt.jar ${JAVA_HOME}/*/*/ext/nashorn.jar ${JAVA_HOME}/*/*/javaws.jar ${JAVA_HOME}/*/*/jfr ${JAVA_HOME}/*/*/jfr ${JAVA_HOME}/*/*/jfr.jar ${JAVA_HOME}/*/*/missioncontrol ${JAVA_HOME}/*/*/oblique-fonts ${JAVA_HOME}/*/*/plugin.jar ${JAVA_HOME}/*/*/visualvm ${JAVA_HOME}/*/man ${JAVA_HOME}/*/plugin ${JAVA_HOME}/*.txt \\\n && apk del build-dependencies \\\n && ln -s $JAVA_HOME/bin/* /usr/bin/ \\\n && rm -rf /tmp/*\nENV JAVA_HOME=\"/usr/lib/jvm/default-jvm/\" \\\n    PATH=\"${PATH}:/usr/lib/jvm/default-jvm/bin\"\n","originalDockerfileUglifiedHash":"524c0a9cc066ad28cda8d9950ff61269","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/3b6322b891175aa26ab14391fc156b69d4a69acf.dockerfile"}