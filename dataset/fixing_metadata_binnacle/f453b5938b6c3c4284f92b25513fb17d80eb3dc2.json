{"seed":1726041891,"processedDockerfileHash":"78fd7a31bde47ae401f3d3dac31f4ad8","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM cusdeb/alpine3.7:amd64\nENV LIBISCSI_VERSION=\"1.18.0\"\nENV NUMACTL_VERSION=\"2.0.12\"\nENV QEMU_VERSION=\"3.0.0\"\nENV QUILT_VERSION=\"0.65\"\nENV TERM=\"linux\"\nCOPY ./qemu-patches /root/qemu-patches\nRUN echo http://mirror.yandex.ru/mirrors/alpine/v3.7/community >> /etc/apk/repositories \\\n && apk add automake autoconf bison diffutils flex gcc libtool make patch bzip2-dev glib-dev gnutls-dev jpeg-dev libaio-dev libc-dev libcap-dev libcap-ng-dev libnfs-dev libpng-dev libseccomp-dev libssh2-dev libusb-dev ovmf pixman-dev python usbredir-dev xen-dev xfsprogs-dev zlib-dev bash curl ncurses sed tar util-linux xz --update \\\n && cd \\\n && curl -OL http://download.savannah.gnu.org/releases/quilt/quilt-$QUILT_VERSION.tar.gz \\\n && tar xzvf quilt-$QUILT_VERSION.tar.gz \\\n && rm quilt-$QUILT_VERSION.tar.gz \\\n && cd quilt-$QUILT_VERSION \\\n && ./configure \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r quilt-$QUILT_VERSION \\\n && curl -OL https://github.com/numactl/numactl/archive/v$NUMACTL_VERSION.tar.gz \\\n && tar xzvf v$NUMACTL_VERSION.tar.gz \\\n && rm v$NUMACTL_VERSION.tar.gz \\\n && cd numactl-$NUMACTL_VERSION \\\n && libtoolize \\\n && ./autogen.sh \\\n && ./configure \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r numactl-$NUMACTL_VERSION \\\n && curl -OL https://github.com/sahlberg/libiscsi/archive/$LIBISCSI_VERSION.tar.gz \\\n && tar xzvf $LIBISCSI_VERSION.tar.gz \\\n && rm $LIBISCSI_VERSION.tar.gz \\\n && cd libiscsi-$LIBISCSI_VERSION \\\n && ./autogen.sh \\\n && ./configure \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r libiscsi-$LIBISCSI_VERSION \\\n && curl -O https://download.qemu.org/qemu-$QEMU_VERSION.tar.xz \\\n && tar xJvf qemu-$QEMU_VERSION.tar.xz \\\n && rm qemu-$QEMU_VERSION.tar.xz \\\n && cd qemu-$QEMU_VERSION \\\n && mv /root/qemu-patches patches \\\n && env QUILT_PATCHES=patches quilt push -a \\\n && ./configure --target-list=' i386-softmmu x86_64-softmmu alpha-softmmu aarch64-softmmu arm-softmmu cris-softmmu lm32-softmmu m68k-softmmu microblaze-softmmu microblazeel-softmmu mips-softmmu mipsel-softmmu mips64-softmmu mips64el-softmmu moxie-softmmu ppc-softmmu ppcemb-softmmu ppc64-softmmu sh4-softmmu sh4eb-softmmu sparc-softmmu sparc64-softmmu s390x-softmmu tricore-softmmu xtensa-softmmu xtensaeb-softmmu unicore32-softmmu ' --disable-docs --disable-gtk --disable-vte --disable-sdl --enable-attr --enable-bzip2 --enable-cap-ng --enable-curl --enable-curses --enable-fdt --enable-gnutls --enable-kvm --enable-libiscsi --enable-libnfs --enable-libssh2 --enable-libusb --enable-linux-aio --enable-linux-user --enable-modules --enable-numa --enable-seccomp --enable-system --enable-tools --enable-usb-redir --enable-vhost-net --enable-vhost-user --enable-vhost-vsock --enable-virtfs --enable-vnc --enable-vnc-jpeg --enable-vnc-png --enable-xen --enable-xfsctl \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r qemu-$QEMU_VERSION \\\n && apk del automake autoconf bison curl diffutils flex gcc libtool make patch sed tar xz \\\n && rm -rf /var/cache/apk/*\nCOPY docker-entrypoint.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM cusdeb/alpine3.7:amd64\nENV LIBISCSI_VERSION=\"1.18.0\"\nENV NUMACTL_VERSION=\"2.0.12\"\nENV QEMU_VERSION=\"3.0.0\"\nENV QUILT_VERSION=\"0.65\"\nENV TERM=\"linux\"\nCOPY ./qemu-patches /root/qemu-patches\nRUN echo http://mirror.yandex.ru/mirrors/alpine/v3.7/community >> /etc/apk/repositories \\\n && apk --update add automake autoconf bison diffutils flex gcc libtool make patch bzip2-dev glib-dev gnutls-dev jpeg-dev libaio-dev libc-dev libcap-dev libcap-ng-dev libnfs-dev libpng-dev libseccomp-dev libssh2-dev libusb-dev ovmf pixman-dev python usbredir-dev xen-dev xfsprogs-dev zlib-dev bash curl ncurses sed tar util-linux xz \\\n && cd \\\n && curl -OL http://download.savannah.gnu.org/releases/quilt/quilt-$QUILT_VERSION.tar.gz \\\n && tar xzvf quilt-$QUILT_VERSION.tar.gz \\\n && rm quilt-$QUILT_VERSION.tar.gz \\\n && cd quilt-$QUILT_VERSION \\\n && ./configure \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r quilt-$QUILT_VERSION \\\n && curl -OL https://github.com/numactl/numactl/archive/v$NUMACTL_VERSION.tar.gz \\\n && tar xzvf v$NUMACTL_VERSION.tar.gz \\\n && rm v$NUMACTL_VERSION.tar.gz \\\n && cd numactl-$NUMACTL_VERSION \\\n && libtoolize \\\n && ./autogen.sh \\\n && ./configure \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r numactl-$NUMACTL_VERSION \\\n && curl -OL https://github.com/sahlberg/libiscsi/archive/$LIBISCSI_VERSION.tar.gz \\\n && tar xzvf $LIBISCSI_VERSION.tar.gz \\\n && rm $LIBISCSI_VERSION.tar.gz \\\n && cd libiscsi-$LIBISCSI_VERSION \\\n && ./autogen.sh \\\n && ./configure \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r libiscsi-$LIBISCSI_VERSION \\\n && curl -O https://download.qemu.org/qemu-$QEMU_VERSION.tar.xz \\\n && tar xJvf qemu-$QEMU_VERSION.tar.xz \\\n && rm qemu-$QEMU_VERSION.tar.xz \\\n && cd qemu-$QEMU_VERSION \\\n && mv /root/qemu-patches patches \\\n && env QUILT_PATCHES=patches quilt push -a \\\n && ./configure --target-list=' i386-softmmu x86_64-softmmu alpha-softmmu aarch64-softmmu arm-softmmu cris-softmmu lm32-softmmu m68k-softmmu microblaze-softmmu microblazeel-softmmu mips-softmmu mipsel-softmmu mips64-softmmu mips64el-softmmu moxie-softmmu ppc-softmmu ppcemb-softmmu ppc64-softmmu sh4-softmmu sh4eb-softmmu sparc-softmmu sparc64-softmmu s390x-softmmu tricore-softmmu xtensa-softmmu xtensaeb-softmmu unicore32-softmmu ' --disable-docs --disable-gtk --disable-vte --disable-sdl --enable-attr --enable-bzip2 --enable-cap-ng --enable-curl --enable-curses --enable-fdt --enable-gnutls --enable-kvm --enable-libiscsi --enable-libnfs --enable-libssh2 --enable-libusb --enable-linux-aio --enable-linux-user --enable-modules --enable-numa --enable-seccomp --enable-system --enable-tools --enable-usb-redir --enable-vhost-net --enable-vhost-user --enable-vhost-vsock --enable-virtfs --enable-vnc --enable-vnc-jpeg --enable-vnc-png --enable-xen --enable-xfsctl \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r qemu-$QEMU_VERSION \\\n && apk del automake autoconf bison curl diffutils flex gcc libtool make patch sed tar xz \\\n && rm -rf /var/cache/apk/*\nCOPY docker-entrypoint.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\n","injectedSmells":[],"originalDockerfileHash":"ca67f57f34174a7a79617ade66e14f23","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM cusdeb/alpine3.7:amd64\nENV LIBISCSI_VERSION=\"1.18.0\"\nENV NUMACTL_VERSION=\"2.0.12\"\nENV QEMU_VERSION=\"3.0.0\"\nENV QUILT_VERSION=\"0.65\"\nENV TERM=\"linux\"\nCOPY ./qemu-patches /root/qemu-patches\nRUN echo http://mirror.yandex.ru/mirrors/alpine/v3.7/community >> /etc/apk/repositories \\\n && apk --update add automake autoconf bison diffutils flex gcc libtool make patch bzip2-dev glib-dev gnutls-dev jpeg-dev libaio-dev libc-dev libcap-dev libcap-ng-dev libnfs-dev libpng-dev libseccomp-dev libssh2-dev libusb-dev ovmf pixman-dev python usbredir-dev xen-dev xfsprogs-dev zlib-dev bash curl ncurses sed tar util-linux xz \\\n && cd \\\n && curl -OL http://download.savannah.gnu.org/releases/quilt/quilt-$QUILT_VERSION.tar.gz \\\n && tar xzvf quilt-$QUILT_VERSION.tar.gz \\\n && rm quilt-$QUILT_VERSION.tar.gz \\\n && cd quilt-$QUILT_VERSION \\\n && ./configure \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r quilt-$QUILT_VERSION \\\n && curl -OL https://github.com/numactl/numactl/archive/v$NUMACTL_VERSION.tar.gz \\\n && tar xzvf v$NUMACTL_VERSION.tar.gz \\\n && rm v$NUMACTL_VERSION.tar.gz \\\n && cd numactl-$NUMACTL_VERSION \\\n && libtoolize \\\n && ./autogen.sh \\\n && ./configure \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r numactl-$NUMACTL_VERSION \\\n && curl -OL https://github.com/sahlberg/libiscsi/archive/$LIBISCSI_VERSION.tar.gz \\\n && tar xzvf $LIBISCSI_VERSION.tar.gz \\\n && rm $LIBISCSI_VERSION.tar.gz \\\n && cd libiscsi-$LIBISCSI_VERSION \\\n && ./autogen.sh \\\n && ./configure \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r libiscsi-$LIBISCSI_VERSION \\\n && curl -O https://download.qemu.org/qemu-$QEMU_VERSION.tar.xz \\\n && tar xJvf qemu-$QEMU_VERSION.tar.xz \\\n && rm qemu-$QEMU_VERSION.tar.xz \\\n && cd qemu-$QEMU_VERSION \\\n && mv /root/qemu-patches patches \\\n && env QUILT_PATCHES=patches quilt push -a \\\n && ./configure --target-list=' i386-softmmu x86_64-softmmu alpha-softmmu aarch64-softmmu arm-softmmu cris-softmmu lm32-softmmu m68k-softmmu microblaze-softmmu microblazeel-softmmu mips-softmmu mipsel-softmmu mips64-softmmu mips64el-softmmu moxie-softmmu ppc-softmmu ppcemb-softmmu ppc64-softmmu sh4-softmmu sh4eb-softmmu sparc-softmmu sparc64-softmmu s390x-softmmu tricore-softmmu xtensa-softmmu xtensaeb-softmmu unicore32-softmmu ' --disable-docs --disable-gtk --disable-vte --disable-sdl --enable-attr --enable-bzip2 --enable-cap-ng --enable-curl --enable-curses --enable-fdt --enable-gnutls --enable-kvm --enable-libiscsi --enable-libnfs --enable-libssh2 --enable-libusb --enable-linux-aio --enable-linux-user --enable-modules --enable-numa --enable-seccomp --enable-system --enable-tools --enable-usb-redir --enable-vhost-net --enable-vhost-user --enable-vhost-vsock --enable-virtfs --enable-vnc --enable-vnc-jpeg --enable-vnc-png --enable-xen --enable-xfsctl \\\n && make -j \"$( nproc ;)\" \\\n && make install \\\n && cd \\\n && rm -r qemu-$QEMU_VERSION \\\n && apk del automake autoconf bison curl diffutils flex gcc libtool make patch sed tar xz \\\n && rm -rf /var/cache/apk/*\nCOPY docker-entrypoint.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\n","originalDockerfileUglifiedHash":"ca67f57f34174a7a79617ade66e14f23","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/f453b5938b6c3c4284f92b25513fb17d80eb3dc2.dockerfile"}