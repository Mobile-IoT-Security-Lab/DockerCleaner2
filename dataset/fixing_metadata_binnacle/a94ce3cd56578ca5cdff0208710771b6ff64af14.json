{"seed":2467473718,"processedDockerfileHash":"a11ed74cf1ffaa09b5192653b7ef8ec3","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#  #\n#  # BUILD image for the ChIPseq pipeline\n#  # AVAILABLE COMMANDS:\n#  #    build: \n#  #      $ docker build -t imbforge/chipseq:v1 .\n#  #    push to the docker hub: \n#  #      $ docker push imbforge/chipseq:v1\n#  #    run a container: \n#  #      $ docker run --rm -v ${WORKDIR}:${WORKDIR} -w ${WORKDIR} -t imbforge/chipseq:v1 \\\n#  #         -n ${MAX_PARALLEL_PROCS} ${WORKDIR}/chipseq_v1.2.txt ${WORKDIR}/rawdata/*.fastq.gz\n#  #    run an interactive shell:\n#  #      $ docker run --entrypoint=/bin/bash -ti imbforge/chipseq:v1 -s\n#  #\n#  FROM ubuntu:14.04\nFROM debian:stable\nMAINTAINER Sergi Sayols <s.sayolspuig@imb-mainz.de>\nENTRYPOINT [\"/opt/bpipe/default/bin/bpipe\", \"run\"]\n#  # env vars\nENV HOME=\"/home\"\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV TOOL_DEPENDENCIES=\"/opt\"\n#  # create user to avoid running the thing as root\n#   Note: Users and groups in an image get a non-deterministic UID/GID in that the\n#     \"next\" UID/GID gets assigned regardless of image rebuilds. So, if it’s critical,\n#     you should assign an explicit UID/GID.\n#  RUN groupadd -r imbcf && \\ \n#  \tuseradd -r -g imbcf -s /bin/bash -c \"Docker image user\" imbcf\n#  # install all deps in a single RUN statement to save space\nRUN apt-get update \\\n && apt-get dist-upgrade -y \\\n && apt-get install --no-install-recommends apt-utils=2.2.4 -y \\\n && apt-get install --no-install-recommends build-essential=12.9 gcc=4:10.2.1-1 g++=4:10.2.1-1 gfortran=4:10.2.1-1 make=4.3-4.1 -y \\\n && apt-get install --no-install-recommends libboost-dev=1.74.0.3 -y \\\n && apt-get install --no-install-recommends xorg-dev=1:7.7+22 libglu1-mesa-dev=9.0.1-1 libpango1.0-dev=1.46.2-3 -y \\\n && apt-get install --no-install-recommends libxml2-dev=2.9.10+dfsg-6.7+deb11u3 libcurl4-openssl-dev=7.74.0-1.3+deb11u7 -y \\\n && apt-get install --no-install-recommends openjdk-7-jre-headless -y \\\n && apt-get install --no-install-recommends python2.7-dev=2.7.18-8 python-numpy python-matplotlib python-setuptools=44.1.1-1 -y \\\n && apt-get install --no-install-recommends zlib1g-dev=1:1.2.11.dfsg-2+deb11u2 libncurses5-dev=6.2+20201114-2 -y \\\n && apt-get install --no-install-recommends bc=1.07.1-2+b2 -y \\\n && apt-get clean autoclean \\\n && apt-get autoremove -y \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  # install R and the needed packages\nCOPY ./deps/R-3.2.2 /usr/local/src/R-3.2.2\nWORKDIR /usr/local/src/R-3.2.2\nRUN ./configure --prefix=/opt/R/3.2.2 --with-readline=no \\\n && make \\\n && make install \\\n && /opt/R/3.2.2/bin/Rscript -e 'source(\"http://bioconductor.org/biocLite.R\"); biocLite(c(\"GenomicAlignments\",\"GenomicRanges\",\"Rsamtools\",\"ShortRead\"),ask=FALSE)' \\\n && /opt/R/3.2.2/bin/Rscript -e 'install.packages(c(\"snow\",\"knitr\"),dependencies=TRUE,repos=\"http://cran.rstudio.org\")' \\\n && rm -rf /usr/local/src/R-3.2.2 \\\n && ln -s /opt/R/3.2.2 /opt/R/latest \\\n && ln -s /opt/R/3.2.2 /opt/R/default \\\n && echo \"export PATH=/opt/R/3.2.2/bin:$PATH\" > /opt/R/3.2.2/env.sh \\\n && chmod ugo+rx /opt/R/3.2.2/env.sh\n#  # install SPP\nCOPY ./deps/spp_1.11.tar.gz /usr/local/src/\nWORKDIR /usr/local/src\nRUN /opt/R/3.2.2/bin/R CMD INSTALL spp_1.11.tar.gz \\\n && rm spp_1.11.tar.gz\n#  # install FastQC\nCOPY ./deps/FastQC /opt/fastqc/0.11.3\nRUN ln -s /opt/fastqc/0.11.3 /opt/fastqc/latest \\\n && ln -s /opt/fastqc/0.11.3 /opt/fastqc/default \\\n && echo \"export PATH=/opt/fastqc/0.11.3:$PATH\" > /opt/fastqc/0.11.3/env.sh \\\n && chmod ugo+rx /opt/fastqc/0.11.3/env.sh\n#  # install bowtie\nCOPY ./deps/bowtie-1.1.1 /opt/bowtie/1.1.1\nRUN ln -s /opt/bowtie/1.1.1 /opt/bowtie/latest \\\n && ln -s /opt/bowtie/1.1.1 /opt/bowtie/default \\\n && echo \"export PATH=/opt/bowtie/1.1.1:$PATH\" > /opt/bowtie/1.1.1/env.sh \\\n && chmod ugo+rx /opt/bowtie/1.1.1/env.sh\n#  # install samtools\nCOPY ./deps/samtools-1.2 /usr/local/src/samtools-1.2\nWORKDIR /usr/local/src/samtools-1.2\nRUN make \\\n && make install prefix=/opt/samtools/1.2 \\\n && rm -rf /usr/local/src/samtools-1.2 \\\n && ln -s /opt/samtools/1.2 /opt/samtools/latest \\\n && ln -s /opt/samtools/1.2 /opt/samtools/default \\\n && echo \"export PATH=/opt/samtools/1.2/bin:$PATH\" > /opt/samtools/1.2/env.sh \\\n && chmod ugo+rx /opt/samtools/1.2/env.sh\n#  # install Picard tools\nCOPY ./deps/picard-tools-1.123 /opt/picard/1.123\nRUN ln -s /opt/picard/1.123 /opt/picard/latest \\\n && ln -s /opt/picard/1.123 /opt/picard/default \\\n && echo \"export PATH=/opt/picard/1.123:$PATH\" > /opt/picard/1.123/env.sh \\\n && chmod ugo+rx /opt/picard/1.123/env.sh\n#  # install bedtools\nCOPY ./deps/bedtools2-2.25.0 /usr/local/src/bedtools2-2.25.0\nWORKDIR /usr/local/src/bedtools2-2.25.0\nRUN make \\\n && make install prefix=/opt/BEDTools/2.25.0 \\\n && rm -rf /usr/local/src/bedtools2-2.25.0 \\\n && ln -s /opt/BEDTools/2.25.0 /opt/BEDTools/latest \\\n && ln -s /opt/BEDTools/2.25.0 /opt/BEDTools/default \\\n && echo \"export PATH=/opt/BEDTools/2.25.0/bin:$PATH\" > /opt/BEDTools/2.25.0/env.sh \\\n && chmod ugo+rx /opt/BEDTools/2.25.0/env.sh\n#  # install UCSC tools\nCOPY ./deps/ucsc-2014-02-05 /opt/ucsc/2014-02-05\nRUN ln -s /opt/ucsc/2014-02-05 /opt/ucsc/latest \\\n && ln -s /opt/ucsc/2014-02-05 /opt/ucsc/default \\\n && echo \"export PATH=/opt/ucsc/2014-02-05/:$PATH\" > /opt/ucsc/2014-02-05/env.sh \\\n && chmod ugo+rx /opt/ucsc/2014-02-05/env.sh\n#  # install macs2\nCOPY ./deps/macs2-2.1.0 /usr/local/src/macs2-2.1.0\nWORKDIR /usr/local/src/macs2-2.1.0\nRUN mkdir -p /opt/macs2/2.1.0/lib/python2.7/site-packages \\\n && export PYTHONPATH=/opt/macs2/2.1.0/lib/python2.7/site-packages:$PYTHONPATH \\\n && python setup.py build \\\n && python setup.py install --prefix=/opt/macs2/2.1.0 \\\n && rm -rf /usr/local/src/macs2-2.1.0 \\\n && ln -s /opt/macs2/2.1.0 /opt/macs2/latest \\\n && ln -s /opt/macs2/2.1.0 /opt/macs2/default \\\n && echo \"export PATH=/opt/macs2/2.1.0/bin:$PATH\" > /opt/macs2/2.1.0/env.sh \\\n && echo \"export PYTHONPATH=/opt/macs2/2.1.0/lib/python2.7/site-packages:$PYTHONPATH\" >> /opt/macs2/2.1.0/env.sh \\\n && chmod ugo+rx /opt/macs2/2.1.0/env.sh\n#  # install bpipe\nCOPY ./deps/bpipe-0.9.8.7 /opt/bpipe/0.9.8.7\nRUN ln -s /opt/bpipe/0.9.8.7 /opt/bpipe/latest \\\n && ln -s /opt/bpipe/0.9.8.7 /opt/bpipe/default \\\n && echo \"export PATH=${TOOL_DEPENDENCIES}/bpipe/0.9.8.7/bin/:$PATH\" > /opt/bpipe/0.9.8.7/env.sh \\\n && chmod ugo+rx /opt/bpipe/0.9.8.7/env.sh\n#  # install pipelines and wrappers\nCOPY ./deps/imb-forge /opt/imb-forge\nRUN ln -s /opt/imb-forge/pipelines/chipseq/1.2 /opt/imb-forge/pipelines/chipseq/latest \\\n && ln -s /opt/imb-forge/pipelines/chipseq/1.2 /opt/imb-forge/pipelines/chipseq/default\n#  # post install tasks\nWORKDIR /\nRUN rm -rf /usr/local/src/*\n#  USER imbcf\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# #\n# # BUILD image for the ChIPseq pipeline\n# # AVAILABLE COMMANDS:\n# #    build: \n# #      $ docker build -t imbforge/chipseq:v1 .\n# #    push to the docker hub: \n# #      $ docker push imbforge/chipseq:v1\n# #    run a container: \n# #      $ docker run --rm -v ${WORKDIR}:${WORKDIR} -w ${WORKDIR} -t imbforge/chipseq:v1 \\\n# #         -n ${MAX_PARALLEL_PROCS} ${WORKDIR}/chipseq_v1.2.txt ${WORKDIR}/rawdata/*.fastq.gz\n# #    run an interactive shell:\n# #      $ docker run --entrypoint=/bin/bash -ti imbforge/chipseq:v1 -s\n# #\n# FROM ubuntu:14.04\nFROM debian:stable\nMAINTAINER Sergi Sayols <s.sayolspuig@imb-mainz.de>\nENTRYPOINT [\"/opt/bpipe/default/bin/bpipe\", \"run\"]\n# # env vars\nENV HOME=\"/home\"\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV TOOL_DEPENDENCIES=\"/opt\"\n# # create user to avoid running the thing as root\n#  Note: Users and groups in an image get a non-deterministic UID/GID in that the\n#    \"next\" UID/GID gets assigned regardless of image rebuilds. So, if it’s critical,\n#    you should assign an explicit UID/GID.\n# RUN groupadd -r imbcf && \\ \n# \tuseradd -r -g imbcf -s /bin/bash -c \"Docker image user\" imbcf\n# # install all deps in a single RUN statement to save space\nRUN apt-get update \\\n && apt-get dist-upgrade -y \\\n && apt-get install apt-utils -y \\\n && apt-get install build-essential gcc g++ gfortran make -y \\\n && apt-get install libboost-dev -y \\\n && apt-get install xorg-dev libglu1-mesa-dev libpango1.0-dev -y \\\n && apt-get install libxml2-dev libcurl4-openssl-dev -y \\\n && apt-get install openjdk-7-jre-headless -y \\\n && apt-get install python2.7-dev python-numpy python-matplotlib python-setuptools -y \\\n && apt-get install zlib1g-dev libncurses5-dev -y \\\n && apt-get install bc -y \\\n && apt-get clean autoclean \\\n && apt-get autoremove -y \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n# # install R and the needed packages\nCOPY ./deps/R-3.2.2 /usr/local/src/R-3.2.2\nWORKDIR /usr/local/src/R-3.2.2\nRUN ./configure --prefix=/opt/R/3.2.2 --with-readline=no \\\n && make \\\n && make install \\\n && /opt/R/3.2.2/bin/Rscript -e 'source(\"http://bioconductor.org/biocLite.R\"); biocLite(c(\"GenomicAlignments\",\"GenomicRanges\",\"Rsamtools\",\"ShortRead\"),ask=FALSE)' \\\n && /opt/R/3.2.2/bin/Rscript -e 'install.packages(c(\"snow\",\"knitr\"),dependencies=TRUE,repos=\"http://cran.rstudio.org\")' \\\n && rm -rf /usr/local/src/R-3.2.2 \\\n && ln -s /opt/R/3.2.2 /opt/R/latest \\\n && ln -s /opt/R/3.2.2 /opt/R/default \\\n && echo \"export PATH=/opt/R/3.2.2/bin:$PATH\" > /opt/R/3.2.2/env.sh \\\n && chmod ugo+rx /opt/R/3.2.2/env.sh\n# # install SPP\nCOPY ./deps/spp_1.11.tar.gz /usr/local/src/\nWORKDIR /usr/local/src\nRUN /opt/R/3.2.2/bin/R CMD INSTALL spp_1.11.tar.gz \\\n && rm spp_1.11.tar.gz\n# # install FastQC\nCOPY ./deps/FastQC /opt/fastqc/0.11.3\nRUN ln -s /opt/fastqc/0.11.3 /opt/fastqc/latest \\\n && ln -s /opt/fastqc/0.11.3 /opt/fastqc/default \\\n && echo \"export PATH=/opt/fastqc/0.11.3:$PATH\" > /opt/fastqc/0.11.3/env.sh \\\n && chmod ugo+rx /opt/fastqc/0.11.3/env.sh\n# # install bowtie\nCOPY ./deps/bowtie-1.1.1 /opt/bowtie/1.1.1\nRUN ln -s /opt/bowtie/1.1.1 /opt/bowtie/latest \\\n && ln -s /opt/bowtie/1.1.1 /opt/bowtie/default \\\n && echo \"export PATH=/opt/bowtie/1.1.1:$PATH\" > /opt/bowtie/1.1.1/env.sh \\\n && chmod ugo+rx /opt/bowtie/1.1.1/env.sh\n# # install samtools\nCOPY ./deps/samtools-1.2 /usr/local/src/samtools-1.2\nWORKDIR /usr/local/src/samtools-1.2\nRUN make \\\n && make install prefix=/opt/samtools/1.2 \\\n && rm -rf /usr/local/src/samtools-1.2 \\\n && ln -s /opt/samtools/1.2 /opt/samtools/latest \\\n && ln -s /opt/samtools/1.2 /opt/samtools/default \\\n && echo \"export PATH=/opt/samtools/1.2/bin:$PATH\" > /opt/samtools/1.2/env.sh \\\n && chmod ugo+rx /opt/samtools/1.2/env.sh\n# # install Picard tools\nCOPY ./deps/picard-tools-1.123 /opt/picard/1.123\nRUN ln -s /opt/picard/1.123 /opt/picard/latest \\\n && ln -s /opt/picard/1.123 /opt/picard/default \\\n && echo \"export PATH=/opt/picard/1.123:$PATH\" > /opt/picard/1.123/env.sh \\\n && chmod ugo+rx /opt/picard/1.123/env.sh\n# # install bedtools\nCOPY ./deps/bedtools2-2.25.0 /usr/local/src/bedtools2-2.25.0\nWORKDIR /usr/local/src/bedtools2-2.25.0\nRUN make \\\n && make install prefix=/opt/BEDTools/2.25.0 \\\n && rm -rf /usr/local/src/bedtools2-2.25.0 \\\n && ln -s /opt/BEDTools/2.25.0 /opt/BEDTools/latest \\\n && ln -s /opt/BEDTools/2.25.0 /opt/BEDTools/default \\\n && echo \"export PATH=/opt/BEDTools/2.25.0/bin:$PATH\" > /opt/BEDTools/2.25.0/env.sh \\\n && chmod ugo+rx /opt/BEDTools/2.25.0/env.sh\n# # install UCSC tools\nCOPY ./deps/ucsc-2014-02-05 /opt/ucsc/2014-02-05\nRUN ln -s /opt/ucsc/2014-02-05 /opt/ucsc/latest \\\n && ln -s /opt/ucsc/2014-02-05 /opt/ucsc/default \\\n && echo \"export PATH=/opt/ucsc/2014-02-05/:$PATH\" > /opt/ucsc/2014-02-05/env.sh \\\n && chmod ugo+rx /opt/ucsc/2014-02-05/env.sh\n# # install macs2\nCOPY ./deps/macs2-2.1.0 /usr/local/src/macs2-2.1.0\nWORKDIR /usr/local/src/macs2-2.1.0\nRUN mkdir -p /opt/macs2/2.1.0/lib/python2.7/site-packages \\\n && export PYTHONPATH=/opt/macs2/2.1.0/lib/python2.7/site-packages:$PYTHONPATH \\\n && python setup.py build \\\n && python setup.py install --prefix=/opt/macs2/2.1.0 \\\n && rm -rf /usr/local/src/macs2-2.1.0 \\\n && ln -s /opt/macs2/2.1.0 /opt/macs2/latest \\\n && ln -s /opt/macs2/2.1.0 /opt/macs2/default \\\n && echo \"export PATH=/opt/macs2/2.1.0/bin:$PATH\" > /opt/macs2/2.1.0/env.sh \\\n && echo \"export PYTHONPATH=/opt/macs2/2.1.0/lib/python2.7/site-packages:$PYTHONPATH\" >> /opt/macs2/2.1.0/env.sh \\\n && chmod ugo+rx /opt/macs2/2.1.0/env.sh\n# # install bpipe\nCOPY ./deps/bpipe-0.9.8.7 /opt/bpipe/0.9.8.7\nRUN ln -s /opt/bpipe/0.9.8.7 /opt/bpipe/latest \\\n && ln -s /opt/bpipe/0.9.8.7 /opt/bpipe/default \\\n && echo \"export PATH=${TOOL_DEPENDENCIES}/bpipe/0.9.8.7/bin/:$PATH\" > /opt/bpipe/0.9.8.7/env.sh \\\n && chmod ugo+rx /opt/bpipe/0.9.8.7/env.sh\n# # install pipelines and wrappers\nCOPY ./deps/imb-forge /opt/imb-forge\nRUN ln -s /opt/imb-forge/pipelines/chipseq/1.2 /opt/imb-forge/pipelines/chipseq/latest \\\n && ln -s /opt/imb-forge/pipelines/chipseq/1.2 /opt/imb-forge/pipelines/chipseq/default\n# # post install tasks\nWORKDIR /\nRUN rm -rf /usr/local/src/*\n# USER imbcf\n","injectedSmells":[],"originalDockerfileHash":"50aeb77e3fdd9966e7f008159312a936","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  #\n#  # BUILD image for the ChIPseq pipeline\n#  # AVAILABLE COMMANDS:\n#  #    build: \n#  #      $ docker build -t imbforge/chipseq:v1 .\n#  #    push to the docker hub: \n#  #      $ docker push imbforge/chipseq:v1\n#  #    run a container: \n#  #      $ docker run --rm -v ${WORKDIR}:${WORKDIR} -w ${WORKDIR} -t imbforge/chipseq:v1 \\\n#  #         -n ${MAX_PARALLEL_PROCS} ${WORKDIR}/chipseq_v1.2.txt ${WORKDIR}/rawdata/*.fastq.gz\n#  #    run an interactive shell:\n#  #      $ docker run --entrypoint=/bin/bash -ti imbforge/chipseq:v1 -s\n#  #\n#  FROM ubuntu:14.04\nFROM debian:stable\nMAINTAINER Sergi Sayols <s.sayolspuig@imb-mainz.de>\nENTRYPOINT [\"/opt/bpipe/default/bin/bpipe\", \"run\"]\n#  # env vars\nENV HOME=\"/home\"\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV TOOL_DEPENDENCIES=\"/opt\"\n#  # create user to avoid running the thing as root\n#   Note: Users and groups in an image get a non-deterministic UID/GID in that the\n#     \"next\" UID/GID gets assigned regardless of image rebuilds. So, if it’s critical,\n#     you should assign an explicit UID/GID.\n#  RUN groupadd -r imbcf && \\ \n#  \tuseradd -r -g imbcf -s /bin/bash -c \"Docker image user\" imbcf\n#  # install all deps in a single RUN statement to save space\nRUN apt-get update \\\n && apt-get dist-upgrade -y \\\n && apt-get install apt-utils -y \\\n && apt-get install build-essential gcc g++ gfortran make -y \\\n && apt-get install libboost-dev -y \\\n && apt-get install xorg-dev libglu1-mesa-dev libpango1.0-dev -y \\\n && apt-get install libxml2-dev libcurl4-openssl-dev -y \\\n && apt-get install openjdk-7-jre-headless -y \\\n && apt-get install python2.7-dev python-numpy python-matplotlib python-setuptools -y \\\n && apt-get install zlib1g-dev libncurses5-dev -y \\\n && apt-get install bc -y \\\n && apt-get clean autoclean \\\n && apt-get autoremove -y \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  # install R and the needed packages\nCOPY ./deps/R-3.2.2 /usr/local/src/R-3.2.2\nWORKDIR /usr/local/src/R-3.2.2\nRUN ./configure --prefix=/opt/R/3.2.2 --with-readline=no \\\n && make \\\n && make install \\\n && /opt/R/3.2.2/bin/Rscript -e 'source(\"http://bioconductor.org/biocLite.R\"); biocLite(c(\"GenomicAlignments\",\"GenomicRanges\",\"Rsamtools\",\"ShortRead\"),ask=FALSE)' \\\n && /opt/R/3.2.2/bin/Rscript -e 'install.packages(c(\"snow\",\"knitr\"),dependencies=TRUE,repos=\"http://cran.rstudio.org\")' \\\n && rm -rf /usr/local/src/R-3.2.2 \\\n && ln -s /opt/R/3.2.2 /opt/R/latest \\\n && ln -s /opt/R/3.2.2 /opt/R/default \\\n && echo \"export PATH=/opt/R/3.2.2/bin:$PATH\" > /opt/R/3.2.2/env.sh \\\n && chmod ugo+rx /opt/R/3.2.2/env.sh\n#  # install SPP\nCOPY ./deps/spp_1.11.tar.gz /usr/local/src/\nWORKDIR /usr/local/src\nRUN /opt/R/3.2.2/bin/R CMD INSTALL spp_1.11.tar.gz \\\n && rm spp_1.11.tar.gz\n#  # install FastQC\nCOPY ./deps/FastQC /opt/fastqc/0.11.3\nRUN ln -s /opt/fastqc/0.11.3 /opt/fastqc/latest \\\n && ln -s /opt/fastqc/0.11.3 /opt/fastqc/default \\\n && echo \"export PATH=/opt/fastqc/0.11.3:$PATH\" > /opt/fastqc/0.11.3/env.sh \\\n && chmod ugo+rx /opt/fastqc/0.11.3/env.sh\n#  # install bowtie\nCOPY ./deps/bowtie-1.1.1 /opt/bowtie/1.1.1\nRUN ln -s /opt/bowtie/1.1.1 /opt/bowtie/latest \\\n && ln -s /opt/bowtie/1.1.1 /opt/bowtie/default \\\n && echo \"export PATH=/opt/bowtie/1.1.1:$PATH\" > /opt/bowtie/1.1.1/env.sh \\\n && chmod ugo+rx /opt/bowtie/1.1.1/env.sh\n#  # install samtools\nCOPY ./deps/samtools-1.2 /usr/local/src/samtools-1.2\nWORKDIR /usr/local/src/samtools-1.2\nRUN make \\\n && make install prefix=/opt/samtools/1.2 \\\n && rm -rf /usr/local/src/samtools-1.2 \\\n && ln -s /opt/samtools/1.2 /opt/samtools/latest \\\n && ln -s /opt/samtools/1.2 /opt/samtools/default \\\n && echo \"export PATH=/opt/samtools/1.2/bin:$PATH\" > /opt/samtools/1.2/env.sh \\\n && chmod ugo+rx /opt/samtools/1.2/env.sh\n#  # install Picard tools\nCOPY ./deps/picard-tools-1.123 /opt/picard/1.123\nRUN ln -s /opt/picard/1.123 /opt/picard/latest \\\n && ln -s /opt/picard/1.123 /opt/picard/default \\\n && echo \"export PATH=/opt/picard/1.123:$PATH\" > /opt/picard/1.123/env.sh \\\n && chmod ugo+rx /opt/picard/1.123/env.sh\n#  # install bedtools\nCOPY ./deps/bedtools2-2.25.0 /usr/local/src/bedtools2-2.25.0\nWORKDIR /usr/local/src/bedtools2-2.25.0\nRUN make \\\n && make install prefix=/opt/BEDTools/2.25.0 \\\n && rm -rf /usr/local/src/bedtools2-2.25.0 \\\n && ln -s /opt/BEDTools/2.25.0 /opt/BEDTools/latest \\\n && ln -s /opt/BEDTools/2.25.0 /opt/BEDTools/default \\\n && echo \"export PATH=/opt/BEDTools/2.25.0/bin:$PATH\" > /opt/BEDTools/2.25.0/env.sh \\\n && chmod ugo+rx /opt/BEDTools/2.25.0/env.sh\n#  # install UCSC tools\nCOPY ./deps/ucsc-2014-02-05 /opt/ucsc/2014-02-05\nRUN ln -s /opt/ucsc/2014-02-05 /opt/ucsc/latest \\\n && ln -s /opt/ucsc/2014-02-05 /opt/ucsc/default \\\n && echo \"export PATH=/opt/ucsc/2014-02-05/:$PATH\" > /opt/ucsc/2014-02-05/env.sh \\\n && chmod ugo+rx /opt/ucsc/2014-02-05/env.sh\n#  # install macs2\nCOPY ./deps/macs2-2.1.0 /usr/local/src/macs2-2.1.0\nWORKDIR /usr/local/src/macs2-2.1.0\nRUN mkdir -p /opt/macs2/2.1.0/lib/python2.7/site-packages \\\n && export PYTHONPATH=/opt/macs2/2.1.0/lib/python2.7/site-packages:$PYTHONPATH \\\n && python setup.py build \\\n && python setup.py install --prefix=/opt/macs2/2.1.0 \\\n && rm -rf /usr/local/src/macs2-2.1.0 \\\n && ln -s /opt/macs2/2.1.0 /opt/macs2/latest \\\n && ln -s /opt/macs2/2.1.0 /opt/macs2/default \\\n && echo \"export PATH=/opt/macs2/2.1.0/bin:$PATH\" > /opt/macs2/2.1.0/env.sh \\\n && echo \"export PYTHONPATH=/opt/macs2/2.1.0/lib/python2.7/site-packages:$PYTHONPATH\" >> /opt/macs2/2.1.0/env.sh \\\n && chmod ugo+rx /opt/macs2/2.1.0/env.sh\n#  # install bpipe\nCOPY ./deps/bpipe-0.9.8.7 /opt/bpipe/0.9.8.7\nRUN ln -s /opt/bpipe/0.9.8.7 /opt/bpipe/latest \\\n && ln -s /opt/bpipe/0.9.8.7 /opt/bpipe/default \\\n && echo \"export PATH=${TOOL_DEPENDENCIES}/bpipe/0.9.8.7/bin/:$PATH\" > /opt/bpipe/0.9.8.7/env.sh \\\n && chmod ugo+rx /opt/bpipe/0.9.8.7/env.sh\n#  # install pipelines and wrappers\nCOPY ./deps/imb-forge /opt/imb-forge\nRUN ln -s /opt/imb-forge/pipelines/chipseq/1.2 /opt/imb-forge/pipelines/chipseq/latest \\\n && ln -s /opt/imb-forge/pipelines/chipseq/1.2 /opt/imb-forge/pipelines/chipseq/default\n#  # post install tasks\nWORKDIR /\nRUN rm -rf /usr/local/src/*\n#  USER imbcf\n","originalDockerfileUglifiedHash":"d23e2498327fb39b6a05791a08016646","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/a94ce3cd56578ca5cdff0208710771b6ff64af14.dockerfile"}