{"seed":2062906365,"processedDockerfileHash":"4bef3980b233306f51257084977e21f3","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"ARG IMAGE_VERSION=someversion\nFROM hilbert/baseimage:0.9.19_69a8fc1\nMAINTAINER Oleksandr Motsak <malex984+hilbert.base@gmail.com>\n#  ~~phusion/baseimage:0.9.18~~\n#  ~~hilbert/baseimage:${IMAGE_VERSION}~~\nCOPY 99update_docker_hub /etc/apt/apt.conf.d/\nCOPY update.sh install.sh upgrade.sh clean.sh /usr/local/bin/\n#   Update & Install & Clean up APT\n#   Not: please if possible add all the packages to the following single install command!\nRUN clean.sh \\\n && update.sh -o \"Acquire::CompressionTypes::Order::=gz\" \\\n && upgrade.sh \\\n && install.sh bash bc wget curl git cups-bsd p7zip-full pciutils bzip2 ca-certificates \\\n && clean.sh\n#   dist-upgrade ?\n#  ## RUN groupadd -r ur && useradd -r -g ur ur\n#  RUN groupadd -f -g 1000 ur\n#  RUN adduser --disabled-login --uid 1000 --gid 1000 --gecos 'non-root-user' ur\n#  RUN usermod -a -G sudo ur\n#  RUN mkdir -p /etc/sudoers.d && echo \"ur ALL=(ALL) NOPASSWD: ALL\" > /etc/sudoers.d/ur && chmod 0440 /etc/sudoers.d/ur\n#   USER ur\n#   ENV HOME /home/ur\n#  ## VOLUME $HOME # ?\n#   WORKDIR $HOME\n#   dist-upgrade ?\nENV UID=\"1000\"\nENV GROUPS=\"1000\"\nENV USER=\"kiosk\"\n#  ## RUN groupadd -r ur && useradd -r -g ur ur\nRUN groupadd -f -g $GROUPS $USER \\\n && adduser --disabled-login --uid $UID --gid $GROUPS --gecos 'non-root-user' $USER \\\n && usermod -a -G sudo $USER \\\n && mkdir -p /etc/sudoers.d \\\n && echo \"$USER ALL=(ALL) NOPASSWD: ALL\" > /etc/sudoers.d/$USER \\\n && chmod 0440 /etc/sudoers.d/$USER\n#  ENV HOME /home/$USER\n#  USER $USER\n#  WORKDIR $HOME\nCOPY setup_ogl.sh config_cups.sh launch.sh xbanish /usr/local/bin/\nRUN wget -qO- https://github.com/hilbert/hilbert-heartbeat/archive/devel.tar.gz | tar -xzv --wildcards -C /usr/local/bin/ --strip=1 --xform='s#^.*/client/bash#.#x' 'hilbert-heartbeat*/client/bash/heartbeat.sh' 'hilbert-heartbeat*/client/bash/hb_*.sh'\nRUN chmod +x /usr/local/bin/*\n#   RUN locale-gen de_DE.utf8 && locale-gen ru_RU.utf8\n#   Use baseimage-docker's init system.\n#   CMD [\"/sbin/my_init\"]\n#  # ENTRYPOINT [\"/sbin/my_init\"]\nARG IMAGE_VERSION=someversion\n#   Build-time metadata as defined at http://label-schema.org\nARG BUILD_DATE=someday\nARG VCS_REF=HEAD\nARG VCS_URL=\"https://github.com/hilbert/hilbert-docker-images\"\n#   ARG VERSION=${IMAGE_VERSION}\nARG GIT_NOT_CLEAN_CHECK\nARG DOCKERFILE=\"/images/base/Dockerfile\"\nLABEL org.label-schema.build-date=\"${BUILD_DATE}\" \\\n      org.label-schema.name=\"Hilbert\" \\\n      org.label-schema.description=\"Base docker image for most apps and services of Hilbert\" \\\n      org.label-schema.vendor=\"IMAGINARY gGmbH\" \\\n      org.label-schema.url=\"https://hilbert.github.io\" \\\n      org.label-schema.vcs-ref=\"${VCS_REF}\" \\\n      org.label-schema.vcs-url=\"${VCS_URL}\" \\\n      org.label-schema.version=\"${IMAGE_VERSION}\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      com.microscaling.license=\"Apache-2.0\" \\\n      com.microscaling.docker.dockerfile=\"${DOCKERFILE}\" \\\n      IMAGE_VERSION=\"${IMAGE_VERSION}\" \\\n      GIT_NOT_CLEAN_CHECK=\"${GIT_NOT_CLEAN_CHECK}\"\nONBUILD LABEL org.label-schema.build-date=\"\" \\\n              org.label-schema.name=\"\" \\\n              org.label-schema.description=\"\" \\\n              org.label-schema.vendor=\"\" \\\n              org.label-schema.url=\"\" \\\n              org.label-schema.vcs-ref=\"\" \\\n              org.label-schema.vcs-url=\"\" \\\n              org.label-schema.version=\"\" \\\n              org.label-schema.schema-version=\"\" \\\n              com.microscaling.license=\"\" \\\n              com.microscaling.docker.dockerfile=\"\" \\\n              IMAGE_VERSION=\"\" \\\n              GIT_NOT_CLEAN_CHECK=\"\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"ARG IMAGE_VERSION=someversion\nFROM hilbert/baseimage:0.9.19_69a8fc1\nMAINTAINER Oleksandr Motsak <malex984+hilbert.base@gmail.com>\n# ~~phusion/baseimage:0.9.18~~\n# ~~hilbert/baseimage:${IMAGE_VERSION}~~\nCOPY 99update_docker_hub /etc/apt/apt.conf.d/\nCOPY update.sh install.sh upgrade.sh clean.sh /usr/local/bin/\n#  Update & Install & Clean up APT\n#  Not: please if possible add all the packages to the following single install command!\nRUN clean.sh \\\n && update.sh -o \"Acquire::CompressionTypes::Order::=gz\" \\\n && upgrade.sh \\\n && install.sh bash bc wget curl git cups-bsd p7zip-full pciutils bzip2 ca-certificates \\\n && clean.sh\n#  dist-upgrade ?\n# ## RUN groupadd -r ur && useradd -r -g ur ur\n# RUN groupadd -f -g 1000 ur\n# RUN adduser --disabled-login --uid 1000 --gid 1000 --gecos 'non-root-user' ur\n# RUN usermod -a -G sudo ur\n# RUN mkdir -p /etc/sudoers.d && echo \"ur ALL=(ALL) NOPASSWD: ALL\" > /etc/sudoers.d/ur && chmod 0440 /etc/sudoers.d/ur\n#  USER ur\n#  ENV HOME /home/ur\n# ## VOLUME $HOME # ?\n#  WORKDIR $HOME\n#  dist-upgrade ?\nENV UID=\"1000\"\nENV GROUPS=\"1000\"\nENV USER=\"kiosk\"\n# ## RUN groupadd -r ur && useradd -r -g ur ur\nRUN groupadd -f -g $GROUPS $USER \\\n && adduser --disabled-login --uid $UID --gid $GROUPS --gecos 'non-root-user' $USER \\\n && usermod -a -G sudo $USER \\\n && mkdir -p /etc/sudoers.d \\\n && echo \"$USER ALL=(ALL) NOPASSWD: ALL\" > /etc/sudoers.d/$USER \\\n && chmod 0440 /etc/sudoers.d/$USER\n# ENV HOME /home/$USER\n# USER $USER\n# WORKDIR $HOME\nCOPY setup_ogl.sh config_cups.sh launch.sh xbanish /usr/local/bin/\nRUN wget -qO- https://github.com/hilbert/hilbert-heartbeat/archive/devel.tar.gz | tar -xzv --wildcards -C /usr/local/bin/ --strip=1 --xform='s#^.*/client/bash#.#x' 'hilbert-heartbeat*/client/bash/heartbeat.sh' 'hilbert-heartbeat*/client/bash/hb_*.sh'\nRUN chmod +x /usr/local/bin/*\n#  RUN locale-gen de_DE.utf8 && locale-gen ru_RU.utf8\n#  Use baseimage-docker's init system.\n#  CMD [\"/sbin/my_init\"]\n# # ENTRYPOINT [\"/sbin/my_init\"]\nARG IMAGE_VERSION=someversion\n#  Build-time metadata as defined at http://label-schema.org\nARG BUILD_DATE=someday\nARG VCS_REF=HEAD\nARG VCS_URL=\"https://github.com/hilbert/hilbert-docker-images\"\n#  ARG VERSION=${IMAGE_VERSION}\nARG GIT_NOT_CLEAN_CHECK\nARG DOCKERFILE=\"/images/base/Dockerfile\"\nLABEL org.label-schema.build-date=\"${BUILD_DATE}\" \\\n      org.label-schema.name=\"Hilbert\" \\\n      org.label-schema.description=\"Base docker image for most apps and services of Hilbert\" \\\n      org.label-schema.vendor=\"IMAGINARY gGmbH\" \\\n      org.label-schema.url=\"https://hilbert.github.io\" \\\n      org.label-schema.vcs-ref=\"${VCS_REF}\" \\\n      org.label-schema.vcs-url=\"${VCS_URL}\" \\\n      org.label-schema.version=\"${IMAGE_VERSION}\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      com.microscaling.license=\"Apache-2.0\" \\\n      com.microscaling.docker.dockerfile=\"${DOCKERFILE}\" \\\n      IMAGE_VERSION=\"${IMAGE_VERSION}\" \\\n      GIT_NOT_CLEAN_CHECK=\"${GIT_NOT_CLEAN_CHECK}\"\nONBUILD LABEL org.label-schema.build-date=\"\" \\\n              org.label-schema.name=\"\" \\\n              org.label-schema.description=\"\" \\\n              org.label-schema.vendor=\"\" \\\n              org.label-schema.url=\"\" \\\n              org.label-schema.vcs-ref=\"\" \\\n              org.label-schema.vcs-url=\"\" \\\n              org.label-schema.version=\"\" \\\n              org.label-schema.schema-version=\"\" \\\n              com.microscaling.license=\"\" \\\n              com.microscaling.docker.dockerfile=\"\" \\\n              IMAGE_VERSION=\"\" \\\n              GIT_NOT_CLEAN_CHECK=\"\"\n","injectedSmells":[],"originalDockerfileHash":"bae6f87d5eefe68936ee62a47af573fd","successfullyInjectedSmells":[],"originalDockerfileUglified":"ARG IMAGE_VERSION=someversion\nFROM hilbert/baseimage:0.9.19_69a8fc1\nMAINTAINER Oleksandr Motsak <malex984+hilbert.base@gmail.com>\n#  ~~phusion/baseimage:0.9.18~~\n#  ~~hilbert/baseimage:${IMAGE_VERSION}~~\nCOPY 99update_docker_hub /etc/apt/apt.conf.d/\nCOPY update.sh install.sh upgrade.sh clean.sh /usr/local/bin/\n#   Update & Install & Clean up APT\n#   Not: please if possible add all the packages to the following single install command!\nRUN clean.sh \\\n && update.sh -o \"Acquire::CompressionTypes::Order::=gz\" \\\n && upgrade.sh \\\n && install.sh bash bc wget curl git cups-bsd p7zip-full pciutils bzip2 ca-certificates \\\n && clean.sh\n#   dist-upgrade ?\n#  ## RUN groupadd -r ur && useradd -r -g ur ur\n#  RUN groupadd -f -g 1000 ur\n#  RUN adduser --disabled-login --uid 1000 --gid 1000 --gecos 'non-root-user' ur\n#  RUN usermod -a -G sudo ur\n#  RUN mkdir -p /etc/sudoers.d && echo \"ur ALL=(ALL) NOPASSWD: ALL\" > /etc/sudoers.d/ur && chmod 0440 /etc/sudoers.d/ur\n#   USER ur\n#   ENV HOME /home/ur\n#  ## VOLUME $HOME # ?\n#   WORKDIR $HOME\n#   dist-upgrade ?\nENV UID=\"1000\"\nENV GROUPS=\"1000\"\nENV USER=\"kiosk\"\n#  ## RUN groupadd -r ur && useradd -r -g ur ur\nRUN groupadd -f -g $GROUPS $USER \\\n && adduser --disabled-login --uid $UID --gid $GROUPS --gecos 'non-root-user' $USER \\\n && usermod -a -G sudo $USER \\\n && mkdir -p /etc/sudoers.d \\\n && echo \"$USER ALL=(ALL) NOPASSWD: ALL\" > /etc/sudoers.d/$USER \\\n && chmod 0440 /etc/sudoers.d/$USER\n#  ENV HOME /home/$USER\n#  USER $USER\n#  WORKDIR $HOME\nCOPY setup_ogl.sh config_cups.sh launch.sh xbanish /usr/local/bin/\nRUN wget -qO- https://github.com/hilbert/hilbert-heartbeat/archive/devel.tar.gz | tar -xzv --wildcards -C /usr/local/bin/ --strip=1 --xform='s#^.*/client/bash#.#x' 'hilbert-heartbeat*/client/bash/heartbeat.sh' 'hilbert-heartbeat*/client/bash/hb_*.sh'\nRUN chmod +x /usr/local/bin/*\n#   RUN locale-gen de_DE.utf8 && locale-gen ru_RU.utf8\n#   Use baseimage-docker's init system.\n#   CMD [\"/sbin/my_init\"]\n#  # ENTRYPOINT [\"/sbin/my_init\"]\nARG IMAGE_VERSION=someversion\n#   Build-time metadata as defined at http://label-schema.org\nARG BUILD_DATE=someday\nARG VCS_REF=HEAD\nARG VCS_URL=\"https://github.com/hilbert/hilbert-docker-images\"\n#   ARG VERSION=${IMAGE_VERSION}\nARG GIT_NOT_CLEAN_CHECK\nARG DOCKERFILE=\"/images/base/Dockerfile\"\nLABEL org.label-schema.build-date=\"${BUILD_DATE}\" \\\n      org.label-schema.name=\"Hilbert\" \\\n      org.label-schema.description=\"Base docker image for most apps and services of Hilbert\" \\\n      org.label-schema.vendor=\"IMAGINARY gGmbH\" \\\n      org.label-schema.url=\"https://hilbert.github.io\" \\\n      org.label-schema.vcs-ref=\"${VCS_REF}\" \\\n      org.label-schema.vcs-url=\"${VCS_URL}\" \\\n      org.label-schema.version=\"${IMAGE_VERSION}\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      com.microscaling.license=\"Apache-2.0\" \\\n      com.microscaling.docker.dockerfile=\"${DOCKERFILE}\" \\\n      IMAGE_VERSION=\"${IMAGE_VERSION}\" \\\n      GIT_NOT_CLEAN_CHECK=\"${GIT_NOT_CLEAN_CHECK}\"\nONBUILD LABEL org.label-schema.build-date=\"\" \\\n              org.label-schema.name=\"\" \\\n              org.label-schema.description=\"\" \\\n              org.label-schema.vendor=\"\" \\\n              org.label-schema.url=\"\" \\\n              org.label-schema.vcs-ref=\"\" \\\n              org.label-schema.vcs-url=\"\" \\\n              org.label-schema.version=\"\" \\\n              org.label-schema.schema-version=\"\" \\\n              com.microscaling.license=\"\" \\\n              com.microscaling.docker.dockerfile=\"\" \\\n              IMAGE_VERSION=\"\" \\\n              GIT_NOT_CLEAN_CHECK=\"\"\n","originalDockerfileUglifiedHash":"8a065fc9ea8a953b1c34b967a772a236","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/14818054dc0a27ea627e0af2fca6c4113adae24f.dockerfile"}