{"seed":1733647376,"processedDockerfileHash":"99afe88221098defa14057830e3ca663","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","have-a-healthcheck"],"processedDockerfile":"#   Read the Docs - Environment base\nFROM ubuntu:18.04\nMAINTAINER Read the Docs <support@readthedocs.com>\nLABEL version=\"4.0.0rc1\"\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV APPDIR=\"/app\"\nENV LANG=\"C.UTF-8\"\n#   Versions, and expose labels for exernal usage\nENV PYTHON_VERSION_27=\"2.7.14\"\nENV PYTHON_VERSION_35=\"3.5.5\"\nENV PYTHON_VERSION_36=\"3.6.4\"\nENV CONDA_VERSION=\"4.4.10\"\nLABEL python.version_27=\"$PYTHON_VERSION_27\"\nLABEL python.version_35=\"$PYTHON_VERSION_35\"\nLABEL python.version_36=\"$PYTHON_VERSION_36\"\nLABEL conda.version=\"$CONDA_VERSION\"\n#   System dependencies\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends vim=2:8.0.1453-1ubuntu1.11 software-properties-common=0.96.24.32.20 -y )\n#   Install requirements\nRUN (apt-get update ;apt-get install --no-install-recommends bzr=2.7.0+bzr6622-10 subversion=1.9.7-4ubuntu1.1 git-core mercurial=4.5.3-1ubuntu2.2 libpq-dev=10.23-0ubuntu0.18.04.1 libxml2-dev=2.9.4+dfsg1-6.1ubuntu1.8 libxslt-dev libxslt1-dev=1.1.29-5ubuntu0.3 build-essential=12.4ubuntu1 postgresql-client=10+190ubuntu0.1 libmysqlclient-dev=5.7.41-0ubuntu0.18.04.1 curl=7.58.0-2ubuntu3.24 doxygen=1.8.13-10 g++=4:7.4.0-1ubuntu2.3 graphviz-dev libfreetype6=2.8.1-2ubuntu2.2 libbz2-dev=1.0.6-8.1ubuntu0.2 libcairo2-dev=1.15.10-2ubuntu0.1 libenchant1c2a=1.6.0-11.1 libevent-dev=2.1.8-stable-4build1 libffi-dev=3.2.1-8 libfreetype6-dev=2.8.1-2ubuntu2.2 libgraphviz-dev=2.40.1-2 libjpeg-dev=8c-2ubuntu8 libjpeg8-dev=8c-2ubuntu8 liblcms2-dev=2.9-1ubuntu0.1 libreadline-dev=7.0-3 libsqlite3-dev=3.22.0-1ubuntu0.7 libtiff5-dev=4.0.9-5ubuntu0.10 libwebp-dev=0.6.1-2ubuntu0.18.04.1 pandoc=1.19.2.4~dfsg-1build4 pkg-config=0.29.1-0ubuntu2 zlib1g-dev=1:1.2.11.dfsg-0ubuntu2.2 -y )\n#   pyenv extra requirements\nRUN (apt-get update ;apt-get install --no-install-recommends make=4.1-9.1ubuntu1 libssl-dev=1.1.1-1ubuntu2.1~18.04.21 wget=1.19.4-1ubuntu2.2 llvm=1:6.0-41~exp5~ubuntu1 libncurses5-dev=6.1-1ubuntu1.18.04 libncursesw5-dev=6.1-1ubuntu1.18.04 xz-utils=5.2.2-1.3ubuntu0.1 tk-dev=8.6.0+9 -y )\n#   LaTeX -- split to reduce image layer size\nRUN (apt-get update ;apt-get install --no-install-recommends texlive-fonts-extra=2017.20180305-2 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends texlive-latex-extra-doc=2017.20180305-2 texlive-publishers-doc=2017.20180305-2 texlive-pictures-doc=2017.20180305-1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends texlive-lang-english=2017.20180305-1 texlive-lang-japanese=2017.20180305-1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends texlive-full=2017.20180305-1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends texlive-fonts-recommended=2017.20180305-1 latex-cjk-chinese-arphic-bkai00mp=1.23 latex-cjk-chinese-arphic-gbsn00lp=1.23 latex-cjk-chinese-arphic-gkai00mp=1.23 fonts-symbola=2.60-1 -y )\n#   Install plantuml\nRUN (apt-get update ;apt-get install --no-install-recommends plantuml=1:1.2017.15-1 -y )\n#   Install Python tools/libs\nRUN (apt-get update ;apt-get install --no-install-recommends python-pip=9.0.1-2.3~ubuntu1.18.04.8 -y ) \\\n && pip install virtualenv==20.21.0 auxlib==0.0.43 -U\n#   UID and GID from readthedocs/user\nRUN groupadd --gid 205 docs\nRUN useradd -m --uid 1005 --gid 205 docs\n#   Install jsdoc\nRUN (apt-get update ;apt-get install --no-install-recommends nodejs=8.10.0~dfsg-2ubuntu0.4 npm=3.5.2-0ubuntu4 -y ) \\\n && npm install jsdoc@4.0.2 --global\nUSER docs\nWORKDIR /home/docs\n#   Install Conda\nRUN curl -O https://repo.continuum.io/miniconda/Miniconda2-${CONDA_VERSION}-Linux-x86_64.sh\nRUN bash Miniconda2-${CONDA_VERSION}-Linux-x86_64.sh -b -p /home/docs/.conda/\nENV PATH=\"$PATH:/home/docs/.conda/bin\"\n#   Install pyenv\nRUN git clone --depth 1 https://github.com/yyuu/pyenv.git ~docs/.pyenv\nENV PYENV_ROOT=\"/home/docs/.pyenv\"\nENV PATH=\"/home/docs/.pyenv/shims:$PATH:/home/docs/.pyenv/bin\"\n#   Install supported Python versions\nRUN pyenv install $PYTHON_VERSION_27 \\\n && pyenv install $PYTHON_VERSION_36 \\\n && pyenv install $PYTHON_VERSION_35 \\\n && pyenv global $PYTHON_VERSION_27 $PYTHON_VERSION_36 $PYTHON_VERSION_35\nWORKDIR /tmp\nRUN pyenv local $PYTHON_VERSION_27 \\\n && pyenv exec pip install -U pip \\\n && pyenv exec pip install --only-binary numpy,scipy numpy scipy \\\n && pyenv exec pip install pandas matplotlib virtualenv\nCOPY requirements.txt /tmp\nRUN pyenv local $PYTHON_VERSION_36 \\\n && pyenv exec pip install -U pip \\\n && pyenv exec pip install --only-binary numpy,scipy numpy scipy \\\n && pyenv exec pip install pandas matplotlib virtualenv \\\n && pyenv exec pip install -r /tmp/requirements.txt\nRUN pyenv local $PYTHON_VERSION_35 \\\n && pyenv exec pip install -U pip \\\n && pyenv exec pip install --only-binary numpy,scipy numpy scipy \\\n && pyenv exec pip install pandas matplotlib virtualenv\nWORKDIR /\nCMD [\"/bin/bash\"]\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Read the Docs - Environment base\nFROM ubuntu:18.04\nMAINTAINER Read the Docs <support@readthedocs.com>\nLABEL version=\"4.0.0rc1\"\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV APPDIR=\"/app\"\nENV LANG=\"C.UTF-8\"\n#  Versions, and expose labels for exernal usage\nENV PYTHON_VERSION_27=\"2.7.14\"\nENV PYTHON_VERSION_35=\"3.5.5\"\nENV PYTHON_VERSION_36=\"3.6.4\"\nENV CONDA_VERSION=\"4.4.10\"\nLABEL python.version_27=\"$PYTHON_VERSION_27\"\nLABEL python.version_35=\"$PYTHON_VERSION_35\"\nLABEL python.version_36=\"$PYTHON_VERSION_36\"\nLABEL conda.version=\"$CONDA_VERSION\"\n#  System dependencies\nRUN apt-get update -y\nRUN apt-get install vim software-properties-common -y\n#  Install requirements\nRUN apt-get install bzr subversion git-core mercurial libpq-dev libxml2-dev libxslt-dev libxslt1-dev build-essential postgresql-client libmysqlclient-dev curl doxygen g++ graphviz-dev libfreetype6 libbz2-dev libcairo2-dev libenchant1c2a libevent-dev libffi-dev libfreetype6-dev libgraphviz-dev libjpeg-dev libjpeg8-dev liblcms2-dev libreadline-dev libsqlite3-dev libtiff5-dev libwebp-dev pandoc pkg-config zlib1g-dev -y\n#  pyenv extra requirements\nRUN apt-get install make libssl-dev wget llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev -y\n#  LaTeX -- split to reduce image layer size\nRUN apt-get install texlive-fonts-extra -y\nRUN apt-get install texlive-latex-extra-doc texlive-publishers-doc texlive-pictures-doc -y\nRUN apt-get install texlive-lang-english texlive-lang-japanese -y\nRUN apt-get install texlive-full -y\nRUN apt-get install texlive-fonts-recommended latex-cjk-chinese-arphic-bkai00mp latex-cjk-chinese-arphic-gbsn00lp latex-cjk-chinese-arphic-gkai00mp fonts-symbola -y\n#  Install plantuml\nRUN apt-get install plantuml -y\n#  Install Python tools/libs\nRUN apt-get install python-pip -y \\\n && pip install virtualenv auxlib -U\n#  UID and GID from readthedocs/user\nRUN groupadd --gid 205 docs\nRUN useradd -m --uid 1005 --gid 205 docs\n#  Install jsdoc\nRUN apt-get install nodejs npm -y \\\n && npm install jsdoc --global\nUSER docs\nWORKDIR /home/docs\n#  Install Conda\nRUN curl -O https://repo.continuum.io/miniconda/Miniconda2-${CONDA_VERSION}-Linux-x86_64.sh\nRUN bash Miniconda2-${CONDA_VERSION}-Linux-x86_64.sh -b -p /home/docs/.conda/\nENV PATH=\"$PATH:/home/docs/.conda/bin\"\n#  Install pyenv\nRUN git clone --depth 1 https://github.com/yyuu/pyenv.git ~docs/.pyenv\nENV PYENV_ROOT=\"/home/docs/.pyenv\"\nENV PATH=\"/home/docs/.pyenv/shims:$PATH:/home/docs/.pyenv/bin\"\n#  Install supported Python versions\nRUN pyenv install $PYTHON_VERSION_27 \\\n && pyenv install $PYTHON_VERSION_36 \\\n && pyenv install $PYTHON_VERSION_35 \\\n && pyenv global $PYTHON_VERSION_27 $PYTHON_VERSION_36 $PYTHON_VERSION_35\nWORKDIR /tmp\nRUN pyenv local $PYTHON_VERSION_27 \\\n && pyenv exec pip install -U pip \\\n && pyenv exec pip install --only-binary numpy,scipy numpy scipy \\\n && pyenv exec pip install pandas matplotlib virtualenv\nCOPY requirements.txt /tmp\nRUN pyenv local $PYTHON_VERSION_36 \\\n && pyenv exec pip install -U pip \\\n && pyenv exec pip install --only-binary numpy,scipy numpy scipy \\\n && pyenv exec pip install pandas matplotlib virtualenv \\\n && pyenv exec pip install -r /tmp/requirements.txt\nRUN pyenv local $PYTHON_VERSION_35 \\\n && pyenv exec pip install -U pip \\\n && pyenv exec pip install --only-binary numpy,scipy numpy scipy \\\n && pyenv exec pip install pandas matplotlib virtualenv\nWORKDIR /\nCMD [\"/bin/bash\"]\n","injectedSmells":[],"originalDockerfileHash":"90a5bca67d01c316e637690867555c10","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Read the Docs - Environment base\nFROM ubuntu:18.04\nMAINTAINER Read the Docs <support@readthedocs.com>\nLABEL version=\"4.0.0rc1\"\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV APPDIR=\"/app\"\nENV LANG=\"C.UTF-8\"\n#   Versions, and expose labels for exernal usage\nENV PYTHON_VERSION_27=\"2.7.14\"\nENV PYTHON_VERSION_35=\"3.5.5\"\nENV PYTHON_VERSION_36=\"3.6.4\"\nENV CONDA_VERSION=\"4.4.10\"\nLABEL python.version_27=\"$PYTHON_VERSION_27\"\nLABEL python.version_35=\"$PYTHON_VERSION_35\"\nLABEL python.version_36=\"$PYTHON_VERSION_36\"\nLABEL conda.version=\"$CONDA_VERSION\"\n#   System dependencies\nRUN apt-get update -y\nRUN apt-get install vim software-properties-common -y\n#   Install requirements\nRUN apt-get install bzr subversion git-core mercurial libpq-dev libxml2-dev libxslt-dev libxslt1-dev build-essential postgresql-client libmysqlclient-dev curl doxygen g++ graphviz-dev libfreetype6 libbz2-dev libcairo2-dev libenchant1c2a libevent-dev libffi-dev libfreetype6-dev libgraphviz-dev libjpeg-dev libjpeg8-dev liblcms2-dev libreadline-dev libsqlite3-dev libtiff5-dev libwebp-dev pandoc pkg-config zlib1g-dev -y\n#   pyenv extra requirements\nRUN apt-get install make libssl-dev wget llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev -y\n#   LaTeX -- split to reduce image layer size\nRUN apt-get install texlive-fonts-extra -y\nRUN apt-get install texlive-latex-extra-doc texlive-publishers-doc texlive-pictures-doc -y\nRUN apt-get install texlive-lang-english texlive-lang-japanese -y\nRUN apt-get install texlive-full -y\nRUN apt-get install texlive-fonts-recommended latex-cjk-chinese-arphic-bkai00mp latex-cjk-chinese-arphic-gbsn00lp latex-cjk-chinese-arphic-gkai00mp fonts-symbola -y\n#   Install plantuml\nRUN apt-get install plantuml -y\n#   Install Python tools/libs\nRUN apt-get install python-pip -y \\\n && pip install virtualenv auxlib -U\n#   UID and GID from readthedocs/user\nRUN groupadd --gid 205 docs\nRUN useradd -m --uid 1005 --gid 205 docs\n#   Install jsdoc\nRUN apt-get install nodejs npm -y \\\n && npm install jsdoc --global\nUSER docs\nWORKDIR /home/docs\n#   Install Conda\nRUN curl -O https://repo.continuum.io/miniconda/Miniconda2-${CONDA_VERSION}-Linux-x86_64.sh\nRUN bash Miniconda2-${CONDA_VERSION}-Linux-x86_64.sh -b -p /home/docs/.conda/\nENV PATH=\"$PATH:/home/docs/.conda/bin\"\n#   Install pyenv\nRUN git clone --depth 1 https://github.com/yyuu/pyenv.git ~docs/.pyenv\nENV PYENV_ROOT=\"/home/docs/.pyenv\"\nENV PATH=\"/home/docs/.pyenv/shims:$PATH:/home/docs/.pyenv/bin\"\n#   Install supported Python versions\nRUN pyenv install $PYTHON_VERSION_27 \\\n && pyenv install $PYTHON_VERSION_36 \\\n && pyenv install $PYTHON_VERSION_35 \\\n && pyenv global $PYTHON_VERSION_27 $PYTHON_VERSION_36 $PYTHON_VERSION_35\nWORKDIR /tmp\nRUN pyenv local $PYTHON_VERSION_27 \\\n && pyenv exec pip install -U pip \\\n && pyenv exec pip install --only-binary numpy,scipy numpy scipy \\\n && pyenv exec pip install pandas matplotlib virtualenv\nCOPY requirements.txt /tmp\nRUN pyenv local $PYTHON_VERSION_36 \\\n && pyenv exec pip install -U pip \\\n && pyenv exec pip install --only-binary numpy,scipy numpy scipy \\\n && pyenv exec pip install pandas matplotlib virtualenv \\\n && pyenv exec pip install -r /tmp/requirements.txt\nRUN pyenv local $PYTHON_VERSION_35 \\\n && pyenv exec pip install -U pip \\\n && pyenv exec pip install --only-binary numpy,scipy numpy scipy \\\n && pyenv exec pip install pandas matplotlib virtualenv\nWORKDIR /\nCMD [\"/bin/bash\"]\n","originalDockerfileUglifiedHash":"44294d0c873061ea3009ce8720caa2c5","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/e8e11c3ba702102eba2e5db6001c8346dadecf62.dockerfile"}