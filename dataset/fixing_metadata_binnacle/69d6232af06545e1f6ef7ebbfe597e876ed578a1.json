{"seed":2065700359,"processedDockerfileHash":"47ce1f23483a95dd17e80b0ecd861f0b","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM debian:8\nARG TERM=linux\nARG DEBIAN_FRONTEND=noninteractive\nENV SCIDB_VER=\"16.9\" \\\n    SCIDB_VER_MINOR=\"5.24119eb\" \\\n    SCIDB_SOURCE_URL=\"https://docs.google.com/uc?id=0Bx6-HAs-dV5CQjlZZDJpamY0dEk&export=download\"\nENV SCIDB_SOURCE_PATH=\"/usr/local/src/scidb-$SCIDB_VER.$SCIDB_VER_MINOR\" \\\n    SCIDB_INSTALL_PATH=\"/opt/scidb/$SCIDB_VER\" \\\n    SCIDB_BUILD_TYPE=\"Release\"\nENV PATH=\"$PATH:$SCIDB_INSTALL_PATH/bin\"\n#  # Install dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https bison ca-certificates cmake flex g++ gfortran libbz2-dev libcppunit-dev liblapack-dev liblog4cxx10-dev libpqxx-dev libprotobuf-dev libreadline6-dev make openssh-server patch pkg-config postgresql postgresql-contrib protobuf-compiler python python-paramiko sudo unzip wget --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n#  # Install openjdk-8-jdk from jessie-backports\n#  # Install dependencies requiring default-jre-headless\nRUN echo \"deb http://http.debian.net/debian jessie-backports main\" > /etc/apt/sources.list.d/jessie-backports.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends ant ant-contrib ca-certificates-java/jessie-backports junit libprotobuf-java openjdk-8-jdk openjdk-8-jre-headless --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n#  # Install Paradigm4 packages\nRUN wget --no-verbose --output-document - https://downloads.paradigm4.com/key | apt-key add - \\\n && echo \"deb https://downloads.paradigm4.com/ ubuntu14.04/3rdparty/\" > /etc/apt/sources.list.d/scidb.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends scidb-$SCIDB_VER-ant scidb-$SCIDB_VER-cityhash scidb-$SCIDB_VER-libboost1.54-all-dev scidb-$SCIDB_VER-libcsv scidb-$SCIDB_VER-libmpich2-dev scidb-$SCIDB_VER-mpich2 --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n#  # Get SciDB source code\nRUN mkdir $SCIDB_SOURCE_PATH \\\n && wget --no-verbose --output-document - --load-cookies cookies.txt \"$SCIDB_SOURCE_URL&`wget --no-verbose --output-document - --save-cookies cookies.txt \"$SCIDB_SOURCE_URL\" | grep --only-matching 'confirm=[^&]*' `\" | tar --extract --gzip --directory=$SCIDB_SOURCE_PATH\n#  # Apply Debian 8 patches\nCOPY patch $SCIDB_SOURCE_PATH-patch/\nRUN cd $SCIDB_SOURCE_PATH \\\n && cat $SCIDB_SOURCE_PATH-patch/* | patch --strip=1\n#  # Build SciDB libraries (first few libs only)\nRUN cd $SCIDB_SOURCE_PATH \\\n && env PATH=$PATH:/opt/scidb/$SCIDB_VER/3rdparty/mpich2/bin ./run.py setup --force \\\n && cd stage/build \\\n && make -j2 MurmurHash_lib json_lib scidb_msg_lib system_lib storage_lib util_lib catalog_lib compression_lib array_lib ops_lib\n#   $SCIDB_SOURCE_PATH/run.py make -j2\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM debian:8\nARG TERM=linux\nARG DEBIAN_FRONTEND=noninteractive\nENV SCIDB_VER=\"16.9\" \\\n    SCIDB_VER_MINOR=\"5.24119eb\" \\\n    SCIDB_SOURCE_URL=\"https://docs.google.com/uc?id=0Bx6-HAs-dV5CQjlZZDJpamY0dEk&export=download\"\nENV SCIDB_SOURCE_PATH=\"/usr/local/src/scidb-$SCIDB_VER.$SCIDB_VER_MINOR\" \\\n    SCIDB_INSTALL_PATH=\"/opt/scidb/$SCIDB_VER\" \\\n    SCIDB_BUILD_TYPE=\"Release\"\nENV PATH=\"$PATH:$SCIDB_INSTALL_PATH/bin\"\n# # Install dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https bison ca-certificates cmake flex g++ gfortran libbz2-dev libcppunit-dev liblapack-dev liblog4cxx10-dev libpqxx-dev libprotobuf-dev libreadline6-dev make openssh-server patch pkg-config postgresql postgresql-contrib protobuf-compiler python python-paramiko sudo unzip wget --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n# # Install openjdk-8-jdk from jessie-backports\n# # Install dependencies requiring default-jre-headless\nRUN echo \"deb http://http.debian.net/debian jessie-backports main\" > /etc/apt/sources.list.d/jessie-backports.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends ant ant-contrib ca-certificates-java/jessie-backports junit libprotobuf-java openjdk-8-jdk openjdk-8-jre-headless --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n# # Install Paradigm4 packages\nRUN wget --no-verbose --output-document - https://downloads.paradigm4.com/key | apt-key add - \\\n && echo \"deb https://downloads.paradigm4.com/ ubuntu14.04/3rdparty/\" > /etc/apt/sources.list.d/scidb.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends scidb-$SCIDB_VER-ant scidb-$SCIDB_VER-cityhash scidb-$SCIDB_VER-libboost1.54-all-dev scidb-$SCIDB_VER-libcsv scidb-$SCIDB_VER-libmpich2-dev scidb-$SCIDB_VER-mpich2 --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n# # Get SciDB source code\nRUN mkdir $SCIDB_SOURCE_PATH \\\n && wget --no-verbose --output-document - --load-cookies cookies.txt \"$SCIDB_SOURCE_URL&`wget --no-verbose --output-document - --save-cookies cookies.txt \"$SCIDB_SOURCE_URL\" | grep --only-matching 'confirm=[^&]*' `\" | tar --extract --gzip --directory=$SCIDB_SOURCE_PATH\n# # Apply Debian 8 patches\nCOPY patch $SCIDB_SOURCE_PATH-patch/\nRUN cd $SCIDB_SOURCE_PATH \\\n && cat $SCIDB_SOURCE_PATH-patch/* | patch --strip=1\n# # Build SciDB libraries (first few libs only)\nRUN cd $SCIDB_SOURCE_PATH \\\n && env PATH=$PATH:/opt/scidb/$SCIDB_VER/3rdparty/mpich2/bin ./run.py setup --force \\\n && cd stage/build \\\n && make -j2 MurmurHash_lib json_lib scidb_msg_lib system_lib storage_lib util_lib catalog_lib compression_lib array_lib ops_lib\n#  $SCIDB_SOURCE_PATH/run.py make -j2\n","injectedSmells":[],"originalDockerfileHash":"0ea74e3320708f089b7f0efb7b201607","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM debian:8\nARG TERM=linux\nARG DEBIAN_FRONTEND=noninteractive\nENV SCIDB_VER=\"16.9\" \\\n    SCIDB_VER_MINOR=\"5.24119eb\" \\\n    SCIDB_SOURCE_URL=\"https://docs.google.com/uc?id=0Bx6-HAs-dV5CQjlZZDJpamY0dEk&export=download\"\nENV SCIDB_SOURCE_PATH=\"/usr/local/src/scidb-$SCIDB_VER.$SCIDB_VER_MINOR\" \\\n    SCIDB_INSTALL_PATH=\"/opt/scidb/$SCIDB_VER\" \\\n    SCIDB_BUILD_TYPE=\"Release\"\nENV PATH=\"$PATH:$SCIDB_INSTALL_PATH/bin\"\n#  # Install dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https bison ca-certificates cmake flex g++ gfortran libbz2-dev libcppunit-dev liblapack-dev liblog4cxx10-dev libpqxx-dev libprotobuf-dev libreadline6-dev make openssh-server patch pkg-config postgresql postgresql-contrib protobuf-compiler python python-paramiko sudo unzip wget --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n#  # Install openjdk-8-jdk from jessie-backports\n#  # Install dependencies requiring default-jre-headless\nRUN echo \"deb http://http.debian.net/debian jessie-backports main\" > /etc/apt/sources.list.d/jessie-backports.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends ant ant-contrib ca-certificates-java/jessie-backports junit libprotobuf-java openjdk-8-jdk openjdk-8-jre-headless --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n#  # Install Paradigm4 packages\nRUN wget --no-verbose --output-document - https://downloads.paradigm4.com/key | apt-key add - \\\n && echo \"deb https://downloads.paradigm4.com/ ubuntu14.04/3rdparty/\" > /etc/apt/sources.list.d/scidb.list \\\n && apt-get update \\\n && apt-get install --no-install-recommends scidb-$SCIDB_VER-ant scidb-$SCIDB_VER-cityhash scidb-$SCIDB_VER-libboost1.54-all-dev scidb-$SCIDB_VER-libcsv scidb-$SCIDB_VER-libmpich2-dev scidb-$SCIDB_VER-mpich2 --assume-yes \\\n && rm -rf /var/lib/apt/lists/*\n#  # Get SciDB source code\nRUN mkdir $SCIDB_SOURCE_PATH \\\n && wget --no-verbose --output-document - --load-cookies cookies.txt \"$SCIDB_SOURCE_URL&`wget --no-verbose --output-document - --save-cookies cookies.txt \"$SCIDB_SOURCE_URL\" | grep --only-matching 'confirm=[^&]*' `\" | tar --extract --gzip --directory=$SCIDB_SOURCE_PATH\n#  # Apply Debian 8 patches\nCOPY patch $SCIDB_SOURCE_PATH-patch/\nRUN cd $SCIDB_SOURCE_PATH \\\n && cat $SCIDB_SOURCE_PATH-patch/* | patch --strip=1\n#  # Build SciDB libraries (first few libs only)\nRUN cd $SCIDB_SOURCE_PATH \\\n && env PATH=$PATH:/opt/scidb/$SCIDB_VER/3rdparty/mpich2/bin ./run.py setup --force \\\n && cd stage/build \\\n && make -j2 MurmurHash_lib json_lib scidb_msg_lib system_lib storage_lib util_lib catalog_lib compression_lib array_lib ops_lib\n#   $SCIDB_SOURCE_PATH/run.py make -j2\n","originalDockerfileUglifiedHash":"a055f9f8b14c3762b2c2a10101c88b74","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/69d6232af06545e1f6ef7ebbfe597e876ed578a1.dockerfile"}