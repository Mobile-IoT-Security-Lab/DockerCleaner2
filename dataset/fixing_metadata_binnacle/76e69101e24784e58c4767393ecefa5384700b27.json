{"seed":3167126114,"processedDockerfileHash":"7e8dbf6c36c7291b0fd3895088404bfb","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM therecipe/qt:wine_base AS base\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends p7zip -qq -y\nRUN GCC=x86_64-8.1.0-release-posix-seh-rt_v6-rev0.7z \\\n && cd $HOME/.wine/drive_c \\\n && curl -sL --retry 10 --retry-delay 60 -O https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/Personal%20Builds/mingw-builds/8.1.0/threads-posix/seh/$GCC \\\n && p7zip -d $GCC \\\n && rm -f $GCC\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends xz-utils -qq -y \\\n && apt-get -qq clean\nRUN REPO=http://repo.msys2.org/mingw/x86_64 \\\n && curl -sL --retry 10 --retry-delay 60 -o repo $REPO\nENV REPO=\"https://sourceforge.net/projects/msys2/files/REPOS/MINGW/x86_64\"\nRUN mkdir -p $HOME/.wine/drive_c/msys64\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-qt5-5.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-gcc-libs-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-qtbinpatcher-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-z3-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-assimp-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-dbus-1.12.1.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-fontconfig-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-freetype-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-harfbuzz-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-jasper-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libjpeg-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libmng-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libpng-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libtiff-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libxml2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-libxslt-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libwebp-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-openssl-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-openal-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-pcre2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-sqlite3-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-vulkan-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-xpm-nox-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-zlib-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-icu-6.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libmariadbclient-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-firebird2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-postgresql-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libiconv-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-pcre-8.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-bzip2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-glib2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-gettext-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-xz-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-graphite2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libwinpthread-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN ln -s /home/user/.wine/drive_c/mingw64/bin/objdump.exe $HOME/.wine/drive_c/msys64/mingw64/bin/\nRUN cd $HOME/.wine/drive_c/msys64/mingw64/bin \\\n && wine qtbinpatcher.exe --nobackup\nRUN rm -f $( find $HOME/.wine/drive_c/msys64/mingw64 -name \"*d.a\" -exec grep -l \"gnu_debug\" {} + ;)\nRUN rm -f $( find $HOME/.wine/drive_c/msys64/mingw64 -name \"*d.dll\" -exec grep -l \"gnu_debug\" {} + ;)\nRUN rm -f $( find $HOME/.wine/drive_c/msys64/mingw64 -name \"*d.dll.a\" -exec grep -l \"gnu_debug\" {} + ;)\nRUN find $HOME/.wine/drive_c/msys64/mingw64 -name \"*.exe\" -size +7M -maxdepth 4 -delete\nRUN rm -rf $HOME/.wine/drive_c/msys64/mingw64/qt5/share/qt5/doc\nRUN rm -rf $HOME/.wine/drive_c/msys64/mingw64/qt5/share/qt5/examples\nFROM ubuntu:16.04\nLABEL maintainer=\"therecipe\"\nENV USER=\"user\"\nENV HOME=\"/home/$USER\"\nENV GOPATH=\"C:\\\\gopath\"\nENV WINEDEBUG=\"-all\"\nENV WINEPATH=\"C:\\\\mingw64\\\\bin;C:\\\\go\\\\bin\"\nCOPY --from=base $HOME/.wine/drive_c/go $HOME/.wine/drive_c/go\nCOPY --from=base $HOME/.wine/drive_c/gopath/bin $HOME/.wine/drive_c/gopath/bin\nCOPY --from=base $HOME/.wine/drive_c/gopath/src/github.com/therecipe/qt $HOME/.wine/drive_c/gopath/src/github.com/therecipe/qt\nCOPY --from=base $HOME/.wine/drive_c/mingw64 $HOME/.wine/drive_c/mingw64\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/bin $HOME/.wine/drive_c/msys64/mingw64/bin\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/include $HOME/.wine/drive_c/msys64/mingw64/include\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/lib $HOME/.wine/drive_c/msys64/mingw64/lib\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/share/qt5 $HOME/.wine/drive_c/msys64/mingw64/share/qt5\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends ca-certificates curl software-properties-common apt-transport-https -qq -y \\\n && apt-get -qq clean\nRUN dpkg --add-architecture i386\nRUN curl -sL --retry 10 --retry-delay 60 https://dl.winehq.org/wine-builds/winehq.key | apt-key add -\nRUN apt-add-repository https://dl.winehq.org/wine-builds/ubuntu/\nRUN apt-add-repository 'deb https://dl.winehq.org/wine-builds/ubuntu/ xenial main'\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends winehq-staging -qq -y \\\n && apt-get -qq clean\nRUN WINEDLLOVERRIDES=\"mscoree,mshtml=\" wineboot \\\n && wineserver -w\nRUN echo 'REGEDIT4\\n\\n[HKEY_CURRENT_USER\\Environment]\\n\"QT_DOCKER\"=\"true\"\\n\"QT_MSYS2\"=\"true\"\\n\"QT_MSYS2_ARCH\"=\"amd64\"\\n\"QT_MSYS2_STATIC\"=\"false\"' > env.reg \\\n && regedit Z:env.reg \\\n && wineserver -w \\\n && rm -f env.reg\nRUN wine $GOPATHbinqtsetup prep\nRUN wine $GOPATHbinqtsetup check\nRUN wine $GOPATHbinqtsetup generate\nRUN cd $HOME/.wine/drive_c/gopath/src/github.com/therecipe/qt/internal/examples/widgets/line_edits \\\n && wine qtdeploy build windows \\\n && rm -rf ./deploy\nRUN echo \"#!/bin/bash\\nexport GOPATH=$( winepath -0 -w $( echo $GOPATH | sed -e 's/:/ /g' ;) | sed -e 's/Z:/;Z:/2g' ;)\" > /usr/bin/qtpath \\\n && chmod +x /usr/bin/qtpath\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtdeploy \"$@\"' > /usr/bin/qtdeploy \\\n && chmod +x /usr/bin/qtdeploy\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtminimal \"$@\"' > /usr/bin/qtminimal \\\n && chmod +x /usr/bin/qtminimal\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtmoc \"$@\"' > /usr/bin/qtmoc \\\n && chmod +x /usr/bin/qtmoc\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtrcc \"$@\"' > /usr/bin/qtrcc \\\n && chmod +x /usr/bin/qtrcc\nRUN ln -s $HOME/.wine/drive_c/gopath $HOME/work\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM therecipe/qt:wine_base AS base\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends p7zip -qq -y\nRUN GCC=x86_64-8.1.0-release-posix-seh-rt_v6-rev0.7z \\\n && cd $HOME/.wine/drive_c \\\n && curl -sL --retry 10 --retry-delay 60 -O https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/Personal%20Builds/mingw-builds/8.1.0/threads-posix/seh/$GCC \\\n && p7zip -d $GCC \\\n && rm -f $GCC\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends xz-utils -qq -y \\\n && apt-get -qq clean\nRUN REPO=http://repo.msys2.org/mingw/x86_64 \\\n && curl -sL --retry 10 --retry-delay 60 -o repo $REPO\nENV REPO=\"https://sourceforge.net/projects/msys2/files/REPOS/MINGW/x86_64\"\nRUN mkdir -p $HOME/.wine/drive_c/msys64\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-qt5-5.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-gcc-libs-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-qtbinpatcher-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-z3-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-assimp-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-dbus-1.12.1.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-fontconfig-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-freetype-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-harfbuzz-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-jasper-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libjpeg-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libmng-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libpng-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libtiff-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libxml2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-libxslt-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libwebp-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-openssl-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-openal-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-pcre2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-sqlite3-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-vulkan-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-xpm-nox-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-zlib-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-icu-6.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libmariadbclient-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-firebird2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-postgresql-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libiconv-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-pcre-8.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-bzip2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-glib2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-gettext-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-xz-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-graphite2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libwinpthread-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN ln -s /home/user/.wine/drive_c/mingw64/bin/objdump.exe $HOME/.wine/drive_c/msys64/mingw64/bin/\nRUN cd $HOME/.wine/drive_c/msys64/mingw64/bin \\\n && wine qtbinpatcher.exe --nobackup\nRUN rm -f $( find $HOME/.wine/drive_c/msys64/mingw64 -name \"*d.a\" -exec grep -l \"gnu_debug\" {} + ;)\nRUN rm -f $( find $HOME/.wine/drive_c/msys64/mingw64 -name \"*d.dll\" -exec grep -l \"gnu_debug\" {} + ;)\nRUN rm -f $( find $HOME/.wine/drive_c/msys64/mingw64 -name \"*d.dll.a\" -exec grep -l \"gnu_debug\" {} + ;)\nRUN find $HOME/.wine/drive_c/msys64/mingw64 -name \"*.exe\" -size +7M -maxdepth 4 -delete\nRUN rm -rf $HOME/.wine/drive_c/msys64/mingw64/qt5/share/qt5/doc\nRUN rm -rf $HOME/.wine/drive_c/msys64/mingw64/qt5/share/qt5/examples\nFROM ubuntu:16.04\nLABEL maintainer=\"therecipe\"\nENV USER=\"user\"\nENV HOME=\"/home/$USER\"\nENV GOPATH=\"C:\\\\gopath\"\nENV WINEDEBUG=\"-all\"\nENV WINEPATH=\"C:\\\\mingw64\\\\bin;C:\\\\go\\\\bin\"\nCOPY --from=base $HOME/.wine/drive_c/go $HOME/.wine/drive_c/go\nCOPY --from=base $HOME/.wine/drive_c/gopath/bin $HOME/.wine/drive_c/gopath/bin\nCOPY --from=base $HOME/.wine/drive_c/gopath/src/github.com/therecipe/qt $HOME/.wine/drive_c/gopath/src/github.com/therecipe/qt\nCOPY --from=base $HOME/.wine/drive_c/mingw64 $HOME/.wine/drive_c/mingw64\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/bin $HOME/.wine/drive_c/msys64/mingw64/bin\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/include $HOME/.wine/drive_c/msys64/mingw64/include\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/lib $HOME/.wine/drive_c/msys64/mingw64/lib\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/share/qt5 $HOME/.wine/drive_c/msys64/mingw64/share/qt5\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends ca-certificates curl software-properties-common apt-transport-https -qq -y \\\n && apt-get -qq clean\nRUN dpkg --add-architecture i386\nRUN curl -sL --retry 10 --retry-delay 60 https://dl.winehq.org/wine-builds/winehq.key | apt-key add -\nRUN apt-add-repository https://dl.winehq.org/wine-builds/ubuntu/\nRUN apt-add-repository 'deb https://dl.winehq.org/wine-builds/ubuntu/ xenial main'\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends winehq-staging -qq -y \\\n && apt-get -qq clean\nRUN WINEDLLOVERRIDES=\"mscoree,mshtml=\" wineboot \\\n && wineserver -w\nRUN echo 'REGEDIT4\\n\\n[HKEY_CURRENT_USER\\Environment]\\n\"QT_DOCKER\"=\"true\"\\n\"QT_MSYS2\"=\"true\"\\n\"QT_MSYS2_ARCH\"=\"amd64\"\\n\"QT_MSYS2_STATIC\"=\"false\"' > env.reg \\\n && regedit Z:\\env.reg \\\n && wineserver -w \\\n && rm -f env.reg\nRUN wine $GOPATH\\bin\\qtsetup prep\nRUN wine $GOPATH\\bin\\qtsetup check\nRUN wine $GOPATH\\bin\\qtsetup generate\nRUN cd $HOME/.wine/drive_c/gopath/src/github.com/therecipe/qt/internal/examples/widgets/line_edits \\\n && wine qtdeploy build windows \\\n && rm -rf ./deploy\nRUN echo \"#!/bin/bash\\nexport GOPATH=$(winepath -0 -w $(echo $GOPATH | sed -e 's/:/ /g') | sed -e 's/Z:/;Z:/2g')\" > /usr/bin/qtpath \\\n && chmod +x /usr/bin/qtpath\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtdeploy \"$@\"' > /usr/bin/qtdeploy \\\n && chmod +x /usr/bin/qtdeploy\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtminimal \"$@\"' > /usr/bin/qtminimal \\\n && chmod +x /usr/bin/qtminimal\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtmoc \"$@\"' > /usr/bin/qtmoc \\\n && chmod +x /usr/bin/qtmoc\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtrcc \"$@\"' > /usr/bin/qtrcc \\\n && chmod +x /usr/bin/qtrcc\nRUN ln -s $HOME/.wine/drive_c/gopath $HOME/work\n","injectedSmells":[],"originalDockerfileHash":"1616f8e32ecbd933874810bfbcc68262","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM therecipe/qt:wine_base AS base\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends p7zip -qq -y\nRUN GCC=x86_64-8.1.0-release-posix-seh-rt_v6-rev0.7z \\\n && cd $HOME/.wine/drive_c \\\n && curl -sL --retry 10 --retry-delay 60 -O https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/Personal%20Builds/mingw-builds/8.1.0/threads-posix/seh/$GCC \\\n && p7zip -d $GCC \\\n && rm -f $GCC\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends xz-utils -qq -y \\\n && apt-get -qq clean\nRUN REPO=http://repo.msys2.org/mingw/x86_64 \\\n && curl -sL --retry 10 --retry-delay 60 -o repo $REPO\nENV REPO=\"https://sourceforge.net/projects/msys2/files/REPOS/MINGW/x86_64\"\nRUN mkdir -p $HOME/.wine/drive_c/msys64\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-qt5-5.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-gcc-libs-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-qtbinpatcher-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-z3-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-assimp-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-dbus-1.12.1.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-fontconfig-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-freetype-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-harfbuzz-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-jasper-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libjpeg-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libmng-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libpng-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libtiff-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libxml2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-libxslt-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libwebp-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-openssl-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-openal-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-pcre2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-sqlite3-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-vulkan-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-xpm-nox-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-zlib-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-icu-6.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libmariadbclient-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-firebird2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-postgresql-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libiconv-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-pcre-8.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2017 | grep -m 1 -o -P 'mingw-w64-x86_64-bzip2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-glib2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-gettext-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-xz-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-graphite2-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN PKG=$( tac repo | grep 2018 | grep -m 1 -o -P 'mingw-w64-x86_64-libwinpthread-.*tar.xz(?=\\\")' ;) \\\n && curl -sL --retry 10 --retry-delay 60 -O $REPO/$PKG \\\n && tar -xf $PKG -C $HOME/.wine/drive_c/msys64 \\\n && rm -f $PKG\nRUN ln -s /home/user/.wine/drive_c/mingw64/bin/objdump.exe $HOME/.wine/drive_c/msys64/mingw64/bin/\nRUN cd $HOME/.wine/drive_c/msys64/mingw64/bin \\\n && wine qtbinpatcher.exe --nobackup\nRUN rm -f $( find $HOME/.wine/drive_c/msys64/mingw64 -name \"*d.a\" -exec grep -l \"gnu_debug\" {} + ;)\nRUN rm -f $( find $HOME/.wine/drive_c/msys64/mingw64 -name \"*d.dll\" -exec grep -l \"gnu_debug\" {} + ;)\nRUN rm -f $( find $HOME/.wine/drive_c/msys64/mingw64 -name \"*d.dll.a\" -exec grep -l \"gnu_debug\" {} + ;)\nRUN find $HOME/.wine/drive_c/msys64/mingw64 -name \"*.exe\" -size +7M -maxdepth 4 -delete\nRUN rm -rf $HOME/.wine/drive_c/msys64/mingw64/qt5/share/qt5/doc\nRUN rm -rf $HOME/.wine/drive_c/msys64/mingw64/qt5/share/qt5/examples\nFROM ubuntu:16.04\nLABEL maintainer=\"therecipe\"\nENV USER=\"user\"\nENV HOME=\"/home/$USER\"\nENV GOPATH=\"C:\\\\gopath\"\nENV WINEDEBUG=\"-all\"\nENV WINEPATH=\"C:\\\\mingw64\\\\bin;C:\\\\go\\\\bin\"\nCOPY --from=base $HOME/.wine/drive_c/go $HOME/.wine/drive_c/go\nCOPY --from=base $HOME/.wine/drive_c/gopath/bin $HOME/.wine/drive_c/gopath/bin\nCOPY --from=base $HOME/.wine/drive_c/gopath/src/github.com/therecipe/qt $HOME/.wine/drive_c/gopath/src/github.com/therecipe/qt\nCOPY --from=base $HOME/.wine/drive_c/mingw64 $HOME/.wine/drive_c/mingw64\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/bin $HOME/.wine/drive_c/msys64/mingw64/bin\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/include $HOME/.wine/drive_c/msys64/mingw64/include\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/lib $HOME/.wine/drive_c/msys64/mingw64/lib\nCOPY --from=base $HOME/.wine/drive_c/msys64/mingw64/share/qt5 $HOME/.wine/drive_c/msys64/mingw64/share/qt5\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends ca-certificates curl software-properties-common apt-transport-https -qq -y \\\n && apt-get -qq clean\nRUN dpkg --add-architecture i386\nRUN curl -sL --retry 10 --retry-delay 60 https://dl.winehq.org/wine-builds/winehq.key | apt-key add -\nRUN apt-add-repository https://dl.winehq.org/wine-builds/ubuntu/\nRUN apt-add-repository 'deb https://dl.winehq.org/wine-builds/ubuntu/ xenial main'\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends winehq-staging -qq -y \\\n && apt-get -qq clean\nRUN WINEDLLOVERRIDES=\"mscoree,mshtml=\" wineboot \\\n && wineserver -w\nRUN echo 'REGEDIT4\\n\\n[HKEY_CURRENT_USER\\Environment]\\n\"QT_DOCKER\"=\"true\"\\n\"QT_MSYS2\"=\"true\"\\n\"QT_MSYS2_ARCH\"=\"amd64\"\\n\"QT_MSYS2_STATIC\"=\"false\"' > env.reg \\\n && regedit Z:env.reg \\\n && wineserver -w \\\n && rm -f env.reg\nRUN wine $GOPATHbinqtsetup prep\nRUN wine $GOPATHbinqtsetup check\nRUN wine $GOPATHbinqtsetup generate\nRUN cd $HOME/.wine/drive_c/gopath/src/github.com/therecipe/qt/internal/examples/widgets/line_edits \\\n && wine qtdeploy build windows \\\n && rm -rf ./deploy\nRUN echo \"#!/bin/bash\\nexport GOPATH=$( winepath -0 -w $( echo $GOPATH | sed -e 's/:/ /g' ;) | sed -e 's/Z:/;Z:/2g' ;)\" > /usr/bin/qtpath \\\n && chmod +x /usr/bin/qtpath\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtdeploy \"$@\"' > /usr/bin/qtdeploy \\\n && chmod +x /usr/bin/qtdeploy\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtminimal \"$@\"' > /usr/bin/qtminimal \\\n && chmod +x /usr/bin/qtminimal\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtmoc \"$@\"' > /usr/bin/qtmoc \\\n && chmod +x /usr/bin/qtmoc\nRUN echo '#!/bin/bash\\nsource qtpath\\nwine qtrcc \"$@\"' > /usr/bin/qtrcc \\\n && chmod +x /usr/bin/qtrcc\nRUN ln -s $HOME/.wine/drive_c/gopath $HOME/work\n","originalDockerfileUglifiedHash":"8bbf327dfb18971044c32cbe249714df","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/76e69101e24784e58c4767393ecefa5384700b27.dockerfile"}