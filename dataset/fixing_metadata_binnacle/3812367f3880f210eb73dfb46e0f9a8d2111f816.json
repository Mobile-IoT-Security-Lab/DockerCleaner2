{"seed":1300423293,"processedDockerfileHash":"e5a048d8f97ed7d38a7b0bc238463015","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Dockerfile to build aria2 Windows binary using ubuntu mingw-w64\n#   cross compiler chain.\n#\n#   $ sudo docker build -t aria2-mingw - < Dockerfile.mingw\n#\n#   After successful build, windows binary is located at\n#   /aria2/src/aria2c.exe.  You can copy the binary using following\n#   commands:\n#\n#   $ id=$(sudo docker create aria2-mingw)\n#   $ sudo docker cp $id:/aria2/src/aria2c.exe <dest>\n#   $ sudo docker rm -v $id\nFROM ubuntu:wily\nMAINTAINER Tatsuhiro Tsujikawa\n#   Change HOST to x86_64-w64-mingw32 to build 64-bit binary\nENV HOST=\"i686-w64-mingw32\"\n#   It would be better to use nearest ubuntu archive mirror for faster\n#   downloads.\n#   RUN sed -ie 's/archive\\.ubuntu/jp.archive.ubuntu/g' /etc/apt/sources.list\nRUN apt-get update \\\n && apt-get install --no-install-recommends make binutils autoconf automake autotools-dev libtool pkg-config git curl dpkg-dev gcc-mingw-w64 autopoint libcppunit-dev libxml2-dev libgcrypt11-dev lzip -y\nRUN curl -L -O https://gmplib.org/download/gmp/gmp-6.1.1.tar.lz \\\n && curl -L -O http://downloads.sourceforge.net/project/expat/expat/2.2.0/expat-2.2.0.tar.bz2 \\\n && curl -L -O https://www.sqlite.org/2016/sqlite-autoconf-3150000.tar.gz \\\n && curl -L -O http://zlib.net/zlib-1.2.8.tar.xz \\\n && curl -L -O https://c-ares.haxx.se/download/c-ares-1.12.0.tar.gz \\\n && curl -L -O http://libssh2.org/download/libssh2-1.7.0.tar.gz\nRUN tar xf gmp-6.1.1.tar.lz \\\n && cd gmp-6.1.1 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --disable-cxx --enable-fat CFLAGS=\"-mtune=generic -O2 -g0\" \\\n && make install\nRUN tar xf expat-2.2.0.tar.bz2 \\\n && cd expat-2.2.0 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` \\\n && make install\nRUN tar xf sqlite-autoconf-3150000.tar.gz \\\n && cd sqlite-autoconf-3150000 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` \\\n && make install\nRUN tar xf zlib-1.2.8.tar.xz \\\n && cd zlib-1.2.8 \\\n && CC=$HOST-gcc AR=$HOST-ar LD=$HOST-ld RANLIB=$HOST-ranlib STRIP=$HOST-strip ./configure --prefix=/usr/local/$HOST --libdir=/usr/local/$HOST/lib --includedir=/usr/local/$HOST/include --static \\\n && make install\nRUN tar xf c-ares-1.12.0.tar.gz \\\n && cd c-ares-1.12.0 \\\n && ./configure --disable-shared --enable-static --without-random --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` LIBS=\"-lws2_32\" \\\n && make install\nRUN tar xf libssh2-1.7.0.tar.gz \\\n && cd libssh2-1.7.0 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --without-openssl --with-wincng LIBS=\"-lws2_32\" \\\n && make install\nRUN git clone https://github.com/aria2/aria2 \\\n && cd aria2 \\\n && autoreconf -i \\\n && ./mingw-config \\\n && make \\\n && $HOST-strip src/aria2c.exe\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Dockerfile to build aria2 Windows binary using ubuntu mingw-w64\n#  cross compiler chain.\n#\n#  $ sudo docker build -t aria2-mingw - < Dockerfile.mingw\n#\n#  After successful build, windows binary is located at\n#  /aria2/src/aria2c.exe.  You can copy the binary using following\n#  commands:\n#\n#  $ id=$(sudo docker create aria2-mingw)\n#  $ sudo docker cp $id:/aria2/src/aria2c.exe <dest>\n#  $ sudo docker rm -v $id\nFROM ubuntu:wily\nMAINTAINER Tatsuhiro Tsujikawa\n#  Change HOST to x86_64-w64-mingw32 to build 64-bit binary\nENV HOST=\"i686-w64-mingw32\"\n#  It would be better to use nearest ubuntu archive mirror for faster\n#  downloads.\n#  RUN sed -ie 's/archive\\.ubuntu/jp.archive.ubuntu/g' /etc/apt/sources.list\nRUN apt-get update \\\n && apt-get install make binutils autoconf automake autotools-dev libtool pkg-config git curl dpkg-dev gcc-mingw-w64 autopoint libcppunit-dev libxml2-dev libgcrypt11-dev lzip -y\nRUN curl -L -O https://gmplib.org/download/gmp/gmp-6.1.1.tar.lz \\\n && curl -L -O http://downloads.sourceforge.net/project/expat/expat/2.2.0/expat-2.2.0.tar.bz2 \\\n && curl -L -O https://www.sqlite.org/2016/sqlite-autoconf-3150000.tar.gz \\\n && curl -L -O http://zlib.net/zlib-1.2.8.tar.xz \\\n && curl -L -O https://c-ares.haxx.se/download/c-ares-1.12.0.tar.gz \\\n && curl -L -O http://libssh2.org/download/libssh2-1.7.0.tar.gz\nRUN tar xf gmp-6.1.1.tar.lz \\\n && cd gmp-6.1.1 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --disable-cxx --enable-fat CFLAGS=\"-mtune=generic -O2 -g0\" \\\n && make install\nRUN tar xf expat-2.2.0.tar.bz2 \\\n && cd expat-2.2.0 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` \\\n && make install\nRUN tar xf sqlite-autoconf-3150000.tar.gz \\\n && cd sqlite-autoconf-3150000 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` \\\n && make install\nRUN tar xf zlib-1.2.8.tar.xz \\\n && cd zlib-1.2.8 \\\n && CC=$HOST-gcc AR=$HOST-ar LD=$HOST-ld RANLIB=$HOST-ranlib STRIP=$HOST-strip ./configure --prefix=/usr/local/$HOST --libdir=/usr/local/$HOST/lib --includedir=/usr/local/$HOST/include --static \\\n && make install\nRUN tar xf c-ares-1.12.0.tar.gz \\\n && cd c-ares-1.12.0 \\\n && ./configure --disable-shared --enable-static --without-random --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` LIBS=\"-lws2_32\" \\\n && make install\nRUN tar xf libssh2-1.7.0.tar.gz \\\n && cd libssh2-1.7.0 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --without-openssl --with-wincng LIBS=\"-lws2_32\" \\\n && make install\nRUN git clone https://github.com/aria2/aria2 \\\n && cd aria2 \\\n && autoreconf -i \\\n && ./mingw-config \\\n && make \\\n && $HOST-strip src/aria2c.exe\n","injectedSmells":[],"originalDockerfileHash":"bad475cfeadbbc1801bcb1a64d82e27d","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Dockerfile to build aria2 Windows binary using ubuntu mingw-w64\n#   cross compiler chain.\n#\n#   $ sudo docker build -t aria2-mingw - < Dockerfile.mingw\n#\n#   After successful build, windows binary is located at\n#   /aria2/src/aria2c.exe.  You can copy the binary using following\n#   commands:\n#\n#   $ id=$(sudo docker create aria2-mingw)\n#   $ sudo docker cp $id:/aria2/src/aria2c.exe <dest>\n#   $ sudo docker rm -v $id\nFROM ubuntu:wily\nMAINTAINER Tatsuhiro Tsujikawa\n#   Change HOST to x86_64-w64-mingw32 to build 64-bit binary\nENV HOST=\"i686-w64-mingw32\"\n#   It would be better to use nearest ubuntu archive mirror for faster\n#   downloads.\n#   RUN sed -ie 's/archive\\.ubuntu/jp.archive.ubuntu/g' /etc/apt/sources.list\nRUN apt-get update \\\n && apt-get install make binutils autoconf automake autotools-dev libtool pkg-config git curl dpkg-dev gcc-mingw-w64 autopoint libcppunit-dev libxml2-dev libgcrypt11-dev lzip -y\nRUN curl -L -O https://gmplib.org/download/gmp/gmp-6.1.1.tar.lz \\\n && curl -L -O http://downloads.sourceforge.net/project/expat/expat/2.2.0/expat-2.2.0.tar.bz2 \\\n && curl -L -O https://www.sqlite.org/2016/sqlite-autoconf-3150000.tar.gz \\\n && curl -L -O http://zlib.net/zlib-1.2.8.tar.xz \\\n && curl -L -O https://c-ares.haxx.se/download/c-ares-1.12.0.tar.gz \\\n && curl -L -O http://libssh2.org/download/libssh2-1.7.0.tar.gz\nRUN tar xf gmp-6.1.1.tar.lz \\\n && cd gmp-6.1.1 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --disable-cxx --enable-fat CFLAGS=\"-mtune=generic -O2 -g0\" \\\n && make install\nRUN tar xf expat-2.2.0.tar.bz2 \\\n && cd expat-2.2.0 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` \\\n && make install\nRUN tar xf sqlite-autoconf-3150000.tar.gz \\\n && cd sqlite-autoconf-3150000 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` \\\n && make install\nRUN tar xf zlib-1.2.8.tar.xz \\\n && cd zlib-1.2.8 \\\n && CC=$HOST-gcc AR=$HOST-ar LD=$HOST-ld RANLIB=$HOST-ranlib STRIP=$HOST-strip ./configure --prefix=/usr/local/$HOST --libdir=/usr/local/$HOST/lib --includedir=/usr/local/$HOST/include --static \\\n && make install\nRUN tar xf c-ares-1.12.0.tar.gz \\\n && cd c-ares-1.12.0 \\\n && ./configure --disable-shared --enable-static --without-random --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` LIBS=\"-lws2_32\" \\\n && make install\nRUN tar xf libssh2-1.7.0.tar.gz \\\n && cd libssh2-1.7.0 \\\n && ./configure --disable-shared --enable-static --prefix=/usr/local/$HOST --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --without-openssl --with-wincng LIBS=\"-lws2_32\" \\\n && make install\nRUN git clone https://github.com/aria2/aria2 \\\n && cd aria2 \\\n && autoreconf -i \\\n && ./mingw-config \\\n && make \\\n && $HOST-strip src/aria2c.exe\n","originalDockerfileUglifiedHash":"9e6c13deda29bad30400b7bcd4ae1d0d","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/3812367f3880f210eb73dfb46e0f9a8d2111f816.dockerfile"}