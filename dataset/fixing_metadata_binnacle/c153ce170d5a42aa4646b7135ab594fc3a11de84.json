{"seed":2147445343,"processedDockerfileHash":"2ee7c7b96412280759f03da4659cdb7e","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck"],"processedDockerfile":"FROM ubuntu:xenial\nLABEL maintainer=\"Luis Martinez de Bartolome <luism@jfrog.com>\"\nENV PYENV_ROOT=\"/opt/pyenv\" \\\n    PATH=\"/opt/pyenv/shims:${PATH}\" \\\n    CXX=\"/usr/bin/g++\" \\\n    CC=\"/usr/bin/gcc\"\nRUN dpkg --add-architecture i386 \\\n && apt-get update -qq \\\n && apt-get install --no-install-recommends dh-autoreconf=11 sudo=1.* build-essential=12.* wget=1.* git=1:2.* libc6-dev-i386=2.* g++-multilib=4:5.3.* libgmp-dev=2:6.* libmpfr-dev=3.* libmpc-dev=1.* libc6-dev=2.* nasm=2.* -qq -y \\\n && apt-get install --no-install-recommends linux-libc-dev:i386 gcc-5=5.3.* gcc-5-base=5.3.* cpp-5=5.3.* libcc1-0=5.3.* libgcc-5-dev=5.3.* libstdc++6=5.3.* libgomp1=5.3.* libitm1=5.3.* libatomic1=5.3.* libasan2=5.3.* liblsan0=5.3.* libtsan0=5.3.* libubsan0=5.3.* libcilkrts5=5.3.* libmpx0=5.3.* libquadmath0=5.3.* gcc-5-multilib=5.3.* lib32gcc-5-dev=5.3.* libx32gcc-5-dev=5.3.* lib32gomp1=5.3.* libx32gomp1=5.3.* lib32itm1=5.3.* libx32itm1=5.3.* lib32atomic1=5.3.* libx32atomic1=5.3.* lib32asan2=5.3.* libx32asan2=5.3.* lib32ubsan0=5.3.* libx32ubsan0=5.3.* lib32cilkrts5=5.3.* libx32cilkrts5=5.3.* lib32mpx0=5.3.* lib32quadmath0=5.3.* libx32quadmath0=5.3.* lib32stdc++6=5.3.* libx32stdc++6=5.3.* libstdc++-5-dev=5.3.* -qq -y --allow-downgrades \\\n && apt-get install --no-install-recommends ca-certificates=20210119~16.04.1 autoconf-archive=20150925-1 g++-5=5.3.* libstdc++-5-dev=5.3.* g++-5-multilib=5.3.* lib32stdc++-5-dev=5.3.* libx32stdc++-5-dev=5.3.* ninja-build=1.* libffi-dev=3.* libssl-dev=1.* pkg-config=0.* subversion=1.* zlib1g-dev=1:1.* libbz2-dev=1.* libsqlite3-dev=3.* libreadline-dev=6.* xz-utils=5.* curl=7.* libncurses5-dev=6.* libncursesw5-dev=6.* liblzma-dev=5.* -qq -y --allow-downgrades \\\n && ln -s /usr/bin/g++-5 /usr/bin/g++ \\\n && rm -rf /var/lib/apt/lists/* \\\n && wget -q --no-check-certificate https://cmake.org/files/v3.14/cmake-3.14.3-Linux-x86_64.tar.gz \\\n && tar -xzf cmake-3.14.3-Linux-x86_64.tar.gz --exclude=bin/cmake-gui --exclude=doc/cmake --exclude=share/cmake-3.14/Help \\\n && cp -fR cmake-3.14.3-Linux-x86_64/* /usr \\\n && rm -rf cmake-3.14.3-Linux-x86_64 \\\n && rm cmake-3.14.3-Linux-x86_64.tar.gz \\\n && groupadd 1001 -g 1001 \\\n && groupadd 1000 -g 1000 \\\n && groupadd 2000 -g 2000 \\\n && groupadd 999 -g 999 \\\n && useradd -ms /bin/bash conan -g 1001 -G 1000,2000,999 \\\n && printf \"conan:conan\" | chpasswd \\\n && adduser conan sudo \\\n && printf \"conan ALL= NOPASSWD: ALL\\n\" >> /etc/sudoers \\\n && wget --no-check-certificate --quiet -O /tmp/pyenv-installer https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer \\\n && chmod +x /tmp/pyenv-installer \\\n && /tmp/pyenv-installer \\\n && rm /tmp/pyenv-installer \\\n && update-alternatives --install /usr/bin/pyenv pyenv /opt/pyenv/bin/pyenv 100 \\\n && PYTHON_CONFIGURE_OPTS=\"--enable-shared\" pyenv install 3.7.1 \\\n && pyenv global 3.7.1 \\\n && find /opt/pyenv -iname __pycache__ -print0 | xargs -0 rm -rf \\\n && pip install pip==23.1 -q --upgrade --no-cache-dir \\\n && pip install conan==2.0.4 conan-package-tools==0.39.0 -q --no-cache-dir \\\n && chown -R conan:1001 /opt/pyenv \\\n && update-alternatives --install /usr/bin/python python /opt/pyenv/shims/python 100 \\\n && update-alternatives --install /usr/bin/python3 python3 /opt/pyenv/shims/python3 100 \\\n && update-alternatives --install /usr/bin/pip pip /opt/pyenv/shims/pip 100 \\\n && update-alternatives --install /usr/bin/pip3 pip3 /opt/pyenv/shims/pip3 100\nUSER conan\nWORKDIR /home/conan\nRUN mkdir -p /home/conan/.conan \\\n && printf 'eval \"$(pyenv init -)\"\\n' >> ~/.bashrc \\\n && printf 'eval \"$(pyenv virtualenv-init -)\"\\n' >> ~/.bashrc\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:xenial\nLABEL maintainer=\"Luis Martinez de Bartolome <luism@jfrog.com>\"\nENV PYENV_ROOT=\"/opt/pyenv\" \\\n    PATH=\"/opt/pyenv/shims:${PATH}\" \\\n    CXX=\"/usr/bin/g++\" \\\n    CC=\"/usr/bin/gcc\"\nRUN dpkg --add-architecture i386 \\\n && apt-get update -qq \\\n && apt-get install --no-install-recommends dh-autoreconf=11 sudo=1.* build-essential=12.* wget=1.* git=1:2.* libc6-dev-i386=2.* g++-multilib=4:5.3.* libgmp-dev=2:6.* libmpfr-dev=3.* libmpc-dev=1.* libc6-dev=2.* nasm=2.* -qq -y \\\n && apt-get install --no-install-recommends linux-libc-dev:i386 gcc-5=5.3.* gcc-5-base=5.3.* cpp-5=5.3.* libcc1-0=5.3.* libgcc-5-dev=5.3.* libstdc++6=5.3.* libgomp1=5.3.* libitm1=5.3.* libatomic1=5.3.* libasan2=5.3.* liblsan0=5.3.* libtsan0=5.3.* libubsan0=5.3.* libcilkrts5=5.3.* libmpx0=5.3.* libquadmath0=5.3.* gcc-5-multilib=5.3.* lib32gcc-5-dev=5.3.* libx32gcc-5-dev=5.3.* lib32gomp1=5.3.* libx32gomp1=5.3.* lib32itm1=5.3.* libx32itm1=5.3.* lib32atomic1=5.3.* libx32atomic1=5.3.* lib32asan2=5.3.* libx32asan2=5.3.* lib32ubsan0=5.3.* libx32ubsan0=5.3.* lib32cilkrts5=5.3.* libx32cilkrts5=5.3.* lib32mpx0=5.3.* lib32quadmath0=5.3.* libx32quadmath0=5.3.* lib32stdc++6=5.3.* libx32stdc++6=5.3.* libstdc++-5-dev=5.3.* -qq -y --allow-downgrades \\\n && apt-get install --no-install-recommends ca-certificates autoconf-archive g++-5=5.3.* libstdc++-5-dev=5.3.* g++-5-multilib=5.3.* lib32stdc++-5-dev=5.3.* libx32stdc++-5-dev=5.3.* ninja-build=1.* libffi-dev=3.* libssl-dev=1.* pkg-config=0.* subversion=1.* zlib1g-dev=1:1.* libbz2-dev=1.* libsqlite3-dev=3.* libreadline-dev=6.* xz-utils=5.* curl=7.* libncurses5-dev=6.* libncursesw5-dev=6.* liblzma-dev=5.* -qq -y --allow-downgrades \\\n && ln -s /usr/bin/g++-5 /usr/bin/g++ \\\n && rm -rf /var/lib/apt/lists/* \\\n && wget -q --no-check-certificate https://cmake.org/files/v3.14/cmake-3.14.3-Linux-x86_64.tar.gz \\\n && tar -xzf cmake-3.14.3-Linux-x86_64.tar.gz --exclude=bin/cmake-gui --exclude=doc/cmake --exclude=share/cmake-3.14/Help \\\n && cp -fR cmake-3.14.3-Linux-x86_64/* /usr \\\n && rm -rf cmake-3.14.3-Linux-x86_64 \\\n && rm cmake-3.14.3-Linux-x86_64.tar.gz \\\n && groupadd 1001 -g 1001 \\\n && groupadd 1000 -g 1000 \\\n && groupadd 2000 -g 2000 \\\n && groupadd 999 -g 999 \\\n && useradd -ms /bin/bash conan -g 1001 -G 1000,2000,999 \\\n && printf \"conan:conan\" | chpasswd \\\n && adduser conan sudo \\\n && printf \"conan ALL= NOPASSWD: ALL\\n\" >> /etc/sudoers \\\n && wget --no-check-certificate --quiet -O /tmp/pyenv-installer https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer \\\n && chmod +x /tmp/pyenv-installer \\\n && /tmp/pyenv-installer \\\n && rm /tmp/pyenv-installer \\\n && update-alternatives --install /usr/bin/pyenv pyenv /opt/pyenv/bin/pyenv 100 \\\n && PYTHON_CONFIGURE_OPTS=\"--enable-shared\" pyenv install 3.7.1 \\\n && pyenv global 3.7.1 \\\n && find /opt/pyenv -iname __pycache__ -print0 | xargs -0 rm -rf \\\n && pip install pip -q --upgrade --no-cache-dir \\\n && pip install conan conan-package-tools -q --no-cache-dir \\\n && chown -R conan:1001 /opt/pyenv \\\n && update-alternatives --install /usr/bin/python python /opt/pyenv/shims/python 100 \\\n && update-alternatives --install /usr/bin/python3 python3 /opt/pyenv/shims/python3 100 \\\n && update-alternatives --install /usr/bin/pip pip /opt/pyenv/shims/pip 100 \\\n && update-alternatives --install /usr/bin/pip3 pip3 /opt/pyenv/shims/pip3 100\nUSER conan\nWORKDIR /home/conan\nRUN mkdir -p /home/conan/.conan \\\n && printf 'eval \"$(pyenv init -)\"\\n' >> ~/.bashrc \\\n && printf 'eval \"$(pyenv virtualenv-init -)\"\\n' >> ~/.bashrc\n","injectedSmells":[],"originalDockerfileHash":"ccfa7786503c4c1674e8f1ab7fff6a5f","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:xenial\nLABEL maintainer=\"Luis Martinez de Bartolome <luism@jfrog.com>\"\nENV PYENV_ROOT=\"/opt/pyenv\" \\\n    PATH=\"/opt/pyenv/shims:${PATH}\" \\\n    CXX=\"/usr/bin/g++\" \\\n    CC=\"/usr/bin/gcc\"\nRUN dpkg --add-architecture i386 \\\n && apt-get update -qq \\\n && apt-get install --no-install-recommends dh-autoreconf=11 sudo=1.* build-essential=12.* wget=1.* git=1:2.* libc6-dev-i386=2.* g++-multilib=4:5.3.* libgmp-dev=2:6.* libmpfr-dev=3.* libmpc-dev=1.* libc6-dev=2.* nasm=2.* -qq -y \\\n && apt-get install --no-install-recommends linux-libc-dev:i386 gcc-5=5.3.* gcc-5-base=5.3.* cpp-5=5.3.* libcc1-0=5.3.* libgcc-5-dev=5.3.* libstdc++6=5.3.* libgomp1=5.3.* libitm1=5.3.* libatomic1=5.3.* libasan2=5.3.* liblsan0=5.3.* libtsan0=5.3.* libubsan0=5.3.* libcilkrts5=5.3.* libmpx0=5.3.* libquadmath0=5.3.* gcc-5-multilib=5.3.* lib32gcc-5-dev=5.3.* libx32gcc-5-dev=5.3.* lib32gomp1=5.3.* libx32gomp1=5.3.* lib32itm1=5.3.* libx32itm1=5.3.* lib32atomic1=5.3.* libx32atomic1=5.3.* lib32asan2=5.3.* libx32asan2=5.3.* lib32ubsan0=5.3.* libx32ubsan0=5.3.* lib32cilkrts5=5.3.* libx32cilkrts5=5.3.* lib32mpx0=5.3.* lib32quadmath0=5.3.* libx32quadmath0=5.3.* lib32stdc++6=5.3.* libx32stdc++6=5.3.* libstdc++-5-dev=5.3.* -qq -y --allow-downgrades \\\n && apt-get install --no-install-recommends ca-certificates autoconf-archive g++-5=5.3.* libstdc++-5-dev=5.3.* g++-5-multilib=5.3.* lib32stdc++-5-dev=5.3.* libx32stdc++-5-dev=5.3.* ninja-build=1.* libffi-dev=3.* libssl-dev=1.* pkg-config=0.* subversion=1.* zlib1g-dev=1:1.* libbz2-dev=1.* libsqlite3-dev=3.* libreadline-dev=6.* xz-utils=5.* curl=7.* libncurses5-dev=6.* libncursesw5-dev=6.* liblzma-dev=5.* -qq -y --allow-downgrades \\\n && ln -s /usr/bin/g++-5 /usr/bin/g++ \\\n && rm -rf /var/lib/apt/lists/* \\\n && wget -q --no-check-certificate https://cmake.org/files/v3.14/cmake-3.14.3-Linux-x86_64.tar.gz \\\n && tar -xzf cmake-3.14.3-Linux-x86_64.tar.gz --exclude=bin/cmake-gui --exclude=doc/cmake --exclude=share/cmake-3.14/Help \\\n && cp -fR cmake-3.14.3-Linux-x86_64/* /usr \\\n && rm -rf cmake-3.14.3-Linux-x86_64 \\\n && rm cmake-3.14.3-Linux-x86_64.tar.gz \\\n && groupadd 1001 -g 1001 \\\n && groupadd 1000 -g 1000 \\\n && groupadd 2000 -g 2000 \\\n && groupadd 999 -g 999 \\\n && useradd -ms /bin/bash conan -g 1001 -G 1000,2000,999 \\\n && printf \"conan:conan\" | chpasswd \\\n && adduser conan sudo \\\n && printf \"conan ALL= NOPASSWD: ALL\\n\" >> /etc/sudoers \\\n && wget --no-check-certificate --quiet -O /tmp/pyenv-installer https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer \\\n && chmod +x /tmp/pyenv-installer \\\n && /tmp/pyenv-installer \\\n && rm /tmp/pyenv-installer \\\n && update-alternatives --install /usr/bin/pyenv pyenv /opt/pyenv/bin/pyenv 100 \\\n && PYTHON_CONFIGURE_OPTS=\"--enable-shared\" pyenv install 3.7.1 \\\n && pyenv global 3.7.1 \\\n && find /opt/pyenv -iname __pycache__ -print0 | xargs -0 rm -rf \\\n && pip install pip -q --upgrade --no-cache-dir \\\n && pip install conan conan-package-tools -q --no-cache-dir \\\n && chown -R conan:1001 /opt/pyenv \\\n && update-alternatives --install /usr/bin/python python /opt/pyenv/shims/python 100 \\\n && update-alternatives --install /usr/bin/python3 python3 /opt/pyenv/shims/python3 100 \\\n && update-alternatives --install /usr/bin/pip pip /opt/pyenv/shims/pip 100 \\\n && update-alternatives --install /usr/bin/pip3 pip3 /opt/pyenv/shims/pip3 100\nUSER conan\nWORKDIR /home/conan\nRUN mkdir -p /home/conan/.conan \\\n && printf 'eval \"$(pyenv init -)\"\\n' >> ~/.bashrc \\\n && printf 'eval \"$(pyenv virtualenv-init -)\"\\n' >> ~/.bashrc\n","originalDockerfileUglifiedHash":"ccfa7786503c4c1674e8f1ab7fff6a5f","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/c153ce170d5a42aa4646b7135ab594fc3a11de84.dockerfile"}