{"seed":339114150,"processedDockerfileHash":"b398c31e76e89e29387fce0e6e5bd175","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM golang:1.9\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential git -y -q\n#   golang puts its go install here (weird but true)\nENV GOROOT_BOOTSTRAP=\"/usr/local/go\"\n#   BEGIN deps (run `make update-deps` to update)\n#   Repo cloud.google.com/go at 1d0c2da (2018-01-30)\nENV REV=\"1d0c2da40456a9b47f5376165f275424acc15c09\"\nRUN go get -d cloud.google.com/go/compute/metadata `` \\\n && (cd /go/src/cloud.google.com/go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo github.com/golang/protobuf at 9255415 (2018-01-25)\nENV REV=\"925541529c1fa6821df4e44ce2723319eb2be768\"\nRUN go get -d github.com/golang/protobuf/proto `` \\\n && (cd /go/src/github.com/golang/protobuf \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo github.com/googleapis/gax-go at 317e000 (2017-09-15)\nENV REV=\"317e0006254c44a0ac427cc52a0e083ff0b9622f\"\nRUN go get -d github.com/googleapis/gax-go \\\n && (cd /go/src/github.com/googleapis/gax-go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/build at e879390 (2018-02-01)\nENV REV=\"e8793909ba350594eea4c7c6bdb0f0d9a0d0f77a\"\nRUN go get -d golang.org/x/build/autocertcache \\\n && (cd /go/src/golang.org/x/build \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/crypto at 1875d0a (2018-01-27)\nENV REV=\"1875d0a70c90e57f11972aefd42276df65e895b9\"\nRUN go get -d golang.org/x/crypto/acme `` \\\n && (cd /go/src/golang.org/x/crypto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/net at 6d90978 (2018-02-01)\nENV REV=\"6d90978dc4889d44e8cfbd04c05d17b5417823c7\"\nRUN go get -d golang.org/x/net/context `` \\\n && (cd /go/src/golang.org/x/net \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/oauth2 at 30785a2 (2018-01-04)\nENV REV=\"30785a2c434e431ef7c507b54617d6a951d5f2b4\"\nRUN go get -d golang.org/x/oauth2 `` \\\n && (cd /go/src/golang.org/x/oauth2 \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/text at e19ae14 (2017-12-27)\nENV REV=\"e19ae1496984b1c655b8044a65c0300a3c878dd3\"\nRUN go get -d golang.org/x/text/secure/bidirule `` \\\n && (cd /go/src/golang.org/x/text \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/api at 7d0e2d3 (2018-01-30)\nENV REV=\"7d0e2d350555821bef5a5b8aecf0d12cc1def633\"\nRUN go get -d google.golang.org/api/gensupport `` \\\n && (cd /go/src/google.golang.org/api \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/genproto at 4eb30f4 (2018-01-25)\nENV REV=\"4eb30f4778eed4c258ba66527a0d4f9ec8a36c45\"\nRUN go get -d google.golang.org/genproto/googleapis/api/annotations `` \\\n && (cd /go/src/google.golang.org/genproto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/grpc at 0bd008f (2018-01-25)\nENV REV=\"0bd008f5fadb62d228f12b18d016709e8139a7af\"\nRUN go get -d google.golang.org/grpc `` \\\n && (cd /go/src/google.golang.org/grpc \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Optimization to speed up iterative development, not necessary for correctness:\nRUN go install cloud.google.com/go/compute/metadata cloud.google.com/go/iam cloud.google.com/go/internal cloud.google.com/go/internal/optional cloud.google.com/go/internal/version cloud.google.com/go/storage github.com/golang/protobuf/proto github.com/golang/protobuf/protoc-gen-go/descriptor github.com/golang/protobuf/ptypes github.com/golang/protobuf/ptypes/any github.com/golang/protobuf/ptypes/duration github.com/golang/protobuf/ptypes/timestamp github.com/googleapis/gax-go golang.org/x/build/autocertcache golang.org/x/crypto/acme golang.org/x/crypto/acme/autocert golang.org/x/net/context golang.org/x/net/context/ctxhttp golang.org/x/net/http2 golang.org/x/net/http2/hpack golang.org/x/net/idna golang.org/x/net/internal/timeseries golang.org/x/net/lex/httplex golang.org/x/net/trace golang.org/x/oauth2 golang.org/x/oauth2/google golang.org/x/oauth2/internal golang.org/x/oauth2/jws golang.org/x/oauth2/jwt golang.org/x/text/secure/bidirule golang.org/x/text/transform golang.org/x/text/unicode/bidi golang.org/x/text/unicode/norm google.golang.org/api/gensupport google.golang.org/api/googleapi google.golang.org/api/googleapi/internal/uritemplates google.golang.org/api/googleapi/transport google.golang.org/api/internal google.golang.org/api/iterator google.golang.org/api/option google.golang.org/api/storage/v1 google.golang.org/api/transport/http google.golang.org/genproto/googleapis/api/annotations google.golang.org/genproto/googleapis/iam/v1 google.golang.org/genproto/googleapis/rpc/status google.golang.org/grpc google.golang.org/grpc/balancer google.golang.org/grpc/balancer/base google.golang.org/grpc/balancer/roundrobin google.golang.org/grpc/codes google.golang.org/grpc/connectivity google.golang.org/grpc/credentials google.golang.org/grpc/encoding google.golang.org/grpc/encoding/proto google.golang.org/grpc/grpclb/grpc_lb_v1/messages google.golang.org/grpc/grpclog google.golang.org/grpc/internal google.golang.org/grpc/keepalive google.golang.org/grpc/metadata google.golang.org/grpc/naming google.golang.org/grpc/peer google.golang.org/grpc/resolver google.golang.org/grpc/resolver/dns google.golang.org/grpc/resolver/passthrough google.golang.org/grpc/stats google.golang.org/grpc/status google.golang.org/grpc/tap google.golang.org/grpc/transport\n#   END deps.\n#   golang sets GOPATH=/go\nCOPY . /go/src/tip\nWORKDIR /go/src/tip\nRUN go install --tags=autocert\nENTRYPOINT [\"/go/bin/tip\"]\n#   We listen on 8080 (for historical reasons). The service.yaml maps public port 80 to 8080.\n#   We also listen on 443 for LetsEncrypt TLS.\nEXPOSE 8080/tcp 443/tcp\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM golang:1.9\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential git -y -q\n#  golang puts its go install here (weird but true)\nENV GOROOT_BOOTSTRAP=\"/usr/local/go\"\n#  BEGIN deps (run `make update-deps` to update)\n#  Repo cloud.google.com/go at 1d0c2da (2018-01-30)\nENV REV=\"1d0c2da40456a9b47f5376165f275424acc15c09\"\nRUN go get -d cloud.google.com/go/compute/metadata `` \\\n && (cd /go/src/cloud.google.com/go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo github.com/golang/protobuf at 9255415 (2018-01-25)\nENV REV=\"925541529c1fa6821df4e44ce2723319eb2be768\"\nRUN go get -d github.com/golang/protobuf/proto `` \\\n && (cd /go/src/github.com/golang/protobuf \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo github.com/googleapis/gax-go at 317e000 (2017-09-15)\nENV REV=\"317e0006254c44a0ac427cc52a0e083ff0b9622f\"\nRUN go get -d github.com/googleapis/gax-go \\\n && (cd /go/src/github.com/googleapis/gax-go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo golang.org/x/build at e879390 (2018-02-01)\nENV REV=\"e8793909ba350594eea4c7c6bdb0f0d9a0d0f77a\"\nRUN go get -d golang.org/x/build/autocertcache \\\n && (cd /go/src/golang.org/x/build \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo golang.org/x/crypto at 1875d0a (2018-01-27)\nENV REV=\"1875d0a70c90e57f11972aefd42276df65e895b9\"\nRUN go get -d golang.org/x/crypto/acme `` \\\n && (cd /go/src/golang.org/x/crypto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo golang.org/x/net at 6d90978 (2018-02-01)\nENV REV=\"6d90978dc4889d44e8cfbd04c05d17b5417823c7\"\nRUN go get -d golang.org/x/net/context `` \\\n && (cd /go/src/golang.org/x/net \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo golang.org/x/oauth2 at 30785a2 (2018-01-04)\nENV REV=\"30785a2c434e431ef7c507b54617d6a951d5f2b4\"\nRUN go get -d golang.org/x/oauth2 `` \\\n && (cd /go/src/golang.org/x/oauth2 \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo golang.org/x/text at e19ae14 (2017-12-27)\nENV REV=\"e19ae1496984b1c655b8044a65c0300a3c878dd3\"\nRUN go get -d golang.org/x/text/secure/bidirule `` \\\n && (cd /go/src/golang.org/x/text \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo google.golang.org/api at 7d0e2d3 (2018-01-30)\nENV REV=\"7d0e2d350555821bef5a5b8aecf0d12cc1def633\"\nRUN go get -d google.golang.org/api/gensupport `` \\\n && (cd /go/src/google.golang.org/api \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo google.golang.org/genproto at 4eb30f4 (2018-01-25)\nENV REV=\"4eb30f4778eed4c258ba66527a0d4f9ec8a36c45\"\nRUN go get -d google.golang.org/genproto/googleapis/api/annotations `` \\\n && (cd /go/src/google.golang.org/genproto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Repo google.golang.org/grpc at 0bd008f (2018-01-25)\nENV REV=\"0bd008f5fadb62d228f12b18d016709e8139a7af\"\nRUN go get -d google.golang.org/grpc `` \\\n && (cd /go/src/google.golang.org/grpc \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#  Optimization to speed up iterative development, not necessary for correctness:\nRUN go install cloud.google.com/go/compute/metadata cloud.google.com/go/iam cloud.google.com/go/internal cloud.google.com/go/internal/optional cloud.google.com/go/internal/version cloud.google.com/go/storage github.com/golang/protobuf/proto github.com/golang/protobuf/protoc-gen-go/descriptor github.com/golang/protobuf/ptypes github.com/golang/protobuf/ptypes/any github.com/golang/protobuf/ptypes/duration github.com/golang/protobuf/ptypes/timestamp github.com/googleapis/gax-go golang.org/x/build/autocertcache golang.org/x/crypto/acme golang.org/x/crypto/acme/autocert golang.org/x/net/context golang.org/x/net/context/ctxhttp golang.org/x/net/http2 golang.org/x/net/http2/hpack golang.org/x/net/idna golang.org/x/net/internal/timeseries golang.org/x/net/lex/httplex golang.org/x/net/trace golang.org/x/oauth2 golang.org/x/oauth2/google golang.org/x/oauth2/internal golang.org/x/oauth2/jws golang.org/x/oauth2/jwt golang.org/x/text/secure/bidirule golang.org/x/text/transform golang.org/x/text/unicode/bidi golang.org/x/text/unicode/norm google.golang.org/api/gensupport google.golang.org/api/googleapi google.golang.org/api/googleapi/internal/uritemplates google.golang.org/api/googleapi/transport google.golang.org/api/internal google.golang.org/api/iterator google.golang.org/api/option google.golang.org/api/storage/v1 google.golang.org/api/transport/http google.golang.org/genproto/googleapis/api/annotations google.golang.org/genproto/googleapis/iam/v1 google.golang.org/genproto/googleapis/rpc/status google.golang.org/grpc google.golang.org/grpc/balancer google.golang.org/grpc/balancer/base google.golang.org/grpc/balancer/roundrobin google.golang.org/grpc/codes google.golang.org/grpc/connectivity google.golang.org/grpc/credentials google.golang.org/grpc/encoding google.golang.org/grpc/encoding/proto google.golang.org/grpc/grpclb/grpc_lb_v1/messages google.golang.org/grpc/grpclog google.golang.org/grpc/internal google.golang.org/grpc/keepalive google.golang.org/grpc/metadata google.golang.org/grpc/naming google.golang.org/grpc/peer google.golang.org/grpc/resolver google.golang.org/grpc/resolver/dns google.golang.org/grpc/resolver/passthrough google.golang.org/grpc/stats google.golang.org/grpc/status google.golang.org/grpc/tap google.golang.org/grpc/transport\n#  END deps.\n#  golang sets GOPATH=/go\nADD . /go/src/tip\nWORKDIR /go/src/tip\nRUN go install --tags=autocert\nENTRYPOINT [\"/go/bin/tip\"]\n#  We listen on 8080 (for historical reasons). The service.yaml maps public port 80 to 8080.\n#  We also listen on 443 for LetsEncrypt TLS.\nEXPOSE 8080/tcp 443/tcp\n","injectedSmells":[],"originalDockerfileHash":"00b473ac0c130595bde8be45143678a6","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM golang:1.9\nRUN apt-get update \\\n && apt-get install --no-install-recommends build-essential git -y -q\n#   golang puts its go install here (weird but true)\nENV GOROOT_BOOTSTRAP=\"/usr/local/go\"\n#   BEGIN deps (run `make update-deps` to update)\n#   Repo cloud.google.com/go at 1d0c2da (2018-01-30)\nENV REV=\"1d0c2da40456a9b47f5376165f275424acc15c09\"\nRUN go get -d cloud.google.com/go/compute/metadata `` \\\n && (cd /go/src/cloud.google.com/go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo github.com/golang/protobuf at 9255415 (2018-01-25)\nENV REV=\"925541529c1fa6821df4e44ce2723319eb2be768\"\nRUN go get -d github.com/golang/protobuf/proto `` \\\n && (cd /go/src/github.com/golang/protobuf \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo github.com/googleapis/gax-go at 317e000 (2017-09-15)\nENV REV=\"317e0006254c44a0ac427cc52a0e083ff0b9622f\"\nRUN go get -d github.com/googleapis/gax-go \\\n && (cd /go/src/github.com/googleapis/gax-go \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/build at e879390 (2018-02-01)\nENV REV=\"e8793909ba350594eea4c7c6bdb0f0d9a0d0f77a\"\nRUN go get -d golang.org/x/build/autocertcache \\\n && (cd /go/src/golang.org/x/build \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/crypto at 1875d0a (2018-01-27)\nENV REV=\"1875d0a70c90e57f11972aefd42276df65e895b9\"\nRUN go get -d golang.org/x/crypto/acme `` \\\n && (cd /go/src/golang.org/x/crypto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/net at 6d90978 (2018-02-01)\nENV REV=\"6d90978dc4889d44e8cfbd04c05d17b5417823c7\"\nRUN go get -d golang.org/x/net/context `` \\\n && (cd /go/src/golang.org/x/net \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/oauth2 at 30785a2 (2018-01-04)\nENV REV=\"30785a2c434e431ef7c507b54617d6a951d5f2b4\"\nRUN go get -d golang.org/x/oauth2 `` \\\n && (cd /go/src/golang.org/x/oauth2 \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo golang.org/x/text at e19ae14 (2017-12-27)\nENV REV=\"e19ae1496984b1c655b8044a65c0300a3c878dd3\"\nRUN go get -d golang.org/x/text/secure/bidirule `` \\\n && (cd /go/src/golang.org/x/text \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/api at 7d0e2d3 (2018-01-30)\nENV REV=\"7d0e2d350555821bef5a5b8aecf0d12cc1def633\"\nRUN go get -d google.golang.org/api/gensupport `` \\\n && (cd /go/src/google.golang.org/api \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/genproto at 4eb30f4 (2018-01-25)\nENV REV=\"4eb30f4778eed4c258ba66527a0d4f9ec8a36c45\"\nRUN go get -d google.golang.org/genproto/googleapis/api/annotations `` \\\n && (cd /go/src/google.golang.org/genproto \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Repo google.golang.org/grpc at 0bd008f (2018-01-25)\nENV REV=\"0bd008f5fadb62d228f12b18d016709e8139a7af\"\nRUN go get -d google.golang.org/grpc `` \\\n && (cd /go/src/google.golang.org/grpc \\\n && (git cat-file -t $REV 2> /dev/null || git fetch -q origin $REV ) \\\n && git reset --hard $REV )\n#   Optimization to speed up iterative development, not necessary for correctness:\nRUN go install cloud.google.com/go/compute/metadata cloud.google.com/go/iam cloud.google.com/go/internal cloud.google.com/go/internal/optional cloud.google.com/go/internal/version cloud.google.com/go/storage github.com/golang/protobuf/proto github.com/golang/protobuf/protoc-gen-go/descriptor github.com/golang/protobuf/ptypes github.com/golang/protobuf/ptypes/any github.com/golang/protobuf/ptypes/duration github.com/golang/protobuf/ptypes/timestamp github.com/googleapis/gax-go golang.org/x/build/autocertcache golang.org/x/crypto/acme golang.org/x/crypto/acme/autocert golang.org/x/net/context golang.org/x/net/context/ctxhttp golang.org/x/net/http2 golang.org/x/net/http2/hpack golang.org/x/net/idna golang.org/x/net/internal/timeseries golang.org/x/net/lex/httplex golang.org/x/net/trace golang.org/x/oauth2 golang.org/x/oauth2/google golang.org/x/oauth2/internal golang.org/x/oauth2/jws golang.org/x/oauth2/jwt golang.org/x/text/secure/bidirule golang.org/x/text/transform golang.org/x/text/unicode/bidi golang.org/x/text/unicode/norm google.golang.org/api/gensupport google.golang.org/api/googleapi google.golang.org/api/googleapi/internal/uritemplates google.golang.org/api/googleapi/transport google.golang.org/api/internal google.golang.org/api/iterator google.golang.org/api/option google.golang.org/api/storage/v1 google.golang.org/api/transport/http google.golang.org/genproto/googleapis/api/annotations google.golang.org/genproto/googleapis/iam/v1 google.golang.org/genproto/googleapis/rpc/status google.golang.org/grpc google.golang.org/grpc/balancer google.golang.org/grpc/balancer/base google.golang.org/grpc/balancer/roundrobin google.golang.org/grpc/codes google.golang.org/grpc/connectivity google.golang.org/grpc/credentials google.golang.org/grpc/encoding google.golang.org/grpc/encoding/proto google.golang.org/grpc/grpclb/grpc_lb_v1/messages google.golang.org/grpc/grpclog google.golang.org/grpc/internal google.golang.org/grpc/keepalive google.golang.org/grpc/metadata google.golang.org/grpc/naming google.golang.org/grpc/peer google.golang.org/grpc/resolver google.golang.org/grpc/resolver/dns google.golang.org/grpc/resolver/passthrough google.golang.org/grpc/stats google.golang.org/grpc/status google.golang.org/grpc/tap google.golang.org/grpc/transport\n#   END deps.\n#   golang sets GOPATH=/go\nADD . /go/src/tip\nWORKDIR /go/src/tip\nRUN go install --tags=autocert\nENTRYPOINT [\"/go/bin/tip\"]\n#   We listen on 8080 (for historical reasons). The service.yaml maps public port 80 to 8080.\n#   We also listen on 443 for LetsEncrypt TLS.\nEXPOSE 8080/tcp 443/tcp\n","originalDockerfileUglifiedHash":"3cea55b20c9edbc4f9c21b378d7d36f8","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/bc0374faa800cafee303fa038db1ee43ce2e18a2.dockerfile"}