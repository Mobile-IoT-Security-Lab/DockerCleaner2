{"seed":3934589235,"processedDockerfileHash":"4a70dc2c0b5cd10753ab672264a632b8","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Dockerfile with software for \n#   Image Analysis, Classification and Change Detection\n#   in Remote Sensing, Fourth Revised Edition\nFROM debian:stretch\nMAINTAINER Mort Canty \"mort.canty@gmail.com\"\nENV REFRESHED_AT=\"2018-05-17\"\nRUN apt-get update \\\n && apt-get install --no-install-recommends python=2.7.13-2 build-essential=12.3 make=4.1-9.1 gcc=4:6.3.0-4 pandoc=1.17.2~dfsg-3 python-dev=2.7.13-2 python-pygments=2.2.0+dfsg-1+deb9u2 python-pip=9.0.1-2+deb9u2 git=1:2.11.0-3+deb9u7 -y\n#   ipython notebook\nRUN pip install pip==23.1 --upgrade\nRUN pip install jupyter==1.0.0\nRUN pip install ipyleaflet==0.9.0\nRUN jupyter nbextension enable --py --sys-prefix ipyleaflet\n#   tensorflow\nRUN pip install tensorflow==2.12.0\n#   enable parallel computing\nRUN pip install ipyparallel==8.6.1\nRUN jupyter notebook --generate-config\nRUN sed -i \"/# Configuration file for jupyter-notebook./a c.NotebookApp.server_extensions.append('ipyparallel.nbextension')\" /root/.jupyter/jupyter_notebook_config.py\n#   install python environment for crc4 scripts\nRUN apt-get install --no-install-recommends python-numpy=1:1.12.1-3 python-scipy=0.18.1-2 python-gdal=2.1.2+dfsg-5+deb9u1 libgdal-dev=2.1.2+dfsg-5+deb9u1 gdal-bin=2.1.2+dfsg-5+deb9u1 python-shapely=1.5.17-1 python-opencv=2.4.9.1+dfsg1-2+deb9u1 -y\nRUN pip install matplotlib==3.7.1 --upgrade\n#   install mlpy (with MaximumLikelihoodC and LibSvm)\nRUN apt-get install --no-install-recommends libgsl0-dev -y\nCOPY mlpy-3.5.0 /mlpy-3.5.0\nWORKDIR /mlpy-3.5.0\nRUN python setup.py install\n#   setup the prov_means library\nCOPY prov_means.c /home/prov_means.c\nWORKDIR /home\nRUN gcc -shared -Wall -g -o libprov_means.so -fPIC prov_means.c\nRUN cp libprov_means.so /usr/lib/libprov_means.so\nRUN rm prov_means.c\nEXPOSE 8888/tcp\n#   setup for earthengine\nRUN pip install pyasn1==0.4.8 --upgrade\nRUN pip install setuptools==67.6.1 --upgrade \\\n && pip install google-api-python-client==2.85.0 \\\n && pip install oauth2client==4.1.3 --upgrade \\\n && pip install pyCrypto==2.6.1 \\\n && apt-get install --no-install-recommends libssl-dev=1.1.0l-1~deb9u6 -y\nRUN pip install earthengine-api==0.1.349\n#   opencv\nRUN pip install opencv-python==4.7.0.72\n#   install auxil\nCOPY dist/auxil-1.0.tar.gz /home/auxil-1.0.tar.gz\nRUN tar -xzvf auxil-1.0.tar.gz\nWORKDIR /home/auxil-1.0\nRUN python setup.py install\nWORKDIR /home\nRUN rm -rf auxil-1.0\nRUN rm auxil-1.0.tar.gz\n#   SPy\nRUN pip install spectral==0.23.1\n#   textbook scripts, notebooks and images\nCOPY scripts /home/scripts\nCOPY auxil /home/auxil\nCOPY imagery_initial /home/imagery\nCOPY Chapter1.ipynb /home/Chapter1.ipynb\nCOPY Chapter2.ipynb /home/Chapter2.ipynb\nCOPY Chapter3.ipynb /home/Chapter3.ipynb\nCOPY Chapter4.ipynb /home/Chapter4.ipynb\nCOPY Chapter5_1.ipynb /home/Chapter5_1.ipynb\nCOPY Chapter5_2.ipynb /home/Chapter5_2.ipynb\nCOPY Chapter6.ipynb /home/Chapter6.ipynb\nCOPY Chapter7.ipynb /home/Chapter7.ipynb\nCOPY Chapter8.ipynb /home/Chapter8.ipynb\nCOPY Chapter9.ipynb /home/Chapter9.ipynb\n#   ipython notebook startup script\nCOPY notebook.sh /\nRUN chmod u+x /notebook.sh\nWORKDIR /home  \nCMD [\"/notebook.sh\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Dockerfile with software for \n#  Image Analysis, Classification and Change Detection\n#  in Remote Sensing, Fourth Revised Edition\nFROM debian:stretch\nMAINTAINER Mort Canty \"mort.canty@gmail.com\"\nENV REFRESHED_AT=\"2018-05-17\"\nRUN apt-get update \\\n && apt-get install python build-essential make gcc pandoc python-dev python-pygments python-pip git -y\n#  ipython notebook\nRUN pip install pip --upgrade\nRUN pip install jupyter==1.0.0\nRUN pip install ipyleaflet==0.9.0\nRUN jupyter nbextension enable --py --sys-prefix ipyleaflet\n#  tensorflow\nRUN pip install tensorflow\n#  enable parallel computing\nRUN pip install ipyparallel\nRUN jupyter notebook --generate-config\nRUN sed -i \"/# Configuration file for jupyter-notebook./a c.NotebookApp.server_extensions.append('ipyparallel.nbextension')\" /root/.jupyter/jupyter_notebook_config.py\n#  install python environment for crc4 scripts\nRUN apt-get install python-numpy python-scipy python-gdal libgdal-dev gdal-bin python-shapely python-opencv -y\nRUN pip install matplotlib --upgrade\n#  install mlpy (with MaximumLikelihoodC and LibSvm)\nRUN apt-get install libgsl0-dev -y\nADD mlpy-3.5.0 /mlpy-3.5.0\nWORKDIR /mlpy-3.5.0\nRUN python setup.py install\n#  setup the prov_means library\nCOPY prov_means.c /home/prov_means.c\nWORKDIR /home\nRUN gcc -shared -Wall -g -o libprov_means.so -fPIC prov_means.c\nRUN cp libprov_means.so /usr/lib/libprov_means.so\nRUN rm prov_means.c\nEXPOSE 8888/tcp\n#  setup for earthengine\nRUN pip install pyasn1 --upgrade\nRUN pip install setuptools --upgrade \\\n && pip install google-api-python-client \\\n && pip install oauth2client --upgrade \\\n && pip install pyCrypto \\\n && apt-get install libssl-dev -y\nRUN pip install earthengine-api\n#  opencv\nRUN pip install opencv-python\n#  install auxil\nCOPY dist/auxil-1.0.tar.gz /home/auxil-1.0.tar.gz\nRUN tar -xzvf auxil-1.0.tar.gz\nWORKDIR /home/auxil-1.0\nRUN python setup.py install\nWORKDIR /home\nRUN rm -rf auxil-1.0\nRUN rm auxil-1.0.tar.gz\n#  SPy\nRUN pip install spectral\n#  textbook scripts, notebooks and images\nADD scripts /home/scripts\nADD auxil /home/auxil\nADD imagery_initial /home/imagery\nCOPY Chapter1.ipynb /home/Chapter1.ipynb\nCOPY Chapter2.ipynb /home/Chapter2.ipynb\nCOPY Chapter3.ipynb /home/Chapter3.ipynb\nCOPY Chapter4.ipynb /home/Chapter4.ipynb\nCOPY Chapter5_1.ipynb /home/Chapter5_1.ipynb\nCOPY Chapter5_2.ipynb /home/Chapter5_2.ipynb\nCOPY Chapter6.ipynb /home/Chapter6.ipynb\nCOPY Chapter7.ipynb /home/Chapter7.ipynb\nCOPY Chapter8.ipynb /home/Chapter8.ipynb\nCOPY Chapter9.ipynb /home/Chapter9.ipynb\n#  ipython notebook startup script\nADD notebook.sh /\nRUN chmod u+x /notebook.sh\nWORKDIR /home  \nCMD [\"/notebook.sh\"]\n","injectedSmells":[],"originalDockerfileHash":"4bdc43b4908d2f186ab1ffe2ea851133","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Dockerfile with software for \n#   Image Analysis, Classification and Change Detection\n#   in Remote Sensing, Fourth Revised Edition\nFROM debian:stretch\nMAINTAINER Mort Canty \"mort.canty@gmail.com\"\nENV REFRESHED_AT=\"2018-05-17\"\nRUN apt-get update \\\n && apt-get install python build-essential make gcc pandoc python-dev python-pygments python-pip git -y\n#   ipython notebook\nRUN pip install pip --upgrade\nRUN pip install jupyter==1.0.0\nRUN pip install ipyleaflet==0.9.0\nRUN jupyter nbextension enable --py --sys-prefix ipyleaflet\n#   tensorflow\nRUN pip install tensorflow\n#   enable parallel computing\nRUN pip install ipyparallel\nRUN jupyter notebook --generate-config\nRUN sed -i \"/# Configuration file for jupyter-notebook./a c.NotebookApp.server_extensions.append('ipyparallel.nbextension')\" /root/.jupyter/jupyter_notebook_config.py\n#   install python environment for crc4 scripts\nRUN apt-get install python-numpy python-scipy python-gdal libgdal-dev gdal-bin python-shapely python-opencv -y\nRUN pip install matplotlib --upgrade\n#   install mlpy (with MaximumLikelihoodC and LibSvm)\nRUN apt-get install libgsl0-dev -y\nADD mlpy-3.5.0 /mlpy-3.5.0\nWORKDIR /mlpy-3.5.0\nRUN python setup.py install\n#   setup the prov_means library\nCOPY prov_means.c /home/prov_means.c\nWORKDIR /home\nRUN gcc -shared -Wall -g -o libprov_means.so -fPIC prov_means.c\nRUN cp libprov_means.so /usr/lib/libprov_means.so\nRUN rm prov_means.c\nEXPOSE 8888/tcp\n#   setup for earthengine\nRUN pip install pyasn1 --upgrade\nRUN pip install setuptools --upgrade \\\n && pip install google-api-python-client \\\n && pip install oauth2client --upgrade \\\n && pip install pyCrypto \\\n && apt-get install libssl-dev -y\nRUN pip install earthengine-api\n#   opencv\nRUN pip install opencv-python\n#   install auxil\nCOPY dist/auxil-1.0.tar.gz /home/auxil-1.0.tar.gz\nRUN tar -xzvf auxil-1.0.tar.gz\nWORKDIR /home/auxil-1.0\nRUN python setup.py install\nWORKDIR /home\nRUN rm -rf auxil-1.0\nRUN rm auxil-1.0.tar.gz\n#   SPy\nRUN pip install spectral\n#   textbook scripts, notebooks and images\nADD scripts /home/scripts\nADD auxil /home/auxil\nADD imagery_initial /home/imagery\nCOPY Chapter1.ipynb /home/Chapter1.ipynb\nCOPY Chapter2.ipynb /home/Chapter2.ipynb\nCOPY Chapter3.ipynb /home/Chapter3.ipynb\nCOPY Chapter4.ipynb /home/Chapter4.ipynb\nCOPY Chapter5_1.ipynb /home/Chapter5_1.ipynb\nCOPY Chapter5_2.ipynb /home/Chapter5_2.ipynb\nCOPY Chapter6.ipynb /home/Chapter6.ipynb\nCOPY Chapter7.ipynb /home/Chapter7.ipynb\nCOPY Chapter8.ipynb /home/Chapter8.ipynb\nCOPY Chapter9.ipynb /home/Chapter9.ipynb\n#   ipython notebook startup script\nADD notebook.sh /\nRUN chmod u+x /notebook.sh\nWORKDIR /home  \nCMD [\"/notebook.sh\"]\n","originalDockerfileUglifiedHash":"269db07e73500fe63ffe77c8311c4661","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/4a04de42914e9c80838c3a5a3e08b52f17eb267e.dockerfile"}