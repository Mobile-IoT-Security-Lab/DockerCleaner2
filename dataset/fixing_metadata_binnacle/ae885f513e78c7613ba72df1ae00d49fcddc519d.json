{"seed":1426234263,"processedDockerfileHash":"aa43d3b60b29f1429f6fe97946b3d78e","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#  Should set up a system to use GRL\n#  Includes dependencies for GrlInverseKinematics, PivotCalibration & HandEyeCalibration\n#  NB - This is a complicated docker file and might need to be __run twice__!\n#  Install on ubuntu 16.04\n#  Comment the following if you wish to use ROS \n#  --------------Start--------------------\nFROM ubuntu:16.04\nCMD [\"bash\"]\n#  ---------------End-----------------\n#  Uncomment the following if you wish to use ROS \n#  ------------Start---------------------\n#  FROM osrf/ros:kinetic-desktop\n#  RUN apt-get update && apt-get install -y \\\n#      ros-kinetic-desktop-full=1.3.0-0* \\\n#      && rm -rf /var/lib/apt/lists/*\n#  RUN mkdir -p /etc/my_init.d\n#  COPY startup.sh /etc/my_init.d/startup.sh\n#  RUN chmod +x /etc/my_init.d/startup.sh\n#  COPY pre-conf.sh /sbin/pre-conf\n#  RUN chmod +x /sbin/pre-conf \\\n#      && /bin/bash -c /sbin/pre-conf \\\n#      && rm /sbin/pre-conf\n#  CMD bash -c \"/etc/my_init.d/startup.sh\"; bash\n#  -------------End-----------------------------\nLABEL com.nvidia.volumes.needed=\"nvidia_driver\"\nENV PATH=\"/usr/local/nvidia/bin:${PATH}\"\nENV LD_LIBRARY_PATH=\"/usr/local/nvidia/lib:/usr/local/nvidia/lib64:${LD_LIBRARY_PATH}\"\nENV HOME=\"/root\"\nWORKDIR /root\n#  Essentials\nRUN apt-get clean \\\n && : \\\n && rm -rf /tmp/* /var/tmp/* \\\n && rm -rf /var/lib/apt/lists/*\n#  Compiling\nRUN apt-get clean \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends libtool=2.4.6-0.1 bash-completion=1:2.1-4.2ubuntu1.1 pkg-config=0.29.1-0ubuntu1 build-essential=12.1ubuntu2 autoconf=2.69-9 automake=1:1.15-4ubuntu1 cmake=3.5.1-1ubuntu3 cmake-curses-gui=3.5.1-1ubuntu3 -y )\nRUN apt-get clean \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends git=1:2.7.4-0ubuntu1.10 vim=2:7.4.1689-3ubuntu1.5 sudo=1.8.16-0ubuntu1.10 unzip=6.0-20ubuntu1.1 curl=7.47.0-1ubuntu2.19 ctags git=1:2.7.4-0ubuntu1.10 tmux=2.1-3build1 -y )\n#  LLVM\nRUN apt-get clean \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends clang=1:3.8-33ubuntu3.1 lldb=1:3.8-33ubuntu3.1 -y )\n#  apt-repository-add scripts\nRUN apt-get clean \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends software-properties-common=0.96.20.10 python-software-properties=0.96.20.10 -y )\n#  GRL dependencies\nRUN apt-get clean \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends libboost-all-dev=1.58.0.1ubuntu1 libeigen3-dev=3.3~beta1-2 gfortran=4:5.3.1-1ubuntu1 -y )\n#  OpenCV\nRUN apt-get clean \\\n && add-apt-repository --yes ppa:xqms/opencv-nonfree \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends libopencv-nonfree-dev libopencv-dev=2.4.9.1+dfsg-1.5ubuntu1.1 -y )\nRUN cd ~ \\\n && git clone https://github.com/ahundt/robotics_setup.git\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/vrep.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/spdlog.sh\"]\n#  two scripts below called from grl_kuka.sh\n#  RUN [\"/bin/bash\",\"-c\",\"./flatbuffers.sh\"]\n#  RUN [\"/bin/bash\",\"-c\",\"./cmake-basis.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/robotics_tasks.sh\"]\n#  NB - Ceres must run before Camodocal - should run ceres first in camodocal script\n#  Better to isolate each script from it's dependencies?\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/ceres.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/camodocal.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/trtk.sh\"]\n#  Should be separate nonopb script\nRUN curl -sSL https://koti.kapsi.fi/~jpa/nanopb/download/nanopb-0.3.7-linux-x86.tar.gz | tar -xvz \\\n && cd nanopb-0.3.7-linux-x86 \\\n && cmake . \\\n && make \\\n && make install\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/grl_kuka.sh\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# Should set up a system to use GRL\n# Includes dependencies for GrlInverseKinematics, PivotCalibration & HandEyeCalibration\n# NB - This is a complicated docker file and might need to be __run twice__!\n# Install on ubuntu 16.04\n# Comment the following if you wish to use ROS \n# --------------Start--------------------\nFROM ubuntu:16.04\nCMD [\"bash\"]\n# ---------------End-----------------\n# Uncomment the following if you wish to use ROS \n# ------------Start---------------------\n# FROM osrf/ros:kinetic-desktop\n# RUN apt-get update && apt-get install -y \\\n#     ros-kinetic-desktop-full=1.3.0-0* \\\n#     && rm -rf /var/lib/apt/lists/*\n# RUN mkdir -p /etc/my_init.d\n# COPY startup.sh /etc/my_init.d/startup.sh\n# RUN chmod +x /etc/my_init.d/startup.sh\n# COPY pre-conf.sh /sbin/pre-conf\n# RUN chmod +x /sbin/pre-conf \\\n#     && /bin/bash -c /sbin/pre-conf \\\n#     && rm /sbin/pre-conf\n# CMD bash -c \"/etc/my_init.d/startup.sh\"; bash\n# -------------End-----------------------------\nLABEL com.nvidia.volumes.needed=\"nvidia_driver\"\nENV PATH=\"/usr/local/nvidia/bin:${PATH}\"\nENV LD_LIBRARY_PATH=\"/usr/local/nvidia/lib:/usr/local/nvidia/lib64:${LD_LIBRARY_PATH}\"\nENV HOME=\"/root\"\nWORKDIR /root\n# Essentials\nRUN apt-get clean \\\n && apt-get update \\\n && rm -rf /tmp/* /var/tmp/* \\\n && rm -rf /var/lib/apt/lists/*\n# Compiling\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install libtool bash-completion pkg-config build-essential autoconf automake cmake cmake-curses-gui -y\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install git vim sudo unzip curl ctags git tmux -y\n# LLVM\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install clang lldb -y\n# apt-repository-add scripts\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install software-properties-common python-software-properties -y\n# GRL dependencies\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install libboost-all-dev libeigen3-dev gfortran -y\n# OpenCV\nRUN apt-get clean \\\n && add-apt-repository --yes ppa:xqms/opencv-nonfree \\\n && apt-get update \\\n && apt-get install libopencv-nonfree-dev libopencv-dev -y\nRUN cd ~ \\\n && git clone https://github.com/ahundt/robotics_setup.git\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/vrep.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/spdlog.sh\"]\n# two scripts below called from grl_kuka.sh\n# RUN [\"/bin/bash\",\"-c\",\"./flatbuffers.sh\"]\n# RUN [\"/bin/bash\",\"-c\",\"./cmake-basis.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/robotics_tasks.sh\"]\n# NB - Ceres must run before Camodocal - should run ceres first in camodocal script\n# Better to isolate each script from it's dependencies?\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/ceres.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/camodocal.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/trtk.sh\"]\n# Should be separate nonopb script\nRUN curl -sSL https://koti.kapsi.fi/~jpa/nanopb/download/nanopb-0.3.7-linux-x86.tar.gz | tar -xvz \\\n && cd nanopb-0.3.7-linux-x86 \\\n && cmake . \\\n && make \\\n && make install\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/grl_kuka.sh\"]\n","injectedSmells":[],"originalDockerfileHash":"3a7ddf27bdec74c2af69677455029b97","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  Should set up a system to use GRL\n#  Includes dependencies for GrlInverseKinematics, PivotCalibration & HandEyeCalibration\n#  NB - This is a complicated docker file and might need to be __run twice__!\n#  Install on ubuntu 16.04\n#  Comment the following if you wish to use ROS \n#  --------------Start--------------------\nFROM ubuntu:16.04\nCMD [\"bash\"]\n#  ---------------End-----------------\n#  Uncomment the following if you wish to use ROS \n#  ------------Start---------------------\n#  FROM osrf/ros:kinetic-desktop\n#  RUN apt-get update && apt-get install -y \\\n#      ros-kinetic-desktop-full=1.3.0-0* \\\n#      && rm -rf /var/lib/apt/lists/*\n#  RUN mkdir -p /etc/my_init.d\n#  COPY startup.sh /etc/my_init.d/startup.sh\n#  RUN chmod +x /etc/my_init.d/startup.sh\n#  COPY pre-conf.sh /sbin/pre-conf\n#  RUN chmod +x /sbin/pre-conf \\\n#      && /bin/bash -c /sbin/pre-conf \\\n#      && rm /sbin/pre-conf\n#  CMD bash -c \"/etc/my_init.d/startup.sh\"; bash\n#  -------------End-----------------------------\nLABEL com.nvidia.volumes.needed=\"nvidia_driver\"\nENV PATH=\"/usr/local/nvidia/bin:${PATH}\"\nENV LD_LIBRARY_PATH=\"/usr/local/nvidia/lib:/usr/local/nvidia/lib64:${LD_LIBRARY_PATH}\"\nENV HOME=\"/root\"\nWORKDIR /root\n#  Essentials\nRUN apt-get clean \\\n && apt-get update \\\n && rm -rf /tmp/* /var/tmp/* \\\n && rm -rf /var/lib/apt/lists/*\n#  Compiling\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install libtool bash-completion pkg-config build-essential autoconf automake cmake cmake-curses-gui -y\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install git vim sudo unzip curl ctags git tmux -y\n#  LLVM\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install clang lldb -y\n#  apt-repository-add scripts\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install software-properties-common python-software-properties -y\n#  GRL dependencies\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install libboost-all-dev libeigen3-dev gfortran -y\n#  OpenCV\nRUN apt-get clean \\\n && add-apt-repository --yes ppa:xqms/opencv-nonfree \\\n && apt-get update \\\n && apt-get install libopencv-nonfree-dev libopencv-dev -y\nRUN cd ~ \\\n && git clone https://github.com/ahundt/robotics_setup.git\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/vrep.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/spdlog.sh\"]\n#  two scripts below called from grl_kuka.sh\n#  RUN [\"/bin/bash\",\"-c\",\"./flatbuffers.sh\"]\n#  RUN [\"/bin/bash\",\"-c\",\"./cmake-basis.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/robotics_tasks.sh\"]\n#  NB - Ceres must run before Camodocal - should run ceres first in camodocal script\n#  Better to isolate each script from it's dependencies?\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/ceres.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/camodocal.sh\"]\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/trtk.sh\"]\n#  Should be separate nonopb script\nRUN curl -sSL https://koti.kapsi.fi/~jpa/nanopb/download/nanopb-0.3.7-linux-x86.tar.gz | tar -xvz \\\n && cd nanopb-0.3.7-linux-x86 \\\n && cmake . \\\n && make \\\n && make install\nRUN [\"/bin/bash\", \"-c\", \"cd\", \"~/robotics_setup\", \"&&\", \"~/robotics_setup/grl_kuka.sh\"]\n","originalDockerfileUglifiedHash":"a49ef094123d25680e9cae787e0d03a8","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/ae885f513e78c7613ba72df1ae00d49fcddc519d.dockerfile"}