{"seed":2893425074,"processedDockerfileHash":"9c80e85a2c679b1adc9f5d21371dd642","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","use-copy-instead-of-add","have-a-healthcheck"],"processedDockerfile":"FROM nginx\nRUN apt-get update \\\n && apt-get install --no-install-recommends perl=5.32.1-4+deb11u2 cpanminus=1.7044-2 libaspell-dev=0.60.8-3 make=4.3-4.1 libdbd-mysql-perl=4.050-3+b1 libdigest-perl-md5-perl=1.9-1.1 libxml-simple-perl=2.25-1 libmodule-install-perl=1.19-1 gcc=4:10.2.1-1 libperl-dev=5.32.1-4+deb11u2 libmysql++-dev=3.2.5-2 libpng-dev=1.6.37-3 build-essential=12.9 libgd-dev=2.3.0-2 mariadb-client=1:10.5.18-0+deb11u1 -y\nRUN cpanm --notest --force Algorithm::Permute App::Cmd Archive::Any Archive::Tar Archive::Zip Business::OnlinePayment Business::OnlinePayment::AuthorizeNet Business::PayPal::API Business::Tax::VAT::Validation CHI CSS::Minifier::XS CSS::Packer Cache::FastMmap Capture::Tiny Class::C3 Class::InsideOut Clone Color::Calc Compress::Zlib Config::JSON DBD::mysql DBI Data::ICal DateTime DateTime::Event::ICal DateTime::Format::HTTP DateTime::Format::Mail DateTime::Format::Strptime Devel::StackTrace Devel::StackTrace::WithLexicals Digest::MD5 Digest::SHA Email::Valid Exception::Class Facebook::Graph File::Path Finance::Quote GD GD::Graph Geo::Coder::Googlev3 HTML::Form HTML::Highlight HTML::Packer HTML::Parser HTML::TagCloud HTML::TagFilter HTML::Template HTML::Template::Expr HTTP::BrowserDetect HTTP::Exception HTTP::Headers HTTP::Request IO::File::WithPath IO::Interactive::Tiny IO::Socket::SSL IO::Zlib Image::ExifTool Imager Imager::File::PNG JSON JSON::Any JSON::PP JavaScript::Minifier::XS JavaScript::Packer Kwargs LWP LWP::Protocol::https List::MoreUtils Locales Log::Log4perl MIME::Tools Module::Find Monkey::Patch Moose MooseX::NonMoose MooseX::Storage MooseX::Storage::Format::JSON Net::CIDR::Lite Net::DNS Net::LDAP Net::POP3 Net::SMTP Net::Twitter Number::Format POE POE::Component::Client::HTTP POE::Component::IKC::Server POE::Component::IKC Package::Stash Params::Validate Path::Class PerlIO::eol Plack Plack::Middleware::Debug Plack::Middleware::Status Plack::Request Plack::Response Pod::Coverage Readonly Scope::Guard Search::QueryParser Storable Template Test::Class Test::Deep Test::Differences Test::Exception Test::Harness Test::Log::Dispatch Test::LongString Test::MockObject Test::MockTime Test::More Test::Tester Test::WWW::Mechanize::PSGI Text::Aspell Text::Balanced Text::CSV_XS Tie::CPHash Tie::IxHash Time::HiRes Try::Tiny URI::Escape UUID::Tiny Weather::Com::Finder XML::FeedPP XML::FeedPP::MediaRSS XML::Simple common::sense namespace::autoclean\nCOPY lib /WebGUI/lib\nCOPY sbin /WebGUI/sbin\nCOPY share /WebGUI/share\nCOPY www/extras /WebGUI/www/extras\nCOPY www/maintenance.html /WebGUI/www/maintenance.html\nCOPY www/uploads /WebGUI/uploads\nCOPY etc /WebGUI/etc\nCOPY app.psgi /WebGUI/app.psgi\nCOPY share/entrypoint /entrypoint\nCOPY share/nginx-main /etc/nginx/nginx.conf\nCOPY share/nginx-default-server /etc/nginx/conf.d/default.conf\nCOPY share/upstream-allium.conf /etc/nginx/streams.d/upstream-allium.conf\nRUN useradd --home=/WebGUI webgui ; chown -R webgui: /WebGUI ; chmod 755 /entrypoint ; apt-get remove -y cpanminus make gcc libperl-dev ; rm -rf /root/.cpanm ; chown webgui /var/cache/nginx\nUSER webgui\nWORKDIR /WebGUI\nEXPOSE 8080/tcp\nCMD [\"/entrypoint\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:80 || exit 1\n","originalDockerfile":"FROM nginx\nRUN apt-get update \\\n && apt-get -y install perl cpanminus libaspell-dev make libdbd-mysql-perl libdigest-perl-md5-perl libxml-simple-perl libmodule-install-perl gcc libperl-dev libmysql++-dev libpng-dev build-essential libgd-dev mariadb-client\nRUN cpanm --notest --force Algorithm::Permute App::Cmd Archive::Any Archive::Tar Archive::Zip Business::OnlinePayment Business::OnlinePayment::AuthorizeNet Business::PayPal::API Business::Tax::VAT::Validation CHI CSS::Minifier::XS CSS::Packer Cache::FastMmap Capture::Tiny Class::C3 Class::InsideOut Clone Color::Calc Compress::Zlib Config::JSON DBD::mysql DBI Data::ICal DateTime DateTime::Event::ICal DateTime::Format::HTTP DateTime::Format::Mail DateTime::Format::Strptime Devel::StackTrace Devel::StackTrace::WithLexicals Digest::MD5 Digest::SHA Email::Valid Exception::Class Facebook::Graph File::Path Finance::Quote GD GD::Graph Geo::Coder::Googlev3 HTML::Form HTML::Highlight HTML::Packer HTML::Parser HTML::TagCloud HTML::TagFilter HTML::Template HTML::Template::Expr HTTP::BrowserDetect HTTP::Exception HTTP::Headers HTTP::Request IO::File::WithPath IO::Interactive::Tiny IO::Socket::SSL IO::Zlib Image::ExifTool Imager Imager::File::PNG JSON JSON::Any JSON::PP JavaScript::Minifier::XS JavaScript::Packer Kwargs LWP LWP::Protocol::https List::MoreUtils Locales Log::Log4perl MIME::Tools Module::Find Monkey::Patch Moose MooseX::NonMoose MooseX::Storage MooseX::Storage::Format::JSON Net::CIDR::Lite Net::DNS Net::LDAP Net::POP3 Net::SMTP Net::Twitter Number::Format POE POE::Component::Client::HTTP POE::Component::IKC::Server POE::Component::IKC Package::Stash Params::Validate Path::Class PerlIO::eol Plack Plack::Middleware::Debug Plack::Middleware::Status Plack::Request Plack::Response Pod::Coverage Readonly Scope::Guard Search::QueryParser Storable Template Test::Class Test::Deep Test::Differences Test::Exception Test::Harness Test::Log::Dispatch Test::LongString Test::MockObject Test::MockTime Test::More Test::Tester Test::WWW::Mechanize::PSGI Text::Aspell Text::Balanced Text::CSV_XS Tie::CPHash Tie::IxHash Time::HiRes Try::Tiny URI::Escape UUID::Tiny Weather::Com::Finder XML::FeedPP XML::FeedPP::MediaRSS XML::Simple common::sense namespace::autoclean\nADD lib /WebGUI/lib\nADD sbin /WebGUI/sbin\nADD share /WebGUI/share\nADD www/extras /WebGUI/www/extras\nADD www/maintenance.html /WebGUI/www/maintenance.html\nADD www/uploads /WebGUI/uploads\nADD etc /WebGUI/etc\nADD app.psgi /WebGUI/app.psgi\nADD share/entrypoint /entrypoint\nADD share/nginx-main /etc/nginx/nginx.conf\nADD share/nginx-default-server /etc/nginx/conf.d/default.conf\nADD share/upstream-allium.conf /etc/nginx/streams.d/upstream-allium.conf\nRUN useradd --home=/WebGUI webgui ; chown -R webgui: /WebGUI ; chmod 755 /entrypoint ; apt-get remove -y cpanminus make gcc libperl-dev ; rm -rf /root/.cpanm ; chown webgui /var/cache/nginx\nUSER webgui\nWORKDIR /WebGUI\nEXPOSE 8080/tcp\nCMD [\"/entrypoint\"]\n","injectedSmells":[],"originalDockerfileHash":"3435f4f202132175dca5201fac7629b2","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM nginx\nRUN apt-get update \\\n && apt-get install perl cpanminus libaspell-dev make libdbd-mysql-perl libdigest-perl-md5-perl libxml-simple-perl libmodule-install-perl gcc libperl-dev libmysql++-dev libpng-dev build-essential libgd-dev mariadb-client -y\nRUN cpanm --notest --force Algorithm::Permute App::Cmd Archive::Any Archive::Tar Archive::Zip Business::OnlinePayment Business::OnlinePayment::AuthorizeNet Business::PayPal::API Business::Tax::VAT::Validation CHI CSS::Minifier::XS CSS::Packer Cache::FastMmap Capture::Tiny Class::C3 Class::InsideOut Clone Color::Calc Compress::Zlib Config::JSON DBD::mysql DBI Data::ICal DateTime DateTime::Event::ICal DateTime::Format::HTTP DateTime::Format::Mail DateTime::Format::Strptime Devel::StackTrace Devel::StackTrace::WithLexicals Digest::MD5 Digest::SHA Email::Valid Exception::Class Facebook::Graph File::Path Finance::Quote GD GD::Graph Geo::Coder::Googlev3 HTML::Form HTML::Highlight HTML::Packer HTML::Parser HTML::TagCloud HTML::TagFilter HTML::Template HTML::Template::Expr HTTP::BrowserDetect HTTP::Exception HTTP::Headers HTTP::Request IO::File::WithPath IO::Interactive::Tiny IO::Socket::SSL IO::Zlib Image::ExifTool Imager Imager::File::PNG JSON JSON::Any JSON::PP JavaScript::Minifier::XS JavaScript::Packer Kwargs LWP LWP::Protocol::https List::MoreUtils Locales Log::Log4perl MIME::Tools Module::Find Monkey::Patch Moose MooseX::NonMoose MooseX::Storage MooseX::Storage::Format::JSON Net::CIDR::Lite Net::DNS Net::LDAP Net::POP3 Net::SMTP Net::Twitter Number::Format POE POE::Component::Client::HTTP POE::Component::IKC::Server POE::Component::IKC Package::Stash Params::Validate Path::Class PerlIO::eol Plack Plack::Middleware::Debug Plack::Middleware::Status Plack::Request Plack::Response Pod::Coverage Readonly Scope::Guard Search::QueryParser Storable Template Test::Class Test::Deep Test::Differences Test::Exception Test::Harness Test::Log::Dispatch Test::LongString Test::MockObject Test::MockTime Test::More Test::Tester Test::WWW::Mechanize::PSGI Text::Aspell Text::Balanced Text::CSV_XS Tie::CPHash Tie::IxHash Time::HiRes Try::Tiny URI::Escape UUID::Tiny Weather::Com::Finder XML::FeedPP XML::FeedPP::MediaRSS XML::Simple common::sense namespace::autoclean\nADD lib /WebGUI/lib\nADD sbin /WebGUI/sbin\nADD share /WebGUI/share\nADD www/extras /WebGUI/www/extras\nADD www/maintenance.html /WebGUI/www/maintenance.html\nADD www/uploads /WebGUI/uploads\nADD etc /WebGUI/etc\nADD app.psgi /WebGUI/app.psgi\nADD share/entrypoint /entrypoint\nADD share/nginx-main /etc/nginx/nginx.conf\nADD share/nginx-default-server /etc/nginx/conf.d/default.conf\nADD share/upstream-allium.conf /etc/nginx/streams.d/upstream-allium.conf\nRUN useradd --home=/WebGUI webgui ; chown -R webgui: /WebGUI ; chmod 755 /entrypoint ; apt-get remove -y cpanminus make gcc libperl-dev ; rm -rf /root/.cpanm ; chown webgui /var/cache/nginx\nUSER webgui\nWORKDIR /WebGUI\nEXPOSE 8080/tcp\nCMD [\"/entrypoint\"]\n","originalDockerfileUglifiedHash":"1ce39495861e1138dc6dc99f9304e544","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/9f176f43d8fac8f403b9d8df2fa5da5206acfbd3.dockerfile"}