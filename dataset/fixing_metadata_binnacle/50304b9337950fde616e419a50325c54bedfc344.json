{"seed":2035859257,"processedDockerfileHash":"a57dead4925172926b453d671be1b177","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Copyright (c) 2009-2019, Yegor Bugayenko\n#   All rights reserved.\n#\n#   Redistribution and use in source and binary forms, with or without\n#   modification, are permitted provided that the following conditions\n#   are met: 1) Redistributions of source code must retain the above\n#   copyright notice, this list of conditions and the following\n#   disclaimer. 2) Redistributions in binary form must reproduce the above\n#   copyright notice, this list of conditions and the following\n#   disclaimer in the documentation and/or other materials provided\n#   with the distribution. 3) Neither the name of the rultor.com nor\n#   the names of its contributors may be used to endorse or promote\n#   products derived from this software without specific prior written\n#   permission.\n#\n#   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n#   \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT\n#   NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n#   FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL\n#   THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n#   INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n#   (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n#   SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)\n#   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\n#   STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n#   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n#   OF THE POSSIBILITY OF SUCH DAMAGE.\n#   The software packages configured here (PHP, Node, Ruby, Java etc.) are for\n#   the convenience of the users going to use this default container.\n#   If you are going to use your own container, you may remove them.\n#   Rultor has no dependency on these packages.\nFROM ubuntu:16.04\nMAINTAINER Yegor Bugayenko <yegor256@gmail.com>\nLABEL Description=\"This is the default image for Rultor.com\" \\\n      Vendor=\"Rultor.com\" \\\n      Version=\"1.0\"\nWORKDIR /tmp\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   UTF-8 locale\nRUN apt-get clean \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends locales=2.23-0ubuntu11.3 -y ) \\\n && locale-gen en_US.UTF-8\nENV LC_ALL=\"en_US.UTF-8\"\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US.UTF-8\"\n#   Basic Linux tools\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends wget=1.17.1-1ubuntu1.5 bcrypt=1.1-8.1 curl=7.47.0-1ubuntu2.19 sudo=1.8.16-0ubuntu1.10 unzip=6.0-20ubuntu1.1 zip=3.0-11 gnupg=1.4.20-1ubuntu3.3 gnupg2=2.1.11-6ubuntu2.1 jq=1.5+dfsg-1ubuntu0.1 netcat-openbsd=1.105-7ubuntu1 bsdmainutils=9.0.6ubuntu3 libxml2-utils=2.9.3+dfsg1-1ubuntu0.7 build-essential=12.1ubuntu2 automake=1:1.15-4ubuntu1 autoconf=2.69-9 -y )\n#   Git 2.0\nRUN (apt-get update ;apt-get install --no-install-recommends software-properties-common=0.96.20.10 python-software-properties=0.96.20.10 -y ) \\\n && add-apt-repository ppa:git-core/ppa \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends git=1:2.7.4-0ubuntu1.10 git-core=1:2.7.4-0ubuntu1.10 -y )\n#   SSH Daemon\nRUN (apt-get update ;apt-get install --no-install-recommends ssh=1:7.2p2-4ubuntu2.10 -y ) \\\n && mkdir /var/run/sshd \\\n && chmod 0755 /var/run/sshd\n#   Ruby\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends ruby-dev=1:2.3.0+1 libmagic-dev=1:5.25-2ubuntu1.4 zlib1g-dev=1:1.2.8.dfsg-2ubuntu4.3 -y ) \\\n && gpg2 --keyserver hkp://keys.gnupg.net --recv-keys D39DC0E3 \\\n && gpg2 --keyserver hkp://pool.sks-keyservers.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB \\\n && curl -L https://get.rvm.io | bash -s stable \\\n && /bin/bash -l -c \". /etc/profile.d/rvm.sh \\\n && rvm install ruby-2.6.0 \\\n && rvm use 2.6.0\"\n#   PHP\nRUN LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends php7.2 php-pear=1:1.10.1+submodules+notgz-6ubuntu0.3 php7.2-curl php7.2-dev php7.2-gd php7.2-mbstring php7.2-zip php7.2-mysql php7.2-xml -y )\nRUN curl --silent --show-error https://getcomposer.org/installer | php \\\n && mv composer.phar /usr/local/bin/composer\nRUN mkdir jsl \\\n && wget --quiet http://www.javascriptlint.com/download/jsl-0.3.0-src.tar.gz \\\n && tar xzf jsl-0.3.0-src.tar.gz \\\n && cd jsl-0.3.0/src \\\n && make -f Makefile.ref \\\n && mv Linux_All_DBG.OBJ/jsl /usr/local/bin \\\n && cd .. \\\n && rm -rf jsl\n#   RUN pecl install xdebug-beta && \\\n#     echo \"zend_extension=xdebug.so\" > /etc/php5/cli/conf.d/xdebug.ini\n#   Java\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886 E1DF1F24 3DD9F856\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends openjdk-8-jdk=8u292-b10-0ubuntu1~16.04.1 ca-certificates=20210119~16.04.1 maven=3.3.9-3 -y )\nENV JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64\"\n#   LaTeX\nRUN (apt-get update ;apt-get install --no-install-recommends texlive-latex-base=2015.20160320-1ubuntu0.1 texlive-fonts-recommended=2015.20160320-1ubuntu0.1 texlive-latex-extra=2015.20160320-1 xzdec=5.1.1alpha+20120614-2ubuntu2 -y )\nRUN tlmgr init-usertree || echo 'Warning ignored'\n#   PhantomJS\nRUN (apt-get update ;apt-get install --no-install-recommends phantomjs=2.1.1+dfsg-1 -y )\n#   S3cmd for AWS S3 integration\nRUN (apt-get update ;apt-get install --no-install-recommends s3cmd=1.6.1-1 -y )\n#   NodeJS\nRUN rm -rf /usr/lib/node_modules \\\n && curl -sL https://deb.nodesource.com/setup_6.x | bash - \\\n && (apt-get update ;apt-get install --no-install-recommends nodejs=4.2.6~dfsg-1ubuntu4.2 -y )\n#   Postgresql\nRUN echo 'deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main' >> /etc/apt/sources.list.d/pgdg.list \\\n && wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | apt-key add -\nRUN apt-get update -y \\\n && (apt-get update ;apt-get install --no-install-recommends postgresql-client-10 postgresql-10 -y )\nUSER postgres\nRUN /etc/init.d/postgresql start \\\n && psql --command \"CREATE USER rultor WITH SUPERUSER PASSWORD 'rultor';\" \\\n && createdb -O rultor rultor\nEXPOSE 5432/tcp\nUSER root\nENV PATH=\"${PATH}:/usr/lib/postgresql/10/bin\"\n#   Postgresql service has to be started using `sudo /etc/init.d/postgresql start` in .rultor.yml\n#   Maven\nENV MAVEN_VERSION=\"3.3.9\"\nENV M2_HOME=\"\\\"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}\\\"\"\nRUN wget --quiet \"http://mirror.dkd.de/apache/maven/maven-3/${MAVEN_VERSION}/binaries/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" \\\n && mkdir -p /usr/local/apache-maven \\\n && mv \"apache-maven-${MAVEN_VERSION}-bin.tar.gz\" /usr/local/apache-maven \\\n && tar xzvf \"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" -C /usr/local/apache-maven/ \\\n && update-alternatives --install /usr/bin/mvn mvn \"${M2_HOME}/bin/mvn\" 1 \\\n && update-alternatives --config mvn\n#   Warming it up a bit\nRUN /bin/bash -l -c \"gem install jekyll:3.4.3\"\nENV MAVEN_OPTS=\"\\\"-Xms512m -Xmx2g\\\"\"\nCOPY settings.xml /root/.m2/settings.xml\nRUN git clone https://github.com/yegor256/rultor.git --depth=1\nRUN cd rultor \\\n && mvn clean install -DskipTests -Pqulice --quiet \\\n && cd .. \\\n && rm -rf rultor\n#   Clean up\nRUN rm -rf /tmp/* \\\n && rm -rf /root/.ssh\nENTRYPOINT [\"/bin/bash\", \"-l\", \"-c\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Copyright (c) 2009-2019, Yegor Bugayenko\n#  All rights reserved.\n#\n#  Redistribution and use in source and binary forms, with or without\n#  modification, are permitted provided that the following conditions\n#  are met: 1) Redistributions of source code must retain the above\n#  copyright notice, this list of conditions and the following\n#  disclaimer. 2) Redistributions in binary form must reproduce the above\n#  copyright notice, this list of conditions and the following\n#  disclaimer in the documentation and/or other materials provided\n#  with the distribution. 3) Neither the name of the rultor.com nor\n#  the names of its contributors may be used to endorse or promote\n#  products derived from this software without specific prior written\n#  permission.\n#\n#  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n#  \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT\n#  NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n#  FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL\n#  THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n#  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n#  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n#  SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)\n#  HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\n#  STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n#  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n#  OF THE POSSIBILITY OF SUCH DAMAGE.\n#  The software packages configured here (PHP, Node, Ruby, Java etc.) are for\n#  the convenience of the users going to use this default container.\n#  If you are going to use your own container, you may remove them.\n#  Rultor has no dependency on these packages.\nFROM ubuntu:16.04\nMAINTAINER Yegor Bugayenko <yegor256@gmail.com>\nLABEL Description=\"This is the default image for Rultor.com\" \\\n      Vendor=\"Rultor.com\" \\\n      Version=\"1.0\"\nWORKDIR /tmp\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  UTF-8 locale\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install locales -y \\\n && locale-gen en_US.UTF-8\nENV LC_ALL=\"en_US.UTF-8\"\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US.UTF-8\"\n#  Basic Linux tools\nRUN apt-get update \\\n && apt-get install wget bcrypt curl sudo unzip zip gnupg gnupg2 jq netcat-openbsd bsdmainutils libxml2-utils build-essential automake autoconf -y\n#  Git 2.0\nRUN apt-get install software-properties-common python-software-properties -y \\\n && add-apt-repository ppa:git-core/ppa \\\n && apt-get update \\\n && apt-get install git git-core -y\n#  SSH Daemon\nRUN apt-get install ssh -y \\\n && mkdir /var/run/sshd \\\n && chmod 0755 /var/run/sshd\n#  Ruby\nRUN apt-get update \\\n && apt-get install ruby-dev libmagic-dev zlib1g-dev -y \\\n && gpg2 --keyserver hkp://keys.gnupg.net --recv-keys D39DC0E3 \\\n && gpg2 --keyserver hkp://pool.sks-keyservers.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB \\\n && curl -L https://get.rvm.io | bash -s stable \\\n && /bin/bash -l -c \". /etc/profile.d/rvm.sh \\\n && rvm install ruby-2.6.0 \\\n && rvm use 2.6.0\"\n#  PHP\nRUN LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php \\\n && apt-get update \\\n && apt-get install php7.2 php-pear php7.2-curl php7.2-dev php7.2-gd php7.2-mbstring php7.2-zip php7.2-mysql php7.2-xml -y\nRUN curl --silent --show-error https://getcomposer.org/installer | php \\\n && mv composer.phar /usr/local/bin/composer\nRUN mkdir jsl \\\n && wget --quiet http://www.javascriptlint.com/download/jsl-0.3.0-src.tar.gz \\\n && tar xzf jsl-0.3.0-src.tar.gz \\\n && cd jsl-0.3.0/src \\\n && make -f Makefile.ref \\\n && mv Linux_All_DBG.OBJ/jsl /usr/local/bin \\\n && cd .. \\\n && rm -rf jsl\n#  RUN pecl install xdebug-beta && \\\n#    echo \"zend_extension=xdebug.so\" > /etc/php5/cli/conf.d/xdebug.ini\n#  Java\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886 E1DF1F24 3DD9F856\nRUN apt-get update\nRUN apt-get install openjdk-8-jdk ca-certificates maven -y\nENV JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64\"\n#  LaTeX\nRUN apt-get install texlive-latex-base texlive-fonts-recommended texlive-latex-extra xzdec -y\nRUN tlmgr init-usertree || echo 'Warning ignored'\n#  PhantomJS\nRUN apt-get install phantomjs -y\n#  S3cmd for AWS S3 integration\nRUN apt-get install s3cmd -y\n#  NodeJS\nRUN rm -rf /usr/lib/node_modules \\\n && curl -sL https://deb.nodesource.com/setup_6.x | bash - \\\n && apt-get install nodejs -y\n#  Postgresql\nRUN echo 'deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main' >> /etc/apt/sources.list.d/pgdg.list \\\n && wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | apt-key add -\nRUN apt-get update -y \\\n && apt-get install postgresql-client-10 postgresql-10 -y\nUSER postgres\nRUN /etc/init.d/postgresql start \\\n && psql --command \"CREATE USER rultor WITH SUPERUSER PASSWORD 'rultor';\" \\\n && createdb -O rultor rultor\nEXPOSE 5432/tcp\nUSER root\nENV PATH=\"${PATH}:/usr/lib/postgresql/10/bin\"\n#  Postgresql service has to be started using `sudo /etc/init.d/postgresql start` in .rultor.yml\n#  Maven\nENV MAVEN_VERSION=\"3.3.9\"\nENV M2_HOME=\"\\\"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}\\\"\"\nRUN wget --quiet \"http://mirror.dkd.de/apache/maven/maven-3/${MAVEN_VERSION}/binaries/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" \\\n && mkdir -p /usr/local/apache-maven \\\n && mv \"apache-maven-${MAVEN_VERSION}-bin.tar.gz\" /usr/local/apache-maven \\\n && tar xzvf \"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" -C /usr/local/apache-maven/ \\\n && update-alternatives --install /usr/bin/mvn mvn \"${M2_HOME}/bin/mvn\" 1 \\\n && update-alternatives --config mvn\n#  Warming it up a bit\nRUN /bin/bash -l -c \"gem install jekyll:3.4.3\"\nENV MAVEN_OPTS=\"\\\"-Xms512m -Xmx2g\\\"\"\nCOPY settings.xml /root/.m2/settings.xml\nRUN git clone https://github.com/yegor256/rultor.git --depth=1\nRUN cd rultor \\\n && mvn clean install -DskipTests -Pqulice --quiet \\\n && cd .. \\\n && rm -rf rultor\n#  Clean up\nRUN rm -rf /tmp/* \\\n && rm -rf /root/.ssh\nENTRYPOINT [\"/bin/bash\", \"-l\", \"-c\"]\n","injectedSmells":[],"originalDockerfileHash":"6da849080e89be70540aa07e7958bf39","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Copyright (c) 2009-2019, Yegor Bugayenko\n#   All rights reserved.\n#\n#   Redistribution and use in source and binary forms, with or without\n#   modification, are permitted provided that the following conditions\n#   are met: 1) Redistributions of source code must retain the above\n#   copyright notice, this list of conditions and the following\n#   disclaimer. 2) Redistributions in binary form must reproduce the above\n#   copyright notice, this list of conditions and the following\n#   disclaimer in the documentation and/or other materials provided\n#   with the distribution. 3) Neither the name of the rultor.com nor\n#   the names of its contributors may be used to endorse or promote\n#   products derived from this software without specific prior written\n#   permission.\n#\n#   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n#   \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT\n#   NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n#   FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL\n#   THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n#   INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n#   (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n#   SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)\n#   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\n#   STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n#   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n#   OF THE POSSIBILITY OF SUCH DAMAGE.\n#   The software packages configured here (PHP, Node, Ruby, Java etc.) are for\n#   the convenience of the users going to use this default container.\n#   If you are going to use your own container, you may remove them.\n#   Rultor has no dependency on these packages.\nFROM ubuntu:16.04\nMAINTAINER Yegor Bugayenko <yegor256@gmail.com>\nLABEL Description=\"This is the default image for Rultor.com\" \\\n      Vendor=\"Rultor.com\" \\\n      Version=\"1.0\"\nWORKDIR /tmp\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   UTF-8 locale\nRUN apt-get clean \\\n && apt-get update \\\n && apt-get install locales -y \\\n && locale-gen en_US.UTF-8\nENV LC_ALL=\"en_US.UTF-8\"\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US.UTF-8\"\n#   Basic Linux tools\nRUN apt-get update \\\n && apt-get install wget bcrypt curl sudo unzip zip gnupg gnupg2 jq netcat-openbsd bsdmainutils libxml2-utils build-essential automake autoconf -y\n#   Git 2.0\nRUN apt-get install software-properties-common python-software-properties -y \\\n && add-apt-repository ppa:git-core/ppa \\\n && apt-get update \\\n && apt-get install git git-core -y\n#   SSH Daemon\nRUN apt-get install ssh -y \\\n && mkdir /var/run/sshd \\\n && chmod 0755 /var/run/sshd\n#   Ruby\nRUN apt-get update \\\n && apt-get install ruby-dev libmagic-dev zlib1g-dev -y \\\n && gpg2 --keyserver hkp://keys.gnupg.net --recv-keys D39DC0E3 \\\n && gpg2 --keyserver hkp://pool.sks-keyservers.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB \\\n && curl -L https://get.rvm.io | bash -s stable \\\n && /bin/bash -l -c \". /etc/profile.d/rvm.sh \\\n && rvm install ruby-2.6.0 \\\n && rvm use 2.6.0\"\n#   PHP\nRUN LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php \\\n && apt-get update \\\n && apt-get install php7.2 php-pear php7.2-curl php7.2-dev php7.2-gd php7.2-mbstring php7.2-zip php7.2-mysql php7.2-xml -y\nRUN curl --silent --show-error https://getcomposer.org/installer | php \\\n && mv composer.phar /usr/local/bin/composer\nRUN mkdir jsl \\\n && wget --quiet http://www.javascriptlint.com/download/jsl-0.3.0-src.tar.gz \\\n && tar xzf jsl-0.3.0-src.tar.gz \\\n && cd jsl-0.3.0/src \\\n && make -f Makefile.ref \\\n && mv Linux_All_DBG.OBJ/jsl /usr/local/bin \\\n && cd .. \\\n && rm -rf jsl\n#   RUN pecl install xdebug-beta && \\\n#     echo \"zend_extension=xdebug.so\" > /etc/php5/cli/conf.d/xdebug.ini\n#   Java\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886 E1DF1F24 3DD9F856\nRUN apt-get update\nRUN apt-get install openjdk-8-jdk ca-certificates maven -y\nENV JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64\"\n#   LaTeX\nRUN apt-get install texlive-latex-base texlive-fonts-recommended texlive-latex-extra xzdec -y\nRUN tlmgr init-usertree || echo 'Warning ignored'\n#   PhantomJS\nRUN apt-get install phantomjs -y\n#   S3cmd for AWS S3 integration\nRUN apt-get install s3cmd -y\n#   NodeJS\nRUN rm -rf /usr/lib/node_modules \\\n && curl -sL https://deb.nodesource.com/setup_6.x | bash - \\\n && apt-get install nodejs -y\n#   Postgresql\nRUN echo 'deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main' >> /etc/apt/sources.list.d/pgdg.list \\\n && wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | apt-key add -\nRUN apt-get update -y \\\n && apt-get install postgresql-client-10 postgresql-10 -y\nUSER postgres\nRUN /etc/init.d/postgresql start \\\n && psql --command \"CREATE USER rultor WITH SUPERUSER PASSWORD 'rultor';\" \\\n && createdb -O rultor rultor\nEXPOSE 5432/tcp\nUSER root\nENV PATH=\"${PATH}:/usr/lib/postgresql/10/bin\"\n#   Postgresql service has to be started using `sudo /etc/init.d/postgresql start` in .rultor.yml\n#   Maven\nENV MAVEN_VERSION=\"3.3.9\"\nENV M2_HOME=\"\\\"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}\\\"\"\nRUN wget --quiet \"http://mirror.dkd.de/apache/maven/maven-3/${MAVEN_VERSION}/binaries/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" \\\n && mkdir -p /usr/local/apache-maven \\\n && mv \"apache-maven-${MAVEN_VERSION}-bin.tar.gz\" /usr/local/apache-maven \\\n && tar xzvf \"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" -C /usr/local/apache-maven/ \\\n && update-alternatives --install /usr/bin/mvn mvn \"${M2_HOME}/bin/mvn\" 1 \\\n && update-alternatives --config mvn\n#   Warming it up a bit\nRUN /bin/bash -l -c \"gem install jekyll:3.4.3\"\nENV MAVEN_OPTS=\"\\\"-Xms512m -Xmx2g\\\"\"\nCOPY settings.xml /root/.m2/settings.xml\nRUN git clone https://github.com/yegor256/rultor.git --depth=1\nRUN cd rultor \\\n && mvn clean install -DskipTests -Pqulice --quiet \\\n && cd .. \\\n && rm -rf rultor\n#   Clean up\nRUN rm -rf /tmp/* \\\n && rm -rf /root/.ssh\nENTRYPOINT [\"/bin/bash\", \"-l\", \"-c\"]\n","originalDockerfileUglifiedHash":"ea2a88fd7a284ce000311b6d9739ee48","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/50304b9337950fde616e419a50325c54bedfc344.dockerfile"}