{"seed":3228642015,"processedDockerfileHash":"ad00d0ed4283f2aecf98640b523a0b0c","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM centos:6\nMAINTAINER Andrius Kairiukstis <andrius@kairiukstis.com>\nRUN yum -y install gcc gcc-c++ cpp ncurses ncurses-devel libxml2 libxml2-devel openssl-devel newt-devel libuuid-devel net-snmp-devel xinetd tar libffi-devel sqlite-devel curl bison supervisor \\\n && mkdir /tmp/asterisk \\\n && curl -sf -o /tmp/asterisk.tar.gz -L http://downloads.asterisk.org/pub/telephony/certified-asterisk/certified-asterisk-11.6-current.tar.gz \\\n && tar -xzf /tmp/asterisk.tar.gz -C /tmp/asterisk --strip-components=1 \\\n && cd /tmp/asterisk \\\n && ./configure --libdir=/usr/lib64 \\\n && make menuselect \\\n && menuselect/menuselect --disable-all --disable-category MENUSELECT_ADDONS --disable-category MENUSELECT_APPS --disable-category MENUSELECT_BRIDGES --disable-category MENUSELECT_CDR --disable-category MENUSELECT_CEL --disable-category MENUSELECT_CHANNELS --enable-category MENUSELECT_CODECS --enable-category MENUSELECT_FORMATS --disable-category MENUSELECT_FUNCS --disable-category MENUSELECT_PBX --disable-category MENUSELECT_RES --disable-category MENUSELECT_TESTS --disable-category MENUSELECT_UTILS --disable-category MENUSELECT_AGIS --disable-category MENUSELECT_EMBED --enable-category MENUSELECT_CORE_SOUNDS --enable-category MENUSELECT_MOH --enable-category MENUSELECT_EXTRA_SOUNDS --disable-category MENUSELECT_TESTS --enable-category MENUSELECT_OPTS_app_voicemail --enable func_module --enable LOADABLE_MODULES --enable FILE_STORAGE --disable codec_dahdi --enable app_dial --enable app_exec --enable app_originate --enable app_verbose --enable chan_sip --enable pbx_config --enable res_agi --enable res_convert --enable res_musiconhold --enable res_timing_timerfd --disable BUILD_NATIVE menuselect.makeopts \\\n && make config \\\n && make \\\n && make install \\\n && mkdir -p /var/lib/asterisk/phoneprov \\\n && make samples \\\n && make dist-clean \\\n && sed -i -e 's/# MAXFILES=/MAXFILES=/' /usr/sbin/safe_asterisk \\\n && cd .. \\\n && rm /tmp/asterisk.tar.gz \\\n && rm -rf /tmp/asterisk \\\n && yum -y clean all \\\n && rm -rf /var/cache/yum/*\n#   RUN  yum -y update \\\n#     && yum -y install epel-release \\\n#     && yum -y install kernel-headers gcc gcc-c++ cpp ncurses ncurses-devel libxml2 libxml2-devel sqlite sqlite-devel \\\n#          mysql-devel openssl-devel newt-devel kernel-devel libuuid-devel net-snmp-devel xinetd tar libffi-devel \\\n#          curl pcre-devel bison mysql-devel ngrep tmux \\\n#     && mkdir /tmp/asterisk \\\n#     && curl -sf -o /tmp/asterisk.tar.gz -L http://downloads.asterisk.org/pub/telephony/certified-asterisk/certified-asterisk-11.6-current.tar.gz \\\n#     && tar -xzf /tmp/asterisk.tar.gz -C /tmp/asterisk --strip-components=1 \\\n#     && cd /tmp/asterisk \\\n#     && ./configure --libdir=/usr/lib64 \\\n#     && make menuselect \\\n#     && menuselect/menuselect \\\n#     --disable-category MENUSELECT_ADDONS \\\n#     --disable-category MENUSELECT_APPS \\\n#     --disable-category MENUSELECT_BRIDGES \\\n#     --disable-category MENUSELECT_CDR \\\n#     --disable-category MENUSELECT_CEL \\\n#     --disable-category MENUSELECT_CHANNELS \\\n#     --enable-category MENUSELECT_CODECS \\\n#     --enable-category MENUSELECT_FORMATS \\\n#     --disable-category MENUSELECT_FUNCS \\\n#     --disable-category MENUSELECT_PBX \\\n#     --disable-category MENUSELECT_RES \\\n#     --disable-category MENUSELECT_TESTS \\\n#     --disable-category MENUSELECT_OPTS_app_voicemail \\\n#     --disable-category MENUSELECT_UTILS \\\n#     --disable-category MENUSELECT_AGIS \\\n#     --disable-category MENUSELECT_EMBED \\\n#     --disable-category MENUSELECT_CORE_SOUNDS \\\n#     --disable-category MENUSELECT_MOH \\\n#     --disable-category MENUSELECT_EXTRA_SOUNDS \\\n#     --enable app_controlplayback \\\n#     --enable app_dial \\\n#     --enable app_exec \\\n#     --enable app_originate \\\n#     --enable app_queue \\\n#     --enable app_record \\\n#     --enable app_senddtmf \\\n#     --enable app_stasis \\\n#     --enable app_verbose \\\n#     --enable app_waituntil \\\n#     --enable chan_sip \\\n#     --enable pbx_config \\\n#     --enable pbx_realtime \\\n#     --enable res_agi \\\n#     --enable res_ari \\\n#     --enable res_ari_channels \\\n#     --enable res_ari_events \\\n#     --enable res_ari_playbacks \\\n#     --enable res_ari_recordings \\\n#     --enable res_ari_sounds \\\n#     --enable res_ari_device_states \\\n#     --enable res_realtime \\\n#     --enable res_rtp_asterisk \\\n#     --enable res_rtp_multicast \\\n#     --enable res_stasis \\\n#     --enable res_stasis_answer \\\n#     --enable res_stasis_device_state \\\n#     --enable res_stasis_playback \\\n#     --enable res_stasis_recording \\\n#     --enable res_stun_monitor \\\n#     --enable res_timing_timerfd \\\n#     --enable func_callcompletion \\\n#     --enable func_callerid \\\n#     --disable BUILD_NATIVE \\\n#     menuselect.makeopts \\\n#     && make config \\\n#     && make \\\n#     && make install \\\n#     && mkdir -p /var/lib/asterisk/phoneprov \\\n#     && make samples \\\n#     && make dist-clean \\\n#     && sed -i -e 's/# MAXFILES=/MAXFILES=/' /usr/sbin/safe_asterisk \\\n#     && cd .. \\\n#     && rm /tmp/asterisk.tar.gz \\\n#     && rm -rf /tmp/asterisk \\\n#     && yum -y clean all \\\n#     && rm -rf /var/cache/yum/*\n#\n#   CMD asterisk -fvvvvv\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM centos:6\nMAINTAINER Andrius Kairiukstis <andrius@kairiukstis.com>\nRUN yum -y install gcc gcc-c++ cpp ncurses ncurses-devel libxml2 libxml2-devel openssl-devel newt-devel libuuid-devel net-snmp-devel xinetd tar libffi-devel sqlite-devel curl bison supervisor \\\n && mkdir /tmp/asterisk \\\n && curl -sf -o /tmp/asterisk.tar.gz -L http://downloads.asterisk.org/pub/telephony/certified-asterisk/certified-asterisk-11.6-current.tar.gz \\\n && tar -xzf /tmp/asterisk.tar.gz -C /tmp/asterisk --strip-components=1 \\\n && cd /tmp/asterisk \\\n && ./configure --libdir=/usr/lib64 \\\n && make menuselect \\\n && menuselect/menuselect --disable-all --disable-category MENUSELECT_ADDONS --disable-category MENUSELECT_APPS --disable-category MENUSELECT_BRIDGES --disable-category MENUSELECT_CDR --disable-category MENUSELECT_CEL --disable-category MENUSELECT_CHANNELS --enable-category MENUSELECT_CODECS --enable-category MENUSELECT_FORMATS --disable-category MENUSELECT_FUNCS --disable-category MENUSELECT_PBX --disable-category MENUSELECT_RES --disable-category MENUSELECT_TESTS --disable-category MENUSELECT_UTILS --disable-category MENUSELECT_AGIS --disable-category MENUSELECT_EMBED --enable-category MENUSELECT_CORE_SOUNDS --enable-category MENUSELECT_MOH --enable-category MENUSELECT_EXTRA_SOUNDS --disable-category MENUSELECT_TESTS --enable-category MENUSELECT_OPTS_app_voicemail --enable func_module --enable LOADABLE_MODULES --enable FILE_STORAGE --disable codec_dahdi --enable app_dial --enable app_exec --enable app_originate --enable app_verbose --enable chan_sip --enable pbx_config --enable res_agi --enable res_convert --enable res_musiconhold --enable res_timing_timerfd --disable BUILD_NATIVE menuselect.makeopts \\\n && make config \\\n && make \\\n && make install \\\n && mkdir -p /var/lib/asterisk/phoneprov \\\n && make samples \\\n && make dist-clean \\\n && sed -i -e 's/# MAXFILES=/MAXFILES=/' /usr/sbin/safe_asterisk \\\n && cd .. \\\n && rm /tmp/asterisk.tar.gz \\\n && rm -rf /tmp/asterisk \\\n && yum -y clean all \\\n && rm -rf /var/cache/yum/*\n#  RUN  yum -y update \\\n#    && yum -y install epel-release \\\n#    && yum -y install kernel-headers gcc gcc-c++ cpp ncurses ncurses-devel libxml2 libxml2-devel sqlite sqlite-devel \\\n#         mysql-devel openssl-devel newt-devel kernel-devel libuuid-devel net-snmp-devel xinetd tar libffi-devel \\\n#         curl pcre-devel bison mysql-devel ngrep tmux \\\n#    && mkdir /tmp/asterisk \\\n#    && curl -sf -o /tmp/asterisk.tar.gz -L http://downloads.asterisk.org/pub/telephony/certified-asterisk/certified-asterisk-11.6-current.tar.gz \\\n#    && tar -xzf /tmp/asterisk.tar.gz -C /tmp/asterisk --strip-components=1 \\\n#    && cd /tmp/asterisk \\\n#    && ./configure --libdir=/usr/lib64 \\\n#    && make menuselect \\\n#    && menuselect/menuselect \\\n#    --disable-category MENUSELECT_ADDONS \\\n#    --disable-category MENUSELECT_APPS \\\n#    --disable-category MENUSELECT_BRIDGES \\\n#    --disable-category MENUSELECT_CDR \\\n#    --disable-category MENUSELECT_CEL \\\n#    --disable-category MENUSELECT_CHANNELS \\\n#    --enable-category MENUSELECT_CODECS \\\n#    --enable-category MENUSELECT_FORMATS \\\n#    --disable-category MENUSELECT_FUNCS \\\n#    --disable-category MENUSELECT_PBX \\\n#    --disable-category MENUSELECT_RES \\\n#    --disable-category MENUSELECT_TESTS \\\n#    --disable-category MENUSELECT_OPTS_app_voicemail \\\n#    --disable-category MENUSELECT_UTILS \\\n#    --disable-category MENUSELECT_AGIS \\\n#    --disable-category MENUSELECT_EMBED \\\n#    --disable-category MENUSELECT_CORE_SOUNDS \\\n#    --disable-category MENUSELECT_MOH \\\n#    --disable-category MENUSELECT_EXTRA_SOUNDS \\\n#    --enable app_controlplayback \\\n#    --enable app_dial \\\n#    --enable app_exec \\\n#    --enable app_originate \\\n#    --enable app_queue \\\n#    --enable app_record \\\n#    --enable app_senddtmf \\\n#    --enable app_stasis \\\n#    --enable app_verbose \\\n#    --enable app_waituntil \\\n#    --enable chan_sip \\\n#    --enable pbx_config \\\n#    --enable pbx_realtime \\\n#    --enable res_agi \\\n#    --enable res_ari \\\n#    --enable res_ari_channels \\\n#    --enable res_ari_events \\\n#    --enable res_ari_playbacks \\\n#    --enable res_ari_recordings \\\n#    --enable res_ari_sounds \\\n#    --enable res_ari_device_states \\\n#    --enable res_realtime \\\n#    --enable res_rtp_asterisk \\\n#    --enable res_rtp_multicast \\\n#    --enable res_stasis \\\n#    --enable res_stasis_answer \\\n#    --enable res_stasis_device_state \\\n#    --enable res_stasis_playback \\\n#    --enable res_stasis_recording \\\n#    --enable res_stun_monitor \\\n#    --enable res_timing_timerfd \\\n#    --enable func_callcompletion \\\n#    --enable func_callerid \\\n#    --disable BUILD_NATIVE \\\n#    menuselect.makeopts \\\n#    && make config \\\n#    && make \\\n#    && make install \\\n#    && mkdir -p /var/lib/asterisk/phoneprov \\\n#    && make samples \\\n#    && make dist-clean \\\n#    && sed -i -e 's/# MAXFILES=/MAXFILES=/' /usr/sbin/safe_asterisk \\\n#    && cd .. \\\n#    && rm /tmp/asterisk.tar.gz \\\n#    && rm -rf /tmp/asterisk \\\n#    && yum -y clean all \\\n#    && rm -rf /var/cache/yum/*\n#\n#  CMD asterisk -fvvvvv\n","injectedSmells":[],"originalDockerfileHash":"0996e532c032fb8353bae1afc0712adf","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM centos:6\nMAINTAINER Andrius Kairiukstis <andrius@kairiukstis.com>\nRUN yum -y install gcc gcc-c++ cpp ncurses ncurses-devel libxml2 libxml2-devel openssl-devel newt-devel libuuid-devel net-snmp-devel xinetd tar libffi-devel sqlite-devel curl bison supervisor \\\n && mkdir /tmp/asterisk \\\n && curl -sf -o /tmp/asterisk.tar.gz -L http://downloads.asterisk.org/pub/telephony/certified-asterisk/certified-asterisk-11.6-current.tar.gz \\\n && tar -xzf /tmp/asterisk.tar.gz -C /tmp/asterisk --strip-components=1 \\\n && cd /tmp/asterisk \\\n && ./configure --libdir=/usr/lib64 \\\n && make menuselect \\\n && menuselect/menuselect --disable-all --disable-category MENUSELECT_ADDONS --disable-category MENUSELECT_APPS --disable-category MENUSELECT_BRIDGES --disable-category MENUSELECT_CDR --disable-category MENUSELECT_CEL --disable-category MENUSELECT_CHANNELS --enable-category MENUSELECT_CODECS --enable-category MENUSELECT_FORMATS --disable-category MENUSELECT_FUNCS --disable-category MENUSELECT_PBX --disable-category MENUSELECT_RES --disable-category MENUSELECT_TESTS --disable-category MENUSELECT_UTILS --disable-category MENUSELECT_AGIS --disable-category MENUSELECT_EMBED --enable-category MENUSELECT_CORE_SOUNDS --enable-category MENUSELECT_MOH --enable-category MENUSELECT_EXTRA_SOUNDS --disable-category MENUSELECT_TESTS --enable-category MENUSELECT_OPTS_app_voicemail --enable func_module --enable LOADABLE_MODULES --enable FILE_STORAGE --disable codec_dahdi --enable app_dial --enable app_exec --enable app_originate --enable app_verbose --enable chan_sip --enable pbx_config --enable res_agi --enable res_convert --enable res_musiconhold --enable res_timing_timerfd --disable BUILD_NATIVE menuselect.makeopts \\\n && make config \\\n && make \\\n && make install \\\n && mkdir -p /var/lib/asterisk/phoneprov \\\n && make samples \\\n && make dist-clean \\\n && sed -i -e 's/# MAXFILES=/MAXFILES=/' /usr/sbin/safe_asterisk \\\n && cd .. \\\n && rm /tmp/asterisk.tar.gz \\\n && rm -rf /tmp/asterisk \\\n && yum -y clean all \\\n && rm -rf /var/cache/yum/*\n#   RUN  yum -y update \\\n#     && yum -y install epel-release \\\n#     && yum -y install kernel-headers gcc gcc-c++ cpp ncurses ncurses-devel libxml2 libxml2-devel sqlite sqlite-devel \\\n#          mysql-devel openssl-devel newt-devel kernel-devel libuuid-devel net-snmp-devel xinetd tar libffi-devel \\\n#          curl pcre-devel bison mysql-devel ngrep tmux \\\n#     && mkdir /tmp/asterisk \\\n#     && curl -sf -o /tmp/asterisk.tar.gz -L http://downloads.asterisk.org/pub/telephony/certified-asterisk/certified-asterisk-11.6-current.tar.gz \\\n#     && tar -xzf /tmp/asterisk.tar.gz -C /tmp/asterisk --strip-components=1 \\\n#     && cd /tmp/asterisk \\\n#     && ./configure --libdir=/usr/lib64 \\\n#     && make menuselect \\\n#     && menuselect/menuselect \\\n#     --disable-category MENUSELECT_ADDONS \\\n#     --disable-category MENUSELECT_APPS \\\n#     --disable-category MENUSELECT_BRIDGES \\\n#     --disable-category MENUSELECT_CDR \\\n#     --disable-category MENUSELECT_CEL \\\n#     --disable-category MENUSELECT_CHANNELS \\\n#     --enable-category MENUSELECT_CODECS \\\n#     --enable-category MENUSELECT_FORMATS \\\n#     --disable-category MENUSELECT_FUNCS \\\n#     --disable-category MENUSELECT_PBX \\\n#     --disable-category MENUSELECT_RES \\\n#     --disable-category MENUSELECT_TESTS \\\n#     --disable-category MENUSELECT_OPTS_app_voicemail \\\n#     --disable-category MENUSELECT_UTILS \\\n#     --disable-category MENUSELECT_AGIS \\\n#     --disable-category MENUSELECT_EMBED \\\n#     --disable-category MENUSELECT_CORE_SOUNDS \\\n#     --disable-category MENUSELECT_MOH \\\n#     --disable-category MENUSELECT_EXTRA_SOUNDS \\\n#     --enable app_controlplayback \\\n#     --enable app_dial \\\n#     --enable app_exec \\\n#     --enable app_originate \\\n#     --enable app_queue \\\n#     --enable app_record \\\n#     --enable app_senddtmf \\\n#     --enable app_stasis \\\n#     --enable app_verbose \\\n#     --enable app_waituntil \\\n#     --enable chan_sip \\\n#     --enable pbx_config \\\n#     --enable pbx_realtime \\\n#     --enable res_agi \\\n#     --enable res_ari \\\n#     --enable res_ari_channels \\\n#     --enable res_ari_events \\\n#     --enable res_ari_playbacks \\\n#     --enable res_ari_recordings \\\n#     --enable res_ari_sounds \\\n#     --enable res_ari_device_states \\\n#     --enable res_realtime \\\n#     --enable res_rtp_asterisk \\\n#     --enable res_rtp_multicast \\\n#     --enable res_stasis \\\n#     --enable res_stasis_answer \\\n#     --enable res_stasis_device_state \\\n#     --enable res_stasis_playback \\\n#     --enable res_stasis_recording \\\n#     --enable res_stun_monitor \\\n#     --enable res_timing_timerfd \\\n#     --enable func_callcompletion \\\n#     --enable func_callerid \\\n#     --disable BUILD_NATIVE \\\n#     menuselect.makeopts \\\n#     && make config \\\n#     && make \\\n#     && make install \\\n#     && mkdir -p /var/lib/asterisk/phoneprov \\\n#     && make samples \\\n#     && make dist-clean \\\n#     && sed -i -e 's/# MAXFILES=/MAXFILES=/' /usr/sbin/safe_asterisk \\\n#     && cd .. \\\n#     && rm /tmp/asterisk.tar.gz \\\n#     && rm -rf /tmp/asterisk \\\n#     && yum -y clean all \\\n#     && rm -rf /var/cache/yum/*\n#\n#   CMD asterisk -fvvvvv\n","originalDockerfileUglifiedHash":"b0a3c859da29b3c2a58c92ad86e32576","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/0257721ff6e528495d01d239acaee4bf67feb287.dockerfile"}