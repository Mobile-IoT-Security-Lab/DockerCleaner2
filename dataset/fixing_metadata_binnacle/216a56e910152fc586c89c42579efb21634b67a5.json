{"seed":3707252132,"processedDockerfileHash":"5f4e5df9f4677e797f63f4fbe7c8338c","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-pip","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#  #########################\n#   Last updated at 2017-11-24 15:06:50.175919 -0800 PST\nFROM ubuntu:17.10\n#  #########################\n#  #########################\n#   Set working directory\nENV ROOT_DIR=\"/\"\nWORKDIR ${ROOT_DIR}\nENV HOME=\"/root\"\n#  #########################\n#  #########################\n#   Update OS\n#   Configure 'bash' for 'source' commands\nRUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections \\\n && apt-get update -y \\\n && apt-get install --no-install-recommends build-essential gcc apt-utils pkg-config software-properties-common apt-transport-https sudo bash tar unzip curl wget python python-pip python-dev r-base fonts-dejavu gfortran -y \\\n && rm /bin/sh \\\n && ln -s /bin/bash /bin/sh \\\n && ls -l $( which bash ;) \\\n && echo \"root ALL=(ALL) NOPASSWD: ALL\" >> /etc/sudoers \\\n && apt-get -y clean \\\n && rm -rf /var/lib/apt/lists/* \\\n && apt-get update -y \\\n && apt-get -y upgrade \\\n && apt-get -y dist-upgrade \\\n && apt-get update -y \\\n && apt-get -y upgrade \\\n && apt-get -y autoremove \\\n && apt-get -y autoclean\n#  #########################\n#  #########################\n#   install iPython notebook\nRUN pip install ipykernel==6.22.0 jupyter==1.0.0 --no-cache-dir \\\n && python -m ipykernel.kernelspec\n#  #########################\n#  #########################\n#   install R\nRUN wget http://repo.continuum.io/miniconda/Miniconda3-3.7.0-Linux-x86_64.sh -O /root/miniconda.sh \\\n && bash /root/miniconda.sh -b -p /root/miniconda\n#   do not overwrite default '/usr/bin/python'\nENV PATH=\"${PATH}:/root/miniconda/bin\"\n#   https://github.com/jupyter/docker-stacks/blob/master/r-notebook/Dockerfile\nRUN conda update conda \\\n && conda create --yes --name r python=2.7 ipykernel r r-essentials 'r-base=3.3.2' 'r-irkernel=0.7*' 'r-plyr=1.8*' 'r-devtools=1.12*' 'r-tidyverse=1.0*' 'r-shiny=0.14*' 'r-rmarkdown=1.2*' 'r-forecast=7.3*' 'r-rsqlite=1.1*' 'r-reshape2=1.4*' 'r-nycflights13=0.2*' 'r-caret=6.0*' 'r-rcurl=1.95*' 'r-crayon=1.3*' 'r-randomforest=4.6*' \\\n && conda clean -tipsy \\\n && conda list \\\n && source activate r\n#  #########################\n#  #########################\n#   Configure Jupyter\nCOPY ./jupyter_notebook_config.py /root/.jupyter/\n#   Jupyter has issues with being run directly: https://github.com/ipython/ipython/issues/7062\n#   We just add a little wrapper script.\nCOPY ./run_jupyter.sh /\n#  #########################\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# #########################\n#  Last updated at 2017-11-24 15:06:50.175919 -0800 PST\nFROM ubuntu:17.10\n# #########################\n# #########################\n#  Set working directory\nENV ROOT_DIR=\"/\"\nWORKDIR ${ROOT_DIR}\nENV HOME=\"/root\"\n# #########################\n# #########################\n#  Update OS\n#  Configure 'bash' for 'source' commands\nRUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections \\\n && apt-get update -y \\\n && apt-get install build-essential gcc apt-utils pkg-config software-properties-common apt-transport-https sudo bash tar unzip curl wget python python-pip python-dev r-base fonts-dejavu gfortran -y \\\n && rm /bin/sh \\\n && ln -s /bin/bash /bin/sh \\\n && ls -l $( which bash ;) \\\n && echo \"root ALL=(ALL) NOPASSWD: ALL\" >> /etc/sudoers \\\n && apt-get -y clean \\\n && rm -rf /var/lib/apt/lists/* \\\n && apt-get update -y \\\n && apt-get -y upgrade \\\n && apt-get -y dist-upgrade \\\n && apt-get update -y \\\n && apt-get -y upgrade \\\n && apt-get -y autoremove \\\n && apt-get -y autoclean\n# #########################\n# #########################\n#  install iPython notebook\nRUN pip install ipykernel jupyter --no-cache-dir \\\n && python -m ipykernel.kernelspec\n# #########################\n# #########################\n#  install R\nRUN wget http://repo.continuum.io/miniconda/Miniconda3-3.7.0-Linux-x86_64.sh -O /root/miniconda.sh \\\n && bash /root/miniconda.sh -b -p /root/miniconda\n#  do not overwrite default '/usr/bin/python'\nENV PATH=\"${PATH}:/root/miniconda/bin\"\n#  https://github.com/jupyter/docker-stacks/blob/master/r-notebook/Dockerfile\nRUN conda update conda \\\n && conda create --yes --name r python=2.7 ipykernel r r-essentials 'r-base=3.3.2' 'r-irkernel=0.7*' 'r-plyr=1.8*' 'r-devtools=1.12*' 'r-tidyverse=1.0*' 'r-shiny=0.14*' 'r-rmarkdown=1.2*' 'r-forecast=7.3*' 'r-rsqlite=1.1*' 'r-reshape2=1.4*' 'r-nycflights13=0.2*' 'r-caret=6.0*' 'r-rcurl=1.95*' 'r-crayon=1.3*' 'r-randomforest=4.6*' \\\n && conda clean -tipsy \\\n && conda list \\\n && source activate r\n# #########################\n# #########################\n#  Configure Jupyter\nADD ./jupyter_notebook_config.py /root/.jupyter/\n#  Jupyter has issues with being run directly: https://github.com/ipython/ipython/issues/7062\n#  We just add a little wrapper script.\nADD ./run_jupyter.sh /\n# #########################\n","injectedSmells":[],"originalDockerfileHash":"2f7196d470bdd6b965f25328dcf82da4","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  #########################\n#   Last updated at 2017-11-24 15:06:50.175919 -0800 PST\nFROM ubuntu:17.10\n#  #########################\n#  #########################\n#   Set working directory\nENV ROOT_DIR=\"/\"\nWORKDIR ${ROOT_DIR}\nENV HOME=\"/root\"\n#  #########################\n#  #########################\n#   Update OS\n#   Configure 'bash' for 'source' commands\nRUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections \\\n && apt-get update -y \\\n && apt-get install build-essential gcc apt-utils pkg-config software-properties-common apt-transport-https sudo bash tar unzip curl wget python python-pip python-dev r-base fonts-dejavu gfortran -y \\\n && rm /bin/sh \\\n && ln -s /bin/bash /bin/sh \\\n && ls -l $( which bash ;) \\\n && echo \"root ALL=(ALL) NOPASSWD: ALL\" >> /etc/sudoers \\\n && apt-get -y clean \\\n && rm -rf /var/lib/apt/lists/* \\\n && apt-get update -y \\\n && apt-get -y upgrade \\\n && apt-get -y dist-upgrade \\\n && apt-get update -y \\\n && apt-get -y upgrade \\\n && apt-get -y autoremove \\\n && apt-get -y autoclean\n#  #########################\n#  #########################\n#   install iPython notebook\nRUN pip install ipykernel jupyter --no-cache-dir \\\n && python -m ipykernel.kernelspec\n#  #########################\n#  #########################\n#   install R\nRUN wget http://repo.continuum.io/miniconda/Miniconda3-3.7.0-Linux-x86_64.sh -O /root/miniconda.sh \\\n && bash /root/miniconda.sh -b -p /root/miniconda\n#   do not overwrite default '/usr/bin/python'\nENV PATH=\"${PATH}:/root/miniconda/bin\"\n#   https://github.com/jupyter/docker-stacks/blob/master/r-notebook/Dockerfile\nRUN conda update conda \\\n && conda create --yes --name r python=2.7 ipykernel r r-essentials 'r-base=3.3.2' 'r-irkernel=0.7*' 'r-plyr=1.8*' 'r-devtools=1.12*' 'r-tidyverse=1.0*' 'r-shiny=0.14*' 'r-rmarkdown=1.2*' 'r-forecast=7.3*' 'r-rsqlite=1.1*' 'r-reshape2=1.4*' 'r-nycflights13=0.2*' 'r-caret=6.0*' 'r-rcurl=1.95*' 'r-crayon=1.3*' 'r-randomforest=4.6*' \\\n && conda clean -tipsy \\\n && conda list \\\n && source activate r\n#  #########################\n#  #########################\n#   Configure Jupyter\nADD ./jupyter_notebook_config.py /root/.jupyter/\n#   Jupyter has issues with being run directly: https://github.com/ipython/ipython/issues/7062\n#   We just add a little wrapper script.\nADD ./run_jupyter.sh /\n#  #########################\n","originalDockerfileUglifiedHash":"45ed992fe2c331ef0feb5766121322f5","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/216a56e910152fc586c89c42579efb21634b67a5.dockerfile"}