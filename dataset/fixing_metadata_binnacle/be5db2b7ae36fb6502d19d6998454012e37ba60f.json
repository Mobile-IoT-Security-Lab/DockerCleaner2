{"seed":1991537504,"processedDockerfileHash":"6512e70146c33e6f5a0dcb41dadbe937","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:trusty\nMAINTAINER Igor Khomyakov\nRUN apt-get update \\\n && apt-get install --no-install-recommends make=3.81-8.2ubuntu3 binutils=2.24-5ubuntu14.2 autoconf=2.69-6 automake=1:1.14.1-2ubuntu1 autotools-dev=20130810.1 libtool=2.4.2-1.7ubuntu1 pkg-config=0.26-1ubuntu4 git=1:1.9.1-1ubuntu0.10 curl=7.35.0-1ubuntu2.20 dpkg-dev=1.17.5ubuntu5.8 autopoint=0.18.3.1-1ubuntu3.1 libcppunit-dev=1.13.1-2ubuntu1 libxml2-dev=2.9.1+dfsg1-3ubuntu4.13 libgcrypt11-dev=1.5.3-2ubuntu4.6 lzip=1.14-2 -y\nRUN git clone https://github.com/raspberrypi/tools.git --depth=1 /tools\nENV ARCH=\"armhf\"\nENV HOST=\"arm-linux-gnueabihf\"\nENV LOCAL_DIR=\"/local\"\nENV TOOL_BIN_DIR=\"/tools/arm-bcm2708/gcc-linaro-$HOST-raspbian-x64/bin\"\nENV PATH=\"${TOOL_BIN_DIR}:$PATH\"\nRUN mkdir $LOCAL_DIR \\\n && mkdir zlib \\\n && cd zlib \\\n && curl -Ls -o - 'http://zlib.net/zlib-1.2.8.tar.gz' | tar xzf - --strip-components=1 \\\n && prefix=${LOCAL_DIR} CC=$HOST-gcc STRIP=$HOST-strip RANLIB=$HOST-ranlib AR=$HOST-ar LD=$HOST-ld ./configure --static --libdir=$LOCAL_DIR/lib \\\n && make -s \\\n && make -s install\nRUN mkdir -p expat \\\n && cd expat \\\n && curl -Ls -o - 'http://sourceforge.net/projects/expat/files/latest/download' | tar xjf - --strip-components=1 \\\n && ./configure --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --enable-shared=no --enable-static=yes --prefix=${LOCAL_DIR} \\\n && make -s \\\n && make -s install\nRUN mkdir c-ares \\\n && cd c-ares \\\n && curl -Ls -o - 'http://c-ares.haxx.se/download/c-ares-1.10.0.tar.gz' | tar xzf - --strip-components=1 \\\n && ./configure --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --enable-shared=no --enable-static=yes --prefix=${LOCAL_DIR} \\\n && make -s \\\n && make -s install\nRUN mkdir gmp \\\n && cd gmp \\\n && curl -Ls -o - 'https://gmplib.org/download/gmp/gmp-6.1.0.tar.lz' | lzip -d | tar xf - --strip-components=1 \\\n && ./configure --disable-shared --enable-static --prefix=$LOCAL_DIR --host=$HOST --disable-cxx --enable-fat \\\n && make -s \\\n && make -s install\nRUN mkdir sqlite \\\n && cd sqlite \\\n && curl -Ls -o - 'https://www.sqlite.org/2016/sqlite-autoconf-3100100.tar.gz' | tar xzf - --strip-components=1 \\\n && ./configure --disable-shared --enable-static --prefix=$LOCAL_DIR --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` \\\n && make -s \\\n && make -s install\nRUN mkdir aria \\\n && cd aria \\\n && curl -s 'https://api.github.com/repos/aria2/aria2/releases/latest' | grep 'browser_download_url.*[0-9]\\.tar\\.bz2' | sed -e 's/^[[:space:]]*//' | cut -d ' ' -f 2 | xargs -I % curl -Ls -o - '%' | tar xjf - --strip-components=1 \\\n && ./configure --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --disable-nls --disable-ssl --without-gnutls --without-libxml2 --with-libz --with-libz-prefix=${LOCAL_DIR} --with-libexpat --with-libexpat-prefix=${LOCAL_DIR} --with-slite3 --with-sqlite3-prefix=${LOCAL_DIR} --with-libcares --with-libcares-prefix=${LOCAL_DIR} --prefix=${LOCAL_DIR} LDFLAGS=\"-L$LOCAL_DIR/lib\" PKG_CONFIG_PATH=\"$LOCAL_DIR/lib/pkgconfig\" ARIA2_STATIC=yes \\\n && make -s \\\n && make -s install-strip\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:trusty\nMAINTAINER Igor Khomyakov\nRUN apt-get update \\\n && apt-get install make binutils autoconf automake autotools-dev libtool pkg-config git curl dpkg-dev autopoint libcppunit-dev libxml2-dev libgcrypt11-dev lzip -y\nRUN git clone https://github.com/raspberrypi/tools.git --depth=1 /tools\nENV ARCH=\"armhf\"\nENV HOST=\"arm-linux-gnueabihf\"\nENV LOCAL_DIR=\"/local\"\nENV TOOL_BIN_DIR=\"/tools/arm-bcm2708/gcc-linaro-$HOST-raspbian-x64/bin\"\nENV PATH=\"${TOOL_BIN_DIR}:$PATH\"\nRUN mkdir $LOCAL_DIR \\\n && mkdir zlib \\\n && cd zlib \\\n && curl -Ls -o - 'http://zlib.net/zlib-1.2.8.tar.gz' | tar xzf - --strip-components=1 \\\n && prefix=${LOCAL_DIR} CC=$HOST-gcc STRIP=$HOST-strip RANLIB=$HOST-ranlib AR=$HOST-ar LD=$HOST-ld ./configure --static --libdir=$LOCAL_DIR/lib \\\n && make -s \\\n && make -s install\nRUN mkdir -p expat \\\n && cd expat \\\n && curl -Ls -o - 'http://sourceforge.net/projects/expat/files/latest/download' | tar xjf - --strip-components=1 \\\n && ./configure --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --enable-shared=no --enable-static=yes --prefix=${LOCAL_DIR} \\\n && make -s \\\n && make -s install\nRUN mkdir c-ares \\\n && cd c-ares \\\n && curl -Ls -o - 'http://c-ares.haxx.se/download/c-ares-1.10.0.tar.gz' | tar xzf - --strip-components=1 \\\n && ./configure --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --enable-shared=no --enable-static=yes --prefix=${LOCAL_DIR} \\\n && make -s \\\n && make -s install\nRUN mkdir gmp \\\n && cd gmp \\\n && curl -Ls -o - 'https://gmplib.org/download/gmp/gmp-6.1.0.tar.lz' | lzip -d | tar xf - --strip-components=1 \\\n && ./configure --disable-shared --enable-static --prefix=$LOCAL_DIR --host=$HOST --disable-cxx --enable-fat \\\n && make -s \\\n && make -s install\nRUN mkdir sqlite \\\n && cd sqlite \\\n && curl -Ls -o - 'https://www.sqlite.org/2016/sqlite-autoconf-3100100.tar.gz' | tar xzf - --strip-components=1 \\\n && ./configure --disable-shared --enable-static --prefix=$LOCAL_DIR --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` \\\n && make -s \\\n && make -s install\nRUN mkdir aria \\\n && cd aria \\\n && curl -s 'https://api.github.com/repos/aria2/aria2/releases/latest' | grep 'browser_download_url.*[0-9]\\.tar\\.bz2' | sed -e 's/^[[:space:]]*//' | cut -d ' ' -f 2 | xargs -I % curl -Ls -o - '%' | tar xjf - --strip-components=1 \\\n && ./configure --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --disable-nls --disable-ssl --without-gnutls --without-libxml2 --with-libz --with-libz-prefix=${LOCAL_DIR} --with-libexpat --with-libexpat-prefix=${LOCAL_DIR} --with-slite3 --with-sqlite3-prefix=${LOCAL_DIR} --with-libcares --with-libcares-prefix=${LOCAL_DIR} --prefix=${LOCAL_DIR} LDFLAGS=\"-L$LOCAL_DIR/lib\" PKG_CONFIG_PATH=\"$LOCAL_DIR/lib/pkgconfig\" ARIA2_STATIC=yes \\\n && make -s \\\n && make -s install-strip\n","injectedSmells":[],"originalDockerfileHash":"77f9f588ed216c89d90da6c676b47360","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:trusty\nMAINTAINER Igor Khomyakov\nRUN apt-get update \\\n && apt-get install make binutils autoconf automake autotools-dev libtool pkg-config git curl dpkg-dev autopoint libcppunit-dev libxml2-dev libgcrypt11-dev lzip -y\nRUN git clone https://github.com/raspberrypi/tools.git --depth=1 /tools\nENV ARCH=\"armhf\"\nENV HOST=\"arm-linux-gnueabihf\"\nENV LOCAL_DIR=\"/local\"\nENV TOOL_BIN_DIR=\"/tools/arm-bcm2708/gcc-linaro-$HOST-raspbian-x64/bin\"\nENV PATH=\"${TOOL_BIN_DIR}:$PATH\"\nRUN mkdir $LOCAL_DIR \\\n && mkdir zlib \\\n && cd zlib \\\n && curl -Ls -o - 'http://zlib.net/zlib-1.2.8.tar.gz' | tar xzf - --strip-components=1 \\\n && prefix=${LOCAL_DIR} CC=$HOST-gcc STRIP=$HOST-strip RANLIB=$HOST-ranlib AR=$HOST-ar LD=$HOST-ld ./configure --static --libdir=$LOCAL_DIR/lib \\\n && make -s \\\n && make -s install\nRUN mkdir -p expat \\\n && cd expat \\\n && curl -Ls -o - 'http://sourceforge.net/projects/expat/files/latest/download' | tar xjf - --strip-components=1 \\\n && ./configure --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --enable-shared=no --enable-static=yes --prefix=${LOCAL_DIR} \\\n && make -s \\\n && make -s install\nRUN mkdir c-ares \\\n && cd c-ares \\\n && curl -Ls -o - 'http://c-ares.haxx.se/download/c-ares-1.10.0.tar.gz' | tar xzf - --strip-components=1 \\\n && ./configure --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --enable-shared=no --enable-static=yes --prefix=${LOCAL_DIR} \\\n && make -s \\\n && make -s install\nRUN mkdir gmp \\\n && cd gmp \\\n && curl -Ls -o - 'https://gmplib.org/download/gmp/gmp-6.1.0.tar.lz' | lzip -d | tar xf - --strip-components=1 \\\n && ./configure --disable-shared --enable-static --prefix=$LOCAL_DIR --host=$HOST --disable-cxx --enable-fat \\\n && make -s \\\n && make -s install\nRUN mkdir sqlite \\\n && cd sqlite \\\n && curl -Ls -o - 'https://www.sqlite.org/2016/sqlite-autoconf-3100100.tar.gz' | tar xzf - --strip-components=1 \\\n && ./configure --disable-shared --enable-static --prefix=$LOCAL_DIR --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` \\\n && make -s \\\n && make -s install\nRUN mkdir aria \\\n && cd aria \\\n && curl -s 'https://api.github.com/repos/aria2/aria2/releases/latest' | grep 'browser_download_url.*[0-9]\\.tar\\.bz2' | sed -e 's/^[[:space:]]*//' | cut -d ' ' -f 2 | xargs -I % curl -Ls -o - '%' | tar xjf - --strip-components=1 \\\n && ./configure --host=$HOST --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE ` --disable-nls --disable-ssl --without-gnutls --without-libxml2 --with-libz --with-libz-prefix=${LOCAL_DIR} --with-libexpat --with-libexpat-prefix=${LOCAL_DIR} --with-slite3 --with-sqlite3-prefix=${LOCAL_DIR} --with-libcares --with-libcares-prefix=${LOCAL_DIR} --prefix=${LOCAL_DIR} LDFLAGS=\"-L$LOCAL_DIR/lib\" PKG_CONFIG_PATH=\"$LOCAL_DIR/lib/pkgconfig\" ARIA2_STATIC=yes \\\n && make -s \\\n && make -s install-strip\n","originalDockerfileUglifiedHash":"77f9f588ed216c89d90da6c676b47360","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/be5db2b7ae36fb6502d19d6998454012e37ba60f.dockerfile"}