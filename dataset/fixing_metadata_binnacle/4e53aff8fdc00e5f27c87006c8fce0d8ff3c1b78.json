{"seed":4035234920,"processedDockerfileHash":"da4e55fe5bd1ed10e759eda6d1b8531d","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM centos:centos7.2.1511\nMAINTAINER adrianp@stindustries.net\n#   If you need to use a proxy to get to the internet, build with:\n#     docker build --build-arg CURL_OPTIONS=\"...\"\n#\n#   The default is empty (no special options).\n#\nARG CURL_OPTIONS=\"\"\n#   Prep environment\n#\nRUN yum -y install deltarpm \\\n && yum -y update\n#   Install build utils\n#\nRUN touch /var/lib/rpm/* \\\n && yum -y install bison gnutls-devel gcc libidn-devel gcc-c++ bzip2 \\\n && yum clean all\n#   wget - command line utility (installed via. RPM)\n#\n#   https://www.cvedetails.com/cve/CVE-2014-4877/\n#\nRUN curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/wget-1.14-10.el7.x86_64.rpm \\\n && yum -y install wget-1.14-10.el7.x86_64.rpm \\\n && rm *.rpm\n#   wget - command line utility (manual install)\n#\n#   https://www.cvedetails.com/cve/CVE-2014-4877/\n#\nRUN curl -LO ${CURL_OPTIONS} http://www.mirrorservice.org/sites/ftp.gnu.org/gnu/wget/wget-1.15.tar.gz \\\n && tar zxf wget-1.15.tar.gz \\\n && cd wget-1.15 \\\n && ./configure --prefix=/opt/wget \\\n && make \\\n && make install \\\n && cd .. \\\n && rm -rf wget-1.15 \\\n && rm *.tar.gz\n#   p7zip - command line utility (manual install)\n#\n#   https://www.cvedetails.com/cve/CVE-2015-1038/\n#\nRUN curl -LO ${CURL_OPTIONS} https://sourceforge.net/projects/p7zip/files/p7zip/9.20.1/p7zip_9.20.1_src_all.tar.bz2 \\\n && bzcat p7zip_9.20.1_src_all.tar.bz2 | tar x \\\n && cd p7zip_9.20.1 \\\n && cp install.sh install.sh.orig \\\n && cat install.sh.orig | sed -e 's|DEST_HOME=/usr/local|DEST_HOME=/opt/p7zip|g' > install.sh \\\n && make \\\n && ./install.sh \\\n && cd - \\\n && rm -rf p7zip_9.20.1 \\\n && rm *.tar.bz2\n#   drupal - PHP application (manual install)\n#\n#   http://www.cvedetails.com/vulnerability-list/vendor_id-1367/product_id-2387/version_id-192973/Drupal-Drupal-7.42.html\n#\nRUN curl -LO ${CURL_OPTIONS} https://ftp.drupal.org/files/projects/drupal-7.42.tar.gz \\\n && tar zxf drupal-7.42.tar.gz \\\n && mkdir /opt/drupal \\\n && cd drupal-7.42 \\\n && cp -R . /opt/drupal \\\n && cd - \\\n && rm -rf drupal-7.42 \\\n && rm -f *.tar.gz\n#   tomcat - Java application (manual install)\n#\n#   https://www.cvedetails.com/cve/CVE-2016-3092/\n#\nRUN curl -LO ${CURL_OPTIONS} http://archive.apache.org/dist/tomcat/tomcat-7/v7.0.69/bin/apache-tomcat-7.0.69.tar.gz \\\n && tar zxf apache-tomcat-7.0.69.tar.gz \\\n && mkdir /opt/tomcat \\\n && cd apache-tomcat-7.0.69 \\\n && cp -R . /opt/tomcat \\\n && cd - \\\n && rm -rf apache-tomcat-7.0.69 \\\n && rm -f *.tar.gz\n#   OpenJDK - Java (RPM install)\n#\n#\nRUN curl -LO ${CURL_OPTIONS} http://mirror.switch.ch/ftp/pool/4/mirror/scientificlinux/7.0/x86_64/updates/security/java-1.8.0-openjdk-1.8.0.91-0.b14.el7_2.x86_64.rpm \\\n && curl -LO ${CURL_OPTIONS} http://mirror.switch.ch/ftp/pool/4/mirror/scientificlinux/7.0/x86_64/updates/security/java-1.8.0-openjdk-headless-1.8.0.91-0.b14.el7_2.x86_64.rpm \\\n && touch /var/lib/rpm/* \\\n && yum -y install java-1.8.0-openjdk-1.8.0.91-0.b14.el7_2.x86_64.rpm java-1.8.0-openjdk-headless-1.8.0.91-0.b14.el7_2.x86_64.rpm \\\n && rm -f *.rpm \\\n && echo \"exclude=java-1.8.0-openjdk java-1.8.0-openjdk-headless\" >> /etc/yum.conf\n#   tomcat - Java application (RPM install)\n#\n#   CVE-2013-4590, CVE-2014-0119, CVE-2014-0099, CVE-2014-0096, CVE-2014-0075\n#\nRUN curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-el-2.2-api-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-jsp-2.2-api-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-lib-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-servlet-3.0-api-7.0.42-4.el7.noarch.rpm \\\n && touch /var/lib/rpm/* \\\n && yum -y install yum install tomcat-7.0.42-4.el7.noarch.rpm tomcat-lib-7.0.42-4.el7.noarch.rpm tomcat-servlet-3.0-api-7.0.42-4.el7.noarch.rpm tomcat-el-2.2-api-7.0.42-4.el7.noarch.rpm tomcat-jsp-2.2-api-7.0.42-4.el7.noarch.rpm \\\n && rm -f *.rpm\n#   hpack-2.1.1 - Python lib\n#\n#   https://www.cvedetails.com/cve/CVE-2016-6581/\n#\nRUN curl -LO ${CURL_OPTIONS} https://pypi.python.org/packages/8c/2b/e6e2f554368785c7eb68d618fd6457625be1535e807f6abf11c7db710f34/hpack-2.1.1.tar.gz \\\n && tar xvf hpack-2.1.1.tar.gz \\\n && mkdir /opt/hpack \\\n && cd hpack-2.1.1 \\\n && cp -R . /opt/hpack \\\n && cd - \\\n && rm -rf hpack-2.1.1 \\\n && rm -f *.tar.gz\n#   commons-beanutils-1.8 - Jar file  \n#\n#   https://www.cvedetails.com/cve/CVE-2014-0114/\n#\nRUN curl -LO ${CURL_OPTIONS} http://repo1.maven.org/maven2/commons-beanutils/commons-beanutils/1.8.0/commons-beanutils-1.8.0-sources.jar\n#   activesupport 4.2.1 - GEM package (Ruby)\n#\n#   CVE-2015-3227, CVE-2015-3226\t\n#\nRUN curl -LO ${CURL_OPTIONS} http://rubygems.org/downloads/activesupport-4.2.1.gem\n#   utils.js - Javascript file \n#\n#   CVE-2015-3227,CVE-2015-3226\n#\nCOPY utils.js /tmp/utils.js\n#   nodejs - Javascript (installed manually)\n#\n#   https://www.cvedetails.com/vulnerability-list/vendor_id-12113/product_id-30764/version_id-192848/Nodejs-Node.js-0.10.41.html\n#\nRUN curl -LO ${CURL_OPTIONS} https://nodejs.org/dist/v0.10.41/node-v0.10.41-linux-x64.tar.gz \\\n && tar zxf node-v0.10.41-linux-x64.tar.gz \\\n && mkdir /opt/nodejs \\\n && cd node-v0.10.41-linux-x64 \\\n && cp -R . /opt/nodejs \\\n && cd - \\\n && rm -rf node-v0.10.41-linux-x64 \\\n && rm -rf *.tar.gz\n#   bash - command line utility (installed manually)\n#\n#   https://www.cvedetails.com/vulnerability-list/vendor_id-72/product_id-21050/version_id-172000/GNU-Bash-4.3.html\n#\nRUN curl -LO ${CURL_OPTIONS} https://ftp.heanet.ie/mirrors/gnu/bash/bash-4.3.tar.gz \\\n && tar zxf bash-4.3.tar.gz \\\n && mkdir /opt/bash \\\n && cd bash-4.3 \\\n && ./configure --prefix=/opt/bash \\\n && make \\\n && make install \\\n && cd .. \\\n && rm -rf bash-4.3 \\\n && rm -rf *.tar.gz\n#   rpmsquirt\n#\nRUN touch /var/lib/rpm/* \\\n && yum -y install rpm-build redhat-rpm-config rpmdevtools\nCOPY rpmsquirt.sh /rpmsquirt.sh\nCOPY rpmsquirt.dat /\nRUN /rpmsquirt.sh\n#   Precautionary failure with messages\n#\nCMD echo 'Vulnerable image' \\\n && /bin/false\n#   Basic labels.\n#   http://label-schema.org/\n#\nLABEL org.label-schema.name=\"bad-dockerfile\" \\\n      org.label-schema.description=\"Reference Dockerfile containing software with known vulnerabilities.\" \\\n      org.label-schema.url=\"http://www.stindustries.net/docker/bad-dockerfile/\" \\\n      org.label-schema.vcs-type=\"Git\" \\\n      org.label-schema.vcs-url=\"https://github.com/ianmiell/bad-dockerfile\" \\\n      org.label-schema.docker.dockerfile=\"/Dockerfile\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM centos:centos7.2.1511\nMAINTAINER adrianp@stindustries.net\n#  If you need to use a proxy to get to the internet, build with:\n#    docker build --build-arg CURL_OPTIONS=\"...\"\n#\n#  The default is empty (no special options).\n#\nARG CURL_OPTIONS=\"\"\n#  Prep environment\n#\nRUN yum -y install deltarpm \\\n && yum -y update\n#  Install build utils\n#\nRUN touch /var/lib/rpm/* \\\n && yum -y install bison gnutls-devel gcc libidn-devel gcc-c++ bzip2 \\\n && yum clean all\n#  wget - command line utility (installed via. RPM)\n#\n#  https://www.cvedetails.com/cve/CVE-2014-4877/\n#\nRUN curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/wget-1.14-10.el7.x86_64.rpm \\\n && yum -y install wget-1.14-10.el7.x86_64.rpm \\\n && rm *.rpm\n#  wget - command line utility (manual install)\n#\n#  https://www.cvedetails.com/cve/CVE-2014-4877/\n#\nRUN curl -LO ${CURL_OPTIONS} http://www.mirrorservice.org/sites/ftp.gnu.org/gnu/wget/wget-1.15.tar.gz \\\n && tar zxf wget-1.15.tar.gz \\\n && cd wget-1.15 \\\n && ./configure --prefix=/opt/wget \\\n && make \\\n && make install \\\n && cd .. \\\n && rm -rf wget-1.15 \\\n && rm *.tar.gz\n#  p7zip - command line utility (manual install)\n#\n#  https://www.cvedetails.com/cve/CVE-2015-1038/\n#\nRUN curl -LO ${CURL_OPTIONS} https://sourceforge.net/projects/p7zip/files/p7zip/9.20.1/p7zip_9.20.1_src_all.tar.bz2 \\\n && bzcat p7zip_9.20.1_src_all.tar.bz2 | tar x \\\n && cd p7zip_9.20.1 \\\n && cp install.sh install.sh.orig \\\n && cat install.sh.orig | sed -e 's|DEST_HOME=/usr/local|DEST_HOME=/opt/p7zip|g' > install.sh \\\n && make \\\n && ./install.sh \\\n && cd - \\\n && rm -rf p7zip_9.20.1 \\\n && rm *.tar.bz2\n#  drupal - PHP application (manual install)\n#\n#  http://www.cvedetails.com/vulnerability-list/vendor_id-1367/product_id-2387/version_id-192973/Drupal-Drupal-7.42.html\n#\nRUN curl -LO ${CURL_OPTIONS} https://ftp.drupal.org/files/projects/drupal-7.42.tar.gz \\\n && tar zxf drupal-7.42.tar.gz \\\n && mkdir /opt/drupal \\\n && cd drupal-7.42 \\\n && cp -R . /opt/drupal \\\n && cd - \\\n && rm -rf drupal-7.42 \\\n && rm -f *.tar.gz\n#  tomcat - Java application (manual install)\n#\n#  https://www.cvedetails.com/cve/CVE-2016-3092/\n#\nRUN curl -LO ${CURL_OPTIONS} http://archive.apache.org/dist/tomcat/tomcat-7/v7.0.69/bin/apache-tomcat-7.0.69.tar.gz \\\n && tar zxf apache-tomcat-7.0.69.tar.gz \\\n && mkdir /opt/tomcat \\\n && cd apache-tomcat-7.0.69 \\\n && cp -R . /opt/tomcat \\\n && cd - \\\n && rm -rf apache-tomcat-7.0.69 \\\n && rm -f *.tar.gz\n#  OpenJDK - Java (RPM install)\n#\n#\nRUN curl -LO ${CURL_OPTIONS} http://mirror.switch.ch/ftp/pool/4/mirror/scientificlinux/7.0/x86_64/updates/security/java-1.8.0-openjdk-1.8.0.91-0.b14.el7_2.x86_64.rpm \\\n && curl -LO ${CURL_OPTIONS} http://mirror.switch.ch/ftp/pool/4/mirror/scientificlinux/7.0/x86_64/updates/security/java-1.8.0-openjdk-headless-1.8.0.91-0.b14.el7_2.x86_64.rpm \\\n && touch /var/lib/rpm/* \\\n && yum -y install java-1.8.0-openjdk-1.8.0.91-0.b14.el7_2.x86_64.rpm java-1.8.0-openjdk-headless-1.8.0.91-0.b14.el7_2.x86_64.rpm \\\n && rm -f *.rpm \\\n && echo \"exclude=java-1.8.0-openjdk java-1.8.0-openjdk-headless\" >> /etc/yum.conf\n#  tomcat - Java application (RPM install)\n#\n#  CVE-2013-4590, CVE-2014-0119, CVE-2014-0099, CVE-2014-0096, CVE-2014-0075\n#\nRUN curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-el-2.2-api-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-jsp-2.2-api-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-lib-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-servlet-3.0-api-7.0.42-4.el7.noarch.rpm \\\n && touch /var/lib/rpm/* \\\n && yum -y install yum install tomcat-7.0.42-4.el7.noarch.rpm tomcat-lib-7.0.42-4.el7.noarch.rpm tomcat-servlet-3.0-api-7.0.42-4.el7.noarch.rpm tomcat-el-2.2-api-7.0.42-4.el7.noarch.rpm tomcat-jsp-2.2-api-7.0.42-4.el7.noarch.rpm \\\n && rm -f *.rpm\n#  hpack-2.1.1 - Python lib\n#\n#  https://www.cvedetails.com/cve/CVE-2016-6581/\n#\nRUN curl -LO ${CURL_OPTIONS} https://pypi.python.org/packages/8c/2b/e6e2f554368785c7eb68d618fd6457625be1535e807f6abf11c7db710f34/hpack-2.1.1.tar.gz \\\n && tar xvf hpack-2.1.1.tar.gz \\\n && mkdir /opt/hpack \\\n && cd hpack-2.1.1 \\\n && cp -R . /opt/hpack \\\n && cd - \\\n && rm -rf hpack-2.1.1 \\\n && rm -f *.tar.gz\n#  commons-beanutils-1.8 - Jar file  \n#\n#  https://www.cvedetails.com/cve/CVE-2014-0114/\n#\nRUN curl -LO ${CURL_OPTIONS} http://repo1.maven.org/maven2/commons-beanutils/commons-beanutils/1.8.0/commons-beanutils-1.8.0-sources.jar\n#  activesupport 4.2.1 - GEM package (Ruby)\n#\n#  CVE-2015-3227, CVE-2015-3226\t\n#\nRUN curl -LO ${CURL_OPTIONS} http://rubygems.org/downloads/activesupport-4.2.1.gem\n#  utils.js - Javascript file \n#\n#  CVE-2015-3227,CVE-2015-3226\n#\nCOPY utils.js /tmp/utils.js\n#  nodejs - Javascript (installed manually)\n#\n#  https://www.cvedetails.com/vulnerability-list/vendor_id-12113/product_id-30764/version_id-192848/Nodejs-Node.js-0.10.41.html\n#\nRUN curl -LO ${CURL_OPTIONS} https://nodejs.org/dist/v0.10.41/node-v0.10.41-linux-x64.tar.gz \\\n && tar zxf node-v0.10.41-linux-x64.tar.gz \\\n && mkdir /opt/nodejs \\\n && cd node-v0.10.41-linux-x64 \\\n && cp -R . /opt/nodejs \\\n && cd - \\\n && rm -rf node-v0.10.41-linux-x64 \\\n && rm -rf *.tar.gz\n#  bash - command line utility (installed manually)\n#\n#  https://www.cvedetails.com/vulnerability-list/vendor_id-72/product_id-21050/version_id-172000/GNU-Bash-4.3.html\n#\nRUN curl -LO ${CURL_OPTIONS} https://ftp.heanet.ie/mirrors/gnu/bash/bash-4.3.tar.gz \\\n && tar zxf bash-4.3.tar.gz \\\n && mkdir /opt/bash \\\n && cd bash-4.3 \\\n && ./configure --prefix=/opt/bash \\\n && make \\\n && make install \\\n && cd .. \\\n && rm -rf bash-4.3 \\\n && rm -rf *.tar.gz\n#  rpmsquirt\n#\nRUN touch /var/lib/rpm/* \\\n && yum -y install rpm-build redhat-rpm-config rpmdevtools\nCOPY rpmsquirt.sh /rpmsquirt.sh\nCOPY rpmsquirt.dat /\nRUN /rpmsquirt.sh\n#  Precautionary failure with messages\n#\nCMD echo 'Vulnerable image' \\\n && /bin/false\n#  Basic labels.\n#  http://label-schema.org/\n#\nLABEL org.label-schema.name=\"bad-dockerfile\" \\\n      org.label-schema.description=\"Reference Dockerfile containing software with known vulnerabilities.\" \\\n      org.label-schema.url=\"http://www.stindustries.net/docker/bad-dockerfile/\" \\\n      org.label-schema.vcs-type=\"Git\" \\\n      org.label-schema.vcs-url=\"https://github.com/ianmiell/bad-dockerfile\" \\\n      org.label-schema.docker.dockerfile=\"/Dockerfile\"\n","injectedSmells":[],"originalDockerfileHash":"c0caca63f7535a4043d7c813f084cc68","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM centos:centos7.2.1511\nMAINTAINER adrianp@stindustries.net\n#   If you need to use a proxy to get to the internet, build with:\n#     docker build --build-arg CURL_OPTIONS=\"...\"\n#\n#   The default is empty (no special options).\n#\nARG CURL_OPTIONS=\"\"\n#   Prep environment\n#\nRUN yum -y install deltarpm \\\n && yum -y update\n#   Install build utils\n#\nRUN touch /var/lib/rpm/* \\\n && yum -y install bison gnutls-devel gcc libidn-devel gcc-c++ bzip2 \\\n && yum clean all\n#   wget - command line utility (installed via. RPM)\n#\n#   https://www.cvedetails.com/cve/CVE-2014-4877/\n#\nRUN curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/wget-1.14-10.el7.x86_64.rpm \\\n && yum -y install wget-1.14-10.el7.x86_64.rpm \\\n && rm *.rpm\n#   wget - command line utility (manual install)\n#\n#   https://www.cvedetails.com/cve/CVE-2014-4877/\n#\nRUN curl -LO ${CURL_OPTIONS} http://www.mirrorservice.org/sites/ftp.gnu.org/gnu/wget/wget-1.15.tar.gz \\\n && tar zxf wget-1.15.tar.gz \\\n && cd wget-1.15 \\\n && ./configure --prefix=/opt/wget \\\n && make \\\n && make install \\\n && cd .. \\\n && rm -rf wget-1.15 \\\n && rm *.tar.gz\n#   p7zip - command line utility (manual install)\n#\n#   https://www.cvedetails.com/cve/CVE-2015-1038/\n#\nRUN curl -LO ${CURL_OPTIONS} https://sourceforge.net/projects/p7zip/files/p7zip/9.20.1/p7zip_9.20.1_src_all.tar.bz2 \\\n && bzcat p7zip_9.20.1_src_all.tar.bz2 | tar x \\\n && cd p7zip_9.20.1 \\\n && cp install.sh install.sh.orig \\\n && cat install.sh.orig | sed -e 's|DEST_HOME=/usr/local|DEST_HOME=/opt/p7zip|g' > install.sh \\\n && make \\\n && ./install.sh \\\n && cd - \\\n && rm -rf p7zip_9.20.1 \\\n && rm *.tar.bz2\n#   drupal - PHP application (manual install)\n#\n#   http://www.cvedetails.com/vulnerability-list/vendor_id-1367/product_id-2387/version_id-192973/Drupal-Drupal-7.42.html\n#\nRUN curl -LO ${CURL_OPTIONS} https://ftp.drupal.org/files/projects/drupal-7.42.tar.gz \\\n && tar zxf drupal-7.42.tar.gz \\\n && mkdir /opt/drupal \\\n && cd drupal-7.42 \\\n && cp -R . /opt/drupal \\\n && cd - \\\n && rm -rf drupal-7.42 \\\n && rm -f *.tar.gz\n#   tomcat - Java application (manual install)\n#\n#   https://www.cvedetails.com/cve/CVE-2016-3092/\n#\nRUN curl -LO ${CURL_OPTIONS} http://archive.apache.org/dist/tomcat/tomcat-7/v7.0.69/bin/apache-tomcat-7.0.69.tar.gz \\\n && tar zxf apache-tomcat-7.0.69.tar.gz \\\n && mkdir /opt/tomcat \\\n && cd apache-tomcat-7.0.69 \\\n && cp -R . /opt/tomcat \\\n && cd - \\\n && rm -rf apache-tomcat-7.0.69 \\\n && rm -f *.tar.gz\n#   OpenJDK - Java (RPM install)\n#\n#\nRUN curl -LO ${CURL_OPTIONS} http://mirror.switch.ch/ftp/pool/4/mirror/scientificlinux/7.0/x86_64/updates/security/java-1.8.0-openjdk-1.8.0.91-0.b14.el7_2.x86_64.rpm \\\n && curl -LO ${CURL_OPTIONS} http://mirror.switch.ch/ftp/pool/4/mirror/scientificlinux/7.0/x86_64/updates/security/java-1.8.0-openjdk-headless-1.8.0.91-0.b14.el7_2.x86_64.rpm \\\n && touch /var/lib/rpm/* \\\n && yum -y install java-1.8.0-openjdk-1.8.0.91-0.b14.el7_2.x86_64.rpm java-1.8.0-openjdk-headless-1.8.0.91-0.b14.el7_2.x86_64.rpm \\\n && rm -f *.rpm \\\n && echo \"exclude=java-1.8.0-openjdk java-1.8.0-openjdk-headless\" >> /etc/yum.conf\n#   tomcat - Java application (RPM install)\n#\n#   CVE-2013-4590, CVE-2014-0119, CVE-2014-0099, CVE-2014-0096, CVE-2014-0075\n#\nRUN curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-el-2.2-api-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-jsp-2.2-api-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-lib-7.0.42-4.el7.noarch.rpm \\\n && curl -LO ${CURL_OPTIONS} http://vault.centos.org/7.0.1406/os/x86_64/Packages/tomcat-servlet-3.0-api-7.0.42-4.el7.noarch.rpm \\\n && touch /var/lib/rpm/* \\\n && yum -y install yum install tomcat-7.0.42-4.el7.noarch.rpm tomcat-lib-7.0.42-4.el7.noarch.rpm tomcat-servlet-3.0-api-7.0.42-4.el7.noarch.rpm tomcat-el-2.2-api-7.0.42-4.el7.noarch.rpm tomcat-jsp-2.2-api-7.0.42-4.el7.noarch.rpm \\\n && rm -f *.rpm\n#   hpack-2.1.1 - Python lib\n#\n#   https://www.cvedetails.com/cve/CVE-2016-6581/\n#\nRUN curl -LO ${CURL_OPTIONS} https://pypi.python.org/packages/8c/2b/e6e2f554368785c7eb68d618fd6457625be1535e807f6abf11c7db710f34/hpack-2.1.1.tar.gz \\\n && tar xvf hpack-2.1.1.tar.gz \\\n && mkdir /opt/hpack \\\n && cd hpack-2.1.1 \\\n && cp -R . /opt/hpack \\\n && cd - \\\n && rm -rf hpack-2.1.1 \\\n && rm -f *.tar.gz\n#   commons-beanutils-1.8 - Jar file  \n#\n#   https://www.cvedetails.com/cve/CVE-2014-0114/\n#\nRUN curl -LO ${CURL_OPTIONS} http://repo1.maven.org/maven2/commons-beanutils/commons-beanutils/1.8.0/commons-beanutils-1.8.0-sources.jar\n#   activesupport 4.2.1 - GEM package (Ruby)\n#\n#   CVE-2015-3227, CVE-2015-3226\t\n#\nRUN curl -LO ${CURL_OPTIONS} http://rubygems.org/downloads/activesupport-4.2.1.gem\n#   utils.js - Javascript file \n#\n#   CVE-2015-3227,CVE-2015-3226\n#\nCOPY utils.js /tmp/utils.js\n#   nodejs - Javascript (installed manually)\n#\n#   https://www.cvedetails.com/vulnerability-list/vendor_id-12113/product_id-30764/version_id-192848/Nodejs-Node.js-0.10.41.html\n#\nRUN curl -LO ${CURL_OPTIONS} https://nodejs.org/dist/v0.10.41/node-v0.10.41-linux-x64.tar.gz \\\n && tar zxf node-v0.10.41-linux-x64.tar.gz \\\n && mkdir /opt/nodejs \\\n && cd node-v0.10.41-linux-x64 \\\n && cp -R . /opt/nodejs \\\n && cd - \\\n && rm -rf node-v0.10.41-linux-x64 \\\n && rm -rf *.tar.gz\n#   bash - command line utility (installed manually)\n#\n#   https://www.cvedetails.com/vulnerability-list/vendor_id-72/product_id-21050/version_id-172000/GNU-Bash-4.3.html\n#\nRUN curl -LO ${CURL_OPTIONS} https://ftp.heanet.ie/mirrors/gnu/bash/bash-4.3.tar.gz \\\n && tar zxf bash-4.3.tar.gz \\\n && mkdir /opt/bash \\\n && cd bash-4.3 \\\n && ./configure --prefix=/opt/bash \\\n && make \\\n && make install \\\n && cd .. \\\n && rm -rf bash-4.3 \\\n && rm -rf *.tar.gz\n#   rpmsquirt\n#\nRUN touch /var/lib/rpm/* \\\n && yum -y install rpm-build redhat-rpm-config rpmdevtools\nCOPY rpmsquirt.sh /rpmsquirt.sh\nCOPY rpmsquirt.dat /\nRUN /rpmsquirt.sh\n#   Precautionary failure with messages\n#\nCMD echo 'Vulnerable image' \\\n && /bin/false\n#   Basic labels.\n#   http://label-schema.org/\n#\nLABEL org.label-schema.name=\"bad-dockerfile\" \\\n      org.label-schema.description=\"Reference Dockerfile containing software with known vulnerabilities.\" \\\n      org.label-schema.url=\"http://www.stindustries.net/docker/bad-dockerfile/\" \\\n      org.label-schema.vcs-type=\"Git\" \\\n      org.label-schema.vcs-url=\"https://github.com/ianmiell/bad-dockerfile\" \\\n      org.label-schema.docker.dockerfile=\"/Dockerfile\"\n","originalDockerfileUglifiedHash":"9beabeca00e787085b2e02ea40fe2747","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/4e53aff8fdc00e5f27c87006c8fce0d8ff3c1b78.dockerfile"}