{"seed":3970065254,"processedDockerfileHash":"50a24f3661a46eb37800a0ed2e1d12fc","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","have-a-healthcheck"],"processedDockerfile":"#   Muen Development Environment\n#\n#   Build container:\n#     docker build -t muen-dev-env -f Dockerfile.muen-dev-env .\n#\n#   Enter the container:\n#     docker run -it \\\n#       -v /tmp/.X11-unix:/tmp/.X11-unix \\\n#       -e DISPLAY=unix$DISPLAY muen-dev-env\n#   Base image\nARG distro_name=debian\nARG distro_version=stretch\nFROM ${distro_name}:${distro_version}\nLABEL maintainer=\"\\\"Adrian-Ken Rueegsegger <ken@codelabs.ch>\\\"\"\nLABEL description=\"\\\"This image provides the build environment for the Muen project\\\"\"\nENV CC=\"ccache gcc\"\nENV CXX=\"ccache g++\"\n#   Install dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends acpica-tools amtterm bc binutils-dev bison bzip2 ca-certificates ccache cpio curl file flex g++ git-core gnuplot grub-pc-bin inotify-tools lcov libc6-dev libcurl4-gnutls-dev libelf-dev libiberty-dev libncurses-dev libsdl1.2-dev libssl-dev libxml2-utils make openssh-client patch python rsync tidy unzip vim wget xorriso xsltproc xz-utils zlib1g-dev -y \\\n && rm -rf /var/lib/apt/lists/*\n#   Install AdaCore toolchain\nRUN git clone https://github.com/AdaCore/gnat_community_install_script.git /tmp/gnat_script \\\n && curl -sSL \"https://www.codelabs.ch/download/ada/gnat-community-2019-20190517-x86_64-linux-bin\" -o /tmp/gnat_installer.bin \\\n && sh /tmp/gnat_script/install_package.sh /tmp/gnat_installer.bin /opt/gnat \\\n && rm -rf /tmp/gnat*\n#   Install Bochs for emulation\nARG bochs_revison=89265f376\nRUN git clone https://github.com/svn2github/bochs.git /tmp/bochs \\\n && cd /tmp/bochs/bochs \\\n && git checkout ${bochs_revison} \\\n && ./configure --prefix=/usr/local --enable-vmx=2 --enable-smp --enable-cdrom --enable-x86-64 --enable-avx --with-sdl --with-term \\\n && make install \\\n && rm -rf /tmp/bochs\n#   amtc tool\nRUN git clone https://github.com/schnoddelbotz/amtc.git /tmp/amtc \\\n && cd /tmp/amtc \\\n && make amtc \\\n && cp src/amtc /usr/local/bin \\\n && rm -rf /tmp/amtc\n#   Setup environment\nENV HOME=\"/home/user\"\nENV LANG=\"C.UTF-8\"\nENV PATH=\"/opt/gnat/bin:$PATH\"\n#   Add development user\nRUN useradd --create-home --home-dir $HOME user -G dialout\nWORKDIR $HOME\nUSER user\nCMD [\"bash\"]\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Muen Development Environment\n#\n#  Build container:\n#    docker build -t muen-dev-env -f Dockerfile.muen-dev-env .\n#\n#  Enter the container:\n#    docker run -it \\\n#      -v /tmp/.X11-unix:/tmp/.X11-unix \\\n#      -e DISPLAY=unix$DISPLAY muen-dev-env\n#  Base image\nARG distro_name=debian\nARG distro_version=stretch\nFROM ${distro_name}:${distro_version}\nLABEL maintainer=\"\\\"Adrian-Ken Rueegsegger <ken@codelabs.ch>\\\"\"\nLABEL description=\"\\\"This image provides the build environment for the Muen project\\\"\"\nENV CC=\"ccache gcc\"\nENV CXX=\"ccache g++\"\n#  Install dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends acpica-tools amtterm bc binutils-dev bison bzip2 ca-certificates ccache cpio curl file flex g++ git-core gnuplot grub-pc-bin inotify-tools lcov libc6-dev libcurl4-gnutls-dev libelf-dev libiberty-dev libncurses-dev libsdl1.2-dev libssl-dev libxml2-utils make openssh-client patch python rsync tidy unzip vim wget xorriso xsltproc xz-utils zlib1g-dev -y \\\n && rm -rf /var/lib/apt/lists/*\n#  Install AdaCore toolchain\nRUN git clone https://github.com/AdaCore/gnat_community_install_script.git /tmp/gnat_script \\\n && curl -sSL \"https://www.codelabs.ch/download/ada/gnat-community-2019-20190517-x86_64-linux-bin\" -o /tmp/gnat_installer.bin \\\n && sh /tmp/gnat_script/install_package.sh /tmp/gnat_installer.bin /opt/gnat \\\n && rm -rf /tmp/gnat*\n#  Install Bochs for emulation\nARG bochs_revison=89265f376\nRUN git clone https://github.com/svn2github/bochs.git /tmp/bochs \\\n && cd /tmp/bochs/bochs \\\n && git checkout ${bochs_revison} \\\n && ./configure --prefix=/usr/local --enable-vmx=2 --enable-smp --enable-cdrom --enable-x86-64 --enable-avx --with-sdl --with-term \\\n && make install \\\n && rm -rf /tmp/bochs\n#  amtc tool\nRUN git clone https://github.com/schnoddelbotz/amtc.git /tmp/amtc \\\n && cd /tmp/amtc \\\n && make amtc \\\n && cp src/amtc /usr/local/bin \\\n && rm -rf /tmp/amtc\n#  Setup environment\nENV HOME=\"/home/user\"\nENV LANG=\"C.UTF-8\"\nENV PATH=\"/opt/gnat/bin:$PATH\"\n#  Add development user\nRUN useradd --create-home --home-dir $HOME user -G dialout\nWORKDIR $HOME\nUSER user\nCMD [\"bash\"]\n","injectedSmells":[],"originalDockerfileHash":"28b5a1cc8a4c71bcdba53612eca26366","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Muen Development Environment\n#\n#   Build container:\n#     docker build -t muen-dev-env -f Dockerfile.muen-dev-env .\n#\n#   Enter the container:\n#     docker run -it \\\n#       -v /tmp/.X11-unix:/tmp/.X11-unix \\\n#       -e DISPLAY=unix$DISPLAY muen-dev-env\n#   Base image\nARG distro_name=debian\nARG distro_version=stretch\nFROM ${distro_name}:${distro_version}\nLABEL maintainer=\"\\\"Adrian-Ken Rueegsegger <ken@codelabs.ch>\\\"\"\nLABEL description=\"\\\"This image provides the build environment for the Muen project\\\"\"\nENV CC=\"ccache gcc\"\nENV CXX=\"ccache g++\"\n#   Install dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends acpica-tools amtterm bc binutils-dev bison bzip2 ca-certificates ccache cpio curl file flex g++ git-core gnuplot grub-pc-bin inotify-tools lcov libc6-dev libcurl4-gnutls-dev libelf-dev libiberty-dev libncurses-dev libsdl1.2-dev libssl-dev libxml2-utils make openssh-client patch python rsync tidy unzip vim wget xorriso xsltproc xz-utils zlib1g-dev -y \\\n && rm -rf /var/lib/apt/lists/*\n#   Install AdaCore toolchain\nRUN git clone https://github.com/AdaCore/gnat_community_install_script.git /tmp/gnat_script \\\n && curl -sSL \"https://www.codelabs.ch/download/ada/gnat-community-2019-20190517-x86_64-linux-bin\" -o /tmp/gnat_installer.bin \\\n && sh /tmp/gnat_script/install_package.sh /tmp/gnat_installer.bin /opt/gnat \\\n && rm -rf /tmp/gnat*\n#   Install Bochs for emulation\nARG bochs_revison=89265f376\nRUN git clone https://github.com/svn2github/bochs.git /tmp/bochs \\\n && cd /tmp/bochs/bochs \\\n && git checkout ${bochs_revison} \\\n && ./configure --prefix=/usr/local --enable-vmx=2 --enable-smp --enable-cdrom --enable-x86-64 --enable-avx --with-sdl --with-term \\\n && make install \\\n && rm -rf /tmp/bochs\n#   amtc tool\nRUN git clone https://github.com/schnoddelbotz/amtc.git /tmp/amtc \\\n && cd /tmp/amtc \\\n && make amtc \\\n && cp src/amtc /usr/local/bin \\\n && rm -rf /tmp/amtc\n#   Setup environment\nENV HOME=\"/home/user\"\nENV LANG=\"C.UTF-8\"\nENV PATH=\"/opt/gnat/bin:$PATH\"\n#   Add development user\nRUN useradd --create-home --home-dir $HOME user -G dialout\nWORKDIR $HOME\nUSER user\nCMD [\"bash\"]\n","originalDockerfileUglifiedHash":"e3d2ab1bb653c570e50599b57503b341","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/ef57690c25a8cb595a01f30dd30aea16569f84e5.dockerfile"}