{"seed":2197785239,"processedDockerfileHash":"404440b78b5c74eab49f475fd2c2dffb","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck"],"processedDockerfile":"#  ==============================================================================\n#   Copyright (c) 2016-present Allan CORNET (Nelson)\n#  ==============================================================================\n#   This file is part of the Nelson.\n#  =============================================================================\n#   LICENCE_BLOCK_BEGIN\n#   This program is free software; you can redistribute it and/or\n#   modify it under the terms of the GNU Lesser General Public\n#   License as published by the Free Software Foundation; either\n#   version 2.1 of the License, or (at your option) any later version.\n#\n#   Alternatively, you can redistribute it and/or\n#   modify it under the terms of the GNU General Public License as\n#   published by the Free Software Foundation; either version 2 of\n#   the License, or (at your option) any later version.\n#\n#   This program is distributed in the hope that it will be useful,\n#   but WITHOUT ANY WARRANTY; without even the implied warranty of\n#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n#   GNU Lesser General Public License for more details.\n#\n#   You should have received a copy of the GNU Lesser General Public\n#   License along with this program. If not, see <http://www.gnu.org/licenses/>.\n#   LICENCE_BLOCK_END\n#  ==============================================================================\nFROM debian:buster\nMAINTAINER Allan CORNET \"nelson.numerical.computation@gmail.com\"\nARG BRANCH_NAME\nRUN echo \"Nelson's branch: ${BRANCH_NAME}\"\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends build-essential=12.6 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends autotools-dev=20180224.1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libtool=2.4.6-9 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends automake=1:1.16.1-4 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends xvfb=2:1.20.4-1+deb10u9 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends git=1:2.20.1-2+deb10u8 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libboost-all-dev=1.67.0.1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libopenmpi-dev=3.1.3-11 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends openmpi-bin=3.1.3-11 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends gettext=0.19.8.1-9 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends pkg-config=0.29-6 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends cmake=3.13.4-1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libffi-dev=3.2.1-9 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libicu-dev=63.1-6+deb10u3 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libxml2-dev=2.9.4+dfsg1-7+deb10u5 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends liblapack-dev=3.8.0-2 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends liblapacke-dev=3.8.0-2 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends fftw3 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends fftw3-dev -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libasound-dev -y )\nRUN (apt-get update ;apt-get install --no-install-recommends portaudio19-dev=19.6.0-1+deb10u1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libsndfile1-dev=1.0.28-6+deb10u2 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libtag1-dev=1.11.1+dfsg.1-0.3+deb10u1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends alsa-utils=1.1.8-2 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends qtbase5-dev=5.11.3+dfsg1-1+deb10u5 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends qtdeclarative5-dev=5.11.3-4 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libqt5webkit5-dev=5.212.0~alpha2-21 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libsqlite3-dev=3.27.2-3+deb10u2 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends qt5-default=5.11.3+dfsg1-1+deb10u5 qttools5-dev-tools=5.11.3-4 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libqt5opengl5-dev=5.11.3+dfsg1-1+deb10u5 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends qtbase5-private-dev=5.11.3+dfsg1-1+deb10u5 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends qtdeclarative5-dev=5.11.3-4 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libhdf5-dev=1.10.4+repack-10 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends hdf5-tools=1.10.4+repack-10 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libmatio-dev=1.5.13-3 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libslicot0=5.0+20101122-4 -y )\nRUN rm -rf /var/lib/apt/lists/*\nRUN git clone https://github.com/live-clones/hdf5.git /tmp/hdf5_1_10_5\nRUN cd /tmp/hdf5_1_10_5 \\\n && git checkout hdf5-1_10_5 \\\n && ./configure --quiet --enable-shared --disable-deprecated-symbols --disable-hl --disable-strict-format-checks --disable-memory-alloc-sanity-check --disable-instrument --disable-parallel --disable-trace --disable-asserts --with-pic --with-default-api-version=v110 CFLAGS=\"-w\" \\\n && make install -C src\nRUN git clone https://github.com/tbeu/matio /tmp/matio\nRUN cd /tmp/matio \\\n && git checkout v1.5.15 \\\n && cd /tmp/matio \\\n && ./autogen.sh \\\n && ./configure --enable-shared --enable-mat73=yes --enable-extended-sparse=no --with-pic --with-hdf5=/tmp/hdf5_1_10_5/hdf5 \\\n && make \\\n && make install\nRUN git clone https://github.com/eigenteam/eigen-git-mirror /tmp/eigen\nRUN mkdir /tmp/eigen-build \\\n && cd /tmp/eigen \\\n && git checkout 3.3.7 \\\n && cd - \\\n && cd /tmp/eigen-build \\\n && cmake . /tmp/eigen \\\n && make -j4 \\\n && make install\nRUN git clone https://github.com/Nelson-numerical-software/nelson.git\nWORKDIR \"/nelson\"\nRUN cd \"/nelson\" \\\n && git checkout ${BRANCH_NAME}\nRUN mkdir /home/nelsonuser\nRUN groupadd -g 999 nelsonuser \\\n && useradd -r -u 999 -g nelsonuser nelsonuser\nRUN chown -R nelsonuser:nelsonuser /home/nelsonuser\nRUN chown -R nelsonuser:nelsonuser /nelson\nUSER nelsonuser\nENV AUDIODEV=\"null\"\nRUN cmake -G \"Unix Makefiles\" .\nRUN make -j4\nRUN make buildhelp\nRUN make tests_minimal\nRUN make package\nRUN make tests_all_no_display\nENTRYPOINT [\"/nelson/bin/linux64/nelson-cli\"]\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# ==============================================================================\n#  Copyright (c) 2016-present Allan CORNET (Nelson)\n# ==============================================================================\n#  This file is part of the Nelson.\n# =============================================================================\n#  LICENCE_BLOCK_BEGIN\n#  This program is free software; you can redistribute it and/or\n#  modify it under the terms of the GNU Lesser General Public\n#  License as published by the Free Software Foundation; either\n#  version 2.1 of the License, or (at your option) any later version.\n#\n#  Alternatively, you can redistribute it and/or\n#  modify it under the terms of the GNU General Public License as\n#  published by the Free Software Foundation; either version 2 of\n#  the License, or (at your option) any later version.\n#\n#  This program is distributed in the hope that it will be useful,\n#  but WITHOUT ANY WARRANTY; without even the implied warranty of\n#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n#  GNU Lesser General Public License for more details.\n#\n#  You should have received a copy of the GNU Lesser General Public\n#  License along with this program. If not, see <http://www.gnu.org/licenses/>.\n#  LICENCE_BLOCK_END\n# ==============================================================================\nFROM debian:buster\nMAINTAINER Allan CORNET \"nelson.numerical.computation@gmail.com\"\nARG BRANCH_NAME\nRUN echo \"Nelson's branch: ${BRANCH_NAME}\"\nRUN apt-get update\nRUN apt-get install build-essential -y\nRUN apt-get install autotools-dev -y\nRUN apt-get install libtool -y\nRUN apt-get install automake -y\nRUN apt-get install xvfb -y\nRUN apt-get install git -y\nRUN apt-get install libboost-all-dev -y\nRUN apt-get install libopenmpi-dev -y\nRUN apt-get install openmpi-bin -y\nRUN apt-get install gettext -y\nRUN apt-get install pkg-config -y\nRUN apt-get install cmake -y\nRUN apt-get install libffi-dev -y\nRUN apt-get install libicu-dev -y\nRUN apt-get install libxml2-dev -y\nRUN apt-get install liblapack-dev -y\nRUN apt-get install liblapacke-dev -y\nRUN apt-get install fftw3 -y\nRUN apt-get install fftw3-dev -y\nRUN apt-get install libasound-dev -y\nRUN apt-get install portaudio19-dev -y\nRUN apt-get install libsndfile1-dev -y\nRUN apt-get install libtag1-dev -y\nRUN apt-get install alsa-utils -y\nRUN apt-get install qtbase5-dev -y\nRUN apt-get install qtdeclarative5-dev -y\nRUN apt-get install libqt5webkit5-dev -y\nRUN apt-get install libsqlite3-dev -y\nRUN apt-get install qt5-default qttools5-dev-tools -y\nRUN apt-get install libqt5opengl5-dev -y\nRUN apt-get install qtbase5-private-dev -y\nRUN apt-get install qtdeclarative5-dev -y\nRUN apt-get install libhdf5-dev -y\nRUN apt-get install hdf5-tools -y\nRUN apt-get install libmatio-dev -y\nRUN apt-get install libslicot0 -y\nRUN rm -rf /var/lib/apt/lists/*\nRUN git clone https://github.com/live-clones/hdf5.git /tmp/hdf5_1_10_5\nRUN cd /tmp/hdf5_1_10_5 \\\n && git checkout hdf5-1_10_5 \\\n && ./configure --quiet --enable-shared --disable-deprecated-symbols --disable-hl --disable-strict-format-checks --disable-memory-alloc-sanity-check --disable-instrument --disable-parallel --disable-trace --disable-asserts --with-pic --with-default-api-version=v110 CFLAGS=\"-w\" \\\n && make install -C src\nRUN git clone https://github.com/tbeu/matio /tmp/matio\nRUN cd /tmp/matio \\\n && git checkout v1.5.15 \\\n && cd /tmp/matio \\\n && ./autogen.sh \\\n && ./configure --enable-shared --enable-mat73=yes --enable-extended-sparse=no --with-pic --with-hdf5=/tmp/hdf5_1_10_5/hdf5 \\\n && make \\\n && make install\nRUN git clone https://github.com/eigenteam/eigen-git-mirror /tmp/eigen\nRUN mkdir /tmp/eigen-build \\\n && cd /tmp/eigen \\\n && git checkout 3.3.7 \\\n && cd - \\\n && cd /tmp/eigen-build \\\n && cmake . /tmp/eigen \\\n && make -j4 \\\n && make install\nRUN git clone https://github.com/Nelson-numerical-software/nelson.git\nWORKDIR \"/nelson\"\nRUN cd \"/nelson\" \\\n && git checkout ${BRANCH_NAME}\nRUN mkdir /home/nelsonuser\nRUN groupadd -g 999 nelsonuser \\\n && useradd -r -u 999 -g nelsonuser nelsonuser\nRUN chown -R nelsonuser:nelsonuser /home/nelsonuser\nRUN chown -R nelsonuser:nelsonuser /nelson\nUSER nelsonuser\nENV AUDIODEV=\"null\"\nRUN cmake -G \"Unix Makefiles\" .\nRUN make -j4\nRUN make buildhelp\nRUN make tests_minimal\nRUN make package\nRUN make tests_all_no_display\nENTRYPOINT [\"/nelson/bin/linux64/nelson-cli\"]\n","injectedSmells":[],"originalDockerfileHash":"15ecb0c63900ad57e134dfdc82ff8a97","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  ==============================================================================\n#   Copyright (c) 2016-present Allan CORNET (Nelson)\n#  ==============================================================================\n#   This file is part of the Nelson.\n#  =============================================================================\n#   LICENCE_BLOCK_BEGIN\n#   This program is free software; you can redistribute it and/or\n#   modify it under the terms of the GNU Lesser General Public\n#   License as published by the Free Software Foundation; either\n#   version 2.1 of the License, or (at your option) any later version.\n#\n#   Alternatively, you can redistribute it and/or\n#   modify it under the terms of the GNU General Public License as\n#   published by the Free Software Foundation; either version 2 of\n#   the License, or (at your option) any later version.\n#\n#   This program is distributed in the hope that it will be useful,\n#   but WITHOUT ANY WARRANTY; without even the implied warranty of\n#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n#   GNU Lesser General Public License for more details.\n#\n#   You should have received a copy of the GNU Lesser General Public\n#   License along with this program. If not, see <http://www.gnu.org/licenses/>.\n#   LICENCE_BLOCK_END\n#  ==============================================================================\nFROM debian:buster\nMAINTAINER Allan CORNET \"nelson.numerical.computation@gmail.com\"\nARG BRANCH_NAME\nRUN echo \"Nelson's branch: ${BRANCH_NAME}\"\nRUN apt-get update\nRUN apt-get install build-essential -y\nRUN apt-get install autotools-dev -y\nRUN apt-get install libtool -y\nRUN apt-get install automake -y\nRUN apt-get install xvfb -y\nRUN apt-get install git -y\nRUN apt-get install libboost-all-dev -y\nRUN apt-get install libopenmpi-dev -y\nRUN apt-get install openmpi-bin -y\nRUN apt-get install gettext -y\nRUN apt-get install pkg-config -y\nRUN apt-get install cmake -y\nRUN apt-get install libffi-dev -y\nRUN apt-get install libicu-dev -y\nRUN apt-get install libxml2-dev -y\nRUN apt-get install liblapack-dev -y\nRUN apt-get install liblapacke-dev -y\nRUN apt-get install fftw3 -y\nRUN apt-get install fftw3-dev -y\nRUN apt-get install libasound-dev -y\nRUN apt-get install portaudio19-dev -y\nRUN apt-get install libsndfile1-dev -y\nRUN apt-get install libtag1-dev -y\nRUN apt-get install alsa-utils -y\nRUN apt-get install qtbase5-dev -y\nRUN apt-get install qtdeclarative5-dev -y\nRUN apt-get install libqt5webkit5-dev -y\nRUN apt-get install libsqlite3-dev -y\nRUN apt-get install qt5-default qttools5-dev-tools -y\nRUN apt-get install libqt5opengl5-dev -y\nRUN apt-get install qtbase5-private-dev -y\nRUN apt-get install qtdeclarative5-dev -y\nRUN apt-get install libhdf5-dev -y\nRUN apt-get install hdf5-tools -y\nRUN apt-get install libmatio-dev -y\nRUN apt-get install libslicot0 -y\nRUN rm -rf /var/lib/apt/lists/*\nRUN git clone https://github.com/live-clones/hdf5.git /tmp/hdf5_1_10_5\nRUN cd /tmp/hdf5_1_10_5 \\\n && git checkout hdf5-1_10_5 \\\n && ./configure --quiet --enable-shared --disable-deprecated-symbols --disable-hl --disable-strict-format-checks --disable-memory-alloc-sanity-check --disable-instrument --disable-parallel --disable-trace --disable-asserts --with-pic --with-default-api-version=v110 CFLAGS=\"-w\" \\\n && make install -C src\nRUN git clone https://github.com/tbeu/matio /tmp/matio\nRUN cd /tmp/matio \\\n && git checkout v1.5.15 \\\n && cd /tmp/matio \\\n && ./autogen.sh \\\n && ./configure --enable-shared --enable-mat73=yes --enable-extended-sparse=no --with-pic --with-hdf5=/tmp/hdf5_1_10_5/hdf5 \\\n && make \\\n && make install\nRUN git clone https://github.com/eigenteam/eigen-git-mirror /tmp/eigen\nRUN mkdir /tmp/eigen-build \\\n && cd /tmp/eigen \\\n && git checkout 3.3.7 \\\n && cd - \\\n && cd /tmp/eigen-build \\\n && cmake . /tmp/eigen \\\n && make -j4 \\\n && make install\nRUN git clone https://github.com/Nelson-numerical-software/nelson.git\nWORKDIR \"/nelson\"\nRUN cd \"/nelson\" \\\n && git checkout ${BRANCH_NAME}\nRUN mkdir /home/nelsonuser\nRUN groupadd -g 999 nelsonuser \\\n && useradd -r -u 999 -g nelsonuser nelsonuser\nRUN chown -R nelsonuser:nelsonuser /home/nelsonuser\nRUN chown -R nelsonuser:nelsonuser /nelson\nUSER nelsonuser\nENV AUDIODEV=\"null\"\nRUN cmake -G \"Unix Makefiles\" .\nRUN make -j4\nRUN make buildhelp\nRUN make tests_minimal\nRUN make package\nRUN make tests_all_no_display\nENTRYPOINT [\"/nelson/bin/linux64/nelson-cli\"]\n","originalDockerfileUglifiedHash":"607157a4568ff9b2294bd65ff1f30f43","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/224dbd553a0240a6d782297ee8b6e3693c34fe5f.dockerfile"}