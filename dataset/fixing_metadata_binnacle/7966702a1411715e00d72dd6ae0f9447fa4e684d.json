{"seed":2338794022,"processedDockerfileHash":"aeb2edd83da55fc8d19f24aeae087fcf","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","have-a-healthcheck","have-a-user"],"processedDockerfile":"#\n#   MockServer Jenkins Dockerfile\n#\n#   https://github.com/jamesdbloom/mockserver\n#   http://www.mock-server.com\n#\n#   pull base image\nFROM mockserver/java7\n#   maintainer details\nMAINTAINER James Bloom \"jamesdbloom@gmail.com\"\n#  ##################\n#   INSTALL JENKINS #\n#  ##################\n#   add jenkins key\nRUN wget -q -O - http://pkg.jenkins-ci.org/debian/jenkins-ci.org.key | apt-key add -\n#   add jenkins repository\nRUN echo deb http://pkg.jenkins-ci.org/debian binary/ > /etc/apt/sources.list.d/jenkins.list\n#   update local package index\nRUN :\n#   install jenkins:\nRUN (apt-get update ;apt-get install --no-install-recommends jenkins -y )\n#   for more details see: https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins+on+Ubuntu\n#  #################\n#   UPDATE PLUGINS #\n#  #################\nWORKDIR /var/lib/jenkins/plugins\n#   FIX PERMISSIONS!!!\n#  # security updates ##\n#   credentials\nRUN wget http://updates.jenkins-ci.org/latest/credentials.hpi\n#   ldap\nRUN wget http://updates.jenkins-ci.org/latest/ldap.hpi\n#   ssh-credentials\nRUN wget http://updates.jenkins-ci.org/latest/ssh-credentials.hpi\n#   ssh-slaves\nRUN wget http://updates.jenkins-ci.org/latest/ssh-slaves.hpi\n#   ssh-agent\nRUN wget http://updates.jenkins-ci.org/latest/ssh-agent.hpi\n#   hsts-filter-plugin\nRUN wget http://updates.jenkins-ci.org/latest/hsts-filter-plugin.hpi\n#  # source control & github ##\n#   parameterized-trigger\nRUN wget http://updates.jenkins-ci.org/latest/parameterized-trigger.hpi\n#   git-client\nRUN wget http://updates.jenkins-ci.org/latest/git-client.hpi\n#   token-macro\nRUN wget http://updates.jenkins-ci.org/latest/token-macro.hpi\n#   multiple-scms\nRUN wget http://updates.jenkins-ci.org/latest/multiple-scms.hpi\n#   scm-api\nRUN wget http://updates.jenkins-ci.org/latest/scm-api.hpi\n#   promoted-builds\nRUN wget http://updates.jenkins-ci.org/latest/promoted-builds.hpi\n#   git\nRUN wget http://updates.jenkins-ci.org/latest/git.hpi\n#   github-api\nRUN wget http://updates.jenkins-ci.org/latest/github-api.hpi\n#   github\nRUN wget http://updates.jenkins-ci.org/latest/github.hpi\n#   project-description-setter\nRUN wget http://updates.jenkins-ci.org/latest/project-description-setter.hpi\n#  # emails ##\n#   mailer\nRUN wget http://updates.jenkins-ci.org/latest/mailer.hpi\n#  # releases ##\n#   m2release\nRUN wget http://updates.jenkins-ci.org/latest/m2release.hpi\nWORKDIR /root\n#  #######################\n#   CONFIGURE SUPERVISOR #\n#  #######################\n#   add to supervisor\nRUN echo '[program:jenkins]' > /etc/supervisor/conf.d/jenkins \\\n && echo 'command=service jenkins restart' >> /etc/supervisor/conf.d/jenkins \\\n && echo 'redirect_stderr=true' >> /etc/supervisor/conf.d/jenkins\n#   start supervisor daemon\nCMD [\"supervisord\", \"-c\", \"/etc/supervisor/supervisor.conf\"]\n#  ###############\n#   EXPORT PORTS #\n#  ###############\nEXPOSE 8080/tcp\n#  ##############\n#   TO BUILD... #\n#  ##############\n#   to build container:\n#   docker build -t=\"mockserver/jenkins\" https://raw.github.com/jamesdbloom/mockserver/master/ci/docker/jenkins/Dockerfile\n#   to run container:\n#   docker run -name jenkins -p 127.0.0.1:8080:8080 -d mockserver/jenkins\n#  ###########\n#   NOTES... #\n#  ###########\n#   The following files locations are used\n#   service: /etc/init.d/jenkins\n#   config: /etc/default/jenkins\n#   logs: /var/log/jenkins/jenkins.log\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#\n#  MockServer Jenkins Dockerfile\n#\n#  https://github.com/jamesdbloom/mockserver\n#  http://www.mock-server.com\n#\n#  pull base image\nFROM mockserver/java7\n#  maintainer details\nMAINTAINER James Bloom \"jamesdbloom@gmail.com\"\n# ##################\n#  INSTALL JENKINS #\n# ##################\n#  add jenkins key\nRUN wget -q -O - http://pkg.jenkins-ci.org/debian/jenkins-ci.org.key | apt-key add -\n#  add jenkins repository\nRUN echo deb http://pkg.jenkins-ci.org/debian binary/ > /etc/apt/sources.list.d/jenkins.list\n#  update local package index\nRUN apt-get update\n#  install jenkins:\nRUN apt-get install jenkins -y\n#  for more details see: https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins+on+Ubuntu\n# #################\n#  UPDATE PLUGINS #\n# #################\nWORKDIR /var/lib/jenkins/plugins\n#  FIX PERMISSIONS!!!\n# # security updates ##\n#  credentials\nRUN wget http://updates.jenkins-ci.org/latest/credentials.hpi\n#  ldap\nRUN wget http://updates.jenkins-ci.org/latest/ldap.hpi\n#  ssh-credentials\nRUN wget http://updates.jenkins-ci.org/latest/ssh-credentials.hpi\n#  ssh-slaves\nRUN wget http://updates.jenkins-ci.org/latest/ssh-slaves.hpi\n#  ssh-agent\nRUN wget http://updates.jenkins-ci.org/latest/ssh-agent.hpi\n#  hsts-filter-plugin\nRUN wget http://updates.jenkins-ci.org/latest/hsts-filter-plugin.hpi\n# # source control & github ##\n#  parameterized-trigger\nRUN wget http://updates.jenkins-ci.org/latest/parameterized-trigger.hpi\n#  git-client\nRUN wget http://updates.jenkins-ci.org/latest/git-client.hpi\n#  token-macro\nRUN wget http://updates.jenkins-ci.org/latest/token-macro.hpi\n#  multiple-scms\nRUN wget http://updates.jenkins-ci.org/latest/multiple-scms.hpi\n#  scm-api\nRUN wget http://updates.jenkins-ci.org/latest/scm-api.hpi\n#  promoted-builds\nRUN wget http://updates.jenkins-ci.org/latest/promoted-builds.hpi\n#  git\nRUN wget http://updates.jenkins-ci.org/latest/git.hpi\n#  github-api\nRUN wget http://updates.jenkins-ci.org/latest/github-api.hpi\n#  github\nRUN wget http://updates.jenkins-ci.org/latest/github.hpi\n#  project-description-setter\nRUN wget http://updates.jenkins-ci.org/latest/project-description-setter.hpi\n# # emails ##\n#  mailer\nRUN wget http://updates.jenkins-ci.org/latest/mailer.hpi\n# # releases ##\n#  m2release\nRUN wget http://updates.jenkins-ci.org/latest/m2release.hpi\nWORKDIR /root\n# #######################\n#  CONFIGURE SUPERVISOR #\n# #######################\n#  add to supervisor\nRUN echo '[program:jenkins]' > /etc/supervisor/conf.d/jenkins \\\n && echo 'command=service jenkins restart' >> /etc/supervisor/conf.d/jenkins \\\n && echo 'redirect_stderr=true' >> /etc/supervisor/conf.d/jenkins\n#  start supervisor daemon\nCMD [\"supervisord\", \"-c\", \"/etc/supervisor/supervisor.conf\"]\n# ###############\n#  EXPORT PORTS #\n# ###############\nEXPOSE 8080/tcp\n# ##############\n#  TO BUILD... #\n# ##############\n#  to build container:\n#  docker build -t=\"mockserver/jenkins\" https://raw.github.com/jamesdbloom/mockserver/master/ci/docker/jenkins/Dockerfile\n#  to run container:\n#  docker run -name jenkins -p 127.0.0.1:8080:8080 -d mockserver/jenkins\n# ###########\n#  NOTES... #\n# ###########\n#  The following files locations are used\n#  service: /etc/init.d/jenkins\n#  config: /etc/default/jenkins\n#  logs: /var/log/jenkins/jenkins.log\n","injectedSmells":[],"originalDockerfileHash":"e213af3e3851262ab7962b8e8b672a26","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#   MockServer Jenkins Dockerfile\n#\n#   https://github.com/jamesdbloom/mockserver\n#   http://www.mock-server.com\n#\n#   pull base image\nFROM mockserver/java7\n#   maintainer details\nMAINTAINER James Bloom \"jamesdbloom@gmail.com\"\n#  ##################\n#   INSTALL JENKINS #\n#  ##################\n#   add jenkins key\nRUN wget -q -O - http://pkg.jenkins-ci.org/debian/jenkins-ci.org.key | apt-key add -\n#   add jenkins repository\nRUN echo deb http://pkg.jenkins-ci.org/debian binary/ > /etc/apt/sources.list.d/jenkins.list\n#   update local package index\nRUN apt-get update\n#   install jenkins:\nRUN apt-get install jenkins -y\n#   for more details see: https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins+on+Ubuntu\n#  #################\n#   UPDATE PLUGINS #\n#  #################\nWORKDIR /var/lib/jenkins/plugins\n#   FIX PERMISSIONS!!!\n#  # security updates ##\n#   credentials\nRUN wget http://updates.jenkins-ci.org/latest/credentials.hpi\n#   ldap\nRUN wget http://updates.jenkins-ci.org/latest/ldap.hpi\n#   ssh-credentials\nRUN wget http://updates.jenkins-ci.org/latest/ssh-credentials.hpi\n#   ssh-slaves\nRUN wget http://updates.jenkins-ci.org/latest/ssh-slaves.hpi\n#   ssh-agent\nRUN wget http://updates.jenkins-ci.org/latest/ssh-agent.hpi\n#   hsts-filter-plugin\nRUN wget http://updates.jenkins-ci.org/latest/hsts-filter-plugin.hpi\n#  # source control & github ##\n#   parameterized-trigger\nRUN wget http://updates.jenkins-ci.org/latest/parameterized-trigger.hpi\n#   git-client\nRUN wget http://updates.jenkins-ci.org/latest/git-client.hpi\n#   token-macro\nRUN wget http://updates.jenkins-ci.org/latest/token-macro.hpi\n#   multiple-scms\nRUN wget http://updates.jenkins-ci.org/latest/multiple-scms.hpi\n#   scm-api\nRUN wget http://updates.jenkins-ci.org/latest/scm-api.hpi\n#   promoted-builds\nRUN wget http://updates.jenkins-ci.org/latest/promoted-builds.hpi\n#   git\nRUN wget http://updates.jenkins-ci.org/latest/git.hpi\n#   github-api\nRUN wget http://updates.jenkins-ci.org/latest/github-api.hpi\n#   github\nRUN wget http://updates.jenkins-ci.org/latest/github.hpi\n#   project-description-setter\nRUN wget http://updates.jenkins-ci.org/latest/project-description-setter.hpi\n#  # emails ##\n#   mailer\nRUN wget http://updates.jenkins-ci.org/latest/mailer.hpi\n#  # releases ##\n#   m2release\nRUN wget http://updates.jenkins-ci.org/latest/m2release.hpi\nWORKDIR /root\n#  #######################\n#   CONFIGURE SUPERVISOR #\n#  #######################\n#   add to supervisor\nRUN echo '[program:jenkins]' > /etc/supervisor/conf.d/jenkins \\\n && echo 'command=service jenkins restart' >> /etc/supervisor/conf.d/jenkins \\\n && echo 'redirect_stderr=true' >> /etc/supervisor/conf.d/jenkins\n#   start supervisor daemon\nCMD [\"supervisord\", \"-c\", \"/etc/supervisor/supervisor.conf\"]\n#  ###############\n#   EXPORT PORTS #\n#  ###############\nEXPOSE 8080/tcp\n#  ##############\n#   TO BUILD... #\n#  ##############\n#   to build container:\n#   docker build -t=\"mockserver/jenkins\" https://raw.github.com/jamesdbloom/mockserver/master/ci/docker/jenkins/Dockerfile\n#   to run container:\n#   docker run -name jenkins -p 127.0.0.1:8080:8080 -d mockserver/jenkins\n#  ###########\n#   NOTES... #\n#  ###########\n#   The following files locations are used\n#   service: /etc/init.d/jenkins\n#   config: /etc/default/jenkins\n#   logs: /var/log/jenkins/jenkins.log\n","originalDockerfileUglifiedHash":"52a3be5bc1d9d1be9172b83ba42bfd36","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/7966702a1411715e00d72dd6ae0f9447fa4e684d.dockerfile"}