{"seed":673837797,"processedDockerfileHash":"08295c7792be941603c939fb1db5ee51","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck"],"processedDockerfile":"#   To copy composer binary file\nFROM composer:1.8.5 AS composer\n#  ###############################################################################\nFROM php:7.1-alpine AS php7.1\nRUN apk add autoconf=2.69-r2 g++=8.3.0-r0 git=2.20.4-r0 libssh2-dev=1.9.0-r1 make=4.2.1-r2 zlib-dev=1.2.11-r1 --no-cache \\\n && pecl install mongodb ssh2-1.1.2\nRUN docker-php-ext-install zip \\\n && docker-php-ext-enable mongodb ssh2\nCOPY --from=composer /usr/bin/composer /usr/bin/composer\nENV COMPOSER_HOME=\"/var/cache/composer\"\nRUN mkdir /var/cache/composer \\\n && chown 1000:1000 /var/cache/composer\nUSER 1000\nRUN composer global require \"hirak/prestissimo\" --prefer-dist\nWORKDIR /app\n#  ###############################################################################\nFROM php:7.2-alpine AS php7.2\nRUN apk add autoconf=2.69-r2 g++=8.3.0-r0 git=2.20.4-r0 libssh2-dev=1.9.0-r1 make=4.2.1-r2 zlib-dev=1.2.11-r1 --no-cache \\\n && pecl install mongodb ssh2-1.1.2\nRUN docker-php-ext-install zip \\\n && docker-php-ext-enable mongodb ssh2\nCOPY --from=composer /usr/bin/composer /usr/bin/composer\nENV COMPOSER_HOME=\"/var/cache/composer\"\nRUN mkdir /var/cache/composer \\\n && chown 1000:1000 /var/cache/composer\nUSER 1000\nRUN composer global require \"hirak/prestissimo\" --prefer-dist\nWORKDIR /app\n#  ###############################################################################\nFROM php:7.3-alpine AS php7.3\nRUN apk add autoconf=2.69-r2 g++=8.3.0-r0 git=2.20.4-r0 libzip-dev=1.5.1-r2 make=4.2.1-r2 zlib-dev=1.2.11-r1 --no-cache \\\n && pecl install mongodb\n#   ssh2-1.1.2\n#   ssh2 extension is not availble yet for php7.3\n#   see https://serverpilot.io/docs/how-to-install-the-php-ssh2-extension\nRUN docker-php-ext-install zip \\\n && docker-php-ext-enable mongodb\n#   ssh2\nCOPY --from=composer /usr/bin/composer /usr/bin/composer\nENV COMPOSER_HOME=\"/var/cache/composer\"\nRUN mkdir /var/cache/composer \\\n && chown 1000:1000 /var/cache/composer\nUSER 1000\nRUN composer global require \"hirak/prestissimo\" --prefer-dist\nWORKDIR /app\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  To copy composer binary file\nFROM composer:1.8.5 AS composer\n# ###############################################################################\nFROM php:7.1-alpine AS php7.1\nRUN apk add --no-cache autoconf g++ git libssh2-dev make zlib-dev \\\n && pecl install mongodb ssh2-1.1.2\nRUN docker-php-ext-install zip \\\n && docker-php-ext-enable mongodb ssh2\nCOPY --from=composer /usr/bin/composer /usr/bin/composer\nENV COMPOSER_HOME=\"/var/cache/composer\"\nRUN mkdir /var/cache/composer \\\n && chown 1000:1000 /var/cache/composer\nUSER 1000\nRUN composer global require \"hirak/prestissimo\" --prefer-dist\nWORKDIR /app\n# ###############################################################################\nFROM php:7.2-alpine AS php7.2\nRUN apk add --no-cache autoconf g++ git libssh2-dev make zlib-dev \\\n && pecl install mongodb ssh2-1.1.2\nRUN docker-php-ext-install zip \\\n && docker-php-ext-enable mongodb ssh2\nCOPY --from=composer /usr/bin/composer /usr/bin/composer\nENV COMPOSER_HOME=\"/var/cache/composer\"\nRUN mkdir /var/cache/composer \\\n && chown 1000:1000 /var/cache/composer\nUSER 1000\nRUN composer global require \"hirak/prestissimo\" --prefer-dist\nWORKDIR /app\n# ###############################################################################\nFROM php:7.3-alpine AS php7.3\nRUN apk add --no-cache autoconf g++ git libzip-dev make zlib-dev \\\n && pecl install mongodb\n#  ssh2-1.1.2\n#  ssh2 extension is not availble yet for php7.3\n#  see https://serverpilot.io/docs/how-to-install-the-php-ssh2-extension\nRUN docker-php-ext-install zip \\\n && docker-php-ext-enable mongodb\n#  ssh2\nCOPY --from=composer /usr/bin/composer /usr/bin/composer\nENV COMPOSER_HOME=\"/var/cache/composer\"\nRUN mkdir /var/cache/composer \\\n && chown 1000:1000 /var/cache/composer\nUSER 1000\nRUN composer global require \"hirak/prestissimo\" --prefer-dist\nWORKDIR /app\n","injectedSmells":[],"originalDockerfileHash":"c3950ab26b0c2eddd1cb92472829f2e5","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   To copy composer binary file\nFROM composer:1.8.5 AS composer\n#  ###############################################################################\nFROM php:7.1-alpine AS php7.1\nRUN apk add --no-cache autoconf g++ git libssh2-dev make zlib-dev \\\n && pecl install mongodb ssh2-1.1.2\nRUN docker-php-ext-install zip \\\n && docker-php-ext-enable mongodb ssh2\nCOPY --from=composer /usr/bin/composer /usr/bin/composer\nENV COMPOSER_HOME=\"/var/cache/composer\"\nRUN mkdir /var/cache/composer \\\n && chown 1000:1000 /var/cache/composer\nUSER 1000\nRUN composer global require \"hirak/prestissimo\" --prefer-dist\nWORKDIR /app\n#  ###############################################################################\nFROM php:7.2-alpine AS php7.2\nRUN apk add --no-cache autoconf g++ git libssh2-dev make zlib-dev \\\n && pecl install mongodb ssh2-1.1.2\nRUN docker-php-ext-install zip \\\n && docker-php-ext-enable mongodb ssh2\nCOPY --from=composer /usr/bin/composer /usr/bin/composer\nENV COMPOSER_HOME=\"/var/cache/composer\"\nRUN mkdir /var/cache/composer \\\n && chown 1000:1000 /var/cache/composer\nUSER 1000\nRUN composer global require \"hirak/prestissimo\" --prefer-dist\nWORKDIR /app\n#  ###############################################################################\nFROM php:7.3-alpine AS php7.3\nRUN apk add --no-cache autoconf g++ git libzip-dev make zlib-dev \\\n && pecl install mongodb\n#   ssh2-1.1.2\n#   ssh2 extension is not availble yet for php7.3\n#   see https://serverpilot.io/docs/how-to-install-the-php-ssh2-extension\nRUN docker-php-ext-install zip \\\n && docker-php-ext-enable mongodb\n#   ssh2\nCOPY --from=composer /usr/bin/composer /usr/bin/composer\nENV COMPOSER_HOME=\"/var/cache/composer\"\nRUN mkdir /var/cache/composer \\\n && chown 1000:1000 /var/cache/composer\nUSER 1000\nRUN composer global require \"hirak/prestissimo\" --prefer-dist\nWORKDIR /app\n","originalDockerfileUglifiedHash":"fa8df8faafff915fe54e7847b840c24b","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/30ed72c724fda75de22aa06cde7f2bdab02797c8.dockerfile"}