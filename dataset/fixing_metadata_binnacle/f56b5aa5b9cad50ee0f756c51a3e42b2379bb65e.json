{"seed":976025853,"processedDockerfileHash":"8d5b8880ade204411e4a0d37256a2bcc","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-npm","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#\n#   jenkins 1.6x (http://jenkins-ci.org)\n#\n#   build:\n#     docker build --force-rm=true -t subicura/jenkins .\n#   run:\n#     docker run -p 80:8080 -v /home/ubuntu/jenkins:/app/jenkins \\\n#                           -v /var/run/docker.sock:/var/run/docker.sock \\\n#                           -d subicura/jenkins\n#\nFROM ubuntu:14.04\nMAINTAINER chungsub.kim@purpleworks.co.kr\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   update ubuntu\nRUN sudo sed -i 's/archive.ubuntu.com/ubuntu.mirrors.yg.ucloud.cn/' /etc/apt/sources.list \\\n && sudo sed -i 's/security.ubuntu.com/ubuntu.mirrors.yg.ucloud.cn/' /etc/apt/sources.list\n#   update ubuntu latest\nRUN echo \"2015.09.01\"\nRUN : \\\n && apt-get -qq -y dist-upgrade\n#   install essential packages\nRUN (apt-get update ;apt-get install --no-install-recommends build-essential=11.6ubuntu6 software-properties-common=0.92.37.8 git=1:1.9.1-1ubuntu0.10 wget=1.15-1ubuntu1.14.04.5 curl=7.35.0-1ubuntu2.20 -qq -y )\n#   install dev library\nRUN (apt-get update ;apt-get install --no-install-recommends bison=2:3.0.2.dfsg-2 openssl=1.0.1f-1ubuntu2.27 libreadline6=6.3-4ubuntu2 libreadline6-dev=6.3-4ubuntu2 curl=7.35.0-1ubuntu2.20 git-core=1:1.9.1-1ubuntu0.10 zlib1g=1:1.2.8.dfsg-1ubuntu1.1 zlib1g-dev=1:1.2.8.dfsg-1ubuntu1.1 libssl-dev=1.0.1f-1ubuntu2.27 libyaml-dev=0.1.4-3ubuntu3.1 libsqlite3-0=3.8.2-1ubuntu2.2 libsqlite3-dev=3.8.2-1ubuntu2.2 sqlite3=3.8.2-1ubuntu2.2 libxml2-dev=2.9.1+dfsg1-3ubuntu4.13 libxslt-dev autoconf=2.69-6 libc6-dev=2.19-0ubuntu6.15 ncurses-dev libffi-dev=3.1~rc1+r3.0.13-12ubuntu0.2 libmysqlclient-dev=5.5.62-0ubuntu0.14.04.1 imagemagick=8:6.7.7.10-6ubuntu3.13 libmagickcore-dev=8:6.7.7.10-6ubuntu3.13 libmagickwand-dev=8:6.7.7.10-6ubuntu3.13 -qq -y )\n#   install java\nRUN echo oracle-java7-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && add-apt-repository -y ppa:webupd8team/java \\\n && apt-get update -qq \\\n && (apt-get update ;apt-get install --no-install-recommends oracle-java7-installer -qq -y ) \\\n && rm -rf /var/lib/apt/lists/* \\\n && rm -rf /var/cache/oracle-jdk7-installer\nENV JAVA_HOME=\"/usr/lib/jvm/java-7-oracle\"\n#   install tomcat\nRUN mkdir /app \\\n && cd /app \\\n && wget -q -O - http://mirror.bit.edu.cn/apache/tomcat/tomcat-7/v7.0.64/bin/apache-tomcat-7.0.64.tar.gz | tar xfz - \\\n && ln -s apache-tomcat-7.0.64 tomcat\n#   install jenkins\nRUN rm -rf /app/tomcat/webapps/*\nCOPY jenkins.war /app/tomcat/webapps/ROOT.war\n#   install rbenv\nRUN git clone https://github.com/sstephenson/rbenv.git ~/.rbenv \\\n && mkdir -p ~/.rbenv/plugins \\\n && git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n#   install node\nRUN curl -sL https://deb.nodesource.com/setup_0.12 | sudo bash - \\\n && (apt-get update ;apt-get install --no-install-recommends nodejs=0.10.25~dfsg2-2ubuntu1.2 -qq -y ) \\\n && npm config set registry http://r.cnpmjs.org \\\n && npm install bower@1.8.14 -g \\\n && npm install grunt-cli@1.4.3 -g\n#   install docker\nRUN curl -sSL https://get.docker.com/ | sh\n#   setup jenkins\nWORKDIR /app\nENV JENKINS_HOME=\"/app/jenkins/home\"\n#   add plugins\nRUN mkdir -p /app/plugins\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/scm-api.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/git.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/git-client.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/git-server.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/ssh-agent.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/slack.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/violations.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/ansicolor.hpi\n#   add plugins (ruby)\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/rbenv.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/rake.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/ruby-runtime.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/rubyMetrics.hpi\n#   env\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US:en\"\nENV LC_ALL=\"en_US.UTF-8\"\nENV TERM=\"xterm\"\n#   volume\nVOLUME [\"/app/jenkins\"]\n#   expose\nEXPOSE 8080/tcp\n#   run\nCOPY run.sh /app/run.sh\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nCMD /app/run.sh\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#\n#  jenkins 1.6x (http://jenkins-ci.org)\n#\n#  build:\n#    docker build --force-rm=true -t subicura/jenkins .\n#  run:\n#    docker run -p 80:8080 -v /home/ubuntu/jenkins:/app/jenkins \\\n#                          -v /var/run/docker.sock:/var/run/docker.sock \\\n#                          -d subicura/jenkins\n#\nFROM ubuntu:14.04\nMAINTAINER chungsub.kim@purpleworks.co.kr\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  update ubuntu\nRUN sudo sed -i 's/archive.ubuntu.com/ubuntu.mirrors.yg.ucloud.cn/' /etc/apt/sources.list \\\n && sudo sed -i 's/security.ubuntu.com/ubuntu.mirrors.yg.ucloud.cn/' /etc/apt/sources.list\n#  update ubuntu latest\nRUN echo \"2015.09.01\"\nRUN apt-get update -qq \\\n && apt-get -qq -y dist-upgrade\n#  install essential packages\nRUN apt-get install build-essential software-properties-common git wget curl -qq -y\n#  install dev library\nRUN apt-get install bison openssl libreadline6 libreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-0 libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev ncurses-dev libffi-dev libmysqlclient-dev imagemagick libmagickcore-dev libmagickwand-dev -qq -y\n#  install java\nRUN echo oracle-java7-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && add-apt-repository -y ppa:webupd8team/java \\\n && apt-get update -qq \\\n && apt-get install oracle-java7-installer -qq -y \\\n && rm -rf /var/lib/apt/lists/* \\\n && rm -rf /var/cache/oracle-jdk7-installer\nENV JAVA_HOME=\"/usr/lib/jvm/java-7-oracle\"\n#  install tomcat\nRUN mkdir /app \\\n && cd /app \\\n && wget -q -O - http://mirror.bit.edu.cn/apache/tomcat/tomcat-7/v7.0.64/bin/apache-tomcat-7.0.64.tar.gz | tar xfz - \\\n && ln -s apache-tomcat-7.0.64 tomcat\n#  install jenkins\nRUN rm -rf /app/tomcat/webapps/*\nADD jenkins.war /app/tomcat/webapps/ROOT.war\n#  install rbenv\nRUN git clone https://github.com/sstephenson/rbenv.git ~/.rbenv \\\n && mkdir -p ~/.rbenv/plugins \\\n && git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n#  install node\nRUN curl -sL https://deb.nodesource.com/setup_0.12 | sudo bash - \\\n && apt-get install nodejs -qq -y \\\n && npm config set registry http://r.cnpmjs.org \\\n && npm install bower -g \\\n && npm install grunt-cli -g\n#  install docker\nRUN curl -sSL https://get.docker.com/ | sh\n#  setup jenkins\nWORKDIR /app\nENV JENKINS_HOME=\"/app/jenkins/home\"\n#  add plugins\nRUN mkdir -p /app/plugins\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/scm-api.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/git.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/git-client.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/git-server.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/ssh-agent.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/slack.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/violations.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/ansicolor.hpi\n#  add plugins (ruby)\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/rbenv.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/rake.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/ruby-runtime.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/rubyMetrics.hpi\n#  env\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US:en\"\nENV LC_ALL=\"en_US.UTF-8\"\nENV TERM=\"xterm\"\n#  volume\nVOLUME [\"/app/jenkins\"]\n#  expose\nEXPOSE 8080/tcp\n#  run\nADD run.sh /app/run.sh\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nCMD /app/run.sh\n","injectedSmells":[],"originalDockerfileHash":"e17a4305571c7016d67e4f2d3a2cf8fd","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#   jenkins 1.6x (http://jenkins-ci.org)\n#\n#   build:\n#     docker build --force-rm=true -t subicura/jenkins .\n#   run:\n#     docker run -p 80:8080 -v /home/ubuntu/jenkins:/app/jenkins \\\n#                           -v /var/run/docker.sock:/var/run/docker.sock \\\n#                           -d subicura/jenkins\n#\nFROM ubuntu:14.04\nMAINTAINER chungsub.kim@purpleworks.co.kr\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   update ubuntu\nRUN sudo sed -i 's/archive.ubuntu.com/ubuntu.mirrors.yg.ucloud.cn/' /etc/apt/sources.list \\\n && sudo sed -i 's/security.ubuntu.com/ubuntu.mirrors.yg.ucloud.cn/' /etc/apt/sources.list\n#   update ubuntu latest\nRUN echo \"2015.09.01\"\nRUN apt-get update -qq \\\n && apt-get -qq -y dist-upgrade\n#   install essential packages\nRUN apt-get install build-essential software-properties-common git wget curl -qq -y\n#   install dev library\nRUN apt-get install bison openssl libreadline6 libreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-0 libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev ncurses-dev libffi-dev libmysqlclient-dev imagemagick libmagickcore-dev libmagickwand-dev -qq -y\n#   install java\nRUN echo oracle-java7-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && add-apt-repository -y ppa:webupd8team/java \\\n && apt-get update -qq \\\n && apt-get install oracle-java7-installer -qq -y \\\n && rm -rf /var/lib/apt/lists/* \\\n && rm -rf /var/cache/oracle-jdk7-installer\nENV JAVA_HOME=\"/usr/lib/jvm/java-7-oracle\"\n#   install tomcat\nRUN mkdir /app \\\n && cd /app \\\n && wget -q -O - http://mirror.bit.edu.cn/apache/tomcat/tomcat-7/v7.0.64/bin/apache-tomcat-7.0.64.tar.gz | tar xfz - \\\n && ln -s apache-tomcat-7.0.64 tomcat\n#   install jenkins\nRUN rm -rf /app/tomcat/webapps/*\nADD jenkins.war /app/tomcat/webapps/ROOT.war\n#   install rbenv\nRUN git clone https://github.com/sstephenson/rbenv.git ~/.rbenv \\\n && mkdir -p ~/.rbenv/plugins \\\n && git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n#   install node\nRUN curl -sL https://deb.nodesource.com/setup_0.12 | sudo bash - \\\n && apt-get install nodejs -qq -y \\\n && npm config set registry http://r.cnpmjs.org \\\n && npm install bower -g \\\n && npm install grunt-cli -g\n#   install docker\nRUN curl -sSL https://get.docker.com/ | sh\n#   setup jenkins\nWORKDIR /app\nENV JENKINS_HOME=\"/app/jenkins/home\"\n#   add plugins\nRUN mkdir -p /app/plugins\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/scm-api.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/git.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/git-client.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/git-server.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/ssh-agent.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/slack.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/violations.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/ansicolor.hpi\n#   add plugins (ruby)\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/rbenv.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/rake.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/ruby-runtime.hpi\nRUN wget -q -P /app/plugins http://updates.jenkins-ci.org/latest/rubyMetrics.hpi\n#   env\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US:en\"\nENV LC_ALL=\"en_US.UTF-8\"\nENV TERM=\"xterm\"\n#   volume\nVOLUME [\"/app/jenkins\"]\n#   expose\nEXPOSE 8080/tcp\n#   run\nADD run.sh /app/run.sh\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nCMD /app/run.sh\n","originalDockerfileUglifiedHash":"2cbe48a4df2c35a698f4cd77177660a6","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/f56b5aa5b9cad50ee0f756c51a3e42b2379bb65e.dockerfile"}