{"seed":243997163,"processedDockerfileHash":"9e5e97b8a5342ae3bdc60965e05abefd","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM debian/sortsmill\nRUN apt-get update \\\n && apt-get install --no-install-recommends subversion=1.14.2-4build2 ant=1.10.13-1 libicu-dev=72.1-3ubuntu1 openjdk-7-jdk python-numpy gobject-introspection=1.76.0-2 python-gobject-dev pkg-config=1.8.1-1ubuntu2 ragel=6.10-4 gtk-doc-tools=1.33.2-1 libgirepository1.0-dev=1.76.0-2 libpdf-api2-perl=2.044-1 libintl-perl=1.33-1 fntsample=5.4-3 texlive-xetex=2022.20230122-2 wget=1.21.3-1ubuntu1 xzdec=5.4.1-0.2 latexmk=1:4.79-1 packaging-dev=0.8.1 pkg-config=1.8.1-1ubuntu2 python-dev giflib-dbg libjpeg-dev=8c-2ubuntu11 libtiff-dev=4.5.0-4ubuntu1 uthash-dev=2.3.0-1 automake=1:1.16.5-1.3 flex=2.6.4-8.1 bison=2:3.8.2+dfsg-1build1 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   pdfoutline\n#   fntsample\n#   hb-shape\n#   ot-sanitise\nRUN mkdir -p /var/build\nRUN cd /var/build \\\n && svn checkout http://sfntly.googlecode.com/svn/trunk/ sfntly-read-only\nENV JAVA_TOOL_OPTIONS=\"-Dfile.encoding=UTF8\"\nRUN cd /var/build/sfntly-read-only/java \\\n && ant\nRUN echo \"#! /bin/sh\" > /usr/local/bin/sfnttool \\\n && echo \"java -jar /var/build/sfntly-read-only/java/dist/tools/sfnttool/sfnttool.jar $@\" >> /usr/local/bin/sfnttool \\\n && chmod +x /usr/local/bin/sfnttool\nRUN cd /var/build \\\n && git clone https://github.com/google/woff2.git \\\n && cd woff2 \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && git submodule init \\\n && git submodule update \\\n && make clean all \\\n && ln -s `pwd `/woff2_compress /usr/local/bin/ \\\n && ln -s `pwd `/woff2_decompress /usr/local/bin/\nRUN cd /var/build \\\n && git clone https://github.com/behdad/fonttools.git \\\n && cd fonttools \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && python setup.py install \\\n && cd /var/build \\\n && rm -rf fonttools\nRUN cd /var/build \\\n && git clone --recursive https://github.com/khaledhosny/ots.git \\\n && cd ots \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && ./autogen.sh \\\n && ./configure \\\n && make \\\n && ln -s `pwd `/out/Default/ot-sanitise /usr/local/bin\nRUN cd /var/build \\\n && git clone https://github.com/behdad/harfbuzz.git \\\n && cd harfbuzz \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && ./autogen.sh \\\n && make distclean \\\n && mkdir .build \\\n && cd .build \\\n && ../configure --with-gobject --enable-introspection \\\n && make \\\n && make install \\\n && cd /var/build \\\n && rm -rf harfbuzz\nRUN tlmgr init-usertree \\\n && tlmgr install bidi iftex\nRUN cd /var/build \\\n && git clone https://github.com/robofab-developers/robofab.git \\\n && cd robofab \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && git checkout ufo3k \\\n && python install.py\n#   todo: precompile these:\n#   ;;; compiling /usr/local/share/guile/site/2.0/sortsmill/fonts/anchors.scm\n#   ;;; compiling /usr/local/share/guile/site/2.0/sortsmill/fonts/views.scm\n#   ;;; compiling /usr/local/share/guile/site/2.0/sortsmill/fontforge-api.scm\n#   ;;; compiled /root/.cache/guile/ccache/2.0-LE-8-2.0/usr/local/share/guile/site/2.0/sortsmill/fontforge-api.scm.go\n#  ;;; compiled /root/.cache/guile/ccache/2.0-LE-8-2.0/usr/local/share/guile/site/2.0/sortsmill/fonts/views.scm.go\n#  ;;; compiled /root/.cache/guile/ccache/2.0-LE-8-2.0/usr/local/share/guile/site/2.0/sortsmill/fonts/anchors.scm.go\n#   add fontforge to the mix\n#   fontforge is better in reading and writing ufo from sfd\n#   because these improvements came after the sortsmill fork, AFAIK.\n#   build libuninameslist\nRUN cd /var/build \\\n && git clone https://github.com/fontforge/libuninameslist.git \\\n && cd libuninameslist \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && autoreconf -i \\\n && automake --foreign \\\n && mkdir .build \\\n && cd .build \\\n && ../configure \\\n && make \\\n && make install \\\n && cd /var/build \\\n && rm -rf libuninameslist\nRUN cd /var/build \\\n && git clone https://github.com/fontforge/fontforge.git \\\n && cd fontforge \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && ./bootstrap \\\n && mkdir .build \\\n && cd .build \\\n && ../configure \\\n && make \\\n && make install \\\n && ldconfig \\\n && cd /var/build \\\n && rm -rf fontforge\nRUN cd /var/build \\\n && git clone https://github.com/typesupply/defcon.git \\\n && cd defcon \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && git checkout ufo3 \\\n && python setup.py install \\\n && cd /var/build \\\n && rm -rf defcon\nRUN cd /var/build \\\n && git clone https://github.com/typemytype/booleanOperations.git \\\n && cd booleanOperations/cppWrapper \\\n && python setup.py build_ext --inplace \\\n && cp pyClipper.so ../Lib/booleanOperations/pyClipper.so \\\n && cd .. \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && python setup.py install \\\n && cd /var/build \\\n && rm -rf booleanOperations\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM debian/sortsmill\nRUN apt-get update \\\n && apt-get install subversion ant libicu-dev openjdk-7-jdk python-numpy gobject-introspection python-gobject-dev pkg-config ragel gtk-doc-tools libgirepository1.0-dev libpdf-api2-perl libintl-perl fntsample texlive-xetex wget xzdec latexmk packaging-dev pkg-config python-dev giflib-dbg libjpeg-dev libtiff-dev uthash-dev automake flex bison -y \\\n && rm -rf /var/lib/apt/lists/*\n#  pdfoutline\n#  fntsample\n#  hb-shape\n#  ot-sanitise\nRUN mkdir -p /var/build\nRUN cd /var/build \\\n && svn checkout http://sfntly.googlecode.com/svn/trunk/ sfntly-read-only\nENV JAVA_TOOL_OPTIONS=\"-Dfile.encoding=UTF8\"\nRUN cd /var/build/sfntly-read-only/java \\\n && ant\nRUN echo \"#! /bin/sh\" > /usr/local/bin/sfnttool \\\n && echo \"java -jar /var/build/sfntly-read-only/java/dist/tools/sfnttool/sfnttool.jar $@\" >> /usr/local/bin/sfnttool \\\n && chmod +x /usr/local/bin/sfnttool\nRUN cd /var/build \\\n && git clone https://github.com/google/woff2.git \\\n && cd woff2 \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && git submodule init \\\n && git submodule update \\\n && make clean all \\\n && ln -s `pwd `/woff2_compress /usr/local/bin/ \\\n && ln -s `pwd `/woff2_decompress /usr/local/bin/\nRUN cd /var/build \\\n && git clone https://github.com/behdad/fonttools.git \\\n && cd fonttools \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && python setup.py install \\\n && cd /var/build \\\n && rm -rf fonttools\nRUN cd /var/build \\\n && git clone --recursive https://github.com/khaledhosny/ots.git \\\n && cd ots \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && ./autogen.sh \\\n && ./configure \\\n && make \\\n && ln -s `pwd `/out/Default/ot-sanitise /usr/local/bin\nRUN cd /var/build \\\n && git clone https://github.com/behdad/harfbuzz.git \\\n && cd harfbuzz \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && ./autogen.sh \\\n && make distclean \\\n && mkdir .build \\\n && cd .build \\\n && ../configure --with-gobject --enable-introspection \\\n && make \\\n && make install \\\n && cd /var/build \\\n && rm -rf harfbuzz\nRUN tlmgr init-usertree \\\n && tlmgr install bidi iftex\nRUN cd /var/build \\\n && git clone https://github.com/robofab-developers/robofab.git \\\n && cd robofab \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && git checkout ufo3k \\\n && python install.py\n#  todo: precompile these:\n#  ;;; compiling /usr/local/share/guile/site/2.0/sortsmill/fonts/anchors.scm\n#  ;;; compiling /usr/local/share/guile/site/2.0/sortsmill/fonts/views.scm\n#  ;;; compiling /usr/local/share/guile/site/2.0/sortsmill/fontforge-api.scm\n#  ;;; compiled /root/.cache/guile/ccache/2.0-LE-8-2.0/usr/local/share/guile/site/2.0/sortsmill/fontforge-api.scm.go\n# ;;; compiled /root/.cache/guile/ccache/2.0-LE-8-2.0/usr/local/share/guile/site/2.0/sortsmill/fonts/views.scm.go\n# ;;; compiled /root/.cache/guile/ccache/2.0-LE-8-2.0/usr/local/share/guile/site/2.0/sortsmill/fonts/anchors.scm.go\n#  add fontforge to the mix\n#  fontforge is better in reading and writing ufo from sfd\n#  because these improvements came after the sortsmill fork, AFAIK.\n#  build libuninameslist\nRUN cd /var/build \\\n && git clone https://github.com/fontforge/libuninameslist.git \\\n && cd libuninameslist \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && autoreconf -i \\\n && automake --foreign \\\n && mkdir .build \\\n && cd .build \\\n && ../configure \\\n && make \\\n && make install \\\n && cd /var/build \\\n && rm -rf libuninameslist\nRUN cd /var/build \\\n && git clone https://github.com/fontforge/fontforge.git \\\n && cd fontforge \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && ./bootstrap \\\n && mkdir .build \\\n && cd .build \\\n && ../configure \\\n && make \\\n && make install \\\n && ldconfig \\\n && cd /var/build \\\n && rm -rf fontforge\nRUN cd /var/build \\\n && git clone https://github.com/typesupply/defcon.git \\\n && cd defcon \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && git checkout ufo3 \\\n && python setup.py install \\\n && cd /var/build \\\n && rm -rf defcon\nRUN cd /var/build \\\n && git clone https://github.com/typemytype/booleanOperations.git \\\n && cd booleanOperations/cppWrapper \\\n && python setup.py build_ext --inplace \\\n && cp pyClipper.so ../Lib/booleanOperations/pyClipper.so \\\n && cd .. \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && python setup.py install \\\n && cd /var/build \\\n && rm -rf booleanOperations\n","injectedSmells":[],"originalDockerfileHash":"bd5e95cbd811ab8d35110e9a0e8b19eb","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM debian/sortsmill\nRUN apt-get update \\\n && apt-get install subversion ant libicu-dev openjdk-7-jdk python-numpy gobject-introspection python-gobject-dev pkg-config ragel gtk-doc-tools libgirepository1.0-dev libpdf-api2-perl libintl-perl fntsample texlive-xetex wget xzdec latexmk packaging-dev pkg-config python-dev giflib-dbg libjpeg-dev libtiff-dev uthash-dev automake flex bison -y \\\n && rm -rf /var/lib/apt/lists/*\n#   pdfoutline\n#   fntsample\n#   hb-shape\n#   ot-sanitise\nRUN mkdir -p /var/build\nRUN cd /var/build \\\n && svn checkout http://sfntly.googlecode.com/svn/trunk/ sfntly-read-only\nENV JAVA_TOOL_OPTIONS=\"-Dfile.encoding=UTF8\"\nRUN cd /var/build/sfntly-read-only/java \\\n && ant\nRUN echo \"#! /bin/sh\" > /usr/local/bin/sfnttool \\\n && echo \"java -jar /var/build/sfntly-read-only/java/dist/tools/sfnttool/sfnttool.jar $@\" >> /usr/local/bin/sfnttool \\\n && chmod +x /usr/local/bin/sfnttool\nRUN cd /var/build \\\n && git clone https://github.com/google/woff2.git \\\n && cd woff2 \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && git submodule init \\\n && git submodule update \\\n && make clean all \\\n && ln -s `pwd `/woff2_compress /usr/local/bin/ \\\n && ln -s `pwd `/woff2_decompress /usr/local/bin/\nRUN cd /var/build \\\n && git clone https://github.com/behdad/fonttools.git \\\n && cd fonttools \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && python setup.py install \\\n && cd /var/build \\\n && rm -rf fonttools\nRUN cd /var/build \\\n && git clone --recursive https://github.com/khaledhosny/ots.git \\\n && cd ots \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && ./autogen.sh \\\n && ./configure \\\n && make \\\n && ln -s `pwd `/out/Default/ot-sanitise /usr/local/bin\nRUN cd /var/build \\\n && git clone https://github.com/behdad/harfbuzz.git \\\n && cd harfbuzz \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && ./autogen.sh \\\n && make distclean \\\n && mkdir .build \\\n && cd .build \\\n && ../configure --with-gobject --enable-introspection \\\n && make \\\n && make install \\\n && cd /var/build \\\n && rm -rf harfbuzz\nRUN tlmgr init-usertree \\\n && tlmgr install bidi iftex\nRUN cd /var/build \\\n && git clone https://github.com/robofab-developers/robofab.git \\\n && cd robofab \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && git checkout ufo3k \\\n && python install.py\n#   todo: precompile these:\n#   ;;; compiling /usr/local/share/guile/site/2.0/sortsmill/fonts/anchors.scm\n#   ;;; compiling /usr/local/share/guile/site/2.0/sortsmill/fonts/views.scm\n#   ;;; compiling /usr/local/share/guile/site/2.0/sortsmill/fontforge-api.scm\n#   ;;; compiled /root/.cache/guile/ccache/2.0-LE-8-2.0/usr/local/share/guile/site/2.0/sortsmill/fontforge-api.scm.go\n#  ;;; compiled /root/.cache/guile/ccache/2.0-LE-8-2.0/usr/local/share/guile/site/2.0/sortsmill/fonts/views.scm.go\n#  ;;; compiled /root/.cache/guile/ccache/2.0-LE-8-2.0/usr/local/share/guile/site/2.0/sortsmill/fonts/anchors.scm.go\n#   add fontforge to the mix\n#   fontforge is better in reading and writing ufo from sfd\n#   because these improvements came after the sortsmill fork, AFAIK.\n#   build libuninameslist\nRUN cd /var/build \\\n && git clone https://github.com/fontforge/libuninameslist.git \\\n && cd libuninameslist \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && autoreconf -i \\\n && automake --foreign \\\n && mkdir .build \\\n && cd .build \\\n && ../configure \\\n && make \\\n && make install \\\n && cd /var/build \\\n && rm -rf libuninameslist\nRUN cd /var/build \\\n && git clone https://github.com/fontforge/fontforge.git \\\n && cd fontforge \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && ./bootstrap \\\n && mkdir .build \\\n && cd .build \\\n && ../configure \\\n && make \\\n && make install \\\n && ldconfig \\\n && cd /var/build \\\n && rm -rf fontforge\nRUN cd /var/build \\\n && git clone https://github.com/typesupply/defcon.git \\\n && cd defcon \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && git checkout ufo3 \\\n && python setup.py install \\\n && cd /var/build \\\n && rm -rf defcon\nRUN cd /var/build \\\n && git clone https://github.com/typemytype/booleanOperations.git \\\n && cd booleanOperations/cppWrapper \\\n && python setup.py build_ext --inplace \\\n && cp pyClipper.so ../Lib/booleanOperations/pyClipper.so \\\n && cd .. \\\n && echo `git config --get remote.origin.url ` at `git rev-parse HEAD ` >> /var/build/versions.txt \\\n && python setup.py install \\\n && cd /var/build \\\n && rm -rf booleanOperations\n","originalDockerfileUglifiedHash":"c5f0762939859efbf5fe206f95d5aaf8","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/7ffbb08f5625ed2627758d08f4640e5af3fb0560.dockerfile"}