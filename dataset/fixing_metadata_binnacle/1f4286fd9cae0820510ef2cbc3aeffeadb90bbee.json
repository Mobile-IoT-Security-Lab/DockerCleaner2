{"seed":1715264807,"processedDockerfileHash":"cfcde2726ee0548e890812225ecaabb9","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:bionic\nENV JQ_VERSION=\"1.5\"\nENV JQ_CHECKSUM=\"d8e36831c3c94bb58be34dd544f44a6c6cb88568\"\nENV go_version=\"1.12.6\"\nENV cf_cli_version=\"6.43.0\"\nENV bosh_cli_version=\"5.5.1\"\nENV bbl_version=\"8.1.0\"\nENV terraform_version=\"0.12.3\"\nENV credhub_cli_version=\"2.5.1\"\nENV git_crypt_version=\"0.6.0\"\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-utils=1.6.14 build-essential=12.4ubuntu1 git=1:2.17.1-1ubuntu0.17 libreadline7=7.0-3 libreadline6-dev libsqlite3-dev=3.22.0-1ubuntu0.7 libssl-dev=1.1.1-1ubuntu2.1~18.04.21 libxml2-dev=2.9.4+dfsg1-6.1ubuntu1.8 libxslt-dev libyaml-dev=0.1.7-2ubuntu3 netcat-openbsd=1.187-1ubuntu0.1 openssl=1.1.1-1ubuntu2.1~18.04.21 software-properties-common=0.96.24.32.20 sqlite=2.8.17-14fakesync1 unzip=6.0-21ubuntu1.2 wget=1.19.4-1ubuntu2.2 curl=7.58.0-2ubuntu3.24 zlib1g-dev=1:1.2.11.dfsg-0ubuntu2.2 zlibc=0.9k-4.3 -y \\\n && add-apt-repository ppa:brightbox/ruby-ng -y \\\n && apt-get update \\\n && apt-get install --no-install-recommends ruby2.5=2.5.1-1ubuntu1.13 ruby2.5-dev=2.5.1-1ubuntu1.13 -y \\\n && apt-get remove -y --purge software-properties-common\n#   jq\nRUN wget https://github.com/stedolan/jq/releases/download/jq-${JQ_VERSION}/jq-linux64 --output-document=\"/usr/bin/jq\" \\\n && cd /usr/bin \\\n && echo \"${JQ_CHECKSUM} jq\" | sha1sum -c - \\\n && chmod +x jq\n#   bosh-cli\nRUN wget https://s3.amazonaws.com/bosh-cli-artifacts/bosh-cli-${bosh_cli_version}-linux-amd64 --output-document=\"/usr/bin/bosh\" \\\n && chmod +x /usr/bin/bosh\n#   cf-cli\nRUN cd /tmp \\\n && wget -q -O cf.deb \"https://cli.run.pivotal.io/stable?release=debian64&version=${cf_cli_version}&source=github-rel\" \\\n && dpkg -i cf.deb \\\n && rm cf.deb\n#   credhub-cli\nRUN wget https://github.com/cloudfoundry-incubator/credhub-cli/releases/download/${credhub_cli_version}/credhub-linux-${credhub_cli_version}.tgz -P /tmp \\\n && tar xzvf /tmp/credhub-linux-${credhub_cli_version}.tgz -C /usr/local/bin \\\n && chmod +x /usr/local/bin/credhub\n#   bbl and dependencies\nRUN wget https://github.com/cloudfoundry/bosh-bootloader/releases/download/v${bbl_version}/bbl-v${bbl_version}_linux_x86-64 -P /tmp \\\n && mv /tmp/bbl-* /usr/local/bin/bbl \\\n && cd /usr/local/bin \\\n && chmod +x bbl\nRUN wget https://github.com/cloudfoundry/bosh-bootloader/archive/v${bbl_version}.tar.gz -P /tmp \\\n && mkdir -p /var/repos/bosh-bootloader \\\n && tar xvf /tmp/v${bbl_version}.tar.gz --strip-components=1 -C /var/repos/bosh-bootloader \\\n && rm -rf /tmp/*\nRUN wget \"https://releases.hashicorp.com/terraform/${terraform_version}/terraform_${terraform_version}_linux_amd64.zip\" -P /tmp \\\n && cd /tmp \\\n && curl https://releases.hashicorp.com/terraform/${terraform_version}/terraform_${terraform_version}_SHA256SUMS | grep linux_amd64 | shasum -c - \\\n && unzip \"/tmp/terraform_${terraform_version}_linux_amd64.zip\" -d /tmp \\\n && mv /tmp/terraform /usr/local/bin/terraform \\\n && cd /usr/local/bin \\\n && chmod +x terraform \\\n && rm -rf /tmp/*\n#   git-crypt\nRUN wget https://github.com/AGWA/git-crypt/archive/${git_crypt_version}.tar.gz -O /tmp/git-crypt.tar.gz \\\n && tar xzvf /tmp/git-crypt.tar.gz -C /tmp \\\n && cd /tmp/git-crypt-${git_crypt_version} \\\n && make PREFIX=/usr/local install \\\n && rm -rf /tmp/*\nENV GOPATH=\"/go\"\nENV PATH=\"/go/bin:/usr/local/go/bin:$PATH\"\nRUN wget https://golang.org/dl/go${go_version}.linux-amd64.tar.gz -P /tmp \\\n && tar xzvf /tmp/go${go_version}.linux-amd64.tar.gz -C /usr/local \\\n && mkdir ${GOPATH} \\\n && rm -rf /tmp/*\n#   Log Cache CLI\nRUN go get -u code.cloudfoundry.org/log-cache-cli/cmd/cf-lc-plugin \\\n && cf install-plugin ${GOPATH}/bin/cf-lc-plugin -f\nRUN go get -u github.com/cloudfoundry/uptimer \\\n && go get -u github.com/onsi/ginkgo/... \\\n && cd ${GOPATH}/src/github.com/cloudfoundry/uptimer \\\n && ginkgo -r -randomizeSuites -randomizeAllSpecs \\\n && cd -\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:bionic\nENV JQ_VERSION=\"1.5\"\nENV JQ_CHECKSUM=\"d8e36831c3c94bb58be34dd544f44a6c6cb88568\"\nENV go_version=\"1.12.6\"\nENV cf_cli_version=\"6.43.0\"\nENV bosh_cli_version=\"5.5.1\"\nENV bbl_version=\"8.1.0\"\nENV terraform_version=\"0.12.3\"\nENV credhub_cli_version=\"2.5.1\"\nENV git_crypt_version=\"0.6.0\"\nRUN apt-get update \\\n && apt-get install apt-utils build-essential git libreadline7 libreadline6-dev libsqlite3-dev libssl-dev libxml2-dev libxslt-dev libyaml-dev netcat-openbsd openssl software-properties-common sqlite unzip wget curl zlib1g-dev zlibc -y \\\n && add-apt-repository ppa:brightbox/ruby-ng -y \\\n && apt-get update \\\n && apt-get install ruby2.5 ruby2.5-dev -y \\\n && apt-get remove -y --purge software-properties-common\n#  jq\nRUN wget https://github.com/stedolan/jq/releases/download/jq-${JQ_VERSION}/jq-linux64 --output-document=\"/usr/bin/jq\" \\\n && cd /usr/bin \\\n && echo \"${JQ_CHECKSUM} jq\" | sha1sum -c - \\\n && chmod +x jq\n#  bosh-cli\nRUN wget https://s3.amazonaws.com/bosh-cli-artifacts/bosh-cli-${bosh_cli_version}-linux-amd64 --output-document=\"/usr/bin/bosh\" \\\n && chmod +x /usr/bin/bosh\n#  cf-cli\nRUN cd /tmp \\\n && wget -q -O cf.deb \"https://cli.run.pivotal.io/stable?release=debian64&version=${cf_cli_version}&source=github-rel\" \\\n && dpkg -i cf.deb \\\n && rm cf.deb\n#  credhub-cli\nRUN wget https://github.com/cloudfoundry-incubator/credhub-cli/releases/download/${credhub_cli_version}/credhub-linux-${credhub_cli_version}.tgz -P /tmp \\\n && tar xzvf /tmp/credhub-linux-${credhub_cli_version}.tgz -C /usr/local/bin \\\n && chmod +x /usr/local/bin/credhub\n#  bbl and dependencies\nRUN wget https://github.com/cloudfoundry/bosh-bootloader/releases/download/v${bbl_version}/bbl-v${bbl_version}_linux_x86-64 -P /tmp \\\n && mv /tmp/bbl-* /usr/local/bin/bbl \\\n && cd /usr/local/bin \\\n && chmod +x bbl\nRUN wget https://github.com/cloudfoundry/bosh-bootloader/archive/v${bbl_version}.tar.gz -P /tmp \\\n && mkdir -p /var/repos/bosh-bootloader \\\n && tar xvf /tmp/v${bbl_version}.tar.gz --strip-components=1 -C /var/repos/bosh-bootloader \\\n && rm -rf /tmp/*\nRUN wget \"https://releases.hashicorp.com/terraform/${terraform_version}/terraform_${terraform_version}_linux_amd64.zip\" -P /tmp \\\n && cd /tmp \\\n && curl https://releases.hashicorp.com/terraform/${terraform_version}/terraform_${terraform_version}_SHA256SUMS | grep linux_amd64 | shasum -c - \\\n && unzip \"/tmp/terraform_${terraform_version}_linux_amd64.zip\" -d /tmp \\\n && mv /tmp/terraform /usr/local/bin/terraform \\\n && cd /usr/local/bin \\\n && chmod +x terraform \\\n && rm -rf /tmp/*\n#  git-crypt\nRUN wget https://github.com/AGWA/git-crypt/archive/${git_crypt_version}.tar.gz -O /tmp/git-crypt.tar.gz \\\n && tar xzvf /tmp/git-crypt.tar.gz -C /tmp \\\n && cd /tmp/git-crypt-${git_crypt_version} \\\n && make PREFIX=/usr/local install \\\n && rm -rf /tmp/*\nENV GOPATH=\"/go\"\nENV PATH=\"/go/bin:/usr/local/go/bin:$PATH\"\nRUN wget https://golang.org/dl/go${go_version}.linux-amd64.tar.gz -P /tmp \\\n && tar xzvf /tmp/go${go_version}.linux-amd64.tar.gz -C /usr/local \\\n && mkdir ${GOPATH} \\\n && rm -rf /tmp/*\n#  Log Cache CLI\nRUN go get -u code.cloudfoundry.org/log-cache-cli/cmd/cf-lc-plugin \\\n && cf install-plugin ${GOPATH}/bin/cf-lc-plugin -f\nRUN go get -u github.com/cloudfoundry/uptimer \\\n && go get -u github.com/onsi/ginkgo/... \\\n && cd ${GOPATH}/src/github.com/cloudfoundry/uptimer \\\n && ginkgo -r -randomizeSuites -randomizeAllSpecs \\\n && cd -\n","injectedSmells":[],"originalDockerfileHash":"c9c5ef9e7899839188ebedc9663cdd27","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:bionic\nENV JQ_VERSION=\"1.5\"\nENV JQ_CHECKSUM=\"d8e36831c3c94bb58be34dd544f44a6c6cb88568\"\nENV go_version=\"1.12.6\"\nENV cf_cli_version=\"6.43.0\"\nENV bosh_cli_version=\"5.5.1\"\nENV bbl_version=\"8.1.0\"\nENV terraform_version=\"0.12.3\"\nENV credhub_cli_version=\"2.5.1\"\nENV git_crypt_version=\"0.6.0\"\nRUN apt-get update \\\n && apt-get install apt-utils build-essential git libreadline7 libreadline6-dev libsqlite3-dev libssl-dev libxml2-dev libxslt-dev libyaml-dev netcat-openbsd openssl software-properties-common sqlite unzip wget curl zlib1g-dev zlibc -y \\\n && add-apt-repository ppa:brightbox/ruby-ng -y \\\n && apt-get update \\\n && apt-get install ruby2.5 ruby2.5-dev -y \\\n && apt-get remove -y --purge software-properties-common\n#   jq\nRUN wget https://github.com/stedolan/jq/releases/download/jq-${JQ_VERSION}/jq-linux64 --output-document=\"/usr/bin/jq\" \\\n && cd /usr/bin \\\n && echo \"${JQ_CHECKSUM} jq\" | sha1sum -c - \\\n && chmod +x jq\n#   bosh-cli\nRUN wget https://s3.amazonaws.com/bosh-cli-artifacts/bosh-cli-${bosh_cli_version}-linux-amd64 --output-document=\"/usr/bin/bosh\" \\\n && chmod +x /usr/bin/bosh\n#   cf-cli\nRUN cd /tmp \\\n && wget -q -O cf.deb \"https://cli.run.pivotal.io/stable?release=debian64&version=${cf_cli_version}&source=github-rel\" \\\n && dpkg -i cf.deb \\\n && rm cf.deb\n#   credhub-cli\nRUN wget https://github.com/cloudfoundry-incubator/credhub-cli/releases/download/${credhub_cli_version}/credhub-linux-${credhub_cli_version}.tgz -P /tmp \\\n && tar xzvf /tmp/credhub-linux-${credhub_cli_version}.tgz -C /usr/local/bin \\\n && chmod +x /usr/local/bin/credhub\n#   bbl and dependencies\nRUN wget https://github.com/cloudfoundry/bosh-bootloader/releases/download/v${bbl_version}/bbl-v${bbl_version}_linux_x86-64 -P /tmp \\\n && mv /tmp/bbl-* /usr/local/bin/bbl \\\n && cd /usr/local/bin \\\n && chmod +x bbl\nRUN wget https://github.com/cloudfoundry/bosh-bootloader/archive/v${bbl_version}.tar.gz -P /tmp \\\n && mkdir -p /var/repos/bosh-bootloader \\\n && tar xvf /tmp/v${bbl_version}.tar.gz --strip-components=1 -C /var/repos/bosh-bootloader \\\n && rm -rf /tmp/*\nRUN wget \"https://releases.hashicorp.com/terraform/${terraform_version}/terraform_${terraform_version}_linux_amd64.zip\" -P /tmp \\\n && cd /tmp \\\n && curl https://releases.hashicorp.com/terraform/${terraform_version}/terraform_${terraform_version}_SHA256SUMS | grep linux_amd64 | shasum -c - \\\n && unzip \"/tmp/terraform_${terraform_version}_linux_amd64.zip\" -d /tmp \\\n && mv /tmp/terraform /usr/local/bin/terraform \\\n && cd /usr/local/bin \\\n && chmod +x terraform \\\n && rm -rf /tmp/*\n#   git-crypt\nRUN wget https://github.com/AGWA/git-crypt/archive/${git_crypt_version}.tar.gz -O /tmp/git-crypt.tar.gz \\\n && tar xzvf /tmp/git-crypt.tar.gz -C /tmp \\\n && cd /tmp/git-crypt-${git_crypt_version} \\\n && make PREFIX=/usr/local install \\\n && rm -rf /tmp/*\nENV GOPATH=\"/go\"\nENV PATH=\"/go/bin:/usr/local/go/bin:$PATH\"\nRUN wget https://golang.org/dl/go${go_version}.linux-amd64.tar.gz -P /tmp \\\n && tar xzvf /tmp/go${go_version}.linux-amd64.tar.gz -C /usr/local \\\n && mkdir ${GOPATH} \\\n && rm -rf /tmp/*\n#   Log Cache CLI\nRUN go get -u code.cloudfoundry.org/log-cache-cli/cmd/cf-lc-plugin \\\n && cf install-plugin ${GOPATH}/bin/cf-lc-plugin -f\nRUN go get -u github.com/cloudfoundry/uptimer \\\n && go get -u github.com/onsi/ginkgo/... \\\n && cd ${GOPATH}/src/github.com/cloudfoundry/uptimer \\\n && ginkgo -r -randomizeSuites -randomizeAllSpecs \\\n && cd -\n","originalDockerfileUglifiedHash":"bc8b3acd16b4c2cd210ecee3058fe7ae","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/1f4286fd9cae0820510ef2cbc3aeffeadb90bbee.dockerfile"}