{"seed":907981304,"processedDockerfileHash":"d9cceff601a30ac9d7bd03db58461459","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-npm","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:18.04\nMAINTAINER Robert E. Smith <robert.smith@florey.edu.au>\n#   Core system capabilities required\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends bc=1.07.1-2 build-essential=12.4ubuntu1 dc=1.07.1-2 git=1:2.17.1-1ubuntu0.17 libopenblas-dev=0.2.20+ds-4 nano=2.9.3-2 nodejs=8.10.0~dfsg-2ubuntu0.4 npm=3.5.2-0ubuntu4 perl-modules python=2.7.15~rc1-1 tar=1.29b-2ubuntu0.4 tcsh=6.20.00-7 unzip=6.0-21ubuntu1.2 wget=1.19.4-1ubuntu2.2 -y )\n#   ANTs installs tzdata as a dependency; however its installer is interactive\n#   Therefore we need to do some shenanigans here to force it though\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y tzdata\n#   NeuroDebian setup\nRUN wget -qO- http://neuro.debian.net/lists/artful.au.full | tee /etc/apt/sources.list.d/neurodebian.sources.list\nCOPY neurodebian.gpg /neurodebian.gpg\nRUN apt-key add /neurodebian.gpg \\\n && :\n#   Additional dependencies for MRtrix3 compilation\nRUN (apt-get update ;apt-get install --no-install-recommends libeigen3-dev=3.3.4-4 libfftw3-dev=3.3.7-1 libtiff5-dev=4.0.9-5ubuntu0.10 zlib1g-dev=1:1.2.11.dfsg-0ubuntu2.2 -y )\n#   Attempt to install CUDA 8.0 for eddy_cuda\n#  RUN wget -q https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_8.0.61-1_amd64.deb && \\\n#      dpkg -i cuda-repo-ubuntu1404_8.0.61-1_amd64.deb && \\\n#      apt-get update && apt-get install -y cuda && \\\n#      rm -f cuda-repo-ubuntu1404_8.0.61-1_amd64.deb\n#   Neuroimaging software / data dependencies\nRUN wget -qO- https://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0/freesurfer-Linux-centos6_x86_64-stable-pub-v6.0.0.tar.gz | tar zx -C /opt --exclude='freesurfer/trctrain' --exclude='freesurfer/subjects/fsaverage_sym' --exclude='freesurfer/subjects/fsaverage3' --exclude='freesurfer/subjects/fsaverage4' --exclude='freesurfer/subjects/fsaverage5' --exclude='freesurfer/subjects/fsaverage6' --exclude='freesurfer/subjects/cvs_avg35' --exclude='freesurfer/subjects/cvs_avg35_inMNI152' --exclude='freesurfer/subjects/bert' --exclude='freesurfer/subjects/V1_average' --exclude='freesurfer/average/mult-comp-cor' --exclude='freesurfer/lib/cuda' --exclude='freesurfer/lib/qt'\nRUN (apt-get update ;apt-get install --no-install-recommends ants=2.2.0-1ubuntu1 -y )\n#   FSL installer appears to now be ready for use with version 6.0.0\n#   eddy is also now included in FSL6\nRUN wget -q http://fsl.fmrib.ox.ac.uk/fsldownloads/fslinstaller.py \\\n && chmod 775 fslinstaller.py\nRUN /fslinstaller.py -d /opt/fsl -V 6.0.0 -q\nRUN wget -qO- \"https://www.nitrc.org/frs/download.php/5994/ROBEXv12.linux64.tar.gz//?i_agree=1&download_now=1\" | tar zx -C /opt\nRUN npm install bids-validator@1.11.0 -gq\n#   apt cleanup to recover as much space as possible\nRUN apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Download additional data for neuroimaging software, e.g. templates / atlases\nRUN wget -qO- http://www.gin.cnrs.fr/AAL_files/aal_for_SPM12.tar.gz | tar zx -C /opt\nRUN wget -qO- http://www.gin.cnrs.fr/AAL2_files/aal2_for_SPM12.tar.gz | tar zx -C /opt\n#  RUN wget -q http://www.nitrc.org/frs/download.php/4499/sri24_anatomy_nifti.zip -O sri24_anatomy_nifti.zip && \\\n#      unzip -qq -o sri24_anatomy_nifti.zip -d /opt/ && \\\n#      rm -f sri24_anatomy_nifti.zip\n#  RUN wget -q http://www.nitrc.org/frs/download.php/4502/sri24_anatomy_unstripped_nifti.zip -O sri24_anatomy_unstripped_nifti.zip && \\\n#      unzip -qq -o sri24_anatomy_unstripped_nifti.zip -d /opt/ && \\\n#      rm -f sri24_anatomy_unstripped_nifti.zip\n#  RUN wget -q http://www.nitrc.org/frs/download.php/4508/sri24_labels_nifti.zip -O sri24_labels_nifti.zip && \\\n#      unzip -qq -o sri24_labels_nifti.zip -d /opt/ && \\\n#      rm -f sri24_labels_nifti.zip\nRUN wget -q https://github.com/AlistairPerry/CCA/raw/master/parcellations/512inMNI.nii -O /opt/512inMNI.nii\n#  RUN wget -q https://ndownloader.figshare.com/files/3133832 -O oasis.zip && \\\n#      unzip -qq oasis.zip -d /opt/ && \\\n#      rm -f oasis.zip\nRUN wget -qO- http://www.nitrc.org/frs/download.php/5906/ADHD200_parcellations.tar.gz | tar zx -C /opt\nRUN wget -q \"https://s3-eu-west-1.amazonaws.com/pfigshare-u-files/5528816/lh.HCPMMP1.annot\" -O /opt/freesurfer/subjects/fsaverage/label/lh.HCPMMP1.annot\nRUN wget -q \"https://s3-eu-west-1.amazonaws.com/pfigshare-u-files/5528819/rh.HCPMMP1.annot\" -O /opt/freesurfer/subjects/fsaverage/label/rh.HCPMMP1.annot\n#   Make ANTS happy\nENV ANTSPATH=\"/usr/lib/ants\"\nENV PATH=\"/usr/lib/ants:$PATH\"\n#   Make FreeSurfer happy\nENV PATH=\"/opt/freesurfer/bin:/opt/freesurfer/mni/bin:$PATH\"\nENV OS=\"Linux\"\nENV SUBJECTS_DIR=\"/opt/freesurfer/subjects\"\nENV FSF_OUTPUT_FORMAT=\"nii.gz\"\nENV MNI_DIR=\"/opt/freesurfer/mni\"\nENV LOCAL_DIR=\"/opt/freesurfer/local\"\nENV FREESURFER_HOME=\"/opt/freesurfer\"\nENV FSFAST_HOME=\"/opt/freesurfer/fsfast\"\nENV MINC_BIN_DIR=\"/opt/freesurfer/mni/bin\"\nENV MINC_LIB_DIR=\"/opt/freesurfer/mni/lib\"\nENV MNI_DATAPATH=\"/opt/freesurfer/mni/data\"\nENV FMRI_ANALYSIS_DIR=\"/opt/freesurfer/fsfast\"\nENV PERL5LIB=\"/opt/freesurfer/mni/lib/perl5/5.8.5\"\nENV MNI_PERL5LIB=\"/opt/freesurfer/mni/lib/perl5/5.8.5\"\nRUN echo \"cHJpbnRmICJyb2JlcnQuc21pdGhAZmxvcmV5LmVkdS5hdVxuMjg1NjdcbiAqQ3FLLjFwTXY4ZE5rXG4gRlNvbGRZRXRDUFZqNlxuIiA+IC9vcHQvZnJlZXN1cmZlci9saWNlbnNlLnR4dAo=\" | base64 -d | sh\n#   Make FSL happy\nENV FSLDIR=\"/opt/fsl\"\nENV PATH=\"$FSLDIR/bin:$PATH\"\nRUN /bin/bash -c 'source /opt/fsl/etc/fslconf/fsl.sh'\nENV FSLMULTIFILEQUIT=\"TRUE\"\nENV FSLOUTPUTTYPE=\"NIFTI\"\n#   Prevents warning appearing when the CUDA version invariably fails to run within the container environment\nRUN rm -f $FSLDIR/bin/eddy_cuda\n#   Make ROBEX happy\nENV PATH=\"/opt/ROBEX:$PATH\"\n#   MRtrix3 setup\n#   Commit checked out is 3.0_RC3 tag with subsequent hotfixes as at 14/12/2018\nRUN git clone https://github.com/MRtrix3/mrtrix3.git mrtrix3 \\\n && cd mrtrix3 \\\n && git checkout 2b8e7d0c2cb8c0d821a0461944855275766dc4f1 \\\n && python configure -nogui \\\n && python build -persistent -nopaginate \\\n && git describe --tags > /mrtrix3_version\n#  RUN echo $'FailOnWarn: 1\\n' > /etc/mrtrix.conf\n#   Setup environment variables for MRtrix3\nENV PATH=\"/mrtrix3/bin:$PATH\"\nENV PYTHONPATH=\"/mrtrix3/lib:$PYTHONPATH\"\n#   Acquire script to be executed\nCOPY mrtrix3_connectome.py /mrtrix3_connectome.py\nRUN chmod 775 /mrtrix3_connectome.py\nCOPY version /version\nENTRYPOINT [\"/mrtrix3_connectome.py\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:18.04\nMAINTAINER Robert E. Smith <robert.smith@florey.edu.au>\n#  Core system capabilities required\nRUN apt-get update \\\n && apt-get install bc build-essential dc git libopenblas-dev nano nodejs npm perl-modules python tar tcsh unzip wget -y\n#  ANTs installs tzdata as a dependency; however its installer is interactive\n#  Therefore we need to do some shenanigans here to force it though\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y tzdata\n#  NeuroDebian setup\nRUN wget -qO- http://neuro.debian.net/lists/artful.au.full | tee /etc/apt/sources.list.d/neurodebian.sources.list\nCOPY neurodebian.gpg /neurodebian.gpg\nRUN apt-key add /neurodebian.gpg \\\n && apt-get update\n#  Additional dependencies for MRtrix3 compilation\nRUN apt-get install libeigen3-dev libfftw3-dev libtiff5-dev zlib1g-dev -y\n#  Attempt to install CUDA 8.0 for eddy_cuda\n# RUN wget -q https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_8.0.61-1_amd64.deb && \\\n#     dpkg -i cuda-repo-ubuntu1404_8.0.61-1_amd64.deb && \\\n#     apt-get update && apt-get install -y cuda && \\\n#     rm -f cuda-repo-ubuntu1404_8.0.61-1_amd64.deb\n#  Neuroimaging software / data dependencies\nRUN wget -qO- https://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0/freesurfer-Linux-centos6_x86_64-stable-pub-v6.0.0.tar.gz | tar zx -C /opt --exclude='freesurfer/trctrain' --exclude='freesurfer/subjects/fsaverage_sym' --exclude='freesurfer/subjects/fsaverage3' --exclude='freesurfer/subjects/fsaverage4' --exclude='freesurfer/subjects/fsaverage5' --exclude='freesurfer/subjects/fsaverage6' --exclude='freesurfer/subjects/cvs_avg35' --exclude='freesurfer/subjects/cvs_avg35_inMNI152' --exclude='freesurfer/subjects/bert' --exclude='freesurfer/subjects/V1_average' --exclude='freesurfer/average/mult-comp-cor' --exclude='freesurfer/lib/cuda' --exclude='freesurfer/lib/qt'\nRUN apt-get install ants -y\n#  FSL installer appears to now be ready for use with version 6.0.0\n#  eddy is also now included in FSL6\nRUN wget -q http://fsl.fmrib.ox.ac.uk/fsldownloads/fslinstaller.py \\\n && chmod 775 fslinstaller.py\nRUN /fslinstaller.py -d /opt/fsl -V 6.0.0 -q\nRUN wget -qO- \"https://www.nitrc.org/frs/download.php/5994/ROBEXv12.linux64.tar.gz//?i_agree=1&download_now=1\" | tar zx -C /opt\nRUN npm install bids-validator -gq\n#  apt cleanup to recover as much space as possible\nRUN apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  Download additional data for neuroimaging software, e.g. templates / atlases\nRUN wget -qO- http://www.gin.cnrs.fr/AAL_files/aal_for_SPM12.tar.gz | tar zx -C /opt\nRUN wget -qO- http://www.gin.cnrs.fr/AAL2_files/aal2_for_SPM12.tar.gz | tar zx -C /opt\n# RUN wget -q http://www.nitrc.org/frs/download.php/4499/sri24_anatomy_nifti.zip -O sri24_anatomy_nifti.zip && \\\n#     unzip -qq -o sri24_anatomy_nifti.zip -d /opt/ && \\\n#     rm -f sri24_anatomy_nifti.zip\n# RUN wget -q http://www.nitrc.org/frs/download.php/4502/sri24_anatomy_unstripped_nifti.zip -O sri24_anatomy_unstripped_nifti.zip && \\\n#     unzip -qq -o sri24_anatomy_unstripped_nifti.zip -d /opt/ && \\\n#     rm -f sri24_anatomy_unstripped_nifti.zip\n# RUN wget -q http://www.nitrc.org/frs/download.php/4508/sri24_labels_nifti.zip -O sri24_labels_nifti.zip && \\\n#     unzip -qq -o sri24_labels_nifti.zip -d /opt/ && \\\n#     rm -f sri24_labels_nifti.zip\nRUN wget -q https://github.com/AlistairPerry/CCA/raw/master/parcellations/512inMNI.nii -O /opt/512inMNI.nii\n# RUN wget -q https://ndownloader.figshare.com/files/3133832 -O oasis.zip && \\\n#     unzip -qq oasis.zip -d /opt/ && \\\n#     rm -f oasis.zip\nRUN wget -qO- http://www.nitrc.org/frs/download.php/5906/ADHD200_parcellations.tar.gz | tar zx -C /opt\nRUN wget -q \"https://s3-eu-west-1.amazonaws.com/pfigshare-u-files/5528816/lh.HCPMMP1.annot\" -O /opt/freesurfer/subjects/fsaverage/label/lh.HCPMMP1.annot\nRUN wget -q \"https://s3-eu-west-1.amazonaws.com/pfigshare-u-files/5528819/rh.HCPMMP1.annot\" -O /opt/freesurfer/subjects/fsaverage/label/rh.HCPMMP1.annot\n#  Make ANTS happy\nENV ANTSPATH=\"/usr/lib/ants\"\nENV PATH=\"/usr/lib/ants:$PATH\"\n#  Make FreeSurfer happy\nENV PATH=\"/opt/freesurfer/bin:/opt/freesurfer/mni/bin:$PATH\"\nENV OS=\"Linux\"\nENV SUBJECTS_DIR=\"/opt/freesurfer/subjects\"\nENV FSF_OUTPUT_FORMAT=\"nii.gz\"\nENV MNI_DIR=\"/opt/freesurfer/mni\"\nENV LOCAL_DIR=\"/opt/freesurfer/local\"\nENV FREESURFER_HOME=\"/opt/freesurfer\"\nENV FSFAST_HOME=\"/opt/freesurfer/fsfast\"\nENV MINC_BIN_DIR=\"/opt/freesurfer/mni/bin\"\nENV MINC_LIB_DIR=\"/opt/freesurfer/mni/lib\"\nENV MNI_DATAPATH=\"/opt/freesurfer/mni/data\"\nENV FMRI_ANALYSIS_DIR=\"/opt/freesurfer/fsfast\"\nENV PERL5LIB=\"/opt/freesurfer/mni/lib/perl5/5.8.5\"\nENV MNI_PERL5LIB=\"/opt/freesurfer/mni/lib/perl5/5.8.5\"\nRUN echo \"cHJpbnRmICJyb2JlcnQuc21pdGhAZmxvcmV5LmVkdS5hdVxuMjg1NjdcbiAqQ3FLLjFwTXY4ZE5rXG4gRlNvbGRZRXRDUFZqNlxuIiA+IC9vcHQvZnJlZXN1cmZlci9saWNlbnNlLnR4dAo=\" | base64 -d | sh\n#  Make FSL happy\nENV FSLDIR=\"/opt/fsl\"\nENV PATH=\"$FSLDIR/bin:$PATH\"\nRUN /bin/bash -c 'source /opt/fsl/etc/fslconf/fsl.sh'\nENV FSLMULTIFILEQUIT=\"TRUE\"\nENV FSLOUTPUTTYPE=\"NIFTI\"\n#  Prevents warning appearing when the CUDA version invariably fails to run within the container environment\nRUN rm -f $FSLDIR/bin/eddy_cuda\n#  Make ROBEX happy\nENV PATH=\"/opt/ROBEX:$PATH\"\n#  MRtrix3 setup\n#  Commit checked out is 3.0_RC3 tag with subsequent hotfixes as at 14/12/2018\nRUN git clone https://github.com/MRtrix3/mrtrix3.git mrtrix3 \\\n && cd mrtrix3 \\\n && git checkout 2b8e7d0c2cb8c0d821a0461944855275766dc4f1 \\\n && python configure -nogui \\\n && python build -persistent -nopaginate \\\n && git describe --tags > /mrtrix3_version\n# RUN echo $'FailOnWarn: 1\\n' > /etc/mrtrix.conf\n#  Setup environment variables for MRtrix3\nENV PATH=\"/mrtrix3/bin:$PATH\"\nENV PYTHONPATH=\"/mrtrix3/lib:$PYTHONPATH\"\n#  Acquire script to be executed\nCOPY mrtrix3_connectome.py /mrtrix3_connectome.py\nRUN chmod 775 /mrtrix3_connectome.py\nCOPY version /version\nENTRYPOINT [\"/mrtrix3_connectome.py\"]\n","injectedSmells":[],"originalDockerfileHash":"86b5779fe614020938cde8c0361eb1f8","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:18.04\nMAINTAINER Robert E. Smith <robert.smith@florey.edu.au>\n#   Core system capabilities required\nRUN apt-get update \\\n && apt-get install bc build-essential dc git libopenblas-dev nano nodejs npm perl-modules python tar tcsh unzip wget -y\n#   ANTs installs tzdata as a dependency; however its installer is interactive\n#   Therefore we need to do some shenanigans here to force it though\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y tzdata\n#   NeuroDebian setup\nRUN wget -qO- http://neuro.debian.net/lists/artful.au.full | tee /etc/apt/sources.list.d/neurodebian.sources.list\nCOPY neurodebian.gpg /neurodebian.gpg\nRUN apt-key add /neurodebian.gpg \\\n && apt-get update\n#   Additional dependencies for MRtrix3 compilation\nRUN apt-get install libeigen3-dev libfftw3-dev libtiff5-dev zlib1g-dev -y\n#   Attempt to install CUDA 8.0 for eddy_cuda\n#  RUN wget -q https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_8.0.61-1_amd64.deb && \\\n#      dpkg -i cuda-repo-ubuntu1404_8.0.61-1_amd64.deb && \\\n#      apt-get update && apt-get install -y cuda && \\\n#      rm -f cuda-repo-ubuntu1404_8.0.61-1_amd64.deb\n#   Neuroimaging software / data dependencies\nRUN wget -qO- https://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0/freesurfer-Linux-centos6_x86_64-stable-pub-v6.0.0.tar.gz | tar zx -C /opt --exclude='freesurfer/trctrain' --exclude='freesurfer/subjects/fsaverage_sym' --exclude='freesurfer/subjects/fsaverage3' --exclude='freesurfer/subjects/fsaverage4' --exclude='freesurfer/subjects/fsaverage5' --exclude='freesurfer/subjects/fsaverage6' --exclude='freesurfer/subjects/cvs_avg35' --exclude='freesurfer/subjects/cvs_avg35_inMNI152' --exclude='freesurfer/subjects/bert' --exclude='freesurfer/subjects/V1_average' --exclude='freesurfer/average/mult-comp-cor' --exclude='freesurfer/lib/cuda' --exclude='freesurfer/lib/qt'\nRUN apt-get install ants -y\n#   FSL installer appears to now be ready for use with version 6.0.0\n#   eddy is also now included in FSL6\nRUN wget -q http://fsl.fmrib.ox.ac.uk/fsldownloads/fslinstaller.py \\\n && chmod 775 fslinstaller.py\nRUN /fslinstaller.py -d /opt/fsl -V 6.0.0 -q\nRUN wget -qO- \"https://www.nitrc.org/frs/download.php/5994/ROBEXv12.linux64.tar.gz//?i_agree=1&download_now=1\" | tar zx -C /opt\nRUN npm install bids-validator -gq\n#   apt cleanup to recover as much space as possible\nRUN apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Download additional data for neuroimaging software, e.g. templates / atlases\nRUN wget -qO- http://www.gin.cnrs.fr/AAL_files/aal_for_SPM12.tar.gz | tar zx -C /opt\nRUN wget -qO- http://www.gin.cnrs.fr/AAL2_files/aal2_for_SPM12.tar.gz | tar zx -C /opt\n#  RUN wget -q http://www.nitrc.org/frs/download.php/4499/sri24_anatomy_nifti.zip -O sri24_anatomy_nifti.zip && \\\n#      unzip -qq -o sri24_anatomy_nifti.zip -d /opt/ && \\\n#      rm -f sri24_anatomy_nifti.zip\n#  RUN wget -q http://www.nitrc.org/frs/download.php/4502/sri24_anatomy_unstripped_nifti.zip -O sri24_anatomy_unstripped_nifti.zip && \\\n#      unzip -qq -o sri24_anatomy_unstripped_nifti.zip -d /opt/ && \\\n#      rm -f sri24_anatomy_unstripped_nifti.zip\n#  RUN wget -q http://www.nitrc.org/frs/download.php/4508/sri24_labels_nifti.zip -O sri24_labels_nifti.zip && \\\n#      unzip -qq -o sri24_labels_nifti.zip -d /opt/ && \\\n#      rm -f sri24_labels_nifti.zip\nRUN wget -q https://github.com/AlistairPerry/CCA/raw/master/parcellations/512inMNI.nii -O /opt/512inMNI.nii\n#  RUN wget -q https://ndownloader.figshare.com/files/3133832 -O oasis.zip && \\\n#      unzip -qq oasis.zip -d /opt/ && \\\n#      rm -f oasis.zip\nRUN wget -qO- http://www.nitrc.org/frs/download.php/5906/ADHD200_parcellations.tar.gz | tar zx -C /opt\nRUN wget -q \"https://s3-eu-west-1.amazonaws.com/pfigshare-u-files/5528816/lh.HCPMMP1.annot\" -O /opt/freesurfer/subjects/fsaverage/label/lh.HCPMMP1.annot\nRUN wget -q \"https://s3-eu-west-1.amazonaws.com/pfigshare-u-files/5528819/rh.HCPMMP1.annot\" -O /opt/freesurfer/subjects/fsaverage/label/rh.HCPMMP1.annot\n#   Make ANTS happy\nENV ANTSPATH=\"/usr/lib/ants\"\nENV PATH=\"/usr/lib/ants:$PATH\"\n#   Make FreeSurfer happy\nENV PATH=\"/opt/freesurfer/bin:/opt/freesurfer/mni/bin:$PATH\"\nENV OS=\"Linux\"\nENV SUBJECTS_DIR=\"/opt/freesurfer/subjects\"\nENV FSF_OUTPUT_FORMAT=\"nii.gz\"\nENV MNI_DIR=\"/opt/freesurfer/mni\"\nENV LOCAL_DIR=\"/opt/freesurfer/local\"\nENV FREESURFER_HOME=\"/opt/freesurfer\"\nENV FSFAST_HOME=\"/opt/freesurfer/fsfast\"\nENV MINC_BIN_DIR=\"/opt/freesurfer/mni/bin\"\nENV MINC_LIB_DIR=\"/opt/freesurfer/mni/lib\"\nENV MNI_DATAPATH=\"/opt/freesurfer/mni/data\"\nENV FMRI_ANALYSIS_DIR=\"/opt/freesurfer/fsfast\"\nENV PERL5LIB=\"/opt/freesurfer/mni/lib/perl5/5.8.5\"\nENV MNI_PERL5LIB=\"/opt/freesurfer/mni/lib/perl5/5.8.5\"\nRUN echo \"cHJpbnRmICJyb2JlcnQuc21pdGhAZmxvcmV5LmVkdS5hdVxuMjg1NjdcbiAqQ3FLLjFwTXY4ZE5rXG4gRlNvbGRZRXRDUFZqNlxuIiA+IC9vcHQvZnJlZXN1cmZlci9saWNlbnNlLnR4dAo=\" | base64 -d | sh\n#   Make FSL happy\nENV FSLDIR=\"/opt/fsl\"\nENV PATH=\"$FSLDIR/bin:$PATH\"\nRUN /bin/bash -c 'source /opt/fsl/etc/fslconf/fsl.sh'\nENV FSLMULTIFILEQUIT=\"TRUE\"\nENV FSLOUTPUTTYPE=\"NIFTI\"\n#   Prevents warning appearing when the CUDA version invariably fails to run within the container environment\nRUN rm -f $FSLDIR/bin/eddy_cuda\n#   Make ROBEX happy\nENV PATH=\"/opt/ROBEX:$PATH\"\n#   MRtrix3 setup\n#   Commit checked out is 3.0_RC3 tag with subsequent hotfixes as at 14/12/2018\nRUN git clone https://github.com/MRtrix3/mrtrix3.git mrtrix3 \\\n && cd mrtrix3 \\\n && git checkout 2b8e7d0c2cb8c0d821a0461944855275766dc4f1 \\\n && python configure -nogui \\\n && python build -persistent -nopaginate \\\n && git describe --tags > /mrtrix3_version\n#  RUN echo $'FailOnWarn: 1\\n' > /etc/mrtrix.conf\n#   Setup environment variables for MRtrix3\nENV PATH=\"/mrtrix3/bin:$PATH\"\nENV PYTHONPATH=\"/mrtrix3/lib:$PYTHONPATH\"\n#   Acquire script to be executed\nCOPY mrtrix3_connectome.py /mrtrix3_connectome.py\nRUN chmod 775 /mrtrix3_connectome.py\nCOPY version /version\nENTRYPOINT [\"/mrtrix3_connectome.py\"]\n","originalDockerfileUglifiedHash":"efa627955a0c941e557b3cf336cad1fe","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/88090cc2b6d50f6cea8ac021958d36a63fd85538.dockerfile"}