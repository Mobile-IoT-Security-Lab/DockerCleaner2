{"seed":388663957,"processedDockerfileHash":"513fe3d4497961a5568fffcf6b8bdb6a","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#\n#   Ubuntu Dockerfile for OCIO\n#\n#   Pull base image.\nFROM ubuntu:16.04\nLABEL maintainer=\"patrick.hodoul@autodesk.com\"\n#   Install.\nRUN : \\\n && apt-get -y upgrade\nRUN (apt-get update ;apt-get install --no-install-recommends git=1:2.7.4-0ubuntu1.10 g++=4:5.3.1-1ubuntu1 python=2.7.12-1~16.04 python-dev=2.7.12-1~16.04 cmake=3.5.1-1ubuntu3 make=4.1-6 wget=1.17.1-1ubuntu1.5 bzip2=1.0.6-8ubuntu0.2 vim=2:7.4.1689-3ubuntu1.5 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends libgl1-mesa-dev=18.0.5-0ubuntu0~16.04.1 freeglut3-dev=2.8.1-2 libglew-dev=1.13.0-2 libxmu-dev=2:1.1.2-2 libxi-dev=2:1.7.6-1 libbz2-dev=1.0.6-8ubuntu0.2 libjpeg-turbo8-dev=1.4.2-0ubuntu3.4 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends zlib1g-dev=1:1.2.8.dfsg-2ubuntu4.3 libpng-dev libtiff-dev -y )\n#   Set environment variables.\nENV HOME=\"/home\"\nRUN mkdir -p /home/devel \\\n && mkdir -p /home/devel/download \\\n && mkdir -p /home/devel/git\n#   Install cmake\nRUN apt-get remove -y cmake\nRUN cd /home/devel/download \\\n && wget https://cmake.org/files/v3.12/cmake-3.12.3.tar.gz \\\n && tar -xzvf cmake-3.12.3.tar.gz\nRUN cd /home/devel/download/cmake-3.12.3 \\\n && ./bootstrap \\\n && make -j4 \\\n && make install\nRUN hash -r\n#   Install Truelight library\nRUN cd /home/devel/download \\\n && wget -q -O truelight-4.0.7863_64.run --post-data 'access=public&download=truelight/4_0/truelight-4.0.7863_64.run&last_page=/support/customer-login/truelight_sp/truelight_40.php' https://www.filmlight.ltd.uk/resources/download.php \\\n && sh truelight-4.0.7863_64.run\n#   Install Boost library\nRUN cd /home/devel/download \\\n && wget -q https://sourceforge.net/projects/boost/files/boost/1.61.0/boost_1_61_0.tar.gz \\\n && tar -xzf boost_1_61_0.tar.gz \\\n && cd boost_1_61_0 \\\n && sh bootstrap.sh \\\n && ./b2 install -j4 variant=release --with-system --with-regex --with-filesystem --with-thread --with-python --prefix=/usr/local\n#   Install OpenERX & Ilmbase\nRUN cd /home/devel/git \\\n && git clone https://github.com/openexr/openexr.git -b v2.2.1 \\\n && cd /home/devel/git/openexr/IlmBase \\\n && mkdir /home/devel/git/openexr/IlmBase/build \\\n && cd /home/devel/git/openexr/IlmBase/build \\\n && cmake .. \\\n && make install -j2 \\\n && cd /home/devel/git/openexr/OpenEXR \\\n && mkdir /home/devel/git/openexr/OpenEXR/build \\\n && cd /home/devel/git/openexr/OpenEXR/build \\\n && cmake -DILMBASE_PACKAGE_PREFIX=/usr/local .. \\\n && make install -j4\n#   Install OpenImageIO \nRUN cd /home/devel/git \\\n && git clone https://github.com/OpenImageIO/oiio.git -b RB-1.7 \\\n && cd /home/devel/git/oiio \\\n && mkdir build \\\n && cd /home/devel/git/oiio/build \\\n && cmake -DCMAKE_INSTALL_PREFIX=/usr/local -DOIIO_BUILD_TOOLS=OFF -DOIIO_BUILD_TESTS=OFF .. \\\n && make install -j2\n#   Install everything to compile OCIO\nRUN cd /home/devel/git \\\n && git clone https://github.com/imageworks/OpenColorIO.git ocio \\\n && cd /home/devel/git/ocio \\\n && mkdir /home/devel/git/ocio/build \\\n && cd /home/devel/git/ocio/build \\\n && cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/local -DOCIO_BUILD_TESTS=ON -DOCIO_BUILD_GPU_TESTS=OFF -DBUILD_SHARED_LIBS=ON -DOCIO_BUILD_DOCS=ON -DOCIO_BUILD_APPS=ON -DOCIO_BUILD_PYTHON=ON -DCMAKE_PREFIX_PATH=/usr/local -DTRUELIGHT_INSTALL_PATH=/usr/fl/truelight ..\n#   Basic cleanup\nRUN rm -rf /home/devel/download \\\n && apt-get clean\n#   Define working directory.\nWORKDIR /home/devel\n#   Define default command.\nCMD [\"bash\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#\n#  Ubuntu Dockerfile for OCIO\n#\n#  Pull base image.\nFROM ubuntu:16.04\nLABEL maintainer=\"patrick.hodoul@autodesk.com\"\n#  Install.\nRUN apt-get update \\\n && apt-get -y upgrade\nRUN apt-get install git g++ python python-dev cmake make wget bzip2 vim -y\nRUN apt-get install libgl1-mesa-dev freeglut3-dev libglew-dev libxmu-dev libxi-dev libbz2-dev libjpeg-turbo8-dev -y\nRUN apt-get install zlib1g-dev libpng-dev libtiff-dev -y\n#  Set environment variables.\nENV HOME=\"/home\"\nRUN mkdir -p /home/devel \\\n && mkdir -p /home/devel/download \\\n && mkdir -p /home/devel/git\n#  Install cmake\nRUN apt-get remove -y cmake\nRUN cd /home/devel/download \\\n && wget https://cmake.org/files/v3.12/cmake-3.12.3.tar.gz \\\n && tar -xzvf cmake-3.12.3.tar.gz\nRUN cd /home/devel/download/cmake-3.12.3 \\\n && ./bootstrap \\\n && make -j4 \\\n && make install\nRUN hash -r\n#  Install Truelight library\nRUN cd /home/devel/download \\\n && wget -q -O truelight-4.0.7863_64.run --post-data 'access=public&download=truelight/4_0/truelight-4.0.7863_64.run&last_page=/support/customer-login/truelight_sp/truelight_40.php' https://www.filmlight.ltd.uk/resources/download.php \\\n && sh truelight-4.0.7863_64.run\n#  Install Boost library\nRUN cd /home/devel/download \\\n && wget -q https://sourceforge.net/projects/boost/files/boost/1.61.0/boost_1_61_0.tar.gz \\\n && tar -xzf boost_1_61_0.tar.gz \\\n && cd boost_1_61_0 \\\n && sh bootstrap.sh \\\n && ./b2 install -j4 variant=release --with-system --with-regex --with-filesystem --with-thread --with-python --prefix=/usr/local\n#  Install OpenERX & Ilmbase\nRUN cd /home/devel/git \\\n && git clone https://github.com/openexr/openexr.git -b v2.2.1 \\\n && cd /home/devel/git/openexr/IlmBase \\\n && mkdir /home/devel/git/openexr/IlmBase/build \\\n && cd /home/devel/git/openexr/IlmBase/build \\\n && cmake .. \\\n && make install -j2 \\\n && cd /home/devel/git/openexr/OpenEXR \\\n && mkdir /home/devel/git/openexr/OpenEXR/build \\\n && cd /home/devel/git/openexr/OpenEXR/build \\\n && cmake -DILMBASE_PACKAGE_PREFIX=/usr/local .. \\\n && make install -j4\n#  Install OpenImageIO \nRUN cd /home/devel/git \\\n && git clone https://github.com/OpenImageIO/oiio.git -b RB-1.7 \\\n && cd /home/devel/git/oiio \\\n && mkdir build \\\n && cd /home/devel/git/oiio/build \\\n && cmake -DCMAKE_INSTALL_PREFIX=/usr/local -DOIIO_BUILD_TOOLS=OFF -DOIIO_BUILD_TESTS=OFF .. \\\n && make install -j2\n#  Install everything to compile OCIO\nRUN cd /home/devel/git \\\n && git clone https://github.com/imageworks/OpenColorIO.git ocio \\\n && cd /home/devel/git/ocio \\\n && mkdir /home/devel/git/ocio/build \\\n && cd /home/devel/git/ocio/build \\\n && cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/local -DOCIO_BUILD_TESTS=ON -DOCIO_BUILD_GPU_TESTS=OFF -DBUILD_SHARED_LIBS=ON -DOCIO_BUILD_DOCS=ON -DOCIO_BUILD_APPS=ON -DOCIO_BUILD_PYTHON=ON -DCMAKE_PREFIX_PATH=/usr/local -DTRUELIGHT_INSTALL_PATH=/usr/fl/truelight ..\n#  Basic cleanup\nRUN rm -rf /home/devel/download \\\n && apt-get clean\n#  Define working directory.\nWORKDIR /home/devel\n#  Define default command.\nCMD [\"bash\"]\n","injectedSmells":[],"originalDockerfileHash":"a5dc3cd3f274072ae42cae57172a8a95","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#   Ubuntu Dockerfile for OCIO\n#\n#   Pull base image.\nFROM ubuntu:16.04\nLABEL maintainer=\"patrick.hodoul@autodesk.com\"\n#   Install.\nRUN apt-get update \\\n && apt-get -y upgrade\nRUN apt-get install git g++ python python-dev cmake make wget bzip2 vim -y\nRUN apt-get install libgl1-mesa-dev freeglut3-dev libglew-dev libxmu-dev libxi-dev libbz2-dev libjpeg-turbo8-dev -y\nRUN apt-get install zlib1g-dev libpng-dev libtiff-dev -y\n#   Set environment variables.\nENV HOME=\"/home\"\nRUN mkdir -p /home/devel \\\n && mkdir -p /home/devel/download \\\n && mkdir -p /home/devel/git\n#   Install cmake\nRUN apt-get remove -y cmake\nRUN cd /home/devel/download \\\n && wget https://cmake.org/files/v3.12/cmake-3.12.3.tar.gz \\\n && tar -xzvf cmake-3.12.3.tar.gz\nRUN cd /home/devel/download/cmake-3.12.3 \\\n && ./bootstrap \\\n && make -j4 \\\n && make install\nRUN hash -r\n#   Install Truelight library\nRUN cd /home/devel/download \\\n && wget -q -O truelight-4.0.7863_64.run --post-data 'access=public&download=truelight/4_0/truelight-4.0.7863_64.run&last_page=/support/customer-login/truelight_sp/truelight_40.php' https://www.filmlight.ltd.uk/resources/download.php \\\n && sh truelight-4.0.7863_64.run\n#   Install Boost library\nRUN cd /home/devel/download \\\n && wget -q https://sourceforge.net/projects/boost/files/boost/1.61.0/boost_1_61_0.tar.gz \\\n && tar -xzf boost_1_61_0.tar.gz \\\n && cd boost_1_61_0 \\\n && sh bootstrap.sh \\\n && ./b2 install -j4 variant=release --with-system --with-regex --with-filesystem --with-thread --with-python --prefix=/usr/local\n#   Install OpenERX & Ilmbase\nRUN cd /home/devel/git \\\n && git clone https://github.com/openexr/openexr.git -b v2.2.1 \\\n && cd /home/devel/git/openexr/IlmBase \\\n && mkdir /home/devel/git/openexr/IlmBase/build \\\n && cd /home/devel/git/openexr/IlmBase/build \\\n && cmake .. \\\n && make install -j2 \\\n && cd /home/devel/git/openexr/OpenEXR \\\n && mkdir /home/devel/git/openexr/OpenEXR/build \\\n && cd /home/devel/git/openexr/OpenEXR/build \\\n && cmake -DILMBASE_PACKAGE_PREFIX=/usr/local .. \\\n && make install -j4\n#   Install OpenImageIO \nRUN cd /home/devel/git \\\n && git clone https://github.com/OpenImageIO/oiio.git -b RB-1.7 \\\n && cd /home/devel/git/oiio \\\n && mkdir build \\\n && cd /home/devel/git/oiio/build \\\n && cmake -DCMAKE_INSTALL_PREFIX=/usr/local -DOIIO_BUILD_TOOLS=OFF -DOIIO_BUILD_TESTS=OFF .. \\\n && make install -j2\n#   Install everything to compile OCIO\nRUN cd /home/devel/git \\\n && git clone https://github.com/imageworks/OpenColorIO.git ocio \\\n && cd /home/devel/git/ocio \\\n && mkdir /home/devel/git/ocio/build \\\n && cd /home/devel/git/ocio/build \\\n && cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/local -DOCIO_BUILD_TESTS=ON -DOCIO_BUILD_GPU_TESTS=OFF -DBUILD_SHARED_LIBS=ON -DOCIO_BUILD_DOCS=ON -DOCIO_BUILD_APPS=ON -DOCIO_BUILD_PYTHON=ON -DCMAKE_PREFIX_PATH=/usr/local -DTRUELIGHT_INSTALL_PATH=/usr/fl/truelight ..\n#   Basic cleanup\nRUN rm -rf /home/devel/download \\\n && apt-get clean\n#   Define working directory.\nWORKDIR /home/devel\n#   Define default command.\nCMD [\"bash\"]\n","originalDockerfileUglifiedHash":"35b3fbe44960fa43d3d7cac7bce795c7","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/92c3ec00ba134c896604aba02377348c0269b19f.dockerfile"}