{"seed":1541354592,"processedDockerfileHash":"df9a83b4aa635cc94b1788f2e82fad94","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:18.04\nMAINTAINER Remi Cresson <remi.cresson[at]irstea[dot]fr>\nRUN apt-get update -y \\\n && apt-get upgrade -y \\\n && apt-get install --no-install-recommends ca-certificates=20211016ubuntu0.18.04.1 curl=7.58.0-2ubuntu3.24 make=4.1-9.1ubuntu1 cmake=3.10.2-1ubuntu2.18.04.2 g++=4:7.4.0-1ubuntu2.3 gcc=4:7.4.0-1ubuntu2.3 git=1:2.17.1-1ubuntu0.17 libtool=2.4.6-2 swig=3.0.12-1 xvfb=2:1.19.6-1ubuntu4.14 wget=1.19.4-1ubuntu2.2 autoconf=2.69-11 automake=1:1.15.1-3ubuntu2 pkg-config=0.29.1-0ubuntu2 zip=3.0-11build1 zlib1g-dev=1:1.2.11.dfsg-0ubuntu2.2 unzip=6.0-21ubuntu1.2 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   ----------------------------------------------------------------------------\n#   OTB and TensorFlow dependencies\n#   ----------------------------------------------------------------------------\nRUN apt-get update -y \\\n && apt-get upgrade -y \\\n && apt-get install --no-install-recommends freeglut3-dev=2.8.1-3 libboost-date-time-dev=1.65.1.0ubuntu1 libboost-filesystem-dev=1.65.1.0ubuntu1 libboost-graph-dev=1.65.1.0ubuntu1 libboost-program-options-dev=1.65.1.0ubuntu1 libboost-system-dev=1.65.1.0ubuntu1 libboost-thread-dev=1.65.1.0ubuntu1 libcurl4-gnutls-dev=7.58.0-2ubuntu3.24 libexpat1-dev=2.2.5-3ubuntu0.9 libfftw3-dev=3.3.7-1 libgdal-dev=2.2.3+dfsg-2 libgeotiff-dev=1.4.2-2build1 libglew-dev=2.0.0-5 libglfw3-dev=3.2.1-1 libgsl-dev=2.4+dfsg-6 libinsighttoolkit4-dev=4.12.2-dfsg1-1ubuntu1 libkml-dev=1.3.0-5 libmuparser-dev=2.2.3-6 libmuparserx-dev=4.0.7+dfsg-3 libopencv-core-dev=3.2.0+dfsg-4ubuntu0.1 libopencv-ml-dev=3.2.0+dfsg-4ubuntu0.1 libopenthreads-dev=3.2.3+dfsg1-2ubuntu8 libossim-dev=2.2.2-1 libpng-dev=1.6.34-1ubuntu0.18.04.2 libqt5opengl5-dev=5.9.5+dfsg-0ubuntu2.6 libqwt-qt5-dev=6.1.3-1 libsvm-dev=3.21+ds-1.1 libtinyxml-dev=2.6.2-4 qtbase5-dev=5.9.5+dfsg-0ubuntu2.6 qttools5-dev=5.9.5-0ubuntu1 default-jdk=2:1.11-68ubuntu1~18.04.1 python3-pip=9.0.1-2.3~ubuntu1.18.04.8 python3.6-dev=3.6.9-1~18.04ubuntu1.12 python3.6-gdal python3-setuptools=39.0.1-2ubuntu0.1 libxmu-dev=2:1.1.2-2 libxi-dev=2:1.7.9-1 qttools5-dev-tools=5.9.5-0ubuntu1 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   ----------------------------------------------------------------------------\n#   Python packages\n#   ----------------------------------------------------------------------------\nRUN ln -s /usr/bin/python3 /usr/bin/python \\\n && python3 -m pip install --upgrade pip \\\n && python3 -m pip install pip six numpy wheel mock keras future\n#   ----------------------------------------------------------------------------\n#   Build TensorFlow\n#   ----------------------------------------------------------------------------\nRUN export TF_ROOT=/work/tf \\\n && mkdir -p ${TF_ROOT}/bazel \\\n && cd ${TF_ROOT}/bazel \\\n && wget https://github.com/bazelbuild/bazel/releases/download/0.24.1/bazel-0.24.1-installer-linux-x86_64.sh \\\n && chmod +x bazel-0.24.1-installer-linux-x86_64.sh \\\n && ./bazel-0.24.1-installer-linux-x86_64.sh\nRUN export TF_ROOT=/work/tf \\\n && export PATH=\"$PATH:$HOME/bin\" \\\n && cd $TF_ROOT \\\n && git clone https://github.com/tensorflow/tensorflow.git \\\n && cd tensorflow \\\n && git checkout r1.14 \\\n && echo \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\" | ./configure \\\n && bazel build //tensorflow:libtensorflow_framework.so //tensorflow:libtensorflow_cc.so //tensorflow/tools/pip_package:build_pip_package\nRUN export TF_ROOT=/work/tf \\\n && cd $TF_ROOT/tensorflow \\\n && bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg \\\n && pip3 install $( find /tmp/tensorflow_pkg/ -type f -iname \"tensorflow*.whl\" ;) \\\n && ./tensorflow/contrib/makefile/build_all_linux.sh \\\n && mkdir -p /work/tf/installdir/lib \\\n && mkdir -p /work/tf/installdir/include \\\n && cp bazel-bin/tensorflow/libtensorflow_cc.so /work/tf/installdir/lib \\\n && cp bazel-bin/tensorflow/libtensorflow_framework.so /work/tf/installdir/lib \\\n && cp tensorflow/contrib/makefile/gen/protobuf/lib/libprotobuf.a /work/tf/installdir/lib \\\n && cp tensorflow/contrib/makefile/downloads/nsync/builds/default.linux.c++11/*.a /work/tf/installdir/lib \\\n && cp -r bazel-genfiles/* /work/tf/installdir/include/ \\\n && cp -r tensorflow/cc /work/tf/installdir/include/tensorflow/ \\\n && cp -r tensorflow/core /work/tf/installdir/include/tensorflow/ \\\n && cp -r third_party /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/gen/protobuf/include/* /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/downloads/eigen/Eigen /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/downloads/eigen/unsupported /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/downloads/eigen/signature_of_eigen3_matrix_library /work/tf/installdir/include/ \\\n && cd ${TF_ROOT}/tensorflow/tensorflow/contrib/makefile/downloads/absl \\\n && find absl/ -name '*.h' -exec cp --parents {} /work/tf/installdir/include/\nRUN echo \"Create symlinks for tensorflow libs\" \\\n && ln -s /work/tf/installdir/lib/libtensorflow_cc.so /work/tf/installdir/lib/libtensorflow_cc.so.1 \\\n && ln -s /work/tf/installdir/lib/libtensorflow_framework.so /work/tf/installdir/lib/libtensorflow_framework.so.1\n#   ----------------------------------------------------------------------------\n#   Build OTB\n#   ----------------------------------------------------------------------------\nRUN mkdir -p /work/otb/build \\\n && cd /work/otb \\\n && git clone https://gitlab.orfeo-toolbox.org/orfeotoolbox/otb.git otb \\\n && cd otb \\\n && git checkout 0df44b312d64d6c3890b65d3790d4a17d0fd5f23 \\\n && cd /work/otb/build \\\n && cmake /work/otb/otb/SuperBuild -DUSE_SYSTEM_BOOST=ON -DUSE_SYSTEM_CURL=ON -DUSE_SYSTEM_EXPAT=ON -DUSE_SYSTEM_FFTW=ON -DUSE_SYSTEM_FREETYPE=ON -DUSE_SYSTEM_GDAL=ON -DUSE_SYSTEM_GEOS=ON -DUSE_SYSTEM_GEOTIFF=ON -DUSE_SYSTEM_GLEW=ON -DUSE_SYSTEM_GLFW=ON -DUSE_SYSTEM_GLUT=ON -DUSE_SYSTEM_GSL=ON -DUSE_SYSTEM_ITK=ON -DUSE_SYSTEM_LIBKML=ON -DUSE_SYSTEM_LIBSVM=ON -DUSE_SYSTEM_MUPARSER=ON -DUSE_SYSTEM_MUPARSERX=ON -DUSE_SYSTEM_OPENCV=ON -DUSE_SYSTEM_OPENTHREADS=ON -DUSE_SYSTEM_OSSIM=ON -DUSE_SYSTEM_PNG=ON -DUSE_SYSTEM_QT5=ON -DUSE_SYSTEM_QWT=ON -DUSE_SYSTEM_TINYXML=ON -DUSE_SYSTEM_ZLIB=ON \\\n && cd /work/otb/otb/Modules/Remote \\\n && git clone https://github.com/remicres/otbtf.git \\\n && cd /work/otb/build/OTB/build \\\n && cmake /work/otb/otb -DModule_Mosaic=ON -DModule_OTBTensorflow=ON -DOTB_USE_TENSORFLOW=ON -Dopencv_INCLUDE_DIR=/usr/include -DTENSORFLOW_CC_LIB=/work/tf/installdir/lib/libtensorflow_cc.so -DTENSORFLOW_FRAMEWORK_LIB=/work/tf/installdir/lib/libtensorflow_framework.so -Dtensorflow_include_dir=/work/tf/installdir/include/ \\\n && cd /work/otb/build/ \\\n && make -j $( grep -c ^processor /proc/cpuinfo ;)\nENV PATH=\"\\\"$PATH:/work/otb/superbuild_install/bin/\\\"\"\nENV LD_LIBRARY_PATH=\"\\\"$LD_LIBRARY_PATH:/work/otb/superbuild_install/lib/:/work/tf/installdir/lib/\\\"\"\nENV PYTHONPATH=\"\\\"$PYTHONPATH:/work/otb/superbuild_install/lib/otb/python/\\\"\"\nENV PATH=\"\\\"$PATH:/work/otb/superbuild_install/bin/\\\"\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:18.04\nMAINTAINER Remi Cresson <remi.cresson[at]irstea[dot]fr>\nRUN apt-get update -y \\\n && apt-get upgrade -y \\\n && apt-get install --no-install-recommends ca-certificates curl make cmake g++ gcc git libtool swig xvfb wget autoconf automake pkg-config zip zlib1g-dev unzip -y \\\n && rm -rf /var/lib/apt/lists/*\n#  ----------------------------------------------------------------------------\n#  OTB and TensorFlow dependencies\n#  ----------------------------------------------------------------------------\nRUN apt-get update -y \\\n && apt-get upgrade -y \\\n && apt-get install --no-install-recommends freeglut3-dev libboost-date-time-dev libboost-filesystem-dev libboost-graph-dev libboost-program-options-dev libboost-system-dev libboost-thread-dev libcurl4-gnutls-dev libexpat1-dev libfftw3-dev libgdal-dev libgeotiff-dev libglew-dev libglfw3-dev libgsl-dev libinsighttoolkit4-dev libkml-dev libmuparser-dev libmuparserx-dev libopencv-core-dev libopencv-ml-dev libopenthreads-dev libossim-dev libpng-dev libqt5opengl5-dev libqwt-qt5-dev libsvm-dev libtinyxml-dev qtbase5-dev qttools5-dev default-jdk python3-pip python3.6-dev python3.6-gdal python3-setuptools libxmu-dev libxi-dev qttools5-dev-tools -y \\\n && rm -rf /var/lib/apt/lists/*\n#  ----------------------------------------------------------------------------\n#  Python packages\n#  ----------------------------------------------------------------------------\nRUN ln -s /usr/bin/python3 /usr/bin/python \\\n && python3 -m pip install --upgrade pip \\\n && python3 -m pip install pip six numpy wheel mock keras future\n#  ----------------------------------------------------------------------------\n#  Build TensorFlow\n#  ----------------------------------------------------------------------------\nRUN export TF_ROOT=/work/tf \\\n && mkdir -p ${TF_ROOT}/bazel \\\n && cd ${TF_ROOT}/bazel \\\n && wget https://github.com/bazelbuild/bazel/releases/download/0.24.1/bazel-0.24.1-installer-linux-x86_64.sh \\\n && chmod +x bazel-0.24.1-installer-linux-x86_64.sh \\\n && ./bazel-0.24.1-installer-linux-x86_64.sh\nRUN export TF_ROOT=/work/tf \\\n && export PATH=\"$PATH:$HOME/bin\" \\\n && cd $TF_ROOT \\\n && git clone https://github.com/tensorflow/tensorflow.git \\\n && cd tensorflow \\\n && git checkout r1.14 \\\n && echo \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\" | ./configure \\\n && bazel build //tensorflow:libtensorflow_framework.so //tensorflow:libtensorflow_cc.so //tensorflow/tools/pip_package:build_pip_package\nRUN export TF_ROOT=/work/tf \\\n && cd $TF_ROOT/tensorflow \\\n && bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg \\\n && pip3 install $( find /tmp/tensorflow_pkg/ -type f -iname \"tensorflow*.whl\" ;) \\\n && ./tensorflow/contrib/makefile/build_all_linux.sh \\\n && mkdir -p /work/tf/installdir/lib \\\n && mkdir -p /work/tf/installdir/include \\\n && cp bazel-bin/tensorflow/libtensorflow_cc.so /work/tf/installdir/lib \\\n && cp bazel-bin/tensorflow/libtensorflow_framework.so /work/tf/installdir/lib \\\n && cp tensorflow/contrib/makefile/gen/protobuf/lib/libprotobuf.a /work/tf/installdir/lib \\\n && cp tensorflow/contrib/makefile/downloads/nsync/builds/default.linux.c++11/*.a /work/tf/installdir/lib \\\n && cp -r bazel-genfiles/* /work/tf/installdir/include/ \\\n && cp -r tensorflow/cc /work/tf/installdir/include/tensorflow/ \\\n && cp -r tensorflow/core /work/tf/installdir/include/tensorflow/ \\\n && cp -r third_party /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/gen/protobuf/include/* /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/downloads/eigen/Eigen /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/downloads/eigen/unsupported /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/downloads/eigen/signature_of_eigen3_matrix_library /work/tf/installdir/include/ \\\n && cd ${TF_ROOT}/tensorflow/tensorflow/contrib/makefile/downloads/absl \\\n && find absl/ -name '*.h' -exec cp --parents {} /work/tf/installdir/include/ ; \\\n && find absl/ -name '*.inc' -exec cp --parents {} /work/tf/installdir/include/ ; \\\n && find /work/tf/installdir/ -name \"*.cc\" -type f -delete\nRUN echo \"Create symlinks for tensorflow libs\" \\\n && ln -s /work/tf/installdir/lib/libtensorflow_cc.so /work/tf/installdir/lib/libtensorflow_cc.so.1 \\\n && ln -s /work/tf/installdir/lib/libtensorflow_framework.so /work/tf/installdir/lib/libtensorflow_framework.so.1\n#  ----------------------------------------------------------------------------\n#  Build OTB\n#  ----------------------------------------------------------------------------\nRUN mkdir -p /work/otb/build \\\n && cd /work/otb \\\n && git clone https://gitlab.orfeo-toolbox.org/orfeotoolbox/otb.git otb \\\n && cd otb \\\n && git checkout 0df44b312d64d6c3890b65d3790d4a17d0fd5f23 \\\n && cd /work/otb/build \\\n && cmake /work/otb/otb/SuperBuild -DUSE_SYSTEM_BOOST=ON -DUSE_SYSTEM_CURL=ON -DUSE_SYSTEM_EXPAT=ON -DUSE_SYSTEM_FFTW=ON -DUSE_SYSTEM_FREETYPE=ON -DUSE_SYSTEM_GDAL=ON -DUSE_SYSTEM_GEOS=ON -DUSE_SYSTEM_GEOTIFF=ON -DUSE_SYSTEM_GLEW=ON -DUSE_SYSTEM_GLFW=ON -DUSE_SYSTEM_GLUT=ON -DUSE_SYSTEM_GSL=ON -DUSE_SYSTEM_ITK=ON -DUSE_SYSTEM_LIBKML=ON -DUSE_SYSTEM_LIBSVM=ON -DUSE_SYSTEM_MUPARSER=ON -DUSE_SYSTEM_MUPARSERX=ON -DUSE_SYSTEM_OPENCV=ON -DUSE_SYSTEM_OPENTHREADS=ON -DUSE_SYSTEM_OSSIM=ON -DUSE_SYSTEM_PNG=ON -DUSE_SYSTEM_QT5=ON -DUSE_SYSTEM_QWT=ON -DUSE_SYSTEM_TINYXML=ON -DUSE_SYSTEM_ZLIB=ON \\\n && cd /work/otb/otb/Modules/Remote \\\n && git clone https://github.com/remicres/otbtf.git \\\n && cd /work/otb/build/OTB/build \\\n && cmake /work/otb/otb -DModule_Mosaic=ON -DModule_OTBTensorflow=ON -DOTB_USE_TENSORFLOW=ON -Dopencv_INCLUDE_DIR=/usr/include -DTENSORFLOW_CC_LIB=/work/tf/installdir/lib/libtensorflow_cc.so -DTENSORFLOW_FRAMEWORK_LIB=/work/tf/installdir/lib/libtensorflow_framework.so -Dtensorflow_include_dir=/work/tf/installdir/include/ \\\n && cd /work/otb/build/ \\\n && make -j $( grep -c ^processor /proc/cpuinfo ;)\nENV PATH=\"\\\"$PATH:/work/otb/superbuild_install/bin/\\\"\"\nENV LD_LIBRARY_PATH=\"\\\"$LD_LIBRARY_PATH:/work/otb/superbuild_install/lib/:/work/tf/installdir/lib/\\\"\"\nENV PYTHONPATH=\"\\\"$PYTHONPATH:/work/otb/superbuild_install/lib/otb/python/\\\"\"\nENV PATH=\"\\\"$PATH:/work/otb/superbuild_install/bin/\\\"\"\n","injectedSmells":[],"originalDockerfileHash":"bb7b9523d0b2102d93e4338c5bdf3460","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:18.04\nMAINTAINER Remi Cresson <remi.cresson[at]irstea[dot]fr>\nRUN apt-get update -y \\\n && apt-get upgrade -y \\\n && apt-get install --no-install-recommends ca-certificates curl make cmake g++ gcc git libtool swig xvfb wget autoconf automake pkg-config zip zlib1g-dev unzip -y \\\n && rm -rf /var/lib/apt/lists/*\n#   ----------------------------------------------------------------------------\n#   OTB and TensorFlow dependencies\n#   ----------------------------------------------------------------------------\nRUN apt-get update -y \\\n && apt-get upgrade -y \\\n && apt-get install --no-install-recommends freeglut3-dev libboost-date-time-dev libboost-filesystem-dev libboost-graph-dev libboost-program-options-dev libboost-system-dev libboost-thread-dev libcurl4-gnutls-dev libexpat1-dev libfftw3-dev libgdal-dev libgeotiff-dev libglew-dev libglfw3-dev libgsl-dev libinsighttoolkit4-dev libkml-dev libmuparser-dev libmuparserx-dev libopencv-core-dev libopencv-ml-dev libopenthreads-dev libossim-dev libpng-dev libqt5opengl5-dev libqwt-qt5-dev libsvm-dev libtinyxml-dev qtbase5-dev qttools5-dev default-jdk python3-pip python3.6-dev python3.6-gdal python3-setuptools libxmu-dev libxi-dev qttools5-dev-tools -y \\\n && rm -rf /var/lib/apt/lists/*\n#   ----------------------------------------------------------------------------\n#   Python packages\n#   ----------------------------------------------------------------------------\nRUN ln -s /usr/bin/python3 /usr/bin/python \\\n && python3 -m pip install --upgrade pip \\\n && python3 -m pip install pip six numpy wheel mock keras future\n#   ----------------------------------------------------------------------------\n#   Build TensorFlow\n#   ----------------------------------------------------------------------------\nRUN export TF_ROOT=/work/tf \\\n && mkdir -p ${TF_ROOT}/bazel \\\n && cd ${TF_ROOT}/bazel \\\n && wget https://github.com/bazelbuild/bazel/releases/download/0.24.1/bazel-0.24.1-installer-linux-x86_64.sh \\\n && chmod +x bazel-0.24.1-installer-linux-x86_64.sh \\\n && ./bazel-0.24.1-installer-linux-x86_64.sh\nRUN export TF_ROOT=/work/tf \\\n && export PATH=\"$PATH:$HOME/bin\" \\\n && cd $TF_ROOT \\\n && git clone https://github.com/tensorflow/tensorflow.git \\\n && cd tensorflow \\\n && git checkout r1.14 \\\n && echo \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\" | ./configure \\\n && bazel build //tensorflow:libtensorflow_framework.so //tensorflow:libtensorflow_cc.so //tensorflow/tools/pip_package:build_pip_package\nRUN export TF_ROOT=/work/tf \\\n && cd $TF_ROOT/tensorflow \\\n && bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg \\\n && pip3 install $( find /tmp/tensorflow_pkg/ -type f -iname \"tensorflow*.whl\" ;) \\\n && ./tensorflow/contrib/makefile/build_all_linux.sh \\\n && mkdir -p /work/tf/installdir/lib \\\n && mkdir -p /work/tf/installdir/include \\\n && cp bazel-bin/tensorflow/libtensorflow_cc.so /work/tf/installdir/lib \\\n && cp bazel-bin/tensorflow/libtensorflow_framework.so /work/tf/installdir/lib \\\n && cp tensorflow/contrib/makefile/gen/protobuf/lib/libprotobuf.a /work/tf/installdir/lib \\\n && cp tensorflow/contrib/makefile/downloads/nsync/builds/default.linux.c++11/*.a /work/tf/installdir/lib \\\n && cp -r bazel-genfiles/* /work/tf/installdir/include/ \\\n && cp -r tensorflow/cc /work/tf/installdir/include/tensorflow/ \\\n && cp -r tensorflow/core /work/tf/installdir/include/tensorflow/ \\\n && cp -r third_party /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/gen/protobuf/include/* /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/downloads/eigen/Eigen /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/downloads/eigen/unsupported /work/tf/installdir/include/ \\\n && cp -r tensorflow/contrib/makefile/downloads/eigen/signature_of_eigen3_matrix_library /work/tf/installdir/include/ \\\n && cd ${TF_ROOT}/tensorflow/tensorflow/contrib/makefile/downloads/absl \\\n && find absl/ -name '*.h' -exec cp --parents {} /work/tf/installdir/include/\nRUN echo \"Create symlinks for tensorflow libs\" \\\n && ln -s /work/tf/installdir/lib/libtensorflow_cc.so /work/tf/installdir/lib/libtensorflow_cc.so.1 \\\n && ln -s /work/tf/installdir/lib/libtensorflow_framework.so /work/tf/installdir/lib/libtensorflow_framework.so.1\n#   ----------------------------------------------------------------------------\n#   Build OTB\n#   ----------------------------------------------------------------------------\nRUN mkdir -p /work/otb/build \\\n && cd /work/otb \\\n && git clone https://gitlab.orfeo-toolbox.org/orfeotoolbox/otb.git otb \\\n && cd otb \\\n && git checkout 0df44b312d64d6c3890b65d3790d4a17d0fd5f23 \\\n && cd /work/otb/build \\\n && cmake /work/otb/otb/SuperBuild -DUSE_SYSTEM_BOOST=ON -DUSE_SYSTEM_CURL=ON -DUSE_SYSTEM_EXPAT=ON -DUSE_SYSTEM_FFTW=ON -DUSE_SYSTEM_FREETYPE=ON -DUSE_SYSTEM_GDAL=ON -DUSE_SYSTEM_GEOS=ON -DUSE_SYSTEM_GEOTIFF=ON -DUSE_SYSTEM_GLEW=ON -DUSE_SYSTEM_GLFW=ON -DUSE_SYSTEM_GLUT=ON -DUSE_SYSTEM_GSL=ON -DUSE_SYSTEM_ITK=ON -DUSE_SYSTEM_LIBKML=ON -DUSE_SYSTEM_LIBSVM=ON -DUSE_SYSTEM_MUPARSER=ON -DUSE_SYSTEM_MUPARSERX=ON -DUSE_SYSTEM_OPENCV=ON -DUSE_SYSTEM_OPENTHREADS=ON -DUSE_SYSTEM_OSSIM=ON -DUSE_SYSTEM_PNG=ON -DUSE_SYSTEM_QT5=ON -DUSE_SYSTEM_QWT=ON -DUSE_SYSTEM_TINYXML=ON -DUSE_SYSTEM_ZLIB=ON \\\n && cd /work/otb/otb/Modules/Remote \\\n && git clone https://github.com/remicres/otbtf.git \\\n && cd /work/otb/build/OTB/build \\\n && cmake /work/otb/otb -DModule_Mosaic=ON -DModule_OTBTensorflow=ON -DOTB_USE_TENSORFLOW=ON -Dopencv_INCLUDE_DIR=/usr/include -DTENSORFLOW_CC_LIB=/work/tf/installdir/lib/libtensorflow_cc.so -DTENSORFLOW_FRAMEWORK_LIB=/work/tf/installdir/lib/libtensorflow_framework.so -Dtensorflow_include_dir=/work/tf/installdir/include/ \\\n && cd /work/otb/build/ \\\n && make -j $( grep -c ^processor /proc/cpuinfo ;)\nENV PATH=\"\\\"$PATH:/work/otb/superbuild_install/bin/\\\"\"\nENV LD_LIBRARY_PATH=\"\\\"$LD_LIBRARY_PATH:/work/otb/superbuild_install/lib/:/work/tf/installdir/lib/\\\"\"\nENV PYTHONPATH=\"\\\"$PYTHONPATH:/work/otb/superbuild_install/lib/otb/python/\\\"\"\nENV PATH=\"\\\"$PATH:/work/otb/superbuild_install/bin/\\\"\"\n","originalDockerfileUglifiedHash":"53a549d0695431a199df65966fd0016f","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/a754d94a5e7b0e2233bec6a8a882c19712bc2b43.dockerfile"}