{"seed":1283672805,"processedDockerfileHash":"aebff8954a463545b2177b610abf2a62","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   This Docker file downloads the DB2 LUW binaries and installs them in the\n#   image. It installs the necessary libraries.\n#\n#   This Docker is designed to download the DB2 free edition from IBM and to\n#   install DB2 from it. This edition does not requieres a license.\n#\n#   Version: 2018-01-28\n#   Author: Andres Gomez Casanova (AngocA)\n#   Made in COLOMBIA.\nFROM ubuntu:16.04\n#   MicroBadge\nARG VCS_REF\nLABEL maintainer=\"angoca@yahoo.com\" \\\n      org.label-schema.build-date=\"${BUILD_DATE}\" \\\n      org.label-schema.name=\"db2-docker-install\" \\\n      org.label-schema.description=\"Docker container for IBM DB2 for LUW with it already installed\" \\\n      org.label-schema.url=\"https://github.com/angoca/db2-docker/wiki\" \\\n      org.label-schema.vcs-ref=\"$VCS_REF\" \\\n      org.label-schema.vcs-url=\"https://github.com/angoca/db2-docker\" \\\n      org.label-schema.vendor=\"AngocA\" \\\n      org.label-schema.version=\"1.0-11.1-install-expc\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      org.label-schema.docker.cmd=\"sudo docker run -i -t --privileged=true angoca/db2-install\"\n#   Set of variables to define the type of DB2 being installed.\n#  # Version of the downloaded file.\nENV DB2_VERSION=\"11.1\" \\\n    DB2_INST_DIR=\"expc\" \\\n    DB2_RESP_FILE_INSTALL=\"db2expc_install.rsp\" \\\n    DB2_RESP_FILE_INSTANCE=\"db2expc_instance.rsp\" \\\n    DB2_DOWNLOAD=\"download\" \\\n    DB2_INST_CREA_SCR=\"createInstance\" \\\n    DB2_CONF=\"/tmp/db2_conf\"\n#  # Name of the downloaded file.\nENV DB2_INSTALLER=\"v${DB2_VERSION}_linuxx64_${DB2_INST_DIR}.tar.gz\" \\\n    DB2_DIR=\"/opt/ibm/db2/V${DB2_VERSION}\"\n#   I N S T A L L A T I O N\n#   Copies the script to download\nCOPY ${DB2_DOWNLOAD} /tmp/${DB2_DOWNLOAD}\n#   Copies the response file for the installation\nCOPY ${DB2_RESP_FILE_INSTALL} /tmp/${DB2_RESP_FILE_INSTALL}\n#   Test variables\nRUN echo \"DB2_VERSION=${DB2_VERSION}\" \\\n && echo \"DB2_INST_DIR=${DB2_INST_DIR}\" \\\n && echo \"DB2_INSTALLER=${DB2_INSTALLER}\" \\\n && echo \"DB2_DIR=${DB2_DIR}\" \\\n && dpkg --add-architecture i386 \\\n && apt-get update \\\n && apt-get install --no-install-recommends aria2=1.19.0-1build1 curl=7.47.0-1ubuntu2.19 libaio1=0.3.110-2 binutils=2.26.1-1ubuntu1~16.04.8 file=1:5.25-2ubuntu1.4 libx32stdc++6=5.4.0-6ubuntu1~16.04.12 numactl=2.0.11-1ubuntu1.1 libpam0g:i386 -y \\\n && echo \">>>Downloading...\" \\\n && /tmp/${DB2_DOWNLOAD} \\\n && echo \">>>Extracting...\" \\\n && cd /tmp \\\n && tar -zvxf ${DB2_INSTALLER} \\\n && rm ${DB2_INSTALLER} \\\n && echo \">>>Installing...\" \\\n && cd /tmp/${DB2_INST_DIR} \\\n && (./db2setup -r /tmp/${DB2_RESP_FILE_INSTALL} \\\n && cat /tmp/db2setup.log || cat /tmp/db2setup.log ) \\\n && echo \">>>Removing files...\" \\\n && rm -Rf /tmp/${DB2_INST_DIR} \\\n && rm /tmp/${DB2_RESP_FILE_INSTALL} \\\n && apt-get clean -y\n#   I N S T A N C E\n#   Creates a directory for all scripts\nWORKDIR ${DB2_CONF}\n#   Copies the response file\nCOPY ${DB2_RESP_FILE} ${DB2_CONF}/${DB2_RESP_FILE}\n#   Copies the script to create the instance\nCOPY ${DB2_INST_CREA_SCR} ${DB2_CONF}/${DB2_INST_CREA_SCR}\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  This Docker file downloads the DB2 LUW binaries and installs them in the\n#  image. It installs the necessary libraries.\n#\n#  This Docker is designed to download the DB2 free edition from IBM and to\n#  install DB2 from it. This edition does not requieres a license.\n#\n#  Version: 2018-01-28\n#  Author: Andres Gomez Casanova (AngocA)\n#  Made in COLOMBIA.\nFROM ubuntu:16.04\n#  MicroBadge\nARG VCS_REF\nLABEL maintainer=\"angoca@yahoo.com\" \\\n      org.label-schema.build-date=\"${BUILD_DATE}\" \\\n      org.label-schema.name=\"db2-docker-install\" \\\n      org.label-schema.description=\"Docker container for IBM DB2 for LUW with it already installed\" \\\n      org.label-schema.url=\"https://github.com/angoca/db2-docker/wiki\" \\\n      org.label-schema.vcs-ref=\"$VCS_REF\" \\\n      org.label-schema.vcs-url=\"https://github.com/angoca/db2-docker\" \\\n      org.label-schema.vendor=\"AngocA\" \\\n      org.label-schema.version=\"1.0-11.1-install-expc\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      org.label-schema.docker.cmd=\"sudo docker run -i -t --privileged=true angoca/db2-install\"\n#  Set of variables to define the type of DB2 being installed.\n# # Version of the downloaded file.\nENV DB2_VERSION=\"11.1\" \\\n    DB2_INST_DIR=\"expc\" \\\n    DB2_RESP_FILE_INSTALL=\"db2expc_install.rsp\" \\\n    DB2_RESP_FILE_INSTANCE=\"db2expc_instance.rsp\" \\\n    DB2_DOWNLOAD=\"download\" \\\n    DB2_INST_CREA_SCR=\"createInstance\" \\\n    DB2_CONF=\"/tmp/db2_conf\"\n# # Name of the downloaded file.\nENV DB2_INSTALLER=\"v${DB2_VERSION}_linuxx64_${DB2_INST_DIR}.tar.gz\" \\\n    DB2_DIR=\"/opt/ibm/db2/V${DB2_VERSION}\"\n#  I N S T A L L A T I O N\n#  Copies the script to download\nCOPY ${DB2_DOWNLOAD} /tmp/${DB2_DOWNLOAD}\n#  Copies the response file for the installation\nCOPY ${DB2_RESP_FILE_INSTALL} /tmp/${DB2_RESP_FILE_INSTALL}\n#  Test variables\nRUN echo \"DB2_VERSION=${DB2_VERSION}\" \\\n && echo \"DB2_INST_DIR=${DB2_INST_DIR}\" \\\n && echo \"DB2_INSTALLER=${DB2_INSTALLER}\" \\\n && echo \"DB2_DIR=${DB2_DIR}\" \\\n && dpkg --add-architecture i386 \\\n && apt-get update \\\n && apt-get install aria2 curl libaio1 binutils file libx32stdc++6 numactl libpam0g:i386 -y \\\n && echo \">>>Downloading...\" \\\n && /tmp/${DB2_DOWNLOAD} \\\n && echo \">>>Extracting...\" \\\n && cd /tmp \\\n && tar -zvxf ${DB2_INSTALLER} \\\n && rm ${DB2_INSTALLER} \\\n && echo \">>>Installing...\" \\\n && cd /tmp/${DB2_INST_DIR} \\\n && (./db2setup -r /tmp/${DB2_RESP_FILE_INSTALL} \\\n && cat /tmp/db2setup.log || cat /tmp/db2setup.log ) \\\n && echo \">>>Removing files...\" \\\n && rm -Rf /tmp/${DB2_INST_DIR} \\\n && rm /tmp/${DB2_RESP_FILE_INSTALL} \\\n && apt-get clean -y\n#  I N S T A N C E\n#  Creates a directory for all scripts\nWORKDIR ${DB2_CONF}\n#  Copies the response file\nCOPY ${DB2_RESP_FILE} ${DB2_CONF}/${DB2_RESP_FILE}\n#  Copies the script to create the instance\nCOPY ${DB2_INST_CREA_SCR} ${DB2_CONF}/${DB2_INST_CREA_SCR}\n","injectedSmells":[],"originalDockerfileHash":"667e25d220fe27b70924704e4c834ae5","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   This Docker file downloads the DB2 LUW binaries and installs them in the\n#   image. It installs the necessary libraries.\n#\n#   This Docker is designed to download the DB2 free edition from IBM and to\n#   install DB2 from it. This edition does not requieres a license.\n#\n#   Version: 2018-01-28\n#   Author: Andres Gomez Casanova (AngocA)\n#   Made in COLOMBIA.\nFROM ubuntu:16.04\n#   MicroBadge\nARG VCS_REF\nLABEL maintainer=\"angoca@yahoo.com\" \\\n      org.label-schema.build-date=\"${BUILD_DATE}\" \\\n      org.label-schema.name=\"db2-docker-install\" \\\n      org.label-schema.description=\"Docker container for IBM DB2 for LUW with it already installed\" \\\n      org.label-schema.url=\"https://github.com/angoca/db2-docker/wiki\" \\\n      org.label-schema.vcs-ref=\"$VCS_REF\" \\\n      org.label-schema.vcs-url=\"https://github.com/angoca/db2-docker\" \\\n      org.label-schema.vendor=\"AngocA\" \\\n      org.label-schema.version=\"1.0-11.1-install-expc\" \\\n      org.label-schema.schema-version=\"1.0\" \\\n      org.label-schema.docker.cmd=\"sudo docker run -i -t --privileged=true angoca/db2-install\"\n#   Set of variables to define the type of DB2 being installed.\n#  # Version of the downloaded file.\nENV DB2_VERSION=\"11.1\" \\\n    DB2_INST_DIR=\"expc\" \\\n    DB2_RESP_FILE_INSTALL=\"db2expc_install.rsp\" \\\n    DB2_RESP_FILE_INSTANCE=\"db2expc_instance.rsp\" \\\n    DB2_DOWNLOAD=\"download\" \\\n    DB2_INST_CREA_SCR=\"createInstance\" \\\n    DB2_CONF=\"/tmp/db2_conf\"\n#  # Name of the downloaded file.\nENV DB2_INSTALLER=\"v${DB2_VERSION}_linuxx64_${DB2_INST_DIR}.tar.gz\" \\\n    DB2_DIR=\"/opt/ibm/db2/V${DB2_VERSION}\"\n#   I N S T A L L A T I O N\n#   Copies the script to download\nCOPY ${DB2_DOWNLOAD} /tmp/${DB2_DOWNLOAD}\n#   Copies the response file for the installation\nCOPY ${DB2_RESP_FILE_INSTALL} /tmp/${DB2_RESP_FILE_INSTALL}\n#   Test variables\nRUN echo \"DB2_VERSION=${DB2_VERSION}\" \\\n && echo \"DB2_INST_DIR=${DB2_INST_DIR}\" \\\n && echo \"DB2_INSTALLER=${DB2_INSTALLER}\" \\\n && echo \"DB2_DIR=${DB2_DIR}\" \\\n && dpkg --add-architecture i386 \\\n && apt-get update \\\n && apt-get install aria2 curl libaio1 binutils file libx32stdc++6 numactl libpam0g:i386 -y \\\n && echo \">>>Downloading...\" \\\n && /tmp/${DB2_DOWNLOAD} \\\n && echo \">>>Extracting...\" \\\n && cd /tmp \\\n && tar -zvxf ${DB2_INSTALLER} \\\n && rm ${DB2_INSTALLER} \\\n && echo \">>>Installing...\" \\\n && cd /tmp/${DB2_INST_DIR} \\\n && (./db2setup -r /tmp/${DB2_RESP_FILE_INSTALL} \\\n && cat /tmp/db2setup.log || cat /tmp/db2setup.log ) \\\n && echo \">>>Removing files...\" \\\n && rm -Rf /tmp/${DB2_INST_DIR} \\\n && rm /tmp/${DB2_RESP_FILE_INSTALL} \\\n && apt-get clean -y\n#   I N S T A N C E\n#   Creates a directory for all scripts\nWORKDIR ${DB2_CONF}\n#   Copies the response file\nCOPY ${DB2_RESP_FILE} ${DB2_CONF}/${DB2_RESP_FILE}\n#   Copies the script to create the instance\nCOPY ${DB2_INST_CREA_SCR} ${DB2_CONF}/${DB2_INST_CREA_SCR}\n","originalDockerfileUglifiedHash":"cdb0438e64094469d10d5716b2677907","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/3a85875eb4d9b5d716da820ba9a302f7037b13d5.dockerfile"}