{"seed":358167911,"processedDockerfileHash":"7f1479452fac513b0245eda88f0e3b28","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   UBUNTU IMAGES @ DOCKERHUB https://hub.docker.com/_/ubuntu/\n#   WE will use ubuntu xenial 16.04 version.\n#  ###########################################################################\n#   Set the base image to Ubuntu\n#   --- In our experimental framework we used ubuntu 14.04-64bit\n#   https://hub.docker.com/_/ubuntu/\n#\n#  #ubuntu 14.04\nFROM ubuntu:trusty\n#  #ubuntu 16\n#  FROM ubuntu:xenial  \n#  FROM ubuntu\n#  FROM gcc:4.8\n#  ###########################################################################\n#   File Author / Maintainer\nMAINTAINER Miguel A. Martínez-Prieto & Antonio Fariña\n#  #######################################################################\n#   Installs required software:\nRUN apt-get update \\\n && apt-get install --no-install-recommends cmake=2.8.12.2-0ubuntu3 gcc-multilib=4:4.8.2-1ubuntu6 g++-multilib=4:4.8.2-1ubuntu6 libboost-all-dev=1.54.0.1ubuntu1 p7zip-full=9.20.1~dfsg.1-4+deb7u3build0.14.04.1 screen=4.1.0~20120320gitdb59704-9 texlive-latex-base=2013.20140215-1ubuntu0.1 texlive-fonts-recommended=2013.20140215-1ubuntu0.1 ghostscript=9.26~dfsg+0-0ubuntu0.14.04.8 openssh-server=1:6.6p1-2ubuntu2.13 -y\n#  we do not install gnuplot with apt because gnuplot4.4.3 is required to obtain\n#  the exact figures of our \"parent paper\" in Information Systems.\n#  gnuplot-qt \\\t\n#  texlive-latex-extra\n#  sudo apt-get install texlive-fonts-recommended \n#  #######################################################################\n#   permits us to connect to SSH/SFTP port #22\nRUN mkdir /var/run/sshd\nRUN echo 'root:screencast' | chpasswd\nRUN sed -i 's/PermitRootLogin prohibit-password/PermitRootLogin without-password/' /etc/ssh/sshd_config\n#  # SSH login fix. Otherwise user is kicked off after login\nRUN sed 's@session\\s*required\\s*pam_loginuid.so@session optional pam_loginuid.so@g' -i /etc/pam.d/sshd\nENV NOTVISIBLE=\"\\\"in users profile\\\"\"\nRUN echo \"export VISIBLE=now\" >> /etc/profile\nEXPOSE 22/tcp\nCMD [\"/usr/sbin/sshd\", \"-D\"]\n#  #######################################################################\n#  #### Creates user 'user' with password 'userR1'\n#  RUN useradd --create-home --skel /etc/skel -p user1 --shel /bin/bash user\nRUN adduser user --gecos \"First Lst, RoomNumber, WorkPhone, HomePhone\" --disabled-password\nRUN adduser user sudo\n#  ##password is set below (once uiHRDC repository is copied into /home/user/uihrdc!)\n#  #######################################################################\n#  #######################################################################\n#   COPIES local uiHRDC repository & docker directory.\n#  RUN cd /home/user \n#  Copies local uiHRDC repository\nCOPY uiHRDC /home/user/uiHRDC\n#  Copies local docker directory\nCOPY docker /home/user/docker\n#   Clone git repository\n#  RUN cd /home/user  && git clone https://github.com/migumar2/uiHRDC.git\n#  #######################################################################\n#   Installs gnuplot4.4.3 (the version used in the parent paper to generate the figures)\nRUN mkdir toInstallGnuplot\nRUN cp /home/user/uiHRDC/benchmark/software/gnuplot-4.4.3.tar.gz toInstallGnuplot/gnuplot-4.4.3.tar.gz\nRUN cd toInstallGnuplot \\\n && tar xzvf gnuplot-4.4.3.tar.gz \\\n && cd gnuplot-4.4.3 \\\n && ./configure \\\n && make install\nRUN rm -rf toInstallGnuplot\n#  #######################################################################\n#   Installs snappy-1.1.1\nRUN mkdir toInstall\nRUN cp /home/user/uiHRDC/indexes/NOPOS/EliasFano.OV14/partitioned_elias_fano/snappy-1.1.1.tar.gz toInstall/snappy-1.1.1.tar.gz\n#  COPY snappy-1.1.1.tar.gz toInstall/snappy-1.1.1.tar.gz\nRUN cd toInstall \\\n && tar xzvf snappy-1.1.1.tar.gz \\\n && cd snappy-1.1.1 \\\n && ./configure \\\n && make install\nRUN rm -rf /toInstall\n#  #######################################################################\n#  Sets user 'user' password 'userR1'\nRUN cd /home/user/docker \\\n && sh setpassword.sh\n#  #######################################################################\n#   Grants permissions for user in its home folder  (anyway experiments *MUST* be run as root user!!\nRUN chown user:user -R /home/user/\n#  #######################################################################\n#   configures -screen- manager terminal emulator\nRUN cp /home/user/docker/screenrc /root/.screenrc\nRUN cp /home/user/docker/screenrc /home/user/.screenrc\nRUN chown user:user /home/user/.screenrc\n#  #######################################################################\n#   Shows information regarding configuration of the image/container\n#  # Shows Ubutu release.\n#  RUN lsb_release -a  ##works on ubuntu 14, not on 16\n#  RUN gcc --version\n#  RUN g++ --version\n#  RUN cmake --version\n#  #######################################################################\n#   shows final welcome message and helpful information\nRUN cat /home/user/docker/final.docker.message.txt\n#  #######################################################################\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  UBUNTU IMAGES @ DOCKERHUB https://hub.docker.com/_/ubuntu/\n#  WE will use ubuntu xenial 16.04 version.\n# ###########################################################################\n#  Set the base image to Ubuntu\n#  --- In our experimental framework we used ubuntu 14.04-64bit\n#  https://hub.docker.com/_/ubuntu/\n#\n# #ubuntu 14.04\nFROM ubuntu:trusty\n# #ubuntu 16\n# FROM ubuntu:xenial  \n# FROM ubuntu\n# FROM gcc:4.8\n# ###########################################################################\n#  File Author / Maintainer\nMAINTAINER Miguel A. Martínez-Prieto & Antonio Fariña\n# #######################################################################\n#  Installs required software:\nRUN apt-get update \\\n && apt-get install cmake gcc-multilib g++-multilib libboost-all-dev p7zip-full screen texlive-latex-base texlive-fonts-recommended ghostscript openssh-server -y\n# we do not install gnuplot with apt because gnuplot4.4.3 is required to obtain\n# the exact figures of our \"parent paper\" in Information Systems.\n# gnuplot-qt \\\t\n# texlive-latex-extra\n# sudo apt-get install texlive-fonts-recommended \n# #######################################################################\n#  permits us to connect to SSH/SFTP port #22\nRUN mkdir /var/run/sshd\nRUN echo 'root:screencast' | chpasswd\nRUN sed -i 's/PermitRootLogin prohibit-password/PermitRootLogin without-password/' /etc/ssh/sshd_config\n# # SSH login fix. Otherwise user is kicked off after login\nRUN sed 's@session\\s*required\\s*pam_loginuid.so@session optional pam_loginuid.so@g' -i /etc/pam.d/sshd\nENV NOTVISIBLE=\"\\\"in users profile\\\"\"\nRUN echo \"export VISIBLE=now\" >> /etc/profile\nEXPOSE 22/tcp\nCMD [\"/usr/sbin/sshd\", \"-D\"]\n# #######################################################################\n# #### Creates user 'user' with password 'userR1'\n# RUN useradd --create-home --skel /etc/skel -p user1 --shel /bin/bash user\nRUN adduser user --gecos \"First Lst, RoomNumber, WorkPhone, HomePhone\" --disabled-password\nRUN adduser user sudo\n# ##password is set below (once uiHRDC repository is copied into /home/user/uihrdc!)\n# #######################################################################\n# #######################################################################\n#  COPIES local uiHRDC repository & docker directory.\n# RUN cd /home/user \n# Copies local uiHRDC repository\nCOPY uiHRDC /home/user/uiHRDC\n# Copies local docker directory\nCOPY docker /home/user/docker\n#  Clone git repository\n# RUN cd /home/user  && git clone https://github.com/migumar2/uiHRDC.git\n# #######################################################################\n#  Installs gnuplot4.4.3 (the version used in the parent paper to generate the figures)\nRUN mkdir toInstallGnuplot\nRUN cp /home/user/uiHRDC/benchmark/software/gnuplot-4.4.3.tar.gz toInstallGnuplot/gnuplot-4.4.3.tar.gz\nRUN cd toInstallGnuplot \\\n && tar xzvf gnuplot-4.4.3.tar.gz \\\n && cd gnuplot-4.4.3 \\\n && ./configure \\\n && make install\nRUN rm -rf toInstallGnuplot\n# #######################################################################\n#  Installs snappy-1.1.1\nRUN mkdir toInstall\nRUN cp /home/user/uiHRDC/indexes/NOPOS/EliasFano.OV14/partitioned_elias_fano/snappy-1.1.1.tar.gz toInstall/snappy-1.1.1.tar.gz\n# COPY snappy-1.1.1.tar.gz toInstall/snappy-1.1.1.tar.gz\nRUN cd toInstall \\\n && tar xzvf snappy-1.1.1.tar.gz \\\n && cd snappy-1.1.1 \\\n && ./configure \\\n && make install\nRUN rm -rf /toInstall\n# #######################################################################\n# Sets user 'user' password 'userR1'\nRUN cd /home/user/docker \\\n && sh setpassword.sh\n# #######################################################################\n#  Grants permissions for user in its home folder  (anyway experiments *MUST* be run as root user!!\nRUN chown user:user -R /home/user/\n# #######################################################################\n#  configures -screen- manager terminal emulator\nRUN cp /home/user/docker/screenrc /root/.screenrc\nRUN cp /home/user/docker/screenrc /home/user/.screenrc\nRUN chown user:user /home/user/.screenrc\n# #######################################################################\n#  Shows information regarding configuration of the image/container\n# # Shows Ubutu release.\n# RUN lsb_release -a  ##works on ubuntu 14, not on 16\n# RUN gcc --version\n# RUN g++ --version\n# RUN cmake --version\n# #######################################################################\n#  shows final welcome message and helpful information\nRUN cat /home/user/docker/final.docker.message.txt\n# #######################################################################\n","injectedSmells":[],"originalDockerfileHash":"10f9fa84be56bf897c12481115593567","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   UBUNTU IMAGES @ DOCKERHUB https://hub.docker.com/_/ubuntu/\n#   WE will use ubuntu xenial 16.04 version.\n#  ###########################################################################\n#   Set the base image to Ubuntu\n#   --- In our experimental framework we used ubuntu 14.04-64bit\n#   https://hub.docker.com/_/ubuntu/\n#\n#  #ubuntu 14.04\nFROM ubuntu:trusty\n#  #ubuntu 16\n#  FROM ubuntu:xenial  \n#  FROM ubuntu\n#  FROM gcc:4.8\n#  ###########################################################################\n#   File Author / Maintainer\nMAINTAINER Miguel A. Martínez-Prieto & Antonio Fariña\n#  #######################################################################\n#   Installs required software:\nRUN apt-get update \\\n && apt-get install cmake gcc-multilib g++-multilib libboost-all-dev p7zip-full screen texlive-latex-base texlive-fonts-recommended ghostscript openssh-server -y\n#  we do not install gnuplot with apt because gnuplot4.4.3 is required to obtain\n#  the exact figures of our \"parent paper\" in Information Systems.\n#  gnuplot-qt \\\t\n#  texlive-latex-extra\n#  sudo apt-get install texlive-fonts-recommended \n#  #######################################################################\n#   permits us to connect to SSH/SFTP port #22\nRUN mkdir /var/run/sshd\nRUN echo 'root:screencast' | chpasswd\nRUN sed -i 's/PermitRootLogin prohibit-password/PermitRootLogin without-password/' /etc/ssh/sshd_config\n#  # SSH login fix. Otherwise user is kicked off after login\nRUN sed 's@session\\s*required\\s*pam_loginuid.so@session optional pam_loginuid.so@g' -i /etc/pam.d/sshd\nENV NOTVISIBLE=\"\\\"in users profile\\\"\"\nRUN echo \"export VISIBLE=now\" >> /etc/profile\nEXPOSE 22/tcp\nCMD [\"/usr/sbin/sshd\", \"-D\"]\n#  #######################################################################\n#  #### Creates user 'user' with password 'userR1'\n#  RUN useradd --create-home --skel /etc/skel -p user1 --shel /bin/bash user\nRUN adduser user --gecos \"First Lst, RoomNumber, WorkPhone, HomePhone\" --disabled-password\nRUN adduser user sudo\n#  ##password is set below (once uiHRDC repository is copied into /home/user/uihrdc!)\n#  #######################################################################\n#  #######################################################################\n#   COPIES local uiHRDC repository & docker directory.\n#  RUN cd /home/user \n#  Copies local uiHRDC repository\nCOPY uiHRDC /home/user/uiHRDC\n#  Copies local docker directory\nCOPY docker /home/user/docker\n#   Clone git repository\n#  RUN cd /home/user  && git clone https://github.com/migumar2/uiHRDC.git\n#  #######################################################################\n#   Installs gnuplot4.4.3 (the version used in the parent paper to generate the figures)\nRUN mkdir toInstallGnuplot\nRUN cp /home/user/uiHRDC/benchmark/software/gnuplot-4.4.3.tar.gz toInstallGnuplot/gnuplot-4.4.3.tar.gz\nRUN cd toInstallGnuplot \\\n && tar xzvf gnuplot-4.4.3.tar.gz \\\n && cd gnuplot-4.4.3 \\\n && ./configure \\\n && make install\nRUN rm -rf toInstallGnuplot\n#  #######################################################################\n#   Installs snappy-1.1.1\nRUN mkdir toInstall\nRUN cp /home/user/uiHRDC/indexes/NOPOS/EliasFano.OV14/partitioned_elias_fano/snappy-1.1.1.tar.gz toInstall/snappy-1.1.1.tar.gz\n#  COPY snappy-1.1.1.tar.gz toInstall/snappy-1.1.1.tar.gz\nRUN cd toInstall \\\n && tar xzvf snappy-1.1.1.tar.gz \\\n && cd snappy-1.1.1 \\\n && ./configure \\\n && make install\nRUN rm -rf /toInstall\n#  #######################################################################\n#  Sets user 'user' password 'userR1'\nRUN cd /home/user/docker \\\n && sh setpassword.sh\n#  #######################################################################\n#   Grants permissions for user in its home folder  (anyway experiments *MUST* be run as root user!!\nRUN chown user:user -R /home/user/\n#  #######################################################################\n#   configures -screen- manager terminal emulator\nRUN cp /home/user/docker/screenrc /root/.screenrc\nRUN cp /home/user/docker/screenrc /home/user/.screenrc\nRUN chown user:user /home/user/.screenrc\n#  #######################################################################\n#   Shows information regarding configuration of the image/container\n#  # Shows Ubutu release.\n#  RUN lsb_release -a  ##works on ubuntu 14, not on 16\n#  RUN gcc --version\n#  RUN g++ --version\n#  RUN cmake --version\n#  #######################################################################\n#   shows final welcome message and helpful information\nRUN cat /home/user/docker/final.docker.message.txt\n#  #######################################################################\n","originalDockerfileUglifiedHash":"073f4b64c89d3c12ff402fd01f84e578","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/272f9dae36b1996a5cd70264e3263486839cbd0e.dockerfile"}