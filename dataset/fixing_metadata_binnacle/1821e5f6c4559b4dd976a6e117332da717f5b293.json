{"seed":854641503,"processedDockerfileHash":"d845a1ef511f723256e02abd2329e9b2","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   namin/io.livecode.ch\nFROM ubuntu:18.04\nMAINTAINER Nada Amin, namin@alum.mit.edu\nRUN sed -i 's/# \\(.*multiverse$\\)/\\1/g' /etc/apt/sources.list \\\n && apt-get update \\\n && apt-get -y upgrade \\\n && (apt-get update ;apt-get install --no-install-recommends build-essential=12.4ubuntu1 -y ) \\\n && (apt-get update ;apt-get install --no-install-recommends software-properties-common=0.96.24.32.20 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends locales=2.27-3ubuntu1.6 )\nRUN locale-gen en_US en_US.UTF-8\nENV TZ=\"America/New_York\"\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime \\\n && echo $TZ > /etc/timezone\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends curl=7.58.0-2ubuntu3.24 wget=1.19.4-1ubuntu2.2 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends git=1:2.17.1-1ubuntu0.17 subversion=1.9.7-4ubuntu1.1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends unzip=6.0-21ubuntu1.2 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends sed=4.4-2 gawk=1:4.1.4+dfsg-1build1 -y )\nRUN mkdir /code\n#   NOTE(namin): I disabled some installations from source, because they get killed.\n#  ## Scheme ###\n#  ## Vicare ###\n#\nRUN (apt-get update ;apt-get install --no-install-recommends build-essential=12.4ubuntu1 libtool=2.4.6-2 autoconf=2.69-11 libgmp-dev=2:6.1.2+dfsg-2ubuntu0.1 texinfo=6.5.0.dfsg.1-2 -y )\n#   --- killed ---\n#   RUN cd /code;\\\n#       git clone https://github.com/marcomaggi/vicare.git;\\\n#       cd vicare;\\\n#       sh autogen.sh;\\\n#       mkdir build;\\\n#       cd build;\\\n#       ../configure --enable-maintainer-mode;\\\n#       make;\\\n#      make install\n#\n#  ### Install from binary ####\nRUN cd /code ; mkdir vicare ; cd vicare ; wget -nv http://lampwww.epfl.ch/~amin/dkr/vicare/vicare ; wget -nv http://lampwww.epfl.ch/~amin/dkr/vicare/vicare-lib.zip ; unzip vicare-lib.zip -d /usr/local/lib/ ; chmod 755 vicare ; cp vicare /usr/local/bin/\n#  ## Chez ###\nRUN (apt-get update ;apt-get install --no-install-recommends libncurses-dev ncurses-dev libx11-dev=2:1.6.4-3ubuntu0.4 -y )\n#   RUN cd /code;\\\n#      wget -nv http://github.com/cisco/ChezScheme/archive/v9.4.zip;\\\n#      unzip v9.4.zip -d .;\\\n#      cd ChezScheme-9.4;\\\n#      ./configure;\\\n#      make install\n#  ### Install from binary ####\n#  RUN cd /usr/local/bin;\\\n#      wget -nv http://lampwww.epfl.ch/~amin/dkr/chez/scheme;\\\n#      chmod 755 scheme;\\\n#      cd /usr/local/lib;\\\n#      mkdir -p csv9.4/a6le;\\\n#      cd csv9.4/a6le;\\\n#      wget -nv http://lampwww.epfl.ch/~amin/dkr/chez/petite.boot;\\\n#      wget -nv http://lampwww.epfl.ch/~amin/dkr/chez/scheme.boot\nRUN (apt-get update ;apt-get install --no-install-recommends chezscheme=9.5+dfsg-2build2 -y )\n#  ## ML ###\nRUN (apt-get update ;apt-get install --no-install-recommends mlton-compiler=20130715-3 -y )\n#  ## Twelf ###\n#   --- killed ---\n#   RUN cd /code;\\\n#       git clone https://github.com/standardml/twelf.git;\\\n#       cd twelf;\\\n#       make mlton;\\\n#       make install\n#\n#  ### Install from binary ####\nRUN cd /code ; mkdir twelf ; wget -nv http://lampwww.epfl.ch/~amin/dkr/twelf/twelf-server ; chmod 755 twelf-server ; cp twelf-server /usr/local/bin\n#  ## SCMUTILS ###\nRUN cd /code ; mkdir scmutils ; cd scmutils ; wget -nv http://groups.csail.mit.edu/mac/users/gjs/6946/scmutils-tarballs/scmutils-20160827-x86-64-gnu-linux.tar.gz ; cd /usr/local ; tar -xvf /code/scmutils/scmutils-20160827-x86-64-gnu-linux.tar.gz\nCOPY dkr/software/mechanics-shell /usr/local/bin/mechanics-shell\n#  # Java ##\n#  RUN apt-get install -y openjdk-6-jdk\n#  RUN apt-get install -y openjdk-7-jdk\nRUN (apt-get update ;apt-get install --no-install-recommends openjdk-8-jdk=8u362-ga-0ubuntu1~18.04.1 -y )\n#  RUN apt-get install -y openjdk-9-jdk\n#  RUN apt-get install -y openjdk-10-jdk\nRUN (apt-get update ;apt-get install --no-install-recommends openjdk-11-jdk=11.0.18+10-0ubuntu1~18.04.1 -y )\n#  RUN add-apt-repository -y ppa:webupd8team/java\n#  RUN apt-get update\n#  RUN echo \"oracle-java6-installer shared/accepted-oracle-license-v1-1 select true\" | debconf-set-selections;\\\n#      echo \"oracle-java6-installer shared/accepted-oracle-license-v1-1 seen true\" | debconf-set-selections;\\\n#      apt-get install -y oracle-java6-installer\n#  RUN echo \"oracle-java7-installer shared/accepted-oracle-license-v1-1 select true\" | debconf-set-selections\n#  RUN echo \"oracle-java7-installer shared/accepted-oracle-license-v1-1 seen true\" | debconf-set-selections\n#  RUN apt-get install -y oracle-java7-installer\n#  RUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections && apt-get install -y oracle-java8-installer\n#  RUN echo oracle-java9-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections && apt-get install -y oracle-java9-installer\n#  RUN add-apt-repository -y ppa:linuxuprising/java\n#  RUN apt-get update\n#  RUN echo oracle-java11-installer shared/accepted-oracle-license-v1-2 select true | /usr/bin/debconf-set-selections\n#  RUN apt-get install -y oracle-java11-installer\n#  # Scala ##\n#  RUN apt-get install -y scala\nRUN cd /code ; wget -nv http://downloads.lightbend.com/scala/2.12.8/scala-2.12.8.tgz ; tar -xzvf scala-2.12.8.tgz\nRUN cd /code ; wget -nv http://downloads.lightbend.com/scala/2.11.8/scala-2.11.8.tgz ; tar -xzvf scala-2.11.8.tgz\n#  RUN  cd /code;\\\n#       wget -nv http://scala-lang.org/files/archive/scala-2.9.3.tgz;\\\n#       tar -xzvf scala-2.9.3.tgz\n#  # LaTeX ##\nRUN (apt-get update ;apt-get install --no-install-recommends texlive-latex-base=2017.20180305-1 texlive-latex-extra=2017.20180305-2 -y )\n#  # Racket ##\nRUN add-apt-repository ppa:plt/racket\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends racket=6.11+dfsg1-1 -y )\n#  # SMT ##\nRUN (apt-get update ;apt-get install --no-install-recommends z3=4.4.1-0.3build4 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends cvc4=1.5-1 -y )\n#  # user runner ##\nRUN (apt-get update ;apt-get install --no-install-recommends sudo=1.8.21p2-3ubuntu1.5 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends dos2unix=7.3.4-3 -y )\nRUN useradd -m -d /home/runner -s /bin/bash runner\n#  # Install io.livecode.ch scripts ##\nCOPY dkr/livecode-install /usr/local/bin/livecode-install\nCOPY dkr/livecode-run /usr/local/bin/livecode-run\n#  # From now on, everything is executed as user runner ##\nENV HOME=\"/home/runner\"\nRUN env\nRUN sudo -u runner mkdir /home/runner/bin\nRUN sudo -u runner mkdir /home/runner/files\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  namin/io.livecode.ch\nFROM ubuntu:18.04\nMAINTAINER Nada Amin, namin@alum.mit.edu\nRUN sed -i 's/# \\(.*multiverse$\\)/\\1/g' /etc/apt/sources.list \\\n && apt-get update \\\n && apt-get -y upgrade \\\n && apt-get install build-essential -y \\\n && apt-get install software-properties-common -y\nRUN apt-get install locales\nRUN locale-gen en_US en_US.UTF-8\nENV TZ=\"America/New_York\"\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime \\\n && echo $TZ > /etc/timezone\nRUN apt-get update\nRUN apt-get install curl wget -y\nRUN apt-get install git subversion -y\nRUN apt-get install unzip -y\nRUN apt-get install sed gawk -y\nRUN mkdir /code\n#  NOTE(namin): I disabled some installations from source, because they get killed.\n# ## Scheme ###\n# ## Vicare ###\n#\nRUN apt-get install build-essential libtool autoconf libgmp-dev texinfo -y\n#  --- killed ---\n#  RUN cd /code;\\\n#      git clone https://github.com/marcomaggi/vicare.git;\\\n#      cd vicare;\\\n#      sh autogen.sh;\\\n#      mkdir build;\\\n#      cd build;\\\n#      ../configure --enable-maintainer-mode;\\\n#      make;\\\n#     make install\n#\n# ### Install from binary ####\nRUN cd /code ; mkdir vicare ; cd vicare ; wget -nv http://lampwww.epfl.ch/~amin/dkr/vicare/vicare ; wget -nv http://lampwww.epfl.ch/~amin/dkr/vicare/vicare-lib.zip ; unzip vicare-lib.zip -d /usr/local/lib/ ; chmod 755 vicare ; cp vicare /usr/local/bin/\n# ## Chez ###\nRUN apt-get install libncurses-dev ncurses-dev libx11-dev -y\n#  RUN cd /code;\\\n#     wget -nv http://github.com/cisco/ChezScheme/archive/v9.4.zip;\\\n#     unzip v9.4.zip -d .;\\\n#     cd ChezScheme-9.4;\\\n#     ./configure;\\\n#     make install\n# ### Install from binary ####\n# RUN cd /usr/local/bin;\\\n#     wget -nv http://lampwww.epfl.ch/~amin/dkr/chez/scheme;\\\n#     chmod 755 scheme;\\\n#     cd /usr/local/lib;\\\n#     mkdir -p csv9.4/a6le;\\\n#     cd csv9.4/a6le;\\\n#     wget -nv http://lampwww.epfl.ch/~amin/dkr/chez/petite.boot;\\\n#     wget -nv http://lampwww.epfl.ch/~amin/dkr/chez/scheme.boot\nRUN apt-get install chezscheme -y\n# ## ML ###\nRUN apt-get install mlton-compiler -y\n# ## Twelf ###\n#  --- killed ---\n#  RUN cd /code;\\\n#      git clone https://github.com/standardml/twelf.git;\\\n#      cd twelf;\\\n#      make mlton;\\\n#      make install\n#\n# ### Install from binary ####\nRUN cd /code ; mkdir twelf ; wget -nv http://lampwww.epfl.ch/~amin/dkr/twelf/twelf-server ; chmod 755 twelf-server ; cp twelf-server /usr/local/bin\n# ## SCMUTILS ###\nRUN cd /code ; mkdir scmutils ; cd scmutils ; wget -nv http://groups.csail.mit.edu/mac/users/gjs/6946/scmutils-tarballs/scmutils-20160827-x86-64-gnu-linux.tar.gz ; cd /usr/local ; tar -xvf /code/scmutils/scmutils-20160827-x86-64-gnu-linux.tar.gz\nADD dkr/software/mechanics-shell /usr/local/bin/mechanics-shell\n# # Java ##\n# RUN apt-get install -y openjdk-6-jdk\n# RUN apt-get install -y openjdk-7-jdk\nRUN apt-get install openjdk-8-jdk -y\n# RUN apt-get install -y openjdk-9-jdk\n# RUN apt-get install -y openjdk-10-jdk\nRUN apt-get install openjdk-11-jdk -y\n# RUN add-apt-repository -y ppa:webupd8team/java\n# RUN apt-get update\n# RUN echo \"oracle-java6-installer shared/accepted-oracle-license-v1-1 select true\" | debconf-set-selections;\\\n#     echo \"oracle-java6-installer shared/accepted-oracle-license-v1-1 seen true\" | debconf-set-selections;\\\n#     apt-get install -y oracle-java6-installer\n# RUN echo \"oracle-java7-installer shared/accepted-oracle-license-v1-1 select true\" | debconf-set-selections\n# RUN echo \"oracle-java7-installer shared/accepted-oracle-license-v1-1 seen true\" | debconf-set-selections\n# RUN apt-get install -y oracle-java7-installer\n# RUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections && apt-get install -y oracle-java8-installer\n# RUN echo oracle-java9-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections && apt-get install -y oracle-java9-installer\n# RUN add-apt-repository -y ppa:linuxuprising/java\n# RUN apt-get update\n# RUN echo oracle-java11-installer shared/accepted-oracle-license-v1-2 select true | /usr/bin/debconf-set-selections\n# RUN apt-get install -y oracle-java11-installer\n# # Scala ##\n# RUN apt-get install -y scala\nRUN cd /code ; wget -nv http://downloads.lightbend.com/scala/2.12.8/scala-2.12.8.tgz ; tar -xzvf scala-2.12.8.tgz\nRUN cd /code ; wget -nv http://downloads.lightbend.com/scala/2.11.8/scala-2.11.8.tgz ; tar -xzvf scala-2.11.8.tgz\n# RUN  cd /code;\\\n#      wget -nv http://scala-lang.org/files/archive/scala-2.9.3.tgz;\\\n#      tar -xzvf scala-2.9.3.tgz\n# # LaTeX ##\nRUN apt-get install texlive-latex-base texlive-latex-extra -y\n# # Racket ##\nRUN add-apt-repository ppa:plt/racket\nRUN apt-get update\nRUN apt-get install racket -y\n# # SMT ##\nRUN apt-get install z3 -y\nRUN apt-get install cvc4 -y\n# # user runner ##\nRUN apt-get install sudo -y\nRUN apt-get install dos2unix -y\nRUN useradd -m -d /home/runner -s /bin/bash runner\n# # Install io.livecode.ch scripts ##\nADD dkr/livecode-install /usr/local/bin/livecode-install\nADD dkr/livecode-run /usr/local/bin/livecode-run\n# # From now on, everything is executed as user runner ##\nENV HOME=\"/home/runner\"\nRUN env\nRUN sudo -u runner mkdir /home/runner/bin\nRUN sudo -u runner mkdir /home/runner/files\n","injectedSmells":[],"originalDockerfileHash":"17865db642f88739b9ed3a6f32f0cb5f","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   namin/io.livecode.ch\nFROM ubuntu:18.04\nMAINTAINER Nada Amin, namin@alum.mit.edu\nRUN sed -i 's/# \\(.*multiverse$\\)/\\1/g' /etc/apt/sources.list \\\n && apt-get update \\\n && apt-get -y upgrade \\\n && apt-get install build-essential -y \\\n && apt-get install software-properties-common -y\nRUN apt-get install locales\nRUN locale-gen en_US en_US.UTF-8\nENV TZ=\"America/New_York\"\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime \\\n && echo $TZ > /etc/timezone\nRUN apt-get update\nRUN apt-get install curl wget -y\nRUN apt-get install git subversion -y\nRUN apt-get install unzip -y\nRUN apt-get install sed gawk -y\nRUN mkdir /code\n#   NOTE(namin): I disabled some installations from source, because they get killed.\n#  ## Scheme ###\n#  ## Vicare ###\n#\nRUN apt-get install build-essential libtool autoconf libgmp-dev texinfo -y\n#   --- killed ---\n#   RUN cd /code;\\\n#       git clone https://github.com/marcomaggi/vicare.git;\\\n#       cd vicare;\\\n#       sh autogen.sh;\\\n#       mkdir build;\\\n#       cd build;\\\n#       ../configure --enable-maintainer-mode;\\\n#       make;\\\n#      make install\n#\n#  ### Install from binary ####\nRUN cd /code ; mkdir vicare ; cd vicare ; wget -nv http://lampwww.epfl.ch/~amin/dkr/vicare/vicare ; wget -nv http://lampwww.epfl.ch/~amin/dkr/vicare/vicare-lib.zip ; unzip vicare-lib.zip -d /usr/local/lib/ ; chmod 755 vicare ; cp vicare /usr/local/bin/\n#  ## Chez ###\nRUN apt-get install libncurses-dev ncurses-dev libx11-dev -y\n#   RUN cd /code;\\\n#      wget -nv http://github.com/cisco/ChezScheme/archive/v9.4.zip;\\\n#      unzip v9.4.zip -d .;\\\n#      cd ChezScheme-9.4;\\\n#      ./configure;\\\n#      make install\n#  ### Install from binary ####\n#  RUN cd /usr/local/bin;\\\n#      wget -nv http://lampwww.epfl.ch/~amin/dkr/chez/scheme;\\\n#      chmod 755 scheme;\\\n#      cd /usr/local/lib;\\\n#      mkdir -p csv9.4/a6le;\\\n#      cd csv9.4/a6le;\\\n#      wget -nv http://lampwww.epfl.ch/~amin/dkr/chez/petite.boot;\\\n#      wget -nv http://lampwww.epfl.ch/~amin/dkr/chez/scheme.boot\nRUN apt-get install chezscheme -y\n#  ## ML ###\nRUN apt-get install mlton-compiler -y\n#  ## Twelf ###\n#   --- killed ---\n#   RUN cd /code;\\\n#       git clone https://github.com/standardml/twelf.git;\\\n#       cd twelf;\\\n#       make mlton;\\\n#       make install\n#\n#  ### Install from binary ####\nRUN cd /code ; mkdir twelf ; wget -nv http://lampwww.epfl.ch/~amin/dkr/twelf/twelf-server ; chmod 755 twelf-server ; cp twelf-server /usr/local/bin\n#  ## SCMUTILS ###\nRUN cd /code ; mkdir scmutils ; cd scmutils ; wget -nv http://groups.csail.mit.edu/mac/users/gjs/6946/scmutils-tarballs/scmutils-20160827-x86-64-gnu-linux.tar.gz ; cd /usr/local ; tar -xvf /code/scmutils/scmutils-20160827-x86-64-gnu-linux.tar.gz\nADD dkr/software/mechanics-shell /usr/local/bin/mechanics-shell\n#  # Java ##\n#  RUN apt-get install -y openjdk-6-jdk\n#  RUN apt-get install -y openjdk-7-jdk\nRUN apt-get install openjdk-8-jdk -y\n#  RUN apt-get install -y openjdk-9-jdk\n#  RUN apt-get install -y openjdk-10-jdk\nRUN apt-get install openjdk-11-jdk -y\n#  RUN add-apt-repository -y ppa:webupd8team/java\n#  RUN apt-get update\n#  RUN echo \"oracle-java6-installer shared/accepted-oracle-license-v1-1 select true\" | debconf-set-selections;\\\n#      echo \"oracle-java6-installer shared/accepted-oracle-license-v1-1 seen true\" | debconf-set-selections;\\\n#      apt-get install -y oracle-java6-installer\n#  RUN echo \"oracle-java7-installer shared/accepted-oracle-license-v1-1 select true\" | debconf-set-selections\n#  RUN echo \"oracle-java7-installer shared/accepted-oracle-license-v1-1 seen true\" | debconf-set-selections\n#  RUN apt-get install -y oracle-java7-installer\n#  RUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections && apt-get install -y oracle-java8-installer\n#  RUN echo oracle-java9-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections && apt-get install -y oracle-java9-installer\n#  RUN add-apt-repository -y ppa:linuxuprising/java\n#  RUN apt-get update\n#  RUN echo oracle-java11-installer shared/accepted-oracle-license-v1-2 select true | /usr/bin/debconf-set-selections\n#  RUN apt-get install -y oracle-java11-installer\n#  # Scala ##\n#  RUN apt-get install -y scala\nRUN cd /code ; wget -nv http://downloads.lightbend.com/scala/2.12.8/scala-2.12.8.tgz ; tar -xzvf scala-2.12.8.tgz\nRUN cd /code ; wget -nv http://downloads.lightbend.com/scala/2.11.8/scala-2.11.8.tgz ; tar -xzvf scala-2.11.8.tgz\n#  RUN  cd /code;\\\n#       wget -nv http://scala-lang.org/files/archive/scala-2.9.3.tgz;\\\n#       tar -xzvf scala-2.9.3.tgz\n#  # LaTeX ##\nRUN apt-get install texlive-latex-base texlive-latex-extra -y\n#  # Racket ##\nRUN add-apt-repository ppa:plt/racket\nRUN apt-get update\nRUN apt-get install racket -y\n#  # SMT ##\nRUN apt-get install z3 -y\nRUN apt-get install cvc4 -y\n#  # user runner ##\nRUN apt-get install sudo -y\nRUN apt-get install dos2unix -y\nRUN useradd -m -d /home/runner -s /bin/bash runner\n#  # Install io.livecode.ch scripts ##\nADD dkr/livecode-install /usr/local/bin/livecode-install\nADD dkr/livecode-run /usr/local/bin/livecode-run\n#  # From now on, everything is executed as user runner ##\nENV HOME=\"/home/runner\"\nRUN env\nRUN sudo -u runner mkdir /home/runner/bin\nRUN sudo -u runner mkdir /home/runner/files\n","originalDockerfileUglifiedHash":"35191f69ef06eaf79737ef4f25546312","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/1821e5f6c4559b4dd976a6e117332da717f5b293.dockerfile"}