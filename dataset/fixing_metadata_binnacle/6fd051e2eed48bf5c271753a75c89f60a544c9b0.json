{"seed":3325322207,"processedDockerfileHash":"e19cb5db4b3840a08b570a52379f3e8f","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","have-a-healthcheck"],"processedDockerfile":"FROM gassmoeller/aspect\nLABEL Timo=\"Heister <timo.heister@gmail.com>\"\nUSER root\nRUN apt-get update \\\n && apt-get install --no-install-recommends sudo=1.9.13p1-1ubuntu2 Dpkg::Options::=\"--force-confold\" -yq -o\n#   Install all OS dependencies for fully functional notebook server\nRUN apt-get update \\\n && apt-get install --no-install-recommends git=1:2.39.2-1ubuntu1 vim=2:9.0.1000-4ubuntu2 jed=1:0.99.20~pre.178+dfsg-1 emacs=1:28.2+1-13ubuntu3 build-essential=12.9ubuntu3 python-dev unzip=6.0-27ubuntu1 libsm6=2:1.2.3-1build2 pandoc=2.17.1.1-1.1ubuntu1 texlive-latex-base=2022.20230122-2 texlive-latex-extra=2022.20230122-2 texlive-fonts-extra=2022.20230122-2 texlive-fonts-recommended=2022.20230122-2 texlive-generic-recommended texlive-xetex=2022.20230122-2 lmodern=2.005-1 libxrender1=1:0.9.10-1.1 inkscape=1.2.2-2ubuntu1 wget=1.21.3-1ubuntu1 bzip2=1.0.8-5build1 ca-certificates=20230311 sudo=1.9.13p1-1ubuntu2 locales=2.37-0ubuntu2 fonts-liberation=1:1.07.4-11 -yq\n#   Install Tini\nRUN wget --quiet https://github.com/krallin/tini/releases/download/v0.10.0/tini \\\n && echo \"1361527f39190a7338a0b434bd8c88ff7233ce7b9a4876f3315c22fce7eca1b0 *tini\" | sha256sum -c - \\\n && mv tini /usr/local/bin/tini \\\n && chmod +x /usr/local/bin/tini\nENV SHELL=\"/bin/bash\"\nENV CONDA_DIR=\"/opt/conda\"\nENV PATH=\"$CONDA_DIR/bin:$PATH\"\nENV HOME=\"/home/$USER\"\nENV NB_USER=\"$USER\"\nRUN mkdir -p $CONDA_DIR \\\n && chown $USER $CONDA_DIR\nUSER $USER\n#   Install conda \nRUN cd /tmp \\\n && mkdir -p $CONDA_DIR \\\n && wget --quiet https://repo.continuum.io/miniconda/Miniconda3-4.2.12-Linux-x86_64.sh \\\n && echo \"c59b3dd3cad550ac7596e0d599b91e75d88826db132e4146030ef471bb434e9a *Miniconda3-4.2.12-Linux-x86_64.sh\" | sha256sum -c - \\\n && /bin/bash Miniconda3-4.2.12-Linux-x86_64.sh -f -b -p $CONDA_DIR \\\n && rm Miniconda3-4.2.12-Linux-x86_64.sh \\\n && $CONDA_DIR/bin/conda config --system --add channels conda-forge \\\n && $CONDA_DIR/bin/conda config --system --set auto_update_conda false \\\n && conda clean -tipsy\n#   Install Jupyter Notebook and Hub\nRUN conda install --quiet --yes 'notebook=5.0.*' 'jupyterhub=0.7.*' 'jupyterlab=0.18.*' \\\n && conda clean -tipsy\nRUN conda install --quiet --yes 'nomkl' 'ipywidgets=6.0*' 'pandas=0.19*' 'numexpr=2.6*' 'matplotlib=2.0*' 'scipy=0.19*' 'seaborn=0.7*' 'scikit-learn=0.18*' 'scikit-image=0.12*' 'sympy=1.0*' 'cython=0.25*' 'patsy=0.4*' 'statsmodels=0.8*' 'cloudpickle=0.2*' 'dill=0.2*' 'numba=0.31*' 'bokeh=0.12*' 'sqlalchemy=1.1*' 'hdf5=1.8.17' 'h5py=2.6*' 'vincent=0.4.*' 'beautifulsoup4=4.5.*' 'pytables' 'xlrd' \\\n && conda remove --quiet --yes --force qt pyqt \\\n && conda clean -tipsy\n#   Activate ipywidgets extension in the environment that runs the notebook server\nRUN jupyter nbextension enable --py widgetsnbextension --sys-prefix\nRUN mkdir -p $HOME/.ipython/profile_default/startup\nCOPY mplimporthook.py $HOME/.ipython/profile_default/startup/\nUSER root\nEXPOSE 8888/tcp\nENTRYPOINT [\"tini\", \"--\"]\nCMD [\"start-notebook.sh\"]\nCOPY start.sh /usr/local/bin/\nCOPY start-notebook.sh /usr/local/bin/\n#  COPY start-singleuser.sh /usr/local/bin/\nCOPY jupyter_notebook_config.py /home/$NB_USER/.jupyter/\nRUN chown -R $NB_USER:users /home/$NB_USER/.jupyter\nCOPY demo.ipynb /home/$NB_USER/\nRUN chown $NB_USER:users /home/$NB_USER/demo.ipynb\nWORKDIR /home/$USER/\nUSER $USER\nRUN jupyter trust /home/$USER/*.ipynb\n#   enable widgets:\nRUN jupyter nbextension enable --py --sys-prefix widgetsnbextension\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM gassmoeller/aspect\nLABEL Timo=\"Heister <timo.heister@gmail.com>\"\nUSER root\nRUN apt-get update \\\n && apt-get install --no-install-recommends sudo Dpkg::Options::=\"--force-confold\" -yq -o\n#  Install all OS dependencies for fully functional notebook server\nRUN apt-get update \\\n && apt-get install --no-install-recommends git vim jed emacs build-essential python-dev unzip libsm6 pandoc texlive-latex-base texlive-latex-extra texlive-fonts-extra texlive-fonts-recommended texlive-generic-recommended texlive-xetex lmodern libxrender1 inkscape wget bzip2 ca-certificates sudo locales fonts-liberation -yq\n#  Install Tini\nRUN wget --quiet https://github.com/krallin/tini/releases/download/v0.10.0/tini \\\n && echo \"1361527f39190a7338a0b434bd8c88ff7233ce7b9a4876f3315c22fce7eca1b0 *tini\" | sha256sum -c - \\\n && mv tini /usr/local/bin/tini \\\n && chmod +x /usr/local/bin/tini\nENV SHELL=\"/bin/bash\"\nENV CONDA_DIR=\"/opt/conda\"\nENV PATH=\"$CONDA_DIR/bin:$PATH\"\nENV HOME=\"/home/$USER\"\nENV NB_USER=\"$USER\"\nRUN mkdir -p $CONDA_DIR \\\n && chown $USER $CONDA_DIR\nUSER $USER\n#  Install conda \nRUN cd /tmp \\\n && mkdir -p $CONDA_DIR \\\n && wget --quiet https://repo.continuum.io/miniconda/Miniconda3-4.2.12-Linux-x86_64.sh \\\n && echo \"c59b3dd3cad550ac7596e0d599b91e75d88826db132e4146030ef471bb434e9a *Miniconda3-4.2.12-Linux-x86_64.sh\" | sha256sum -c - \\\n && /bin/bash Miniconda3-4.2.12-Linux-x86_64.sh -f -b -p $CONDA_DIR \\\n && rm Miniconda3-4.2.12-Linux-x86_64.sh \\\n && $CONDA_DIR/bin/conda config --system --add channels conda-forge \\\n && $CONDA_DIR/bin/conda config --system --set auto_update_conda false \\\n && conda clean -tipsy\n#  Install Jupyter Notebook and Hub\nRUN conda install --quiet --yes 'notebook=5.0.*' 'jupyterhub=0.7.*' 'jupyterlab=0.18.*' \\\n && conda clean -tipsy\nRUN conda install --quiet --yes 'nomkl' 'ipywidgets=6.0*' 'pandas=0.19*' 'numexpr=2.6*' 'matplotlib=2.0*' 'scipy=0.19*' 'seaborn=0.7*' 'scikit-learn=0.18*' 'scikit-image=0.12*' 'sympy=1.0*' 'cython=0.25*' 'patsy=0.4*' 'statsmodels=0.8*' 'cloudpickle=0.2*' 'dill=0.2*' 'numba=0.31*' 'bokeh=0.12*' 'sqlalchemy=1.1*' 'hdf5=1.8.17' 'h5py=2.6*' 'vincent=0.4.*' 'beautifulsoup4=4.5.*' 'pytables' 'xlrd' \\\n && conda remove --quiet --yes --force qt pyqt \\\n && conda clean -tipsy\n#  Activate ipywidgets extension in the environment that runs the notebook server\nRUN jupyter nbextension enable --py widgetsnbextension --sys-prefix\nRUN mkdir -p $HOME/.ipython/profile_default/startup\nCOPY mplimporthook.py $HOME/.ipython/profile_default/startup/\nUSER root\nEXPOSE 8888/tcp\nENTRYPOINT [\"tini\", \"--\"]\nCMD [\"start-notebook.sh\"]\nCOPY start.sh /usr/local/bin/\nCOPY start-notebook.sh /usr/local/bin/\n# COPY start-singleuser.sh /usr/local/bin/\nCOPY jupyter_notebook_config.py /home/$NB_USER/.jupyter/\nRUN chown -R $NB_USER:users /home/$NB_USER/.jupyter\nCOPY demo.ipynb /home/$NB_USER/\nRUN chown $NB_USER:users /home/$NB_USER/demo.ipynb\nWORKDIR /home/$USER/\nUSER $USER\nRUN jupyter trust /home/$USER/*.ipynb\n#  enable widgets:\nRUN jupyter nbextension enable --py --sys-prefix widgetsnbextension\n","injectedSmells":[],"originalDockerfileHash":"c0c05314cc8894316a52771bc63463df","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM gassmoeller/aspect\nLABEL Timo=\"Heister <timo.heister@gmail.com>\"\nUSER root\nRUN apt-get update \\\n && apt-get install --no-install-recommends sudo Dpkg::Options::=\"--force-confold\" -yq -o\n#   Install all OS dependencies for fully functional notebook server\nRUN apt-get update \\\n && apt-get install --no-install-recommends git vim jed emacs build-essential python-dev unzip libsm6 pandoc texlive-latex-base texlive-latex-extra texlive-fonts-extra texlive-fonts-recommended texlive-generic-recommended texlive-xetex lmodern libxrender1 inkscape wget bzip2 ca-certificates sudo locales fonts-liberation -yq\n#   Install Tini\nRUN wget --quiet https://github.com/krallin/tini/releases/download/v0.10.0/tini \\\n && echo \"1361527f39190a7338a0b434bd8c88ff7233ce7b9a4876f3315c22fce7eca1b0 *tini\" | sha256sum -c - \\\n && mv tini /usr/local/bin/tini \\\n && chmod +x /usr/local/bin/tini\nENV SHELL=\"/bin/bash\"\nENV CONDA_DIR=\"/opt/conda\"\nENV PATH=\"$CONDA_DIR/bin:$PATH\"\nENV HOME=\"/home/$USER\"\nENV NB_USER=\"$USER\"\nRUN mkdir -p $CONDA_DIR \\\n && chown $USER $CONDA_DIR\nUSER $USER\n#   Install conda \nRUN cd /tmp \\\n && mkdir -p $CONDA_DIR \\\n && wget --quiet https://repo.continuum.io/miniconda/Miniconda3-4.2.12-Linux-x86_64.sh \\\n && echo \"c59b3dd3cad550ac7596e0d599b91e75d88826db132e4146030ef471bb434e9a *Miniconda3-4.2.12-Linux-x86_64.sh\" | sha256sum -c - \\\n && /bin/bash Miniconda3-4.2.12-Linux-x86_64.sh -f -b -p $CONDA_DIR \\\n && rm Miniconda3-4.2.12-Linux-x86_64.sh \\\n && $CONDA_DIR/bin/conda config --system --add channels conda-forge \\\n && $CONDA_DIR/bin/conda config --system --set auto_update_conda false \\\n && conda clean -tipsy\n#   Install Jupyter Notebook and Hub\nRUN conda install --quiet --yes 'notebook=5.0.*' 'jupyterhub=0.7.*' 'jupyterlab=0.18.*' \\\n && conda clean -tipsy\nRUN conda install --quiet --yes 'nomkl' 'ipywidgets=6.0*' 'pandas=0.19*' 'numexpr=2.6*' 'matplotlib=2.0*' 'scipy=0.19*' 'seaborn=0.7*' 'scikit-learn=0.18*' 'scikit-image=0.12*' 'sympy=1.0*' 'cython=0.25*' 'patsy=0.4*' 'statsmodels=0.8*' 'cloudpickle=0.2*' 'dill=0.2*' 'numba=0.31*' 'bokeh=0.12*' 'sqlalchemy=1.1*' 'hdf5=1.8.17' 'h5py=2.6*' 'vincent=0.4.*' 'beautifulsoup4=4.5.*' 'pytables' 'xlrd' \\\n && conda remove --quiet --yes --force qt pyqt \\\n && conda clean -tipsy\n#   Activate ipywidgets extension in the environment that runs the notebook server\nRUN jupyter nbextension enable --py widgetsnbextension --sys-prefix\nRUN mkdir -p $HOME/.ipython/profile_default/startup\nCOPY mplimporthook.py $HOME/.ipython/profile_default/startup/\nUSER root\nEXPOSE 8888/tcp\nENTRYPOINT [\"tini\", \"--\"]\nCMD [\"start-notebook.sh\"]\nCOPY start.sh /usr/local/bin/\nCOPY start-notebook.sh /usr/local/bin/\n#  COPY start-singleuser.sh /usr/local/bin/\nCOPY jupyter_notebook_config.py /home/$NB_USER/.jupyter/\nRUN chown -R $NB_USER:users /home/$NB_USER/.jupyter\nCOPY demo.ipynb /home/$NB_USER/\nRUN chown $NB_USER:users /home/$NB_USER/demo.ipynb\nWORKDIR /home/$USER/\nUSER $USER\nRUN jupyter trust /home/$USER/*.ipynb\n#   enable widgets:\nRUN jupyter nbextension enable --py --sys-prefix widgetsnbextension\n","originalDockerfileUglifiedHash":"b5585c49fa473af3a05b83866623d128","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/6fd051e2eed48bf5c271753a75c89f60a544c9b0.dockerfile"}