{"seed":2181601496,"processedDockerfileHash":"fc3c4890185aac44135211b26ffd5cef","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   More info at:\n#   https://github.com/tedsluis/docker-dump1090\n#   https://github.com/mutability/dump1090\n#   https://hub.docker.com/r/tedsluis/dump1090-mutability\n#   http://discussions.flightaware.com/post180185.html\n#   https://www.youtube.com/watch?v=h4YyFDTS6CQ\n#   http://blog.hypriot.com/downloads/\n#   This dockerfile can be used to build the original dump1090-mutability (v1.15) \n#   on Raspberry pi (ARM)/Hypriot Docker.\n#   Build it yourself:  \n#                        $ docker build -t tedsluis/dump1090-mutability:v1.15_arm .\n#   Run it:    \n#                        $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_arm\n#   Or run it with a different BEAST source:    \n#                        $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_arm /usr/share/dump1090-mutability/startdump1090.sh <IP address of your own remote dump1090 source>\nFROM resin/rpi-raspbian:jessie\nMAINTAINER Ted Sluis, Utrecht, The Netherlands, ted.sluis@gmail.com\n#   Required settings\nRUN sed -i 's/exit 101/exit 0/g' /usr/sbin/policy-rc.d\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Install required packages:\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends apt-utils build-essential ca-certificates cron curl debhelper dialog dpkg-dev g++-4.9 gcc-4.9 git librtlsdr-dev libusb-1.0-0-dev lighttpd netcat net-tools pkg-config python2.7 wget -y )\n#   Download and install required packages for building dump1090:\nRUN cd /tmp \\\n && wget https://github.com/mutability/librtlsdr/releases/download/v0.5.4_git-1/librtlsdr0_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && wget https://github.com/mutability/librtlsdr/releases/download/v0.5.4_git-1/librtlsdr-dev_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && wget https://github.com/mutability/librtlsdr/releases/download/v0.5.4_git-1/rtl-sdr_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && dpkg -i librtlsdr0_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && dpkg -i librtlsdr-dev_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && dpkg -i rtl-sdr_0.5.4.git-1_armhf.deb\n#   Update to the latest software packages:\nRUN : \\\n && apt-get upgrade -y\n#   Prepare for install\nRUN ln /usr/bin/python2.7 /usr/bin/python2\nRUN mkdir /tmp/dump1090\n#   Clone, build and install dump1090 from source.\nRUN cd /tmp/dump1090 \\\n && git clone https://github.com/mutability/dump1090.git /tmp/dump1090\nRUN cd /tmp/dump1090 \\\n && dpkg-buildpackage -b -d\nRUN cd /tmp \\\n && dpkg -i dump1090-mutability_1.15~dev_armhf.deb\n#   Download config files.\n#   note: If you use other config files, be sure you configure them before building the image. Don't use the default config files, because you won't be able to configure them!\nRUN wget -O /usr/share/dump1090-mutability/html/config.js https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/config.js.org\nRUN wget -O /etc/default/dump1090-mutability https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/dump1090-mutability\n#   Add terrain-limit rings. To enable this:\n#   # create a panorama for your receiver location on heywhatsthat.com\n#   # note the \"view\" value from the URL at the top of the panorama\n#   # i.e. the XXXX in http://www.heywhatsthat.com/?view=XXXX\n#   # fetch a json file from the API for the altitudes you want to see:\n#   # wget -O /usr/share/dump1090-mutability/html/upintheair.json \\\n#   # 'http://www.heywhatsthat.com/api/upintheair.json?id=XXXX&refraction=0.25&alts=3048,9144'\n#   # NB: altitudes are in _meters_, you can specify a list of altitudes\nRUN wget -O /usr/share/dump1090-mutability/html/upintheair.json 'http://www.heywhatsthat.com/api/upintheair.json?id=M7R4MI9M&refraction=0.25&alts=100,1000,10000'\n#   Open the firewall for http and incoming BEAST-format\nEXPOSE 80/tcp\nEXPOSE 30104/tcp\n#   Configure the webserver:\nRUN lighty-enable-mod dump1090\n#   Create startdump1090.sh script\n#   note: Change the default IP address of the remote dump1090 source in the startdump1090.sh script or specify the script with the IP address while you start the container!\nRUN wget -O /usr/share/dump1090-mutability/startdump1090.sh https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/startdump1090.sh\nRUN chmod 775 /usr/share/dump1090-mutability/startdump1090.sh\n#   This is the place where you can put your own ADS-B BEAST source.\n#   Replace the IP address with a dump1090 instance.\nRUN sed -i 's/^([\\s]+)ip=\"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\"/${1}ip=\"130.211.186.77\"/g' /usr/share/dump1090-mutability/startdump1090.sh\n#   Add labels\nLABEL architecture=\"ARM,Hypriot\"\nLABEL dump1090version=\"v1.15_arm\"\n#   Start lighttp web server, BEAST-format input (netcat) and Dump1090\nCMD [\"/bin/bash\", \"/usr/share/dump1090-mutability/startdump1090.sh\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  More info at:\n#  https://github.com/tedsluis/docker-dump1090\n#  https://github.com/mutability/dump1090\n#  https://hub.docker.com/r/tedsluis/dump1090-mutability\n#  http://discussions.flightaware.com/post180185.html\n#  https://www.youtube.com/watch?v=h4YyFDTS6CQ\n#  http://blog.hypriot.com/downloads/\n#  This dockerfile can be used to build the original dump1090-mutability (v1.15) \n#  on Raspberry pi (ARM)/Hypriot Docker.\n#  Build it yourself:  \n#                       $ docker build -t tedsluis/dump1090-mutability:v1.15_arm .\n#  Run it:    \n#                       $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_arm\n#  Or run it with a different BEAST source:    \n#                       $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_arm /usr/share/dump1090-mutability/startdump1090.sh <IP address of your own remote dump1090 source>\nFROM resin/rpi-raspbian:jessie\nMAINTAINER Ted Sluis, Utrecht, The Netherlands, ted.sluis@gmail.com\n#  Required settings\nRUN sed -i 's/exit 101/exit 0/g' /usr/sbin/policy-rc.d\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  Install required packages:\nRUN apt-get update \\\n && apt-get install apt-utils build-essential ca-certificates cron curl debhelper dialog dpkg-dev g++-4.9 gcc-4.9 git librtlsdr-dev libusb-1.0-0-dev lighttpd netcat net-tools pkg-config python2.7 wget -y\n#  Download and install required packages for building dump1090:\nRUN cd /tmp \\\n && wget https://github.com/mutability/librtlsdr/releases/download/v0.5.4_git-1/librtlsdr0_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && wget https://github.com/mutability/librtlsdr/releases/download/v0.5.4_git-1/librtlsdr-dev_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && wget https://github.com/mutability/librtlsdr/releases/download/v0.5.4_git-1/rtl-sdr_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && dpkg -i librtlsdr0_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && dpkg -i librtlsdr-dev_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && dpkg -i rtl-sdr_0.5.4.git-1_armhf.deb\n#  Update to the latest software packages:\nRUN apt-get update \\\n && apt-get upgrade -y\n#  Prepare for install\nRUN ln /usr/bin/python2.7 /usr/bin/python2\nRUN mkdir /tmp/dump1090\n#  Clone, build and install dump1090 from source.\nRUN cd /tmp/dump1090 \\\n && git clone https://github.com/mutability/dump1090.git /tmp/dump1090\nRUN cd /tmp/dump1090 \\\n && dpkg-buildpackage -b -d\nRUN cd /tmp \\\n && dpkg -i dump1090-mutability_1.15~dev_armhf.deb\n#  Download config files.\n#  note: If you use other config files, be sure you configure them before building the image. Don't use the default config files, because you won't be able to configure them!\nRUN wget -O /usr/share/dump1090-mutability/html/config.js https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/config.js.org\nRUN wget -O /etc/default/dump1090-mutability https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/dump1090-mutability\n#  Add terrain-limit rings. To enable this:\n#  # create a panorama for your receiver location on heywhatsthat.com\n#  # note the \"view\" value from the URL at the top of the panorama\n#  # i.e. the XXXX in http://www.heywhatsthat.com/?view=XXXX\n#  # fetch a json file from the API for the altitudes you want to see:\n#  # wget -O /usr/share/dump1090-mutability/html/upintheair.json \\\n#  # 'http://www.heywhatsthat.com/api/upintheair.json?id=XXXX&refraction=0.25&alts=3048,9144'\n#  # NB: altitudes are in _meters_, you can specify a list of altitudes\nRUN wget -O /usr/share/dump1090-mutability/html/upintheair.json 'http://www.heywhatsthat.com/api/upintheair.json?id=M7R4MI9M&refraction=0.25&alts=100,1000,10000'\n#  Open the firewall for http and incoming BEAST-format\nEXPOSE 80/tcp\nEXPOSE 30104/tcp\n#  Configure the webserver:\nRUN lighty-enable-mod dump1090\n#  Create startdump1090.sh script\n#  note: Change the default IP address of the remote dump1090 source in the startdump1090.sh script or specify the script with the IP address while you start the container!\nRUN wget -O /usr/share/dump1090-mutability/startdump1090.sh https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/startdump1090.sh\nRUN chmod 775 /usr/share/dump1090-mutability/startdump1090.sh\n#  This is the place where you can put your own ADS-B BEAST source.\n#  Replace the IP address with a dump1090 instance.\nRUN sed -i 's/^([\\s]+)ip=\"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\"/${1}ip=\"130.211.186.77\"/g' /usr/share/dump1090-mutability/startdump1090.sh\n#  Add labels\nLABEL architecture=\"ARM,Hypriot\"\nLABEL dump1090version=\"v1.15_arm\"\n#  Start lighttp web server, BEAST-format input (netcat) and Dump1090\nCMD [\"/bin/bash\", \"/usr/share/dump1090-mutability/startdump1090.sh\"]\n","injectedSmells":[],"originalDockerfileHash":"64f4a4b9bd5dab1cd26ea796820898d8","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   More info at:\n#   https://github.com/tedsluis/docker-dump1090\n#   https://github.com/mutability/dump1090\n#   https://hub.docker.com/r/tedsluis/dump1090-mutability\n#   http://discussions.flightaware.com/post180185.html\n#   https://www.youtube.com/watch?v=h4YyFDTS6CQ\n#   http://blog.hypriot.com/downloads/\n#   This dockerfile can be used to build the original dump1090-mutability (v1.15) \n#   on Raspberry pi (ARM)/Hypriot Docker.\n#   Build it yourself:  \n#                        $ docker build -t tedsluis/dump1090-mutability:v1.15_arm .\n#   Run it:    \n#                        $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_arm\n#   Or run it with a different BEAST source:    \n#                        $ docker run -d -h dump01 -p 8080:80 tedsluis/dump1090-mutability:v1.15_arm /usr/share/dump1090-mutability/startdump1090.sh <IP address of your own remote dump1090 source>\nFROM resin/rpi-raspbian:jessie\nMAINTAINER Ted Sluis, Utrecht, The Netherlands, ted.sluis@gmail.com\n#   Required settings\nRUN sed -i 's/exit 101/exit 0/g' /usr/sbin/policy-rc.d\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Install required packages:\nRUN apt-get update \\\n && apt-get install apt-utils build-essential ca-certificates cron curl debhelper dialog dpkg-dev g++-4.9 gcc-4.9 git librtlsdr-dev libusb-1.0-0-dev lighttpd netcat net-tools pkg-config python2.7 wget -y\n#   Download and install required packages for building dump1090:\nRUN cd /tmp \\\n && wget https://github.com/mutability/librtlsdr/releases/download/v0.5.4_git-1/librtlsdr0_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && wget https://github.com/mutability/librtlsdr/releases/download/v0.5.4_git-1/librtlsdr-dev_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && wget https://github.com/mutability/librtlsdr/releases/download/v0.5.4_git-1/rtl-sdr_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && dpkg -i librtlsdr0_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && dpkg -i librtlsdr-dev_0.5.4.git-1_armhf.deb\nRUN cd /tmp \\\n && dpkg -i rtl-sdr_0.5.4.git-1_armhf.deb\n#   Update to the latest software packages:\nRUN apt-get update \\\n && apt-get upgrade -y\n#   Prepare for install\nRUN ln /usr/bin/python2.7 /usr/bin/python2\nRUN mkdir /tmp/dump1090\n#   Clone, build and install dump1090 from source.\nRUN cd /tmp/dump1090 \\\n && git clone https://github.com/mutability/dump1090.git /tmp/dump1090\nRUN cd /tmp/dump1090 \\\n && dpkg-buildpackage -b -d\nRUN cd /tmp \\\n && dpkg -i dump1090-mutability_1.15~dev_armhf.deb\n#   Download config files.\n#   note: If you use other config files, be sure you configure them before building the image. Don't use the default config files, because you won't be able to configure them!\nRUN wget -O /usr/share/dump1090-mutability/html/config.js https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/config.js.org\nRUN wget -O /etc/default/dump1090-mutability https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/dump1090-mutability\n#   Add terrain-limit rings. To enable this:\n#   # create a panorama for your receiver location on heywhatsthat.com\n#   # note the \"view\" value from the URL at the top of the panorama\n#   # i.e. the XXXX in http://www.heywhatsthat.com/?view=XXXX\n#   # fetch a json file from the API for the altitudes you want to see:\n#   # wget -O /usr/share/dump1090-mutability/html/upintheair.json \\\n#   # 'http://www.heywhatsthat.com/api/upintheair.json?id=XXXX&refraction=0.25&alts=3048,9144'\n#   # NB: altitudes are in _meters_, you can specify a list of altitudes\nRUN wget -O /usr/share/dump1090-mutability/html/upintheair.json 'http://www.heywhatsthat.com/api/upintheair.json?id=M7R4MI9M&refraction=0.25&alts=100,1000,10000'\n#   Open the firewall for http and incoming BEAST-format\nEXPOSE 80/tcp\nEXPOSE 30104/tcp\n#   Configure the webserver:\nRUN lighty-enable-mod dump1090\n#   Create startdump1090.sh script\n#   note: Change the default IP address of the remote dump1090 source in the startdump1090.sh script or specify the script with the IP address while you start the container!\nRUN wget -O /usr/share/dump1090-mutability/startdump1090.sh https://raw.githubusercontent.com/tedsluis/docker-dump1090/master/startdump1090.sh\nRUN chmod 775 /usr/share/dump1090-mutability/startdump1090.sh\n#   This is the place where you can put your own ADS-B BEAST source.\n#   Replace the IP address with a dump1090 instance.\nRUN sed -i 's/^([\\s]+)ip=\"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\"/${1}ip=\"130.211.186.77\"/g' /usr/share/dump1090-mutability/startdump1090.sh\n#   Add labels\nLABEL architecture=\"ARM,Hypriot\"\nLABEL dump1090version=\"v1.15_arm\"\n#   Start lighttp web server, BEAST-format input (netcat) and Dump1090\nCMD [\"/bin/bash\", \"/usr/share/dump1090-mutability/startdump1090.sh\"]\n","originalDockerfileUglifiedHash":"9939bc9b1363043a94076517accbb49d","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/5d32fc703c11fca3e16c2c1cf0616f0ccb87987b.dockerfile"}