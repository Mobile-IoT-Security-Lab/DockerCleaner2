{"seed":1773418089,"processedDockerfileHash":"383c69278a3f21f6c99135d662923305","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck"],"processedDockerfile":"#   Base image\nFROM ubuntu:16.04\n#  ################# METADATA ######################\nLABEL base_image=\"ubuntu:16.04\"\nLABEL version=\"5\"\nLABEL software=\"biocontainers\"\nLABEL software.version=\"1.0.0\"\nLABEL about.summary=\"Base image for BioDocker\"\nLABEL about.home=\"http://biocontainers.pro\"\nLABEL about.documentation=\"https://github.com/BioContainers/specs/wiki\"\nLABEL about.license_file=\"https://github.com/BioContainers/containers/blob/master/LICENSE\"\nLABEL about.license=\"SPDX:Apache-2.0\"\nLABEL about.tags=\"Genomics,Proteomics,Transcriptomics,General,Metabolomics\"\n#  ################# MAINTAINER ######################\nMAINTAINER Felipe da Veiga Leprevost <felipe@leprevost.com.br>\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN mv /etc/apt/sources.list /etc/apt/sources.list.bkp \\\n && bash -c 'echo -e \"deb mirror://mirrors.ubuntu.com/mirrors.txt xenial main restricted universe multiverse\\ndeb mirror://mirrors.ubuntu.com/mirrors.txt xenial-updates main restricted universe multiverse\\ndeb mirror://mirrors.ubuntu.com/mirrors.txt xenial-backports main restricted universe multiverse\\ndeb mirror://mirrors.ubuntu.com/mirrors.txt xenial-security main restricted universe multiverse\\n\\n\" > /etc/apt/sources.list' \\\n && cat /etc/apt/sources.list.bkp >> /etc/apt/sources.list \\\n && cat /etc/apt/sources.list\nRUN apt-get clean all \\\n && apt-get update \\\n && apt-get upgrade -y \\\n && apt-get install --no-install-recommends autotools-dev=20150820.1 automake=1:1.15-4ubuntu1 cmake=3.5.1-1ubuntu3 curl=7.47.0-1ubuntu2.19 grep=2.25-1~16.04.1 sed=4.2.2-7 dpkg=1.18.4ubuntu1.7 fuse=2.9.4-1ubuntu3.1 git=1:2.7.4-0ubuntu1.10 wget=1.17.1-1ubuntu1.5 zip=3.0-11 openjdk-8-jre=8u292-b10-0ubuntu1~16.04.1 build-essential=12.1ubuntu2 pkg-config=0.29.1-0ubuntu1 python=2.7.12-1~16.04 python-dev=2.7.12-1~16.04 python-pip=8.1.1-2ubuntu0.6 bzip2=1.0.6-8ubuntu0.2 ca-certificates=20210119~16.04.1 libglib2.0-0=2.48.2-0ubuntu4.8 libxext6=2:1.3.3-1 libsm6=2:1.2.2-1 libxrender1=1:0.9.9-0ubuntu1 mercurial=3.7.3-1ubuntu1.2 subversion=1.9.3-2ubuntu1.3 zlib1g-dev=1:1.2.8.dfsg-2ubuntu4.3 -y \\\n && apt-get clean \\\n && apt-get purge \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\nRUN echo 'export PATH=/opt/conda/bin:$PATH' > /etc/profile.d/conda.sh \\\n && wget --quiet https://repo.continuum.io/miniconda/Miniconda2-4.0.5-Linux-x86_64.sh -O ~/miniconda.sh \\\n && /bin/bash ~/miniconda.sh -b -p /opt/conda \\\n && rm ~/miniconda.sh\nRUN TINI_VERSION=`curl https://github.com/krallin/tini/releases/latest | grep -o \"/v.*\\\\\"\" | sed 's:^..\\\\(.*\\\\).$:\\\\1:' ` \\\n && curl -L \"https://github.com/krallin/tini/releases/download/v${TINI_VERSION}/tini_${TINI_VERSION}.deb\" > tini.deb \\\n && dpkg -i tini.deb \\\n && rm tini.deb \\\n && apt-get clean\nRUN mkdir /data /config\n#   Add user biodocker with password biodocker\nRUN groupadd fuse \\\n && useradd --create-home --shell /bin/bash --user-group --uid 1000 --groups sudo,fuse biodocker \\\n && echo `echo \"biodocker\\\\nbiodocker\\\\n\" | passwd biodocker ` \\\n && chown biodocker:biodocker /data \\\n && chown biodocker:biodocker /config\n#   give write permissions to conda folder\nRUN chmod 777 -R /opt/conda/\n#   Change user\nUSER biodocker\nENV PATH=\"$PATH:/opt/conda/bin\"\nENV PATH=\"$PATH:/home/biodocker/bin\"\nENV HOME=\"/home/biodocker\"\nRUN mkdir /home/biodocker/bin\nRUN conda config --add channels r\nRUN conda config --add channels bioconda\nRUN conda upgrade conda\nVOLUME [\"/data\", \"/config\"]\n#   Overwrite this with 'CMD []' in a dependent Dockerfile\n#   CMD [\"/bin/bash\"]\nWORKDIR /data\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Base image\nFROM ubuntu:16.04\n# ################# METADATA ######################\nLABEL base_image=\"ubuntu:16.04\"\nLABEL version=\"5\"\nLABEL software=\"biocontainers\"\nLABEL software.version=\"1.0.0\"\nLABEL about.summary=\"Base image for BioDocker\"\nLABEL about.home=\"http://biocontainers.pro\"\nLABEL about.documentation=\"https://github.com/BioContainers/specs/wiki\"\nLABEL about.license_file=\"https://github.com/BioContainers/containers/blob/master/LICENSE\"\nLABEL about.license=\"SPDX:Apache-2.0\"\nLABEL about.tags=\"Genomics,Proteomics,Transcriptomics,General,Metabolomics\"\n# ################# MAINTAINER ######################\nMAINTAINER Felipe da Veiga Leprevost <felipe@leprevost.com.br>\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN mv /etc/apt/sources.list /etc/apt/sources.list.bkp \\\n && bash -c 'echo -e \"deb mirror://mirrors.ubuntu.com/mirrors.txt xenial main restricted universe multiverse\\ndeb mirror://mirrors.ubuntu.com/mirrors.txt xenial-updates main restricted universe multiverse\\ndeb mirror://mirrors.ubuntu.com/mirrors.txt xenial-backports main restricted universe multiverse\\ndeb mirror://mirrors.ubuntu.com/mirrors.txt xenial-security main restricted universe multiverse\\n\\n\" > /etc/apt/sources.list' \\\n && cat /etc/apt/sources.list.bkp >> /etc/apt/sources.list \\\n && cat /etc/apt/sources.list\nRUN apt-get clean all \\\n && apt-get update \\\n && apt-get upgrade -y \\\n && apt-get install autotools-dev automake cmake curl grep sed dpkg fuse git wget zip openjdk-8-jre build-essential pkg-config python python-dev python-pip bzip2 ca-certificates libglib2.0-0 libxext6 libsm6 libxrender1 mercurial subversion zlib1g-dev -y \\\n && apt-get clean \\\n && apt-get purge \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\nRUN echo 'export PATH=/opt/conda/bin:$PATH' > /etc/profile.d/conda.sh \\\n && wget --quiet https://repo.continuum.io/miniconda/Miniconda2-4.0.5-Linux-x86_64.sh -O ~/miniconda.sh \\\n && /bin/bash ~/miniconda.sh -b -p /opt/conda \\\n && rm ~/miniconda.sh\nRUN TINI_VERSION=`curl https://github.com/krallin/tini/releases/latest | grep -o \"/v.*\\\\\"\" | sed 's:^..\\\\(.*\\\\).$:\\\\1:' ` \\\n && curl -L \"https://github.com/krallin/tini/releases/download/v${TINI_VERSION}/tini_${TINI_VERSION}.deb\" > tini.deb \\\n && dpkg -i tini.deb \\\n && rm tini.deb \\\n && apt-get clean\nRUN mkdir /data /config\n#  Add user biodocker with password biodocker\nRUN groupadd fuse \\\n && useradd --create-home --shell /bin/bash --user-group --uid 1000 --groups sudo,fuse biodocker \\\n && echo `echo \"biodocker\\\\nbiodocker\\\\n\" | passwd biodocker ` \\\n && chown biodocker:biodocker /data \\\n && chown biodocker:biodocker /config\n#  give write permissions to conda folder\nRUN chmod 777 -R /opt/conda/\n#  Change user\nUSER biodocker\nENV PATH=\"$PATH:/opt/conda/bin\"\nENV PATH=\"$PATH:/home/biodocker/bin\"\nENV HOME=\"/home/biodocker\"\nRUN mkdir /home/biodocker/bin\nRUN conda config --add channels r\nRUN conda config --add channels bioconda\nRUN conda upgrade conda\nVOLUME [\"/data\", \"/config\"]\n#  Overwrite this with 'CMD []' in a dependent Dockerfile\n#  CMD [\"/bin/bash\"]\nWORKDIR /data\n","injectedSmells":[],"originalDockerfileHash":"88d240a41a8dd56fdf561d5269b43669","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Base image\nFROM ubuntu:16.04\n#  ################# METADATA ######################\nLABEL base_image=\"ubuntu:16.04\"\nLABEL version=\"5\"\nLABEL software=\"biocontainers\"\nLABEL software.version=\"1.0.0\"\nLABEL about.summary=\"Base image for BioDocker\"\nLABEL about.home=\"http://biocontainers.pro\"\nLABEL about.documentation=\"https://github.com/BioContainers/specs/wiki\"\nLABEL about.license_file=\"https://github.com/BioContainers/containers/blob/master/LICENSE\"\nLABEL about.license=\"SPDX:Apache-2.0\"\nLABEL about.tags=\"Genomics,Proteomics,Transcriptomics,General,Metabolomics\"\n#  ################# MAINTAINER ######################\nMAINTAINER Felipe da Veiga Leprevost <felipe@leprevost.com.br>\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN mv /etc/apt/sources.list /etc/apt/sources.list.bkp \\\n && bash -c 'echo -e \"deb mirror://mirrors.ubuntu.com/mirrors.txt xenial main restricted universe multiverse\\ndeb mirror://mirrors.ubuntu.com/mirrors.txt xenial-updates main restricted universe multiverse\\ndeb mirror://mirrors.ubuntu.com/mirrors.txt xenial-backports main restricted universe multiverse\\ndeb mirror://mirrors.ubuntu.com/mirrors.txt xenial-security main restricted universe multiverse\\n\\n\" > /etc/apt/sources.list' \\\n && cat /etc/apt/sources.list.bkp >> /etc/apt/sources.list \\\n && cat /etc/apt/sources.list\nRUN apt-get clean all \\\n && apt-get update \\\n && apt-get upgrade -y \\\n && apt-get install autotools-dev automake cmake curl grep sed dpkg fuse git wget zip openjdk-8-jre build-essential pkg-config python python-dev python-pip bzip2 ca-certificates libglib2.0-0 libxext6 libsm6 libxrender1 mercurial subversion zlib1g-dev -y \\\n && apt-get clean \\\n && apt-get purge \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\nRUN echo 'export PATH=/opt/conda/bin:$PATH' > /etc/profile.d/conda.sh \\\n && wget --quiet https://repo.continuum.io/miniconda/Miniconda2-4.0.5-Linux-x86_64.sh -O ~/miniconda.sh \\\n && /bin/bash ~/miniconda.sh -b -p /opt/conda \\\n && rm ~/miniconda.sh\nRUN TINI_VERSION=`curl https://github.com/krallin/tini/releases/latest | grep -o \"/v.*\\\\\"\" | sed 's:^..\\\\(.*\\\\).$:\\\\1:' ` \\\n && curl -L \"https://github.com/krallin/tini/releases/download/v${TINI_VERSION}/tini_${TINI_VERSION}.deb\" > tini.deb \\\n && dpkg -i tini.deb \\\n && rm tini.deb \\\n && apt-get clean\nRUN mkdir /data /config\n#   Add user biodocker with password biodocker\nRUN groupadd fuse \\\n && useradd --create-home --shell /bin/bash --user-group --uid 1000 --groups sudo,fuse biodocker \\\n && echo `echo \"biodocker\\\\nbiodocker\\\\n\" | passwd biodocker ` \\\n && chown biodocker:biodocker /data \\\n && chown biodocker:biodocker /config\n#   give write permissions to conda folder\nRUN chmod 777 -R /opt/conda/\n#   Change user\nUSER biodocker\nENV PATH=\"$PATH:/opt/conda/bin\"\nENV PATH=\"$PATH:/home/biodocker/bin\"\nENV HOME=\"/home/biodocker\"\nRUN mkdir /home/biodocker/bin\nRUN conda config --add channels r\nRUN conda config --add channels bioconda\nRUN conda upgrade conda\nVOLUME [\"/data\", \"/config\"]\n#   Overwrite this with 'CMD []' in a dependent Dockerfile\n#   CMD [\"/bin/bash\"]\nWORKDIR /data\n","originalDockerfileUglifiedHash":"5d915f76efa970321d97e5734716f9d7","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/582ddb589b6fefb99c47a210aa5c7e7e594ac84a.dockerfile"}