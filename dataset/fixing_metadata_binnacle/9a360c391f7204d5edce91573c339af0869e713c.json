{"seed":1746834501,"processedDockerfileHash":"2f2609ba5190480107d4b99db4e9a9cb","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck"],"processedDockerfile":"#   Syndicate gateways\n#\n#   VERSION\t1.0\nFROM ubuntu:14.04\nMAINTAINER Illyoung Choi <iychoi@email.arizona.edu>\n#  #############################################\n#   Setup utility packages\n#  #############################################\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends wget=1.15-1ubuntu1.14.04.5 unzip=6.0-9ubuntu1.5 -y )\n#  #############################################\n#   Setup a Syndicate account\n#  #############################################\nENV HOME=\"/home/syndicate\"\nRUN useradd syndicate \\\n && echo 'syndicate:docker' | chpasswd\nRUN echo \"syndicate ALL=(ALL) NOPASSWD: ALL\" >> /etc/sudoers\nRUN mkdir /home/syndicate\nRUN chown -R syndicate:syndicate $HOME\n#  #############################################\n#   build essentials\n#  #############################################\nRUN (apt-get update ;apt-get install --no-install-recommends build-essential=11.6ubuntu6 -y )\n#  #############################################\n#   fskit\n#  #############################################\nRUN (apt-get update ;apt-get install --no-install-recommends libfuse-dev=2.9.2-4ubuntu4.14.04.1 libattr1-dev=1:2.4.47-1ubuntu1 -y )\nUSER syndicate\nWORKDIR $HOME\nRUN wget -O fskit.zip https://github.com/jcnelson/fskit/archive/master.zip\nRUN unzip fskit.zip\nRUN mv fskit-master fskit\nWORKDIR \"fskit\"\nRUN make\nUSER root\nRUN make install\n#  #############################################\n#   syndicate\n#  #############################################\nRUN (apt-get update ;apt-get install --no-install-recommends protobuf-compiler=2.5.0-9ubuntu1 libprotobuf-dev=2.5.0-9ubuntu1 libcurl4-gnutls-dev=7.35.0-1ubuntu2.20 libmicrohttpd-dev=0.9.33-1 libjson0-dev=0.11-3ubuntu1.2 valgrind=1:3.10.1-1ubuntu3~14.5 cython=0.20.1+git90-g0e6e38e-1ubuntu2 python-protobuf=2.5.0-9ubuntu1 libssl-dev=1.0.1f-1ubuntu2.27 python-crypto=2.6.1-4ubuntu0.3 python-requests=2.2.1-1ubuntu0.4 -y )\nUSER syndicate\nWORKDIR $HOME\nRUN wget -O syndicate.zip https://github.com/jcnelson/syndicate/archive/master.zip\nRUN unzip syndicate.zip\nRUN mv syndicate-master syndicate\nWORKDIR \"syndicate\"\n#   replace localhost to $MS_HOST$\nRUN sed -i 's/localhost/$MS_HOST$/g' ms/common/msconfig.py\nRUN make MS_APP_ADMIN_EMAIL=$MS_APP_ADMIN_EMAIL$\nRUN echo \"======== SYNDICATE ADMIN INFO ========\"\nRUN cat build/out/ms/common/admin_info.py\nUSER root\nRUN make -C libsyndicate install\nRUN make -C libsyndicate-ug install\nRUN make -C python install\nWORKDIR $HOME/syndicate/gateways/acquisition\nRUN make install\nWORKDIR $HOME/syndicate/gateways/user\nRUN make install\nEXPOSE 31111/tcp\n#  #############################################\n#   google app engine\n#  #############################################\nUSER syndicate\nWORKDIR $HOME\nRUN wget https://storage.googleapis.com/appengine-sdks/featured/google_appengine_1.9.33.zip\nRUN unzip google_appengine_1.9.33.zip\nEXPOSE 8080/tcp\nEXPOSE 8000/tcp\n#  #############################################\n#   Run Syndicate MS\n#  #############################################\nUSER syndicate\nWORKDIR $HOME\nRUN mkdir /home/syndicate/datastore\nCMD [\"/home/syndicate/google_appengine/dev_appserver.py\", \"--admin_host=0.0.0.0\", \"--host=0.0.0.0\", \"--storage_path=/home/syndicate/datastore\", \"/home/syndicate/syndicate/build/out/ms\"]\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Syndicate gateways\n#\n#  VERSION\t1.0\nFROM ubuntu:14.04\nMAINTAINER Illyoung Choi <iychoi@email.arizona.edu>\n# #############################################\n#  Setup utility packages\n# #############################################\nRUN apt-get update\nRUN apt-get install wget unzip -y\n# #############################################\n#  Setup a Syndicate account\n# #############################################\nENV HOME=\"/home/syndicate\"\nRUN useradd syndicate \\\n && echo 'syndicate:docker' | chpasswd\nRUN echo \"syndicate ALL=(ALL) NOPASSWD: ALL\" >> /etc/sudoers\nRUN mkdir /home/syndicate\nRUN chown -R syndicate:syndicate $HOME\n# #############################################\n#  build essentials\n# #############################################\nRUN apt-get install build-essential -y\n# #############################################\n#  fskit\n# #############################################\nRUN apt-get install libfuse-dev libattr1-dev -y\nUSER syndicate\nWORKDIR $HOME\nRUN wget -O fskit.zip https://github.com/jcnelson/fskit/archive/master.zip\nRUN unzip fskit.zip\nRUN mv fskit-master fskit\nWORKDIR \"fskit\"\nRUN make\nUSER root\nRUN make install\n# #############################################\n#  syndicate\n# #############################################\nRUN apt-get install protobuf-compiler libprotobuf-dev libcurl4-gnutls-dev libmicrohttpd-dev libjson0-dev valgrind cython python-protobuf libssl-dev python-crypto python-requests -y\nUSER syndicate\nWORKDIR $HOME\nRUN wget -O syndicate.zip https://github.com/jcnelson/syndicate/archive/master.zip\nRUN unzip syndicate.zip\nRUN mv syndicate-master syndicate\nWORKDIR \"syndicate\"\n#  replace localhost to $MS_HOST$\nRUN sed -i 's/localhost/$MS_HOST$/g' ms/common/msconfig.py\nRUN make MS_APP_ADMIN_EMAIL=$MS_APP_ADMIN_EMAIL$\nRUN echo \"======== SYNDICATE ADMIN INFO ========\"\nRUN cat build/out/ms/common/admin_info.py\nUSER root\nRUN make -C libsyndicate install\nRUN make -C libsyndicate-ug install\nRUN make -C python install\nWORKDIR $HOME/syndicate/gateways/acquisition\nRUN make install\nWORKDIR $HOME/syndicate/gateways/user\nRUN make install\nEXPOSE 31111/tcp\n# #############################################\n#  google app engine\n# #############################################\nUSER syndicate\nWORKDIR $HOME\nRUN wget https://storage.googleapis.com/appengine-sdks/featured/google_appengine_1.9.33.zip\nRUN unzip google_appengine_1.9.33.zip\nEXPOSE 8080/tcp\nEXPOSE 8000/tcp\n# #############################################\n#  Run Syndicate MS\n# #############################################\nUSER syndicate\nWORKDIR $HOME\nRUN mkdir /home/syndicate/datastore\nCMD [\"/home/syndicate/google_appengine/dev_appserver.py\", \"--admin_host=0.0.0.0\", \"--host=0.0.0.0\", \"--storage_path=/home/syndicate/datastore\", \"/home/syndicate/syndicate/build/out/ms\"]\n","injectedSmells":[],"originalDockerfileHash":"b9bbca4830c02fffe812ec56681e9445","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Syndicate gateways\n#\n#   VERSION\t1.0\nFROM ubuntu:14.04\nMAINTAINER Illyoung Choi <iychoi@email.arizona.edu>\n#  #############################################\n#   Setup utility packages\n#  #############################################\nRUN apt-get update\nRUN apt-get install wget unzip -y\n#  #############################################\n#   Setup a Syndicate account\n#  #############################################\nENV HOME=\"/home/syndicate\"\nRUN useradd syndicate \\\n && echo 'syndicate:docker' | chpasswd\nRUN echo \"syndicate ALL=(ALL) NOPASSWD: ALL\" >> /etc/sudoers\nRUN mkdir /home/syndicate\nRUN chown -R syndicate:syndicate $HOME\n#  #############################################\n#   build essentials\n#  #############################################\nRUN apt-get install build-essential -y\n#  #############################################\n#   fskit\n#  #############################################\nRUN apt-get install libfuse-dev libattr1-dev -y\nUSER syndicate\nWORKDIR $HOME\nRUN wget -O fskit.zip https://github.com/jcnelson/fskit/archive/master.zip\nRUN unzip fskit.zip\nRUN mv fskit-master fskit\nWORKDIR \"fskit\"\nRUN make\nUSER root\nRUN make install\n#  #############################################\n#   syndicate\n#  #############################################\nRUN apt-get install protobuf-compiler libprotobuf-dev libcurl4-gnutls-dev libmicrohttpd-dev libjson0-dev valgrind cython python-protobuf libssl-dev python-crypto python-requests -y\nUSER syndicate\nWORKDIR $HOME\nRUN wget -O syndicate.zip https://github.com/jcnelson/syndicate/archive/master.zip\nRUN unzip syndicate.zip\nRUN mv syndicate-master syndicate\nWORKDIR \"syndicate\"\n#   replace localhost to $MS_HOST$\nRUN sed -i 's/localhost/$MS_HOST$/g' ms/common/msconfig.py\nRUN make MS_APP_ADMIN_EMAIL=$MS_APP_ADMIN_EMAIL$\nRUN echo \"======== SYNDICATE ADMIN INFO ========\"\nRUN cat build/out/ms/common/admin_info.py\nUSER root\nRUN make -C libsyndicate install\nRUN make -C libsyndicate-ug install\nRUN make -C python install\nWORKDIR $HOME/syndicate/gateways/acquisition\nRUN make install\nWORKDIR $HOME/syndicate/gateways/user\nRUN make install\nEXPOSE 31111/tcp\n#  #############################################\n#   google app engine\n#  #############################################\nUSER syndicate\nWORKDIR $HOME\nRUN wget https://storage.googleapis.com/appengine-sdks/featured/google_appengine_1.9.33.zip\nRUN unzip google_appengine_1.9.33.zip\nEXPOSE 8080/tcp\nEXPOSE 8000/tcp\n#  #############################################\n#   Run Syndicate MS\n#  #############################################\nUSER syndicate\nWORKDIR $HOME\nRUN mkdir /home/syndicate/datastore\nCMD [\"/home/syndicate/google_appengine/dev_appserver.py\", \"--admin_host=0.0.0.0\", \"--host=0.0.0.0\", \"--storage_path=/home/syndicate/datastore\", \"/home/syndicate/syndicate/build/out/ms\"]\n","originalDockerfileUglifiedHash":"6986c575b83a0e02379a090b75275497","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/9a360c391f7204d5edce91573c339af0869e713c.dockerfile"}