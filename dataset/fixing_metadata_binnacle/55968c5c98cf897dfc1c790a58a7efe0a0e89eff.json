{"seed":473436920,"processedDockerfileHash":"c9cb1ce71e8a4d8f431655e485820f21","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu:16.04\nMAINTAINER Sam Van Oort and Judit Acs\n#   Builder and run environment for when you want to cover *MANY* languages\n#   Currently does C, C++, C#, Clojure, D, Erlang, Elixir, javascript (node.js), Julia\n#     Go, Java, Lua, Perl, PHP, Python2, Python3, Rust, Scala\n#   Core utilities and languges, concatenated into one operation to reduce layers\n#   No text editors or git, since we can directly edit mounted files in local folder\nRUN apt-get update \\\n && apt-get install --no-install-recommends file=1:5.25-2ubuntu1.4 wget=1.17.1-1ubuntu1.5 sudo=1.8.16-0ubuntu1.10 curl=7.47.0-1ubuntu2.19 time=1.7-25.1 software-properties-common=0.96.20.10 xdg-utils=1.1.1-1ubuntu1.16.04.5 git=1:2.7.4-0ubuntu1.10 gcc=4:5.3.1-1ubuntu1 g++=4:5.3.1-1ubuntu1 clang-3.6=1:3.6.2-3ubuntu2 python=2.7.12-1~16.04 perl=5.22.1-9ubuntu0.9 mono-mcs=4.2.1.102+dfsg2-7ubuntu4 golang-go=2:1.6-1ubuntu4 lua5.2=5.2.4-1ubuntu1 guile ghc=7.10.3-7 cabal-install=1.22.6.0-2 -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Latest Oracle 8 JDK for the JVM languages, massively stripped down\nRUN apt-add-repository -y ppa:webupd8team/java \\\n && apt-key update \\\n && apt-get update \\\n && echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && apt-get install --no-install-recommends oracle-java8-installer -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* /var/cache/oracle-jdk8-installer \\\n && rm -rf /opt/jdk/*src.zip /usr/lib/jvm/java-8-oracle/missioncontrol /usr/lib/jvm/java-8-oracle/visualvm /usr/lib/jvm/java-8-oracle/*javafx* /usr/lib/jvm/java-8-oracle/jre/lib/plugin.jar /usr/lib/jvm/java-8-oracle/jre/lib/ext/jfxrt.jar /usr/lib/jvm/java-8-oracle/jre/bin/javaws /usr/lib/jvm/java-8-oracle/jre/lib/javaws.jar /usr/lib/jvm/java-8-oracle/jre/lib/desktop /usr/lib/jvm/java-8-oracle/jre/plugin /usr/lib/jvm/java-8-oracle/jre/lib/deploy* /usr/lib/jvm/java-8-oracle/jre/lib/*javafx* /usr/lib/jvm/java-8-oracle/jre/lib/*jfx* /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libdecora_sse.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libprism_*.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libfxplugins.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libglass.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libgstreamer-lite.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libjavafx*.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libjfx*.so\n#   Scala\nRUN wget www.scala-lang.org/files/archive/scala-2.11.7.deb \\\n && dpkg -i scala-2.11.7.deb \\\n && rm -f scala-2.11.7.deb \\\n && rm -rf /usr/share/doc/scala/\n#   Julia\nRUN apt-get update \\\n && apt-get install --no-install-recommends julia=0.4.5-3 -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Node.js\nRUN curl -sL https://deb.nodesource.com/setup_5.x | sudo -E bash -\nRUN sudo apt-get install --yes nodejs\n#   Rust\nRUN curl -sSf https://static.rust-lang.org/rustup.sh | sh\n#   Erlang + Elixir\nRUN apt-get update \\\n && apt-get install --no-install-recommends erlang=1:18.3-dfsg-1ubuntu3.1 elixir=1.1.0~0.20150708-1 -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   D needs libcurl3\nRUN wget http://downloads.dlang.org/releases/2.x/2.070.2/dmd_2.070.2-0_amd64.deb \\\n && apt-get update \\\n && apt-get install --no-install-recommends libcurl3=7.47.0-1ubuntu2.19 -y \\\n && dpkg -i dmd_2.070.2-0_amd64.deb \\\n && rm -f dmd_2.070.2-0_amd64.deb \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Ruby, hack to use Ubuntu 15.10 wily version until they add Xenial support\nRUN apt-add-repository ppa:brightbox/ruby-ng \\\n && ls /etc/apt/sources.list.d/*brightbox* | xargs sed -i -e 's/xenial/wily/g' \\\n && apt-key update \\\n && apt-get update \\\n && apt-get install --no-install-recommends ruby2.3=2.3.1-2~ubuntu16.04.16 -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   PHP \nRUN apt-add-repository -y ppa:ondrej/php \\\n && apt-get update \\\n && apt-get install --no-install-recommends php7.0-cli=7.0.33-0ubuntu0.16.04.16 php5.6-cli -y --allow-unauthenticated \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   HHVM, allow-unauthenticated bypasses some key signing problems with dependencies libmemcached11 libzip4\nRUN apt-get update \\\n && apt-get install --no-install-recommends hhvm=3.11.1+dfsg-1ubuntu1 -y --allow-unauthenticated \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Clojure\nRUN wget https://oss.sonatype.org/content/repositories/snapshots/org/clojure/clojure/1.9.0-master-SNAPSHOT/clojure-1.9.0-master-20160119.195127-1.jar -O /usr/lib/clojure.jar \\\n && chmod a+rx /usr/lib/clojure.jar\n#   Build tooling & updates\nRUN apt-get update \\\n && apt-get install --no-install-recommends make=4.1-6 bzip2=1.0.6-8ubuntu0.2 xz-utils=5.1.1alpha+20120614-2ubuntu2 -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US:en\"\nENV LC_ALL=\"en_US.UTF-8\"\nENV LC_COLLATE=\"C\"\nENV PYTHONIOENCODING=\"utf-8\"\nCOPY scripts/as_user.sh /bin/as_user.sh\nWORKDIR /allthelanguages\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu:16.04\nMAINTAINER Sam Van Oort and Judit Acs\n#  Builder and run environment for when you want to cover *MANY* languages\n#  Currently does C, C++, C#, Clojure, D, Erlang, Elixir, javascript (node.js), Julia\n#    Go, Java, Lua, Perl, PHP, Python2, Python3, Rust, Scala\n#  Core utilities and languges, concatenated into one operation to reduce layers\n#  No text editors or git, since we can directly edit mounted files in local folder\nRUN apt-get update \\\n && apt-get install --no-install-recommends file wget sudo curl time software-properties-common xdg-utils git gcc g++ clang-3.6 python perl mono-mcs golang-go lua5.2 guile ghc cabal-install -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  Latest Oracle 8 JDK for the JVM languages, massively stripped down\nRUN apt-add-repository -y ppa:webupd8team/java \\\n && apt-key update \\\n && apt-get update \\\n && echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && apt-get install --no-install-recommends oracle-java8-installer -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* /var/cache/oracle-jdk8-installer \\\n && rm -rf /opt/jdk/*src.zip /usr/lib/jvm/java-8-oracle/missioncontrol /usr/lib/jvm/java-8-oracle/visualvm /usr/lib/jvm/java-8-oracle/*javafx* /usr/lib/jvm/java-8-oracle/jre/lib/plugin.jar /usr/lib/jvm/java-8-oracle/jre/lib/ext/jfxrt.jar /usr/lib/jvm/java-8-oracle/jre/bin/javaws /usr/lib/jvm/java-8-oracle/jre/lib/javaws.jar /usr/lib/jvm/java-8-oracle/jre/lib/desktop /usr/lib/jvm/java-8-oracle/jre/plugin /usr/lib/jvm/java-8-oracle/jre/lib/deploy* /usr/lib/jvm/java-8-oracle/jre/lib/*javafx* /usr/lib/jvm/java-8-oracle/jre/lib/*jfx* /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libdecora_sse.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libprism_*.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libfxplugins.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libglass.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libgstreamer-lite.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libjavafx*.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libjfx*.so\n#  Scala\nRUN wget www.scala-lang.org/files/archive/scala-2.11.7.deb \\\n && dpkg -i scala-2.11.7.deb \\\n && rm -f scala-2.11.7.deb \\\n && rm -rf /usr/share/doc/scala/\n#  Julia\nRUN apt-get update \\\n && apt-get install --no-install-recommends julia -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  Node.js\nRUN curl -sL https://deb.nodesource.com/setup_5.x | sudo -E bash -\nRUN sudo apt-get install --yes nodejs\n#  Rust\nRUN curl -sSf https://static.rust-lang.org/rustup.sh | sh\n#  Erlang + Elixir\nRUN apt-get update \\\n && apt-get install --no-install-recommends erlang elixir -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  D needs libcurl3\nRUN wget http://downloads.dlang.org/releases/2.x/2.070.2/dmd_2.070.2-0_amd64.deb \\\n && apt-get update \\\n && apt-get install libcurl3 -y \\\n && dpkg -i dmd_2.070.2-0_amd64.deb \\\n && rm -f dmd_2.070.2-0_amd64.deb \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  Ruby, hack to use Ubuntu 15.10 wily version until they add Xenial support\nRUN apt-add-repository ppa:brightbox/ruby-ng \\\n && ls /etc/apt/sources.list.d/*brightbox* | xargs sed -i -e 's/xenial/wily/g' \\\n && apt-key update \\\n && apt-get update \\\n && apt-get install --no-install-recommends ruby2.3 -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  PHP \nRUN apt-add-repository -y ppa:ondrej/php \\\n && apt-get update \\\n && apt-get install --no-install-recommends php7.0-cli php5.6-cli -y --allow-unauthenticated \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  HHVM, allow-unauthenticated bypasses some key signing problems with dependencies libmemcached11 libzip4\nRUN apt-get update \\\n && apt-get install --no-install-recommends hhvm -y --allow-unauthenticated \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#  Clojure\nRUN wget https://oss.sonatype.org/content/repositories/snapshots/org/clojure/clojure/1.9.0-master-SNAPSHOT/clojure-1.9.0-master-20160119.195127-1.jar -O /usr/lib/clojure.jar \\\n && chmod a+rx /usr/lib/clojure.jar\n#  Build tooling & updates\nRUN apt-get update \\\n && apt-get install make bzip2 xz-utils -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US:en\"\nENV LC_ALL=\"en_US.UTF-8\"\nENV LC_COLLATE=\"C\"\nENV PYTHONIOENCODING=\"utf-8\"\nCOPY scripts/as_user.sh /bin/as_user.sh\nWORKDIR /allthelanguages\n","injectedSmells":[],"originalDockerfileHash":"332ea5c8366ad20f8fab5a801c3812f8","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu:16.04\nMAINTAINER Sam Van Oort and Judit Acs\n#   Builder and run environment for when you want to cover *MANY* languages\n#   Currently does C, C++, C#, Clojure, D, Erlang, Elixir, javascript (node.js), Julia\n#     Go, Java, Lua, Perl, PHP, Python2, Python3, Rust, Scala\n#   Core utilities and languges, concatenated into one operation to reduce layers\n#   No text editors or git, since we can directly edit mounted files in local folder\nRUN apt-get update \\\n && apt-get install --no-install-recommends file wget sudo curl time software-properties-common xdg-utils git gcc g++ clang-3.6 python perl mono-mcs golang-go lua5.2 guile ghc cabal-install -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Latest Oracle 8 JDK for the JVM languages, massively stripped down\nRUN apt-add-repository -y ppa:webupd8team/java \\\n && apt-key update \\\n && apt-get update \\\n && echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && apt-get install --no-install-recommends oracle-java8-installer -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* /var/cache/oracle-jdk8-installer \\\n && rm -rf /opt/jdk/*src.zip /usr/lib/jvm/java-8-oracle/missioncontrol /usr/lib/jvm/java-8-oracle/visualvm /usr/lib/jvm/java-8-oracle/*javafx* /usr/lib/jvm/java-8-oracle/jre/lib/plugin.jar /usr/lib/jvm/java-8-oracle/jre/lib/ext/jfxrt.jar /usr/lib/jvm/java-8-oracle/jre/bin/javaws /usr/lib/jvm/java-8-oracle/jre/lib/javaws.jar /usr/lib/jvm/java-8-oracle/jre/lib/desktop /usr/lib/jvm/java-8-oracle/jre/plugin /usr/lib/jvm/java-8-oracle/jre/lib/deploy* /usr/lib/jvm/java-8-oracle/jre/lib/*javafx* /usr/lib/jvm/java-8-oracle/jre/lib/*jfx* /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libdecora_sse.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libprism_*.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libfxplugins.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libglass.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libgstreamer-lite.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libjavafx*.so /usr/lib/jvm/java-8-oracle/jre/lib/amd64/libjfx*.so\n#   Scala\nRUN wget www.scala-lang.org/files/archive/scala-2.11.7.deb \\\n && dpkg -i scala-2.11.7.deb \\\n && rm -f scala-2.11.7.deb \\\n && rm -rf /usr/share/doc/scala/\n#   Julia\nRUN apt-get update \\\n && apt-get install --no-install-recommends julia -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Node.js\nRUN curl -sL https://deb.nodesource.com/setup_5.x | sudo -E bash -\nRUN sudo apt-get install --yes nodejs\n#   Rust\nRUN curl -sSf https://static.rust-lang.org/rustup.sh | sh\n#   Erlang + Elixir\nRUN apt-get update \\\n && apt-get install --no-install-recommends erlang elixir -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   D needs libcurl3\nRUN wget http://downloads.dlang.org/releases/2.x/2.070.2/dmd_2.070.2-0_amd64.deb \\\n && apt-get update \\\n && apt-get install libcurl3 -y \\\n && dpkg -i dmd_2.070.2-0_amd64.deb \\\n && rm -f dmd_2.070.2-0_amd64.deb \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Ruby, hack to use Ubuntu 15.10 wily version until they add Xenial support\nRUN apt-add-repository ppa:brightbox/ruby-ng \\\n && ls /etc/apt/sources.list.d/*brightbox* | xargs sed -i -e 's/xenial/wily/g' \\\n && apt-key update \\\n && apt-get update \\\n && apt-get install --no-install-recommends ruby2.3 -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   PHP \nRUN apt-add-repository -y ppa:ondrej/php \\\n && apt-get update \\\n && apt-get install --no-install-recommends php7.0-cli php5.6-cli -y --allow-unauthenticated \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   HHVM, allow-unauthenticated bypasses some key signing problems with dependencies libmemcached11 libzip4\nRUN apt-get update \\\n && apt-get install --no-install-recommends hhvm -y --allow-unauthenticated \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n#   Clojure\nRUN wget https://oss.sonatype.org/content/repositories/snapshots/org/clojure/clojure/1.9.0-master-SNAPSHOT/clojure-1.9.0-master-20160119.195127-1.jar -O /usr/lib/clojure.jar \\\n && chmod a+rx /usr/lib/clojure.jar\n#   Build tooling & updates\nRUN apt-get update \\\n && apt-get install make bzip2 xz-utils -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\nRUN locale-gen en_US.UTF-8\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US:en\"\nENV LC_ALL=\"en_US.UTF-8\"\nENV LC_COLLATE=\"C\"\nENV PYTHONIOENCODING=\"utf-8\"\nCOPY scripts/as_user.sh /bin/as_user.sh\nWORKDIR /allthelanguages\n","originalDockerfileUglifiedHash":"be1882aee91832d38dc78f99e5e27587","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/55968c5c98cf897dfc1c790a58a7efe0a0e89eff.dockerfile"}