{"seed":1504765020,"processedDockerfileHash":"f450e19d68f5a4eedb1cb80914f22d79","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-pip","pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   vim:set ft=dockerfile:  \nFROM alpine:latest\nMAINTAINER DI GREGORIO Nicolas \"nicolas.digregorio@gmail.com\"  \n#  ## Environment variables  \nENV LANG=\"en_US.UTF-8\" \\\n    LANGUAGE=\"en_US.UTF-8\" \\\n    TERM=\"xterm\" \\\n    PYCURL_SSL_LIBRARY=\"openssl\"\n#  ## Install Application  \nRUN apk --no-cache upgrade \\\n && apk add make=4.3-r1 gcc=12.2.1_git20220924-r4 g++=12.2.1_git20220924-r4 python-dev py2-pip libressl-dev=3.6.2-r0 curl-dev=7.88.1-r1 musl-dev=1.2.3-r4 libffi-dev=3.4.4-r0 jpeg-dev=9e-r0 linux-headers=5.19.5-r0 dbus-dev=1.14.4-r0 dbus-glib-dev=0.112-r1 libev-dev=4.33-r0 autoconf=2.71-r1 nodejs=18.14.2-r0 git=2.38.4-r1 --no-cache --virtual=build-deps \\\n && pip install setuptools==67.6.1 pip==23.1 --no-cache-dir --upgrade \\\n && pip install argparse==1.4.0 beaker==1.12.1 bottle==0.12.25 daemonize==2.5.0 future==0.18.3 psutil==5.9.4 pycurl==7.45.2 requests==2.28.2 tld==0.13 validators==0.20.0 beautifulsoup4==4.12.2 bitmath==1.3.3.1 bjoern==3.2.2 colorama==0.4.6 colorlog==6.7.0 dbus-python==1.3.2 goslate==1.5.4 IPy==1.01 Js2Py==0.74 Pillow==9.5.0 pycrypto==2.6.1 pyOpenSSL==23.1.1 rarfile==4.0 Send2Trash==1.8.0 setproctitle==1.3.2 watchdog==3.0.0 webencodings==0.5.1 jinja2==3.1.2 html5lib==1.1 alabaster==0.7.13 Pygments==2.15.0 docutils==0.19 bleach==6.0.0 snowballstemmer==2.2.0 imagesize==1.4.1 Babel==2.12.1 readme_renderer==37.3 configparser==5.3.0 autoupgrade-ng==0.3.0 Sphinx==6.1.3 --no-cache-dir --upgrade \\\n && git clone --depth 1 https://github.com/pyload/pyload.git /opt/pyload \\\n && cd /opt/pyload/pyload/webui \\\n && npm install \\\n && cd /opt/pyload \\\n && python setup.py install \\\n && apk del --no-cache --purge build-deps \\\n && apk add python nodejs=18.14.2-r0 ssmtp=2.64-r18 mailx=8.1.1-r3 dbus=1.14.4-r0 dbus-glib=0.112-r1 libev=4.33-r0 libffi=3.4.4-r0 libcurl=7.88.1-r1 jpeg=9e-r0 unrar su-exec=0.2-r2 --no-cache --virtual=run-deps \\\n && rm -rf /tmp/* /opt/pyload/.git /var/cache/apk/* /var/tmp/*\n#  ## Volume  \nVOLUME [\"/downloads\",\"/config\"]  \n#  ## Expose ports  \nEXPOSE 8000/tcp 7227/tcp\n#  ## Running User: not used, managed by docker-entrypoint.sh  \n#  USER pyload  \n#  ## Start pyload  \nCOPY ./docker-entrypoint.sh /\nENTRYPOINT [\"/docker-entrypoint.sh\"]\nCMD [\"pyload\"]\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  vim:set ft=dockerfile:  \nFROM alpine:latest\nMAINTAINER DI GREGORIO Nicolas \"nicolas.digregorio@gmail.com\"  \n# ## Environment variables  \nENV LANG=\"en_US.UTF-8\" \\\n    LANGUAGE=\"en_US.UTF-8\" \\\n    TERM=\"xterm\" \\\n    PYCURL_SSL_LIBRARY=\"openssl\"\n# ## Install Application  \nRUN apk --no-cache upgrade \\\n && apk add --no-cache --virtual=build-deps make gcc g++ python-dev py2-pip libressl-dev curl-dev musl-dev libffi-dev jpeg-dev linux-headers dbus-dev dbus-glib-dev libev-dev autoconf nodejs git \\\n && pip install setuptools pip --no-cache-dir --upgrade \\\n && pip install argparse beaker bottle daemonize future psutil pycurl requests tld validators beautifulsoup4 bitmath bjoern colorama colorlog dbus-python goslate IPy Js2Py Pillow pycrypto pyOpenSSL rarfile Send2Trash setproctitle watchdog webencodings jinja2 html5lib alabaster Pygments docutils bleach snowballstemmer imagesize Babel readme_renderer configparser autoupgrade-ng Sphinx --no-cache-dir --upgrade \\\n && git clone --depth 1 https://github.com/pyload/pyload.git /opt/pyload \\\n && cd /opt/pyload/pyload/webui \\\n && npm install \\\n && cd /opt/pyload \\\n && python setup.py install \\\n && apk del --no-cache --purge build-deps \\\n && apk add --no-cache --virtual=run-deps python nodejs ssmtp mailx dbus dbus-glib libev libffi libcurl jpeg unrar su-exec \\\n && rm -rf /tmp/* /opt/pyload/.git /var/cache/apk/* /var/tmp/*\n# ## Volume  \nVOLUME [\"/downloads\",\"/config\"]  \n# ## Expose ports  \nEXPOSE 8000/tcp 7227/tcp\n# ## Running User: not used, managed by docker-entrypoint.sh  \n# USER pyload  \n# ## Start pyload  \nCOPY ./docker-entrypoint.sh /\nENTRYPOINT [\"/docker-entrypoint.sh\"]\nCMD [\"pyload\"]\n","injectedSmells":[],"originalDockerfileHash":"1c9ad4f5eb598aca6f3fd40159b0e45c","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   vim:set ft=dockerfile:  \nFROM alpine:latest\nMAINTAINER DI GREGORIO Nicolas \"nicolas.digregorio@gmail.com\"  \n#  ## Environment variables  \nENV LANG=\"en_US.UTF-8\" \\\n    LANGUAGE=\"en_US.UTF-8\" \\\n    TERM=\"xterm\" \\\n    PYCURL_SSL_LIBRARY=\"openssl\"\n#  ## Install Application  \nRUN apk --no-cache upgrade \\\n && apk add --no-cache --virtual=build-deps make gcc g++ python-dev py2-pip libressl-dev curl-dev musl-dev libffi-dev jpeg-dev linux-headers dbus-dev dbus-glib-dev libev-dev autoconf nodejs git \\\n && pip install setuptools pip --no-cache-dir --upgrade \\\n && pip install argparse beaker bottle daemonize future psutil pycurl requests tld validators beautifulsoup4 bitmath bjoern colorama colorlog dbus-python goslate IPy Js2Py Pillow pycrypto pyOpenSSL rarfile Send2Trash setproctitle watchdog webencodings jinja2 html5lib alabaster Pygments docutils bleach snowballstemmer imagesize Babel readme_renderer configparser autoupgrade-ng Sphinx --no-cache-dir --upgrade \\\n && git clone --depth 1 https://github.com/pyload/pyload.git /opt/pyload \\\n && cd /opt/pyload/pyload/webui \\\n && npm install \\\n && cd /opt/pyload \\\n && python setup.py install \\\n && apk del --no-cache --purge build-deps \\\n && apk add --no-cache --virtual=run-deps python nodejs ssmtp mailx dbus dbus-glib libev libffi libcurl jpeg unrar su-exec \\\n && rm -rf /tmp/* /opt/pyload/.git /var/cache/apk/* /var/tmp/*\n#  ## Volume  \nVOLUME [\"/downloads\",\"/config\"]  \n#  ## Expose ports  \nEXPOSE 8000/tcp 7227/tcp\n#  ## Running User: not used, managed by docker-entrypoint.sh  \n#  USER pyload  \n#  ## Start pyload  \nCOPY ./docker-entrypoint.sh /\nENTRYPOINT [\"/docker-entrypoint.sh\"]\nCMD [\"pyload\"]\n","originalDockerfileUglifiedHash":"9f6e1f7b41d8012701e2ffee86f34206","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/8004f94566e6e7325f7300b612979e47257044d6.dockerfile"}