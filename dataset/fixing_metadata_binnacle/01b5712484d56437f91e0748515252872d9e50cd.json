{"seed":3075500587,"processedDockerfileHash":"a3b0b18efd8107a10aabac89788f2b02","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["do-not-have-secrets","have-a-healthcheck"],"processedDockerfile":"#   LICENSE UPL 1.0\n#\n#   Copyright (c) 1982-2019 Oracle and/or its affiliates. All rights reserved.\n#\n#   ORACLE DOCKERFILES PROJECT\n#   --------------------------\n#   This is the Dockerfile for Oracle Database 18c Release 3 Real Application Clusters\n#   \n#   REQUIRED FILES TO BUILD THIS IMAGE\n#   ----------------------------------\n#   (1) LINUX.X64_180000_db_home.zip\n#   (2) LINUX.X64_180000_grid_home.zip \n#       Download Oracle Grid 18c Release 3 Enterprise Edition for Linux x64\n#       Download Oracle Database 18c Release 3  Enterprise Edition for Linux x64\n#       from http://www.oracle.com/technetwork/database/enterprise-edition/downloads/index.html\n#\n#   HOW TO BUILD THIS IMAGE\n#   -----------------------\n#   Put all downloaded files in the same directory as this Dockerfile\n#   Run: \n#        $ docker build -t oracle/database:18.3.0-rac . \n#\n#   Pull base image\n#   ---------------\nFROM oraclelinux:7-slim\n#   Maintainer\n#   ----------\nMAINTAINER Paramdeep Saini <paramdeep.saini@oracle.com>\n#   Environment variables required for this build (do NOT change)\n#   -------------------------------------------------------------\n#   Linux Env Variable\n# A secret has been removed here. Please do not provide secrets from the Dockerfile as these will leak into the metadata of the resulting docker image. To provide secrets the --secret flag of the docker build command can be used (https://docs.docker.com/develop/develop-images/build_enhancements/#new-docker-build-secret-information).\nENV SETUP_LINUX_FILE=\"setupLinuxEnv.sh\" \\\n    INSTALL_DIR=\"/opt/scripts\" \\\n    GRID_BASE=\"/u01/app/grid\" \\\n    GRID_HOME=\"/u01/app/18.3.0/grid\" \\\n    INSTALL_FILE_1=\"LINUX.X64_180000_grid_home.zip\" \\\n    GRID_INSTALL_RSP=\"grid.rsp\" \\\n    GRID_SW_INSTALL_RSP=\"grid_sw_inst.rsp\" \\\n    GRID_SETUP_FILE=\"setupGrid.sh\" \\\n    FIXUP_PREQ_FILE=\"fixupPreq.sh\" \\\n    INSTALL_GRID_BINARIES_FILE=\"installGridBinaries.sh\" \\\n    INSTALL_GRID_PATCH=\"applyGridPatch.sh\" \\\n    INVENTORY=\"/u01/app/oraInventory\" \\\n    CONFIGGRID=\"configGrid.sh\" \\\n    ADDNODE=\"AddNode.sh\" \\\n    DELNODE=\"DelNode.sh\" \\\n    ADDNODE_RSP=\"grid_addnode.rsp\" \\\n    SETUPSSH=\"setupSSH.expect\" \\\n    GRID_PATCH=\"p28322130_183000OCWRU_Linux-x86-64.zip\" \\\n    PATCH_NUMBER=\"28322130\" \\\n    DOCKERORACLEINIT=\"dockeroracleinit\" \\\n    GRID_USER_HOME=\"/home/grid\" \\\n    SETUPGRIDENV=\"setupGridEnv.sh\" \\\n    ASM_DISCOVERY_DIR=\"/dev\" \\\n    MULTI_NODE_INSTALL=\"MultiNodeInstall.py\" \\\n    DB_BASE=\"/u01/app/oracle\" \\\n    DB_HOME=\"/u01/app/oracle/product/18.3.0/dbhome_1\" \\\n    INSTALL_FILE_2=\"LINUX.X64_180000_db_home.zip\" \\\n    DB_INSTALL_RSP=\"db_inst.rsp\" \\\n    DBCA_RSP=\"dbca.rsp\" \\\n    DB_SETUP_FILE=\"setupDB.sh\" \\\n    PWD_FILE=\"setPassword.sh\" \\\n    RUN_FILE=\"runOracle.sh\" \\\n    STOP_FILE=\"stopOracle.sh\" \\\n    ENABLE_RAC_FILE=\"enableRAC.sh\" \\\n    CHECK_DB_FILE=\"checkDBStatus.sh\" \\\n    USER_SCRIPTS_FILE=\"runUserScripts.sh\" \\\n    REMOTE_LISTENER_FILE=\"remoteListener.sh\" \\\n    INSTALL_DB_BINARIES_FILE=\"installDBBinaries.sh\" \\\n    GRID_HOME_CLEANUP=\"GridHomeCleanup.sh\" \\\n    ORACLE_HOME_CLEANUP=\"OracleHomeCleanup.sh\" \\\n    FUNCTIONS=\"functions.sh\" \\\n    COMMON_SCRIPTS=\"/common_scripts\" \\\n    CHECK_SPACE_FILE=\"checkSpace.sh\" \\\n    EXPECT=\"/usr/bin/expect\" \\\n    BIN=\"/usr/sbin\" \\\n    container=\"true\"\n#   Use second ENV so that variable get substituted\nENV INSTALL_SCRIPTS=\"$INSTALL_DIR/install\" \\\n    PATH=\"/bin:/usr/bin:/sbin:/usr/sbin:$PATH\" \\\n    SCRIPT_DIR=\"$INSTALL_DIR/startup\" \\\n    GRID_PATH=\"$GRID_HOME/bin:$GRID_HOME/OPatch/:/usr/sbin:$PATH\" \\\n    DB_PATH=\"$DB_HOME/bin:$DB_HOME/OPatch/:/usr/sbin:$PATH\" \\\n    GRID_LD_LIBRARY_PATH=\"$GRID_HOME/lib:/usr/lib:/lib\" \\\n    DB_LD_LIBRARY_PATH=\"$DB_HOME/lib:/usr/lib:/lib\"\n#   Copy binaries\n#   -------------\n#   COPY Binaries\nCOPY $GRID_SW_INSTALL_RSP $INSTALL_GRID_PATCH $SETUP_LINUX_FILE $GRID_SETUP_FILE $INSTALL_GRID_BINARIES_FILE $FIXUP_PREQ_FILE $DB_SETUP_FILE $CHECK_SPACE_FILE $DB_INSTALL_RSP $INSTALL_DB_BINARIES_FILE $ENABLE_RAC_FILE $INSTALL_FILE_1 $INSTALL_FILE_2 $GRID_PATCH $GRID_HOME_CLEANUP $ORACLE_HOME_CLEANUP $INSTALL_SCRIPTS/\n#   Setup Scripts\nCOPY $RUN_FILE $ADDNODE $ADDNODE_RSP $SETUPSSH $FUNCTIONS $CONFIGGRID $GRID_INSTALL_RSP $DBCA_RSP $PWD_FILE $CHECK_DB_FILE $USER_SCRIPTS_FILE $STOP_FILE $CHECK_DB_FILE $REMOTE_LISTENER_FILE $SETUPGRIDENV $DELNODE $RESET_OS_PASSWORD $MULTI_NODE_INSTALL $SCRIPT_DIR/\nRUN chmod 755 $INSTALL_SCRIPTS/*.sh \\\n && sync \\\n && $INSTALL_DIR/install/$CHECK_SPACE_FILE \\\n && $INSTALL_DIR/install/$SETUP_LINUX_FILE \\\n && $INSTALL_DIR/install/$GRID_SETUP_FILE \\\n && $INSTALL_DIR/install/$DB_SETUP_FILE \\\n && unzip -q $INSTALL_DIR/install/$GRID_PATCH -d $INSTALL_DIR/install \\\n && chown -R grid:oinstall $INSTALL_DIR/install/$PATCH_NUMBER \\\n && sed -e '/hard *memlock/s/^/#/g' -i /etc/security/limits.d/oracle-database-preinstall-18c.conf \\\n && su grid -c \"$INSTALL_DIR/install/$INSTALL_GRID_BINARIES_FILE EE $PATCH_NUMBER\" \\\n && $INVENTORY/orainstRoot.sh \\\n && $GRID_HOME/root.sh \\\n && su oracle -c \"$INSTALL_DIR/install/$INSTALL_DB_BINARIES_FILE EE\" \\\n && su oracle -c \"$INSTALL_DIR/install/$ENABLE_RAC_FILE\" \\\n && $INVENTORY/orainstRoot.sh \\\n && $DB_HOME/root.sh \\\n && su grid -c \"$INSTALL_SCRIPTS/$GRID_HOME_CLEANUP\" \\\n && su oracle -c \"$INSTALL_SCRIPTS/$ORACLE_HOME_CLEANUP\" \\\n && $INSTALL_DIR/install/$FIXUP_PREQ_FILE \\\n && rm -rf $INSTALL_DIR/install \\\n && sync \\\n && chmod 755 $SCRIPT_DIR/*.sh \\\n && chmod 755 $SCRIPT_DIR/*.expect \\\n && chmod 666 $SCRIPT_DIR/*.rsp \\\n && chown root:oinstall $GRID_HOME/bin/$DOCKERORACLEINIT \\\n && chmod 4755 $GRID_HOME/bin/$DOCKERORACLEINIT \\\n && echo \"nohup $SCRIPT_DIR/runOracle.sh &\" >> /etc/rc.local \\\n && rm -f /etc/rc.d/init.d/oracle-database-preinstall-18c-firstboot \\\n && ln -s $GRID_HOME/bin/$DOCKERORACLEINIT /usr/sbin/oracleinit \\\n && chmod +x /etc/rc.d/rc.local \\\n && sed -i 's/#X11UseLocalhost.*/X11UseLocalhost no/' /etc/ssh/sshd_config \\\n && rm -f /etc/sysctl.d/99-sysctl.conf \\\n && sync\nUSER grid\nWORKDIR /home/grid\nVOLUME [\"/common_scripts\"]\n#   Define default command to start Oracle Grid and RAC Database setup.\nCMD [\"/usr/sbin/oracleinit\"]\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  LICENSE UPL 1.0\n#\n#  Copyright (c) 1982-2019 Oracle and/or its affiliates. All rights reserved.\n#\n#  ORACLE DOCKERFILES PROJECT\n#  --------------------------\n#  This is the Dockerfile for Oracle Database 18c Release 3 Real Application Clusters\n#  \n#  REQUIRED FILES TO BUILD THIS IMAGE\n#  ----------------------------------\n#  (1) LINUX.X64_180000_db_home.zip\n#  (2) LINUX.X64_180000_grid_home.zip \n#      Download Oracle Grid 18c Release 3 Enterprise Edition for Linux x64\n#      Download Oracle Database 18c Release 3  Enterprise Edition for Linux x64\n#      from http://www.oracle.com/technetwork/database/enterprise-edition/downloads/index.html\n#\n#  HOW TO BUILD THIS IMAGE\n#  -----------------------\n#  Put all downloaded files in the same directory as this Dockerfile\n#  Run: \n#       $ docker build -t oracle/database:18.3.0-rac . \n#\n#  Pull base image\n#  ---------------\nFROM oraclelinux:7-slim\n#  Maintainer\n#  ----------\nMAINTAINER Paramdeep Saini <paramdeep.saini@oracle.com>\n#  Environment variables required for this build (do NOT change)\n#  -------------------------------------------------------------\n#  Linux Env Variable\nENV SETUP_LINUX_FILE=\"setupLinuxEnv.sh\" \\\n    INSTALL_DIR=\"/opt/scripts\" \\\n    GRID_BASE=\"/u01/app/grid\" \\\n    GRID_HOME=\"/u01/app/18.3.0/grid\" \\\n    INSTALL_FILE_1=\"LINUX.X64_180000_grid_home.zip\" \\\n    GRID_INSTALL_RSP=\"grid.rsp\" \\\n    GRID_SW_INSTALL_RSP=\"grid_sw_inst.rsp\" \\\n    GRID_SETUP_FILE=\"setupGrid.sh\" \\\n    FIXUP_PREQ_FILE=\"fixupPreq.sh\" \\\n    INSTALL_GRID_BINARIES_FILE=\"installGridBinaries.sh\" \\\n    INSTALL_GRID_PATCH=\"applyGridPatch.sh\" \\\n    INVENTORY=\"/u01/app/oraInventory\" \\\n    CONFIGGRID=\"configGrid.sh\" \\\n    ADDNODE=\"AddNode.sh\" \\\n    DELNODE=\"DelNode.sh\" \\\n    ADDNODE_RSP=\"grid_addnode.rsp\" \\\n    SETUPSSH=\"setupSSH.expect\" \\\n    GRID_PATCH=\"p28322130_183000OCWRU_Linux-x86-64.zip\" \\\n    PATCH_NUMBER=\"28322130\" \\\n    DOCKERORACLEINIT=\"dockeroracleinit\" \\\n    GRID_USER_HOME=\"/home/grid\" \\\n    SETUPGRIDENV=\"setupGridEnv.sh\" \\\n    ASM_DISCOVERY_DIR=\"/dev\" \\\n    RESET_OS_PASSWORD=\"resetOSPassword.sh\" \\\n    MULTI_NODE_INSTALL=\"MultiNodeInstall.py\" \\\n    DB_BASE=\"/u01/app/oracle\" \\\n    DB_HOME=\"/u01/app/oracle/product/18.3.0/dbhome_1\" \\\n    INSTALL_FILE_2=\"LINUX.X64_180000_db_home.zip\" \\\n    DB_INSTALL_RSP=\"db_inst.rsp\" \\\n    DBCA_RSP=\"dbca.rsp\" \\\n    DB_SETUP_FILE=\"setupDB.sh\" \\\n    PWD_FILE=\"setPassword.sh\" \\\n    RUN_FILE=\"runOracle.sh\" \\\n    STOP_FILE=\"stopOracle.sh\" \\\n    ENABLE_RAC_FILE=\"enableRAC.sh\" \\\n    CHECK_DB_FILE=\"checkDBStatus.sh\" \\\n    USER_SCRIPTS_FILE=\"runUserScripts.sh\" \\\n    REMOTE_LISTENER_FILE=\"remoteListener.sh\" \\\n    INSTALL_DB_BINARIES_FILE=\"installDBBinaries.sh\" \\\n    GRID_HOME_CLEANUP=\"GridHomeCleanup.sh\" \\\n    ORACLE_HOME_CLEANUP=\"OracleHomeCleanup.sh\" \\\n    FUNCTIONS=\"functions.sh\" \\\n    COMMON_SCRIPTS=\"/common_scripts\" \\\n    CHECK_SPACE_FILE=\"checkSpace.sh\" \\\n    EXPECT=\"/usr/bin/expect\" \\\n    BIN=\"/usr/sbin\" \\\n    container=\"true\"\n#  Use second ENV so that variable get substituted\nENV INSTALL_SCRIPTS=\"$INSTALL_DIR/install\" \\\n    PATH=\"/bin:/usr/bin:/sbin:/usr/sbin:$PATH\" \\\n    SCRIPT_DIR=\"$INSTALL_DIR/startup\" \\\n    GRID_PATH=\"$GRID_HOME/bin:$GRID_HOME/OPatch/:/usr/sbin:$PATH\" \\\n    DB_PATH=\"$DB_HOME/bin:$DB_HOME/OPatch/:/usr/sbin:$PATH\" \\\n    GRID_LD_LIBRARY_PATH=\"$GRID_HOME/lib:/usr/lib:/lib\" \\\n    DB_LD_LIBRARY_PATH=\"$DB_HOME/lib:/usr/lib:/lib\"\n#  Copy binaries\n#  -------------\n#  COPY Binaries\nCOPY $GRID_SW_INSTALL_RSP $INSTALL_GRID_PATCH $SETUP_LINUX_FILE $GRID_SETUP_FILE $INSTALL_GRID_BINARIES_FILE $FIXUP_PREQ_FILE $DB_SETUP_FILE $CHECK_SPACE_FILE $DB_INSTALL_RSP $INSTALL_DB_BINARIES_FILE $ENABLE_RAC_FILE $INSTALL_FILE_1 $INSTALL_FILE_2 $GRID_PATCH $GRID_HOME_CLEANUP $ORACLE_HOME_CLEANUP $INSTALL_SCRIPTS/\n#  Setup Scripts\nCOPY $RUN_FILE $ADDNODE $ADDNODE_RSP $SETUPSSH $FUNCTIONS $CONFIGGRID $GRID_INSTALL_RSP $DBCA_RSP $PWD_FILE $CHECK_DB_FILE $USER_SCRIPTS_FILE $STOP_FILE $CHECK_DB_FILE $REMOTE_LISTENER_FILE $SETUPGRIDENV $DELNODE $RESET_OS_PASSWORD $MULTI_NODE_INSTALL $SCRIPT_DIR/\nRUN chmod 755 $INSTALL_SCRIPTS/*.sh \\\n && sync \\\n && $INSTALL_DIR/install/$CHECK_SPACE_FILE \\\n && $INSTALL_DIR/install/$SETUP_LINUX_FILE \\\n && $INSTALL_DIR/install/$GRID_SETUP_FILE \\\n && $INSTALL_DIR/install/$DB_SETUP_FILE \\\n && unzip -q $INSTALL_DIR/install/$GRID_PATCH -d $INSTALL_DIR/install \\\n && chown -R grid:oinstall $INSTALL_DIR/install/$PATCH_NUMBER \\\n && sed -e '/hard *memlock/s/^/#/g' -i /etc/security/limits.d/oracle-database-preinstall-18c.conf \\\n && su grid -c \"$INSTALL_DIR/install/$INSTALL_GRID_BINARIES_FILE EE $PATCH_NUMBER\" \\\n && $INVENTORY/orainstRoot.sh \\\n && $GRID_HOME/root.sh \\\n && su oracle -c \"$INSTALL_DIR/install/$INSTALL_DB_BINARIES_FILE EE\" \\\n && su oracle -c \"$INSTALL_DIR/install/$ENABLE_RAC_FILE\" \\\n && $INVENTORY/orainstRoot.sh \\\n && $DB_HOME/root.sh \\\n && su grid -c \"$INSTALL_SCRIPTS/$GRID_HOME_CLEANUP\" \\\n && su oracle -c \"$INSTALL_SCRIPTS/$ORACLE_HOME_CLEANUP\" \\\n && $INSTALL_DIR/install/$FIXUP_PREQ_FILE \\\n && rm -rf $INSTALL_DIR/install \\\n && sync \\\n && chmod 755 $SCRIPT_DIR/*.sh \\\n && chmod 755 $SCRIPT_DIR/*.expect \\\n && chmod 666 $SCRIPT_DIR/*.rsp \\\n && chown root:oinstall $GRID_HOME/bin/$DOCKERORACLEINIT \\\n && chmod 4755 $GRID_HOME/bin/$DOCKERORACLEINIT \\\n && echo \"nohup $SCRIPT_DIR/runOracle.sh &\" >> /etc/rc.local \\\n && rm -f /etc/rc.d/init.d/oracle-database-preinstall-18c-firstboot \\\n && ln -s $GRID_HOME/bin/$DOCKERORACLEINIT /usr/sbin/oracleinit \\\n && chmod +x /etc/rc.d/rc.local \\\n && sed -i 's/#X11UseLocalhost.*/X11UseLocalhost no/' /etc/ssh/sshd_config \\\n && rm -f /etc/sysctl.d/99-sysctl.conf \\\n && sync\nUSER grid\nWORKDIR /home/grid\nVOLUME [\"/common_scripts\"]\n#  Define default command to start Oracle Grid and RAC Database setup.\nCMD [\"/usr/sbin/oracleinit\"]\n","injectedSmells":[],"originalDockerfileHash":"e9477a95e3c0edad09230228b7506a2b","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   LICENSE UPL 1.0\n#\n#   Copyright (c) 1982-2019 Oracle and/or its affiliates. All rights reserved.\n#\n#   ORACLE DOCKERFILES PROJECT\n#   --------------------------\n#   This is the Dockerfile for Oracle Database 18c Release 3 Real Application Clusters\n#   \n#   REQUIRED FILES TO BUILD THIS IMAGE\n#   ----------------------------------\n#   (1) LINUX.X64_180000_db_home.zip\n#   (2) LINUX.X64_180000_grid_home.zip \n#       Download Oracle Grid 18c Release 3 Enterprise Edition for Linux x64\n#       Download Oracle Database 18c Release 3  Enterprise Edition for Linux x64\n#       from http://www.oracle.com/technetwork/database/enterprise-edition/downloads/index.html\n#\n#   HOW TO BUILD THIS IMAGE\n#   -----------------------\n#   Put all downloaded files in the same directory as this Dockerfile\n#   Run: \n#        $ docker build -t oracle/database:18.3.0-rac . \n#\n#   Pull base image\n#   ---------------\nFROM oraclelinux:7-slim\n#   Maintainer\n#   ----------\nMAINTAINER Paramdeep Saini <paramdeep.saini@oracle.com>\n#   Environment variables required for this build (do NOT change)\n#   -------------------------------------------------------------\n#   Linux Env Variable\nENV SETUP_LINUX_FILE=\"setupLinuxEnv.sh\" \\\n    INSTALL_DIR=\"/opt/scripts\" \\\n    GRID_BASE=\"/u01/app/grid\" \\\n    GRID_HOME=\"/u01/app/18.3.0/grid\" \\\n    INSTALL_FILE_1=\"LINUX.X64_180000_grid_home.zip\" \\\n    GRID_INSTALL_RSP=\"grid.rsp\" \\\n    GRID_SW_INSTALL_RSP=\"grid_sw_inst.rsp\" \\\n    GRID_SETUP_FILE=\"setupGrid.sh\" \\\n    FIXUP_PREQ_FILE=\"fixupPreq.sh\" \\\n    INSTALL_GRID_BINARIES_FILE=\"installGridBinaries.sh\" \\\n    INSTALL_GRID_PATCH=\"applyGridPatch.sh\" \\\n    INVENTORY=\"/u01/app/oraInventory\" \\\n    CONFIGGRID=\"configGrid.sh\" \\\n    ADDNODE=\"AddNode.sh\" \\\n    DELNODE=\"DelNode.sh\" \\\n    ADDNODE_RSP=\"grid_addnode.rsp\" \\\n    SETUPSSH=\"setupSSH.expect\" \\\n    GRID_PATCH=\"p28322130_183000OCWRU_Linux-x86-64.zip\" \\\n    PATCH_NUMBER=\"28322130\" \\\n    DOCKERORACLEINIT=\"dockeroracleinit\" \\\n    GRID_USER_HOME=\"/home/grid\" \\\n    SETUPGRIDENV=\"setupGridEnv.sh\" \\\n    ASM_DISCOVERY_DIR=\"/dev\" \\\n    RESET_OS_PASSWORD=\"resetOSPassword.sh\" \\\n    MULTI_NODE_INSTALL=\"MultiNodeInstall.py\" \\\n    DB_BASE=\"/u01/app/oracle\" \\\n    DB_HOME=\"/u01/app/oracle/product/18.3.0/dbhome_1\" \\\n    INSTALL_FILE_2=\"LINUX.X64_180000_db_home.zip\" \\\n    DB_INSTALL_RSP=\"db_inst.rsp\" \\\n    DBCA_RSP=\"dbca.rsp\" \\\n    DB_SETUP_FILE=\"setupDB.sh\" \\\n    PWD_FILE=\"setPassword.sh\" \\\n    RUN_FILE=\"runOracle.sh\" \\\n    STOP_FILE=\"stopOracle.sh\" \\\n    ENABLE_RAC_FILE=\"enableRAC.sh\" \\\n    CHECK_DB_FILE=\"checkDBStatus.sh\" \\\n    USER_SCRIPTS_FILE=\"runUserScripts.sh\" \\\n    REMOTE_LISTENER_FILE=\"remoteListener.sh\" \\\n    INSTALL_DB_BINARIES_FILE=\"installDBBinaries.sh\" \\\n    GRID_HOME_CLEANUP=\"GridHomeCleanup.sh\" \\\n    ORACLE_HOME_CLEANUP=\"OracleHomeCleanup.sh\" \\\n    FUNCTIONS=\"functions.sh\" \\\n    COMMON_SCRIPTS=\"/common_scripts\" \\\n    CHECK_SPACE_FILE=\"checkSpace.sh\" \\\n    EXPECT=\"/usr/bin/expect\" \\\n    BIN=\"/usr/sbin\" \\\n    container=\"true\"\n#   Use second ENV so that variable get substituted\nENV INSTALL_SCRIPTS=\"$INSTALL_DIR/install\" \\\n    PATH=\"/bin:/usr/bin:/sbin:/usr/sbin:$PATH\" \\\n    SCRIPT_DIR=\"$INSTALL_DIR/startup\" \\\n    GRID_PATH=\"$GRID_HOME/bin:$GRID_HOME/OPatch/:/usr/sbin:$PATH\" \\\n    DB_PATH=\"$DB_HOME/bin:$DB_HOME/OPatch/:/usr/sbin:$PATH\" \\\n    GRID_LD_LIBRARY_PATH=\"$GRID_HOME/lib:/usr/lib:/lib\" \\\n    DB_LD_LIBRARY_PATH=\"$DB_HOME/lib:/usr/lib:/lib\"\n#   Copy binaries\n#   -------------\n#   COPY Binaries\nCOPY $GRID_SW_INSTALL_RSP $INSTALL_GRID_PATCH $SETUP_LINUX_FILE $GRID_SETUP_FILE $INSTALL_GRID_BINARIES_FILE $FIXUP_PREQ_FILE $DB_SETUP_FILE $CHECK_SPACE_FILE $DB_INSTALL_RSP $INSTALL_DB_BINARIES_FILE $ENABLE_RAC_FILE $INSTALL_FILE_1 $INSTALL_FILE_2 $GRID_PATCH $GRID_HOME_CLEANUP $ORACLE_HOME_CLEANUP $INSTALL_SCRIPTS/\n#   Setup Scripts\nCOPY $RUN_FILE $ADDNODE $ADDNODE_RSP $SETUPSSH $FUNCTIONS $CONFIGGRID $GRID_INSTALL_RSP $DBCA_RSP $PWD_FILE $CHECK_DB_FILE $USER_SCRIPTS_FILE $STOP_FILE $CHECK_DB_FILE $REMOTE_LISTENER_FILE $SETUPGRIDENV $DELNODE $RESET_OS_PASSWORD $MULTI_NODE_INSTALL $SCRIPT_DIR/\nRUN chmod 755 $INSTALL_SCRIPTS/*.sh \\\n && sync \\\n && $INSTALL_DIR/install/$CHECK_SPACE_FILE \\\n && $INSTALL_DIR/install/$SETUP_LINUX_FILE \\\n && $INSTALL_DIR/install/$GRID_SETUP_FILE \\\n && $INSTALL_DIR/install/$DB_SETUP_FILE \\\n && unzip -q $INSTALL_DIR/install/$GRID_PATCH -d $INSTALL_DIR/install \\\n && chown -R grid:oinstall $INSTALL_DIR/install/$PATCH_NUMBER \\\n && sed -e '/hard *memlock/s/^/#/g' -i /etc/security/limits.d/oracle-database-preinstall-18c.conf \\\n && su grid -c \"$INSTALL_DIR/install/$INSTALL_GRID_BINARIES_FILE EE $PATCH_NUMBER\" \\\n && $INVENTORY/orainstRoot.sh \\\n && $GRID_HOME/root.sh \\\n && su oracle -c \"$INSTALL_DIR/install/$INSTALL_DB_BINARIES_FILE EE\" \\\n && su oracle -c \"$INSTALL_DIR/install/$ENABLE_RAC_FILE\" \\\n && $INVENTORY/orainstRoot.sh \\\n && $DB_HOME/root.sh \\\n && su grid -c \"$INSTALL_SCRIPTS/$GRID_HOME_CLEANUP\" \\\n && su oracle -c \"$INSTALL_SCRIPTS/$ORACLE_HOME_CLEANUP\" \\\n && $INSTALL_DIR/install/$FIXUP_PREQ_FILE \\\n && rm -rf $INSTALL_DIR/install \\\n && sync \\\n && chmod 755 $SCRIPT_DIR/*.sh \\\n && chmod 755 $SCRIPT_DIR/*.expect \\\n && chmod 666 $SCRIPT_DIR/*.rsp \\\n && chown root:oinstall $GRID_HOME/bin/$DOCKERORACLEINIT \\\n && chmod 4755 $GRID_HOME/bin/$DOCKERORACLEINIT \\\n && echo \"nohup $SCRIPT_DIR/runOracle.sh &\" >> /etc/rc.local \\\n && rm -f /etc/rc.d/init.d/oracle-database-preinstall-18c-firstboot \\\n && ln -s $GRID_HOME/bin/$DOCKERORACLEINIT /usr/sbin/oracleinit \\\n && chmod +x /etc/rc.d/rc.local \\\n && sed -i 's/#X11UseLocalhost.*/X11UseLocalhost no/' /etc/ssh/sshd_config \\\n && rm -f /etc/sysctl.d/99-sysctl.conf \\\n && sync\nUSER grid\nWORKDIR /home/grid\nVOLUME [\"/common_scripts\"]\n#   Define default command to start Oracle Grid and RAC Database setup.\nCMD [\"/usr/sbin/oracleinit\"]\n","originalDockerfileUglifiedHash":"8f2c49335b7d527d3ea4c5410808c286","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/01b5712484d56437f91e0748515252872d9e50cd.dockerfile"}