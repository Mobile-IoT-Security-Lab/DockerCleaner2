{"seed":825120904,"processedDockerfileHash":"96d952d4cce8a5cf0a1350ef88a9c6ce","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Dockerfile for generating adtools amigaos packages\nFROM adtools\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends binutils=2.40-2ubuntu3 patch=2.7.6-7build2 gcc=4:12.2.0-3ubuntu1 subversion=1.14.2-4build2 build-essential=12.9ubuntu3 wget=1.21.3-1ubuntu1 debhelper=13.11.4ubuntu3 devscripts=2.23.3ubuntu2 texinfo=6.8-6build2 lhasa=0.3.1-4 libgmp-dev=2:6.2.1+dfsg1-1.1ubuntu1 libmpfr-dev=4.2.0-1 libmpc-dev=1.3.1-1 fakeroot=1.31-1.1 flex=2.6.4-8.1 -y )\n#\n#   Now try to build the adtools amigaos packages\n#\n#   Start creating necessary directories\n#\nRUN mkdir -p /gcc /build/adtools/trunk /build/adtools/branchesbinutils /build/adtools/branchesgcc /build/adtools-build/binutils-build /build/adtools-build/gcc-build /build/adtools-build/libs-build\n#   Download necessary libs\nENV GMP_ARCHIVE=\"gmp-5.0.5/gmp-5.0.5.tar.bz2\"\nENV MPFR_ARCHIVE=\"mpfr-3.1.2/mpfr-3.1.2.tar.bz2\"\nENV MPC_ARCHIVE=\"mpc-0.9.tar.gz\"\n#   Build them\nWORKDIR /build/adtools-build/libs-build\nRUN wget -N ftp://ftp.gmplib.org/pub/${GMP_ARCHIVE}\nRUN wget -N http://www.mpfr.org/${MPFR_ARCHIVE}\nRUN wget -N http://www.multiprecision.org/mpc/download/${MPC_ARCHIVE}\nRUN tar xjf `basename ${GMP_ARCHIVE} `\nRUN tar xjf `basename ${MPFR_ARCHIVE} `\nRUN tar xzf `basename ${MPC_ARCHIVE} `\nRUN cd `basename ${GMP_ARCHIVE} .tar.bz2 ` \\\n && ./configure --host=ppc-amigaos --prefix=/opt/adtools \\\n && make install\nRUN cd `basename ${MPFR_ARCHIVE} .tar.bz2 ` \\\n && ./configure --host=ppc-amigaos --with-gmp=/opt/adtools --prefix=/opt/adtools \\\n && make install\nRUN cd `basename ${MPC_ARCHIVE} .tar.gz ` \\\n && ./configure --host=ppc-amigaos --with-gmp=/opt/adtools --prefix=/opt/adtools \\\n && make install\n#   Download sources\nWORKDIR /build/adtools/trunk\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/binutils-build\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/gcc-build\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/native-build\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/packaging\nWORKDIR /build/adtools/branches/binutils\nRUN svn export svn://svn.code.sf.net/p/adtools/code/branches/binutils/2.23.2\nWORKDIR /build/adtools/branches/gcc\nRUN svn export svn://svn.code.sf.net/p/adtools/code/branches/gcc/4.9.x\n#   Now build and install adtools binutils\nWORKDIR /build/adtools-build/binutils-build\nRUN CFLAGS=\"-Wno-switch -Wno-unused\" ../../adtools/branches/binutils/2.23.2/configure --host=ppc-amigaos --target=ppc-amigaos --prefix=/gcc\nRUN make -j2\nRUN make install\n#   Now build and install adtools gcc\nWORKDIR /build/adtools-build/gcc-build\nRUN CPPFLAGS=\"-static\" LDFLAGS=\"-static\" ../../adtools/branches/gcc/4.9.x/configure --host=ppc-amigaos --target=ppc-amigaos --prefix=/gcc --with-bugurl='http://sf.net/p/adtools' --with-pkgversion='adtools build $(VERSION)' --enable-languages=c,c++ --enable-haifa --enable-sjlj-exceptions --disable-libstdcxx-pch --disable-nls --disable-tls --with-gmp=/opt/adtools --with-mpfr=/opt/adtools --with-mpc=/opt/adtools\nRUN make -j2\nRUN make install\nWORKDIR /gcc/bin\nRUN ppc-amigaos-strip *\nRUN ln -sf ppc-amigaos-gcc-4.9.1 gcc\nRUN ln -sf ppc-amigaos-gcc-4.9.1 ppc-amigaos-gcc\nRUN ln -sf ppc-amigaos-g++ ppc-amigaos-c++\nRUN ln -sf ppc-amigaos-g++ c++\nRUN ln -sf ppc-amigaos-g++ g++\nRUN ln -sf ld.bfd ld\nWORKDIR /gcc/libexec/gcc/ppc-amigaos/4.9.1\nRUN ppc-amigaos-strip cc1 cc1plus\n#   Merging the following with the previous segfaults\nRUN ppc-amigaos-strip lto1\n#   Switch back to the root\nWORKDIR /\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Dockerfile for generating adtools amigaos packages\nFROM adtools\nRUN apt-get update\nRUN apt-get install --no-install-recommends binutils patch gcc subversion build-essential wget debhelper devscripts texinfo lhasa libgmp-dev libmpfr-dev libmpc-dev fakeroot flex -y\n#\n#  Now try to build the adtools amigaos packages\n#\n#  Start creating necessary directories\n#\nRUN mkdir -p /gcc /build/adtools/trunk /build/adtools/branchesbinutils /build/adtools/branchesgcc /build/adtools-build/binutils-build /build/adtools-build/gcc-build /build/adtools-build/libs-build\n#  Download necessary libs\nENV GMP_ARCHIVE=\"gmp-5.0.5/gmp-5.0.5.tar.bz2\"\nENV MPFR_ARCHIVE=\"mpfr-3.1.2/mpfr-3.1.2.tar.bz2\"\nENV MPC_ARCHIVE=\"mpc-0.9.tar.gz\"\n#  Build them\nWORKDIR /build/adtools-build/libs-build\nRUN wget -N ftp://ftp.gmplib.org/pub/${GMP_ARCHIVE}\nRUN wget -N http://www.mpfr.org/${MPFR_ARCHIVE}\nRUN wget -N http://www.multiprecision.org/mpc/download/${MPC_ARCHIVE}\nRUN tar xjf `basename ${GMP_ARCHIVE} `\nRUN tar xjf `basename ${MPFR_ARCHIVE} `\nRUN tar xzf `basename ${MPC_ARCHIVE} `\nRUN cd `basename ${GMP_ARCHIVE} .tar.bz2 ` \\\n && ./configure --host=ppc-amigaos --prefix=/opt/adtools \\\n && make install\nRUN cd `basename ${MPFR_ARCHIVE} .tar.bz2 ` \\\n && ./configure --host=ppc-amigaos --with-gmp=/opt/adtools --prefix=/opt/adtools \\\n && make install\nRUN cd `basename ${MPC_ARCHIVE} .tar.gz ` \\\n && ./configure --host=ppc-amigaos --with-gmp=/opt/adtools --prefix=/opt/adtools \\\n && make install\n#  Download sources\nWORKDIR /build/adtools/trunk\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/binutils-build\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/gcc-build\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/native-build\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/packaging\nWORKDIR /build/adtools/branches/binutils\nRUN svn export svn://svn.code.sf.net/p/adtools/code/branches/binutils/2.23.2\nWORKDIR /build/adtools/branches/gcc\nRUN svn export svn://svn.code.sf.net/p/adtools/code/branches/gcc/4.9.x\n#  Now build and install adtools binutils\nWORKDIR /build/adtools-build/binutils-build\nRUN CFLAGS=\"-Wno-switch -Wno-unused\" ../../adtools/branches/binutils/2.23.2/configure --host=ppc-amigaos --target=ppc-amigaos --prefix=/gcc\nRUN make -j2\nRUN make install\n#  Now build and install adtools gcc\nWORKDIR /build/adtools-build/gcc-build\nRUN CPPFLAGS=\"-static\" LDFLAGS=\"-static\" ../../adtools/branches/gcc/4.9.x/configure --host=ppc-amigaos --target=ppc-amigaos --prefix=/gcc --with-bugurl='http://sf.net/p/adtools' --with-pkgversion='adtools build $(VERSION)' --enable-languages=c,c++ --enable-haifa --enable-sjlj-exceptions --disable-libstdcxx-pch --disable-nls --disable-tls --with-gmp=/opt/adtools --with-mpfr=/opt/adtools --with-mpc=/opt/adtools\nRUN make -j2\nRUN make install\nWORKDIR /gcc/bin\nRUN ppc-amigaos-strip *\nRUN ln -sf ppc-amigaos-gcc-4.9.1 gcc\nRUN ln -sf ppc-amigaos-gcc-4.9.1 ppc-amigaos-gcc\nRUN ln -sf ppc-amigaos-g++ ppc-amigaos-c++\nRUN ln -sf ppc-amigaos-g++ c++\nRUN ln -sf ppc-amigaos-g++ g++\nRUN ln -sf ld.bfd ld\nWORKDIR /gcc/libexec/gcc/ppc-amigaos/4.9.1\nRUN ppc-amigaos-strip cc1 cc1plus\n#  Merging the following with the previous segfaults\nRUN ppc-amigaos-strip lto1\n#  Switch back to the root\nWORKDIR /\n","injectedSmells":[],"originalDockerfileHash":"306fa7ab50766b1da873d5b8312e5888","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Dockerfile for generating adtools amigaos packages\nFROM adtools\nRUN apt-get update\nRUN apt-get install --no-install-recommends binutils patch gcc subversion build-essential wget debhelper devscripts texinfo lhasa libgmp-dev libmpfr-dev libmpc-dev fakeroot flex -y\n#\n#   Now try to build the adtools amigaos packages\n#\n#   Start creating necessary directories\n#\nRUN mkdir -p /gcc /build/adtools/trunk /build/adtools/branchesbinutils /build/adtools/branchesgcc /build/adtools-build/binutils-build /build/adtools-build/gcc-build /build/adtools-build/libs-build\n#   Download necessary libs\nENV GMP_ARCHIVE=\"gmp-5.0.5/gmp-5.0.5.tar.bz2\"\nENV MPFR_ARCHIVE=\"mpfr-3.1.2/mpfr-3.1.2.tar.bz2\"\nENV MPC_ARCHIVE=\"mpc-0.9.tar.gz\"\n#   Build them\nWORKDIR /build/adtools-build/libs-build\nRUN wget -N ftp://ftp.gmplib.org/pub/${GMP_ARCHIVE}\nRUN wget -N http://www.mpfr.org/${MPFR_ARCHIVE}\nRUN wget -N http://www.multiprecision.org/mpc/download/${MPC_ARCHIVE}\nRUN tar xjf `basename ${GMP_ARCHIVE} `\nRUN tar xjf `basename ${MPFR_ARCHIVE} `\nRUN tar xzf `basename ${MPC_ARCHIVE} `\nRUN cd `basename ${GMP_ARCHIVE} .tar.bz2 ` \\\n && ./configure --host=ppc-amigaos --prefix=/opt/adtools \\\n && make install\nRUN cd `basename ${MPFR_ARCHIVE} .tar.bz2 ` \\\n && ./configure --host=ppc-amigaos --with-gmp=/opt/adtools --prefix=/opt/adtools \\\n && make install\nRUN cd `basename ${MPC_ARCHIVE} .tar.gz ` \\\n && ./configure --host=ppc-amigaos --with-gmp=/opt/adtools --prefix=/opt/adtools \\\n && make install\n#   Download sources\nWORKDIR /build/adtools/trunk\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/binutils-build\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/gcc-build\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/native-build\nRUN svn export svn://svn.code.sf.net/p/adtools/code/trunk/packaging\nWORKDIR /build/adtools/branches/binutils\nRUN svn export svn://svn.code.sf.net/p/adtools/code/branches/binutils/2.23.2\nWORKDIR /build/adtools/branches/gcc\nRUN svn export svn://svn.code.sf.net/p/adtools/code/branches/gcc/4.9.x\n#   Now build and install adtools binutils\nWORKDIR /build/adtools-build/binutils-build\nRUN CFLAGS=\"-Wno-switch -Wno-unused\" ../../adtools/branches/binutils/2.23.2/configure --host=ppc-amigaos --target=ppc-amigaos --prefix=/gcc\nRUN make -j2\nRUN make install\n#   Now build and install adtools gcc\nWORKDIR /build/adtools-build/gcc-build\nRUN CPPFLAGS=\"-static\" LDFLAGS=\"-static\" ../../adtools/branches/gcc/4.9.x/configure --host=ppc-amigaos --target=ppc-amigaos --prefix=/gcc --with-bugurl='http://sf.net/p/adtools' --with-pkgversion='adtools build $(VERSION)' --enable-languages=c,c++ --enable-haifa --enable-sjlj-exceptions --disable-libstdcxx-pch --disable-nls --disable-tls --with-gmp=/opt/adtools --with-mpfr=/opt/adtools --with-mpc=/opt/adtools\nRUN make -j2\nRUN make install\nWORKDIR /gcc/bin\nRUN ppc-amigaos-strip *\nRUN ln -sf ppc-amigaos-gcc-4.9.1 gcc\nRUN ln -sf ppc-amigaos-gcc-4.9.1 ppc-amigaos-gcc\nRUN ln -sf ppc-amigaos-g++ ppc-amigaos-c++\nRUN ln -sf ppc-amigaos-g++ c++\nRUN ln -sf ppc-amigaos-g++ g++\nRUN ln -sf ld.bfd ld\nWORKDIR /gcc/libexec/gcc/ppc-amigaos/4.9.1\nRUN ppc-amigaos-strip cc1 cc1plus\n#   Merging the following with the previous segfaults\nRUN ppc-amigaos-strip lto1\n#   Switch back to the root\nWORKDIR /\n","originalDockerfileUglifiedHash":"ba9979be7e57fffb3375fdf69d72d4bc","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/3e3171c8576544f9581e55d516c9a92ce85f44c7.dockerfile"}