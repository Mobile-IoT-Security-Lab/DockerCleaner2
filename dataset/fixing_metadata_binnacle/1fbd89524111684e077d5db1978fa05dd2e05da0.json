{"seed":3607348630,"processedDockerfileHash":"dbdcb17a487d27a59fa23094169c541f","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   this file is used to build the image gpsbabel_build_environment used by travis.\nFROM ubuntu:bionic AS qt_install\nWORKDIR /app\n#   update environment.\nARG DEBIAN_FRONTEND=noninteractive\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-utils=1.6.14 -y \\\n && apt-get upgrade -y \\\n && rm -rf /var/lib/apt/lists/*\n#   install packages needed to install Qt\nRUN apt-get update \\\n && apt-get install --no-install-recommends libdbus-1-3=1.12.2-1ubuntu1.4 libfreetype6=2.8.1-2ubuntu2.2 libfontconfig1=2.12.6-0ubuntu2 libx11-6=2:1.6.4-3ubuntu0.4 libx11-xcb1=2:1.6.4-3ubuntu0.4 ca-cacert=2011.0523-2 wget=1.19.4-1ubuntu2.2 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   basic build and test tools\nCOPY ./qtci/install-qt ./qtci/extract-qt-installer /app/\nRUN QT_CI_PACKAGES=qt.qt5.5124.gcc_64,qt.qt5.5124.qtwebengine QT_CI_DOWNLOADER=\"wget -nv -c\" PATH=/app:${PATH} ./install-qt 5.12.4 /opt\nFROM ubuntu:bionic\nLABEL maintainer=\"https://github.com/tsteven4\"\nWORKDIR /app\n#   update environment.\nARG DEBIAN_FRONTEND=noninteractive\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-utils=1.6.14 -y \\\n && apt-get upgrade -y \\\n && rm -rf /var/lib/apt/lists/*\n#   install packages needed for gpsbabel build\n#   split into multiple commands to limit layer size\n#   basic build and test tools\nRUN apt-get update \\\n && apt-get install --no-install-recommends g++=4:7.4.0-1ubuntu2.3 make=4.1-9.1ubuntu1 autoconf=2.69-11 gperf=3.1-1 git=1:2.17.1-1ubuntu0.17 valgrind=1:3.13.0-2ubuntu2.3 expat=2.2.5-3ubuntu0.9 libxml2-utils=2.9.4+dfsg1-6.1ubuntu1.8 bear=2.3.11-1 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   alternative compiler\nRUN apt-get update \\\n && apt-get install --no-install-recommends clang=1:6.0-41~exp5~ubuntu1 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   pkgs needed to build document\nRUN apt-get update \\\n && apt-get install --no-install-recommends fop=1:2.1-7 xsltproc=1.1.29-5ubuntu0.3 docbook-xml=4.5-8 docbook-xsl=1.79.1+dfsg-2 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   pkgs with libraries needed by gpsbabel\nRUN apt-get update \\\n && apt-get install --no-install-recommends libusb-dev=2:0.1.12-31 pkg-config=0.29.1-0ubuntu2 libudev-dev=237-3ubuntu10.57 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   dependencies of Qt\nRUN apt-get update \\\n && apt-get install --no-install-recommends libglib2.0-0=2.56.4-0ubuntu0.18.04.9 libx11-xcb-dev=2:1.6.4-3ubuntu0.4 libglu1-mesa-dev=9.0.0-2.1build1 libasound2=1.1.3-5ubuntu0.6 libxcomposite1=1:0.4.4-2 libxcursor1=1:1.1.15-1 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   Qt\nCOPY --from=qt_install /opt/qt-5.12.4.env /opt/qtio.env\nCOPY --from=qt_install /opt/Qt/5.12.4 /opt/Qt/5.12.4\nCOPY --from=qt_install /opt/Qt/Licenses /opt/Qt/Licenses\n#   pkgs needed to generate coverage report:\nRUN apt-get update \\\n && apt-get install --no-install-recommends gcovr=3.4-1 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   install environment for locale test\nRUN apt-get update \\\n && apt-get install --no-install-recommends locales=2.27-3ubuntu1.6 -y \\\n && rm -rf /var/lib/apt/lists/* \\\n && sed -i 's/^# *\\(en_US ISO-8859-1\\)/\\1/' /etc/locale.gen \\\n && locale-gen \\\n && locale -a\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  this file is used to build the image gpsbabel_build_environment used by travis.\nFROM ubuntu:bionic AS qt_install\nWORKDIR /app\n#  update environment.\nARG DEBIAN_FRONTEND=noninteractive\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-utils -y \\\n && apt-get upgrade -y \\\n && rm -rf /var/lib/apt/lists/*\n#  install packages needed to install Qt\nRUN apt-get update \\\n && apt-get install --no-install-recommends libdbus-1-3 libfreetype6 libfontconfig1 libx11-6 libx11-xcb1 ca-cacert wget -y \\\n && rm -rf /var/lib/apt/lists/*\n#  basic build and test tools\nCOPY ./qtci/install-qt ./qtci/extract-qt-installer /app/\nRUN QT_CI_PACKAGES=qt.qt5.5124.gcc_64,qt.qt5.5124.qtwebengine QT_CI_DOWNLOADER=\"wget -nv -c\" PATH=/app:${PATH} ./install-qt 5.12.4 /opt\nFROM ubuntu:bionic\nLABEL maintainer=\"https://github.com/tsteven4\"\nWORKDIR /app\n#  update environment.\nARG DEBIAN_FRONTEND=noninteractive\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-utils -y \\\n && apt-get upgrade -y \\\n && rm -rf /var/lib/apt/lists/*\n#  install packages needed for gpsbabel build\n#  split into multiple commands to limit layer size\n#  basic build and test tools\nRUN apt-get update \\\n && apt-get install --no-install-recommends g++ make autoconf gperf git valgrind expat libxml2-utils bear -y \\\n && rm -rf /var/lib/apt/lists/*\n#  alternative compiler\nRUN apt-get update \\\n && apt-get install --no-install-recommends clang -y \\\n && rm -rf /var/lib/apt/lists/*\n#  pkgs needed to build document\nRUN apt-get update \\\n && apt-get install --no-install-recommends fop xsltproc docbook-xml docbook-xsl -y \\\n && rm -rf /var/lib/apt/lists/*\n#  pkgs with libraries needed by gpsbabel\nRUN apt-get update \\\n && apt-get install --no-install-recommends libusb-dev pkg-config libudev-dev -y \\\n && rm -rf /var/lib/apt/lists/*\n#  dependencies of Qt\nRUN apt-get update \\\n && apt-get install --no-install-recommends libglib2.0-0 libx11-xcb-dev libglu1-mesa-dev libasound2 libxcomposite1 libxcursor1 -y \\\n && rm -rf /var/lib/apt/lists/*\n#  Qt\nCOPY --from=qt_install /opt/qt-5.12.4.env /opt/qtio.env\nCOPY --from=qt_install /opt/Qt/5.12.4 /opt/Qt/5.12.4\nCOPY --from=qt_install /opt/Qt/Licenses /opt/Qt/Licenses\n#  pkgs needed to generate coverage report:\nRUN apt-get update \\\n && apt-get install --no-install-recommends gcovr -y \\\n && rm -rf /var/lib/apt/lists/*\n#  install environment for locale test\nRUN apt-get update \\\n && apt-get install --no-install-recommends locales -y \\\n && rm -rf /var/lib/apt/lists/* \\\n && sed -i 's/^# *\\(en_US ISO-8859-1\\)/\\1/' /etc/locale.gen \\\n && locale-gen \\\n && locale -a\n","injectedSmells":[],"originalDockerfileHash":"3abda168bc267a3243692a58d703c596","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   this file is used to build the image gpsbabel_build_environment used by travis.\nFROM ubuntu:bionic AS qt_install\nWORKDIR /app\n#   update environment.\nARG DEBIAN_FRONTEND=noninteractive\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-utils -y \\\n && apt-get upgrade -y \\\n && rm -rf /var/lib/apt/lists/*\n#   install packages needed to install Qt\nRUN apt-get update \\\n && apt-get install --no-install-recommends libdbus-1-3 libfreetype6 libfontconfig1 libx11-6 libx11-xcb1 ca-cacert wget -y \\\n && rm -rf /var/lib/apt/lists/*\n#   basic build and test tools\nCOPY ./qtci/install-qt ./qtci/extract-qt-installer /app/\nRUN QT_CI_PACKAGES=qt.qt5.5124.gcc_64,qt.qt5.5124.qtwebengine QT_CI_DOWNLOADER=\"wget -nv -c\" PATH=/app:${PATH} ./install-qt 5.12.4 /opt\nFROM ubuntu:bionic\nLABEL maintainer=\"https://github.com/tsteven4\"\nWORKDIR /app\n#   update environment.\nARG DEBIAN_FRONTEND=noninteractive\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-utils -y \\\n && apt-get upgrade -y \\\n && rm -rf /var/lib/apt/lists/*\n#   install packages needed for gpsbabel build\n#   split into multiple commands to limit layer size\n#   basic build and test tools\nRUN apt-get update \\\n && apt-get install --no-install-recommends g++ make autoconf gperf git valgrind expat libxml2-utils bear -y \\\n && rm -rf /var/lib/apt/lists/*\n#   alternative compiler\nRUN apt-get update \\\n && apt-get install --no-install-recommends clang -y \\\n && rm -rf /var/lib/apt/lists/*\n#   pkgs needed to build document\nRUN apt-get update \\\n && apt-get install --no-install-recommends fop xsltproc docbook-xml docbook-xsl -y \\\n && rm -rf /var/lib/apt/lists/*\n#   pkgs with libraries needed by gpsbabel\nRUN apt-get update \\\n && apt-get install --no-install-recommends libusb-dev pkg-config libudev-dev -y \\\n && rm -rf /var/lib/apt/lists/*\n#   dependencies of Qt\nRUN apt-get update \\\n && apt-get install --no-install-recommends libglib2.0-0 libx11-xcb-dev libglu1-mesa-dev libasound2 libxcomposite1 libxcursor1 -y \\\n && rm -rf /var/lib/apt/lists/*\n#   Qt\nCOPY --from=qt_install /opt/qt-5.12.4.env /opt/qtio.env\nCOPY --from=qt_install /opt/Qt/5.12.4 /opt/Qt/5.12.4\nCOPY --from=qt_install /opt/Qt/Licenses /opt/Qt/Licenses\n#   pkgs needed to generate coverage report:\nRUN apt-get update \\\n && apt-get install --no-install-recommends gcovr -y \\\n && rm -rf /var/lib/apt/lists/*\n#   install environment for locale test\nRUN apt-get update \\\n && apt-get install --no-install-recommends locales -y \\\n && rm -rf /var/lib/apt/lists/* \\\n && sed -i 's/^# *\\(en_US ISO-8859-1\\)/\\1/' /etc/locale.gen \\\n && locale-gen \\\n && locale -a\n","originalDockerfileUglifiedHash":"1bc9fae428598ca3fd8a3e301769207d","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/1fbd89524111684e077d5db1978fa05dd2e05da0.dockerfile"}