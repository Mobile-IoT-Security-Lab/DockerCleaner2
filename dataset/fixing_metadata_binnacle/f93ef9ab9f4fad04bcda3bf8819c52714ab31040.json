{"seed":1799896735,"processedDockerfileHash":"9978c5ae99a3a03fa626a656eb043f29","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM alpine:latest\nMAINTAINER niuyuxian <ncc0706@gmail.com>\nENV TIMEZONE=\"Asia/Shanghai\"\n#  # 国内时区\nRUN apk add tzdata=2023c-r0 --update \\\n && cp /usr/share/zoneinfo/${TIMEZONE} /etc/localtime \\\n && echo \"${TIMEZONE}\" > /etc/timezone\nRUN apk add bash=5.2.15-r0 curl=7.88.1-r1 curl-dev=7.88.1-r1 php5-intl php5-openssl php5-dba php5-sqlite3 php5-pear php5-phpdbg php5-gmp php5-pdo_mysql php5-pcntl php5-common php5-xsl php5-fpm php5-mysql php5-mysqli php5-enchant php5-pspell php5-snmp php5-doc php5-dev php5-xmlrpc php5-embed php5-xmlreader php5-pdo_sqlite php5-exif php5-opcache php5-ldap php5-posix php5-gd php5-gettext php5-json php5-xml php5 php5-iconv php5-sysvshm php5-curl php5-shmop php5-odbc php5-phar php5-pdo_pgsql php5-imap php5-pdo_dblib php5-pgsql php5-pdo_odbc php5-xdebug php5-zip php5-apache2 php5-cgi php5-ctype php5-mcrypt php5-wddx php5-bcmath php5-calendar php5-dom php5-sockets php5-soap php5-apcu php5-sysvmsg php5-zlib php5-ftp php5-sysvsem php5-pdo php5-bz2 php5-mysqli apache2=2.4.57-r0 libxml2-dev=2.10.4-r0 apache2-utils=2.4.57-r0 --update --no-cache\nRUN apk add imagemagick-dev=7.1.0.62-r0 ffmpeg=5.1.3-r0 --update --no-cache\n#  RUN ln -s /usr/bin/php5 /usr/bin/php\nRUN curl -sS https://getcomposer.org/installer | php5 -- --install-dir=/usr/bin --filename=composer\nRUN rm -rf /var/cache/apk/*\n#   AllowOverride ALL\nRUN sed -i '264s#AllowOverride None#AllowOverride All#' /etc/apache2/httpd.conf\n#  Rewrite Moduble Enable\nRUN sed -i 's#\\#LoadModule rewrite_module modules/mod_rewrite.so#LoadModule rewrite_module modules/mod_rewrite.so#' /etc/apache2/httpd.conf\n#   Document Root to /var/www/html/\nRUN sed -i 's#/var/www/localhost/htdocs#/var/www/html#g' /etc/apache2/httpd.conf\n#  Start apache\nRUN mkdir -p /run/apache2\nRUN mkdir /var/www/html/\nVOLUME /var/www/html/\nWORKDIR /var/www/html/\nEXPOSE 80/tcp\nEXPOSE 443/tcp\nCMD /usr/sbin/apachectl -D FOREGROUND\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM alpine:latest\nMAINTAINER niuyuxian <ncc0706@gmail.com>\nENV TIMEZONE=\"Asia/Shanghai\"\n# # 国内时区\nRUN apk add --update tzdata \\\n && cp /usr/share/zoneinfo/${TIMEZONE} /etc/localtime \\\n && echo \"${TIMEZONE}\" > /etc/timezone\nRUN apk add --update --no-cache bash curl curl-dev php5-intl php5-openssl php5-dba php5-sqlite3 php5-pear php5-phpdbg php5-gmp php5-pdo_mysql php5-pcntl php5-common php5-xsl php5-fpm php5-mysql php5-mysqli php5-enchant php5-pspell php5-snmp php5-doc php5-dev php5-xmlrpc php5-embed php5-xmlreader php5-pdo_sqlite php5-exif php5-opcache php5-ldap php5-posix php5-gd php5-gettext php5-json php5-xml php5 php5-iconv php5-sysvshm php5-curl php5-shmop php5-odbc php5-phar php5-pdo_pgsql php5-imap php5-pdo_dblib php5-pgsql php5-pdo_odbc php5-xdebug php5-zip php5-apache2 php5-cgi php5-ctype php5-mcrypt php5-wddx php5-bcmath php5-calendar php5-dom php5-sockets php5-soap php5-apcu php5-sysvmsg php5-zlib php5-ftp php5-sysvsem php5-pdo php5-bz2 php5-mysqli apache2 libxml2-dev apache2-utils\nRUN apk add --update --no-cache imagemagick-dev ffmpeg\n# RUN ln -s /usr/bin/php5 /usr/bin/php\nRUN curl -sS https://getcomposer.org/installer | php5 -- --install-dir=/usr/bin --filename=composer\nRUN rm -rf /var/cache/apk/*\n#  AllowOverride ALL\nRUN sed -i '264s#AllowOverride None#AllowOverride All#' /etc/apache2/httpd.conf\n# Rewrite Moduble Enable\nRUN sed -i 's#\\#LoadModule rewrite_module modules/mod_rewrite.so#LoadModule rewrite_module modules/mod_rewrite.so#' /etc/apache2/httpd.conf\n#  Document Root to /var/www/html/\nRUN sed -i 's#/var/www/localhost/htdocs#/var/www/html#g' /etc/apache2/httpd.conf\n# Start apache\nRUN mkdir -p /run/apache2\nRUN mkdir /var/www/html/\nVOLUME /var/www/html/\nWORKDIR /var/www/html/\nEXPOSE 80/tcp\nEXPOSE 443/tcp\nCMD /usr/sbin/apachectl -D FOREGROUND\n","injectedSmells":[],"originalDockerfileHash":"b696cab2ba70cfc05b0ab4236b483e9f","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine:latest\nMAINTAINER niuyuxian <ncc0706@gmail.com>\nENV TIMEZONE=\"Asia/Shanghai\"\n#  # 国内时区\nRUN apk add --update tzdata \\\n && cp /usr/share/zoneinfo/${TIMEZONE} /etc/localtime \\\n && echo \"${TIMEZONE}\" > /etc/timezone\nRUN apk add --update --no-cache bash curl curl-dev php5-intl php5-openssl php5-dba php5-sqlite3 php5-pear php5-phpdbg php5-gmp php5-pdo_mysql php5-pcntl php5-common php5-xsl php5-fpm php5-mysql php5-mysqli php5-enchant php5-pspell php5-snmp php5-doc php5-dev php5-xmlrpc php5-embed php5-xmlreader php5-pdo_sqlite php5-exif php5-opcache php5-ldap php5-posix php5-gd php5-gettext php5-json php5-xml php5 php5-iconv php5-sysvshm php5-curl php5-shmop php5-odbc php5-phar php5-pdo_pgsql php5-imap php5-pdo_dblib php5-pgsql php5-pdo_odbc php5-xdebug php5-zip php5-apache2 php5-cgi php5-ctype php5-mcrypt php5-wddx php5-bcmath php5-calendar php5-dom php5-sockets php5-soap php5-apcu php5-sysvmsg php5-zlib php5-ftp php5-sysvsem php5-pdo php5-bz2 php5-mysqli apache2 libxml2-dev apache2-utils\nRUN apk add --update --no-cache imagemagick-dev ffmpeg\n#  RUN ln -s /usr/bin/php5 /usr/bin/php\nRUN curl -sS https://getcomposer.org/installer | php5 -- --install-dir=/usr/bin --filename=composer\nRUN rm -rf /var/cache/apk/*\n#   AllowOverride ALL\nRUN sed -i '264s#AllowOverride None#AllowOverride All#' /etc/apache2/httpd.conf\n#  Rewrite Moduble Enable\nRUN sed -i 's#\\#LoadModule rewrite_module modules/mod_rewrite.so#LoadModule rewrite_module modules/mod_rewrite.so#' /etc/apache2/httpd.conf\n#   Document Root to /var/www/html/\nRUN sed -i 's#/var/www/localhost/htdocs#/var/www/html#g' /etc/apache2/httpd.conf\n#  Start apache\nRUN mkdir -p /run/apache2\nRUN mkdir /var/www/html/\nVOLUME /var/www/html/\nWORKDIR /var/www/html/\nEXPOSE 80/tcp\nEXPOSE 443/tcp\nCMD /usr/sbin/apachectl -D FOREGROUND\n","originalDockerfileUglifiedHash":"3856b574b706a02930169240f5897fef","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/f93ef9ab9f4fad04bcda3bf8819c52714ab31040.dockerfile"}