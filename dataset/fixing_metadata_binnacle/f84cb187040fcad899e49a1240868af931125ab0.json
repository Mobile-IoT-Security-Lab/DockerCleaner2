{"seed":1011367852,"processedDockerfileHash":"9b924d5e62c5e754c0e0562b6b34ecbd","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM circleci/ubuntu-server:trusty-latest\nENV VERBOSE=\"true\"\n#   Avoid any installation scripts interact with upstart\n#   So divert now, but undivert at the end\n#   You shouldn't change the line unless you understand the consequence\nRUN echo 'exit 101' > /usr/sbin/policy-rc.d \\\n && chmod +x /usr/sbin/policy-rc.d \\\n && dpkg-divert --local --rename --add /sbin/initctl \\\n && ln -s /bin/true /sbin/initctl\nCOPY circleci-install /usr/local/bin/circleci-install\nCOPY circleci-provision-scripts/base.sh circleci-provision-scripts/circleci-specific.sh /opt/circleci-provision-scripts/\nRUN circleci-install base_requirements \\\n && circleci-install circleci_specific\n#   Installing java early beacuse a few things have the dependency to java (i.g. cassandra)\nCOPY circleci-provision-scripts/java.sh /opt/circleci-provision-scripts/java.sh\nRUN for package in oraclejdk7 oraclejdk8 openjdk7 openjdk8; do circleci-install java $package ; done\n#   Databases\nCOPY circleci-provision-scripts/mysql.sh circleci-provision-scripts/mongo.sh circleci-provision-scripts/postgres.sh circleci-provision-scripts/sqlite.sh /opt/circleci-provision-scripts/\nRUN for package in mysql_57 mongo postgres postgres_ext_postgis sqlite3_15; do circleci-install $package ; done\nCOPY circleci-provision-scripts/misc.sh /opt/circleci-provision-scripts/misc.sh\nRUN for package in sysadmin devtools jq redis memcached rabbitmq neo4j elasticsearch beanstalkd cassandra riak couchdb; do circleci-install $package ; done\n#   Update to the version where recent (as of Oct 2017) vulnerabilities were fixed\nCOPY circleci-provision-scripts/curl.sh /opt/circleci-provision-scripts/curl.sh\nRUN circleci-install curl_7_56\n#   Dislabe services by default\nRUN for s in apache2 memcached rabbitmq-server neo4j neo4j-service elasticsearch beanstalkd cassandra riak couchdb; do sysv-rc-conf $s off ; done\n#   Browsers\nCOPY circleci-provision-scripts/firefox.sh circleci-provision-scripts/chrome.sh circleci-provision-scripts/phantomjs.sh /opt/circleci-provision-scripts/\nRUN circleci-install firefox \\\n && circleci-install chrome \\\n && circleci-install phantomjs\n#   Android\nCOPY circleci-provision-scripts/android-sdk.sh /opt/circleci-provision-scripts/android-sdk.sh\nRUN circleci-install android_sdk platform-tools\nRUN circleci-install android_sdk extra-android-support\nRUN for package in android-25 android-24 android-23 android-22; do circleci-install android_sdk $package ; done\nRUN for package in sys-img-armeabi-v7a-android-24 sys-img-armeabi-v7a-android-22; do circleci-install android_sdk $package ; done\nRUN for package in build-tools-25.0.1 build-tools-25.0.0 build-tools-24.0.3 build-tools-24.0.2 build-tools-24.0.1 build-tools-24.0.0 build-tools-23.0.3 build-tools-23.0.2 build-tools-22.0.1; do circleci-install android_sdk $package ; done\nRUN for package in android_sdk extra-android-m2repository android_sdk extra-google-m2repository android_sdk extra-google-google_play_services android_sdk addon-google_apis-google-23 android_sdk addon-google_apis-google-22; do circleci-install android_sdk $package ; done\n#   Qt\nCOPY circleci-provision-scripts/qt.sh /opt/circleci-provision-scripts/qt.sh\nRUN circleci-install qt\n#   Install deployment tools\nCOPY circleci-provision-scripts/awscli.sh circleci-provision-scripts/gcloud.sh circleci-provision-scripts/heroku.sh /opt/circleci-provision-scripts/\nRUN for package in awscli gcloud heroku; do circleci-install $package ; done\n#   Languages\nARG use_precompile=true\nENV USE_PRECOMPILE=\"$use_precompile\" \\\n    RUN_APT_UPDATE=\"true\"\nRUN curl -s https://packagecloud.io/install/repositories/circleci/trusty/script.deb.sh | sudo bash\nCOPY circleci-provision-scripts/python.sh /opt/circleci-provision-scripts/python.sh\nRUN circleci-install python 2.7.10\nRUN circleci-install python 2.7.11\nRUN circleci-install python 2.7.12\nRUN circleci-install python 3.1.4\nRUN circleci-install python 3.1.5\nRUN circleci-install python 3.2.5\nRUN circleci-install python 3.2.6\nRUN circleci-install python 3.3.5\nRUN circleci-install python 3.3.6\nRUN circleci-install python 3.4.3\nRUN circleci-install python 3.4.4\nRUN circleci-install python 3.5.1\nRUN circleci-install python 3.5.2\nRUN circleci-install python 3.5.3\nRUN circleci-install python 3.6.1\nRUN circleci-install python 3.6.2\nRUN circleci-install python pypy-1.9\nRUN circleci-install python pypy-2.6.1\nRUN circleci-install python pypy-4.0.1\nRUN sudo -H -i -u ubuntu pyenv global 2.7.11\nCOPY circleci-provision-scripts/nodejs.sh /opt/circleci-provision-scripts/nodejs.sh\nRUN circleci-install nodejs 0.12.9\nRUN circleci-install nodejs 4.0.0\nRUN circleci-install nodejs 4.1.2\nRUN circleci-install nodejs 4.2.6\nRUN circleci-install nodejs 4.3.0\nRUN circleci-install nodejs 4.5.0\nRUN circleci-install nodejs 5.0.0\nRUN circleci-install nodejs 5.1.1\nRUN circleci-install nodejs 5.2.0\nRUN circleci-install nodejs 5.3.0\nRUN circleci-install nodejs 5.4.1\nRUN circleci-install nodejs 5.5.0\nRUN circleci-install nodejs 5.6.0\nRUN circleci-install nodejs 5.7.0\nRUN circleci-install nodejs 6.1.0\nRUN circleci-install nodejs 6.11.4\nRUN circleci-install nodejs 8.1.4\nRUN circleci-install nodejs 8.2.0\nRUN sudo -H -i -u ubuntu nvm alias default 4.2.6\nRUN circleci-install yarn 1.1.0\nCOPY circleci-provision-scripts/go.sh /opt/circleci-provision-scripts/go.sh\nRUN circleci-install golang 1.9.1\nCOPY circleci-provision-scripts/ruby.sh /opt/circleci-provision-scripts/ruby.sh\nRUN circleci-install ruby 2.1.8\nRUN circleci-install ruby 2.1.9\nRUN circleci-install ruby 2.2.6\nRUN circleci-install ruby 2.2.7\nRUN circleci-install ruby 2.3.4\nRUN circleci-install ruby 2.3.5\nRUN circleci-install ruby 2.4.1\nRUN circleci-install ruby 2.4.2\nRUN sudo -H -i -u ubuntu rvm use 2.2.6 --default\nCOPY circleci-provision-scripts/php.sh /opt/circleci-provision-scripts/php.sh\nRUN circleci-install php 5.5.31\nRUN circleci-install php 5.5.32\nRUN circleci-install php 5.5.36\nRUN circleci-install php 5.6.17\nRUN circleci-install php 5.6.18\nRUN circleci-install php 5.6.22\nRUN circleci-install php 7.0.7\nRUN circleci-install php 7.0.11\nRUN circleci-install php 7.0.17\nRUN circleci-install php 7.0.20\nRUN circleci-install php 7.0.24\nRUN circleci-install php 7.1.3\nRUN circleci-install php 7.1.6\nRUN circleci-install php 7.1.9\nRUN sudo -H -i -u ubuntu phpenv global 5.6.17\nCOPY circleci-provision-scripts/clojure.sh /opt/circleci-provision-scripts/clojure.sh\nRUN circleci-install clojure\nCOPY circleci-provision-scripts/scala.sh /opt/circleci-provision-scripts/scala.sh\nRUN circleci-install scala\nCOPY circleci-provision-scripts/haskell.sh /opt/circleci-provision-scripts/haskell.sh\nRUN circleci-install ghc 8.0.2\nRUN circleci-install stack\nCOPY circleci-provision-scripts/git-lfs.sh /opt/circleci-provision-scripts/git-lfs.sh\nRUN circleci-install git-lfs 1.5.4\n#   Docker have be last - to utilize cache better\nCOPY circleci-provision-scripts/docker.sh /opt/circleci-provision-scripts/docker.sh\nRUN circleci-install docker \\\n && circleci-install docker_compose\n#   Install CircleCI patched Docker that runs in unpriv container\nRUN circleci-install circleci_docker\n#   Undivert upstart\n#   You shouldn't change the line unless you understad the consequence\nRUN rm /usr/sbin/policy-rc.d \\\n && rm /sbin/initctl \\\n && dpkg-divert --rename --remove /sbin/initctl\n#   Add rest of provisioning files -- add at end to avoid cache invalidation\nCOPY circleci-provision-scripts /opt/circleci-provision-scripts\n#   We need Dockerfile because unit test parses Dockerfile to make sure all versions are installed\nCOPY targets/ubuntu-14.04-XXL/Dockerfile /opt/circleci/Dockerfile\nARG IMAGE_TAG\nRUN echo $IMAGE_TAG > /opt/circleci/image_version\nCOPY targets/ubuntu-14.04-XXL/pkg-versions.sh /opt/circleci/bin/pkg-versions.sh\nLABEL circleci.user=\"ubuntu\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM circleci/ubuntu-server:trusty-latest\nENV VERBOSE=\"true\"\n#  Avoid any installation scripts interact with upstart\n#  So divert now, but undivert at the end\n#  You shouldn't change the line unless you understand the consequence\nRUN echo 'exit 101' > /usr/sbin/policy-rc.d \\\n && chmod +x /usr/sbin/policy-rc.d \\\n && dpkg-divert --local --rename --add /sbin/initctl \\\n && ln -s /bin/true /sbin/initctl\nADD circleci-install /usr/local/bin/circleci-install\nADD circleci-provision-scripts/base.sh circleci-provision-scripts/circleci-specific.sh /opt/circleci-provision-scripts/\nRUN circleci-install base_requirements \\\n && circleci-install circleci_specific\n#  Installing java early beacuse a few things have the dependency to java (i.g. cassandra)\nADD circleci-provision-scripts/java.sh /opt/circleci-provision-scripts/java.sh\nRUN for package in oraclejdk7 oraclejdk8 openjdk7 openjdk8; do circleci-install java $package ; done\n#  Databases\nADD circleci-provision-scripts/mysql.sh circleci-provision-scripts/mongo.sh circleci-provision-scripts/postgres.sh circleci-provision-scripts/sqlite.sh /opt/circleci-provision-scripts/\nRUN for package in mysql_57 mongo postgres postgres_ext_postgis sqlite3_15; do circleci-install $package ; done\nADD circleci-provision-scripts/misc.sh /opt/circleci-provision-scripts/misc.sh\nRUN for package in sysadmin devtools jq redis memcached rabbitmq neo4j elasticsearch beanstalkd cassandra riak couchdb; do circleci-install $package ; done\n#  Update to the version where recent (as of Oct 2017) vulnerabilities were fixed\nADD circleci-provision-scripts/curl.sh /opt/circleci-provision-scripts/curl.sh\nRUN circleci-install curl_7_56\n#  Dislabe services by default\nRUN for s in apache2 memcached rabbitmq-server neo4j neo4j-service elasticsearch beanstalkd cassandra riak couchdb; do sysv-rc-conf $s off ; done\n#  Browsers\nADD circleci-provision-scripts/firefox.sh circleci-provision-scripts/chrome.sh circleci-provision-scripts/phantomjs.sh /opt/circleci-provision-scripts/\nRUN circleci-install firefox \\\n && circleci-install chrome \\\n && circleci-install phantomjs\n#  Android\nADD circleci-provision-scripts/android-sdk.sh /opt/circleci-provision-scripts/android-sdk.sh\nRUN circleci-install android_sdk platform-tools\nRUN circleci-install android_sdk extra-android-support\nRUN for package in android-25 android-24 android-23 android-22; do circleci-install android_sdk $package ; done\nRUN for package in sys-img-armeabi-v7a-android-24 sys-img-armeabi-v7a-android-22; do circleci-install android_sdk $package ; done\nRUN for package in build-tools-25.0.1 build-tools-25.0.0 build-tools-24.0.3 build-tools-24.0.2 build-tools-24.0.1 build-tools-24.0.0 build-tools-23.0.3 build-tools-23.0.2 build-tools-22.0.1; do circleci-install android_sdk $package ; done\nRUN for package in android_sdk extra-android-m2repository android_sdk extra-google-m2repository android_sdk extra-google-google_play_services android_sdk addon-google_apis-google-23 android_sdk addon-google_apis-google-22; do circleci-install android_sdk $package ; done\n#  Qt\nADD circleci-provision-scripts/qt.sh /opt/circleci-provision-scripts/qt.sh\nRUN circleci-install qt\n#  Install deployment tools\nADD circleci-provision-scripts/awscli.sh circleci-provision-scripts/gcloud.sh circleci-provision-scripts/heroku.sh /opt/circleci-provision-scripts/\nRUN for package in awscli gcloud heroku; do circleci-install $package ; done\n#  Languages\nARG use_precompile=true\nENV USE_PRECOMPILE=\"$use_precompile\" \\\n    RUN_APT_UPDATE=\"true\"\nRUN curl -s https://packagecloud.io/install/repositories/circleci/trusty/script.deb.sh | sudo bash\nADD circleci-provision-scripts/python.sh /opt/circleci-provision-scripts/python.sh\nRUN circleci-install python 2.7.10\nRUN circleci-install python 2.7.11\nRUN circleci-install python 2.7.12\nRUN circleci-install python 3.1.4\nRUN circleci-install python 3.1.5\nRUN circleci-install python 3.2.5\nRUN circleci-install python 3.2.6\nRUN circleci-install python 3.3.5\nRUN circleci-install python 3.3.6\nRUN circleci-install python 3.4.3\nRUN circleci-install python 3.4.4\nRUN circleci-install python 3.5.1\nRUN circleci-install python 3.5.2\nRUN circleci-install python 3.5.3\nRUN circleci-install python 3.6.1\nRUN circleci-install python 3.6.2\nRUN circleci-install python pypy-1.9\nRUN circleci-install python pypy-2.6.1\nRUN circleci-install python pypy-4.0.1\nRUN sudo -H -i -u ubuntu pyenv global 2.7.11\nADD circleci-provision-scripts/nodejs.sh /opt/circleci-provision-scripts/nodejs.sh\nRUN circleci-install nodejs 0.12.9\nRUN circleci-install nodejs 4.0.0\nRUN circleci-install nodejs 4.1.2\nRUN circleci-install nodejs 4.2.6\nRUN circleci-install nodejs 4.3.0\nRUN circleci-install nodejs 4.5.0\nRUN circleci-install nodejs 5.0.0\nRUN circleci-install nodejs 5.1.1\nRUN circleci-install nodejs 5.2.0\nRUN circleci-install nodejs 5.3.0\nRUN circleci-install nodejs 5.4.1\nRUN circleci-install nodejs 5.5.0\nRUN circleci-install nodejs 5.6.0\nRUN circleci-install nodejs 5.7.0\nRUN circleci-install nodejs 6.1.0\nRUN circleci-install nodejs 6.11.4\nRUN circleci-install nodejs 8.1.4\nRUN circleci-install nodejs 8.2.0\nRUN sudo -H -i -u ubuntu nvm alias default 4.2.6\nRUN circleci-install yarn 1.1.0\nADD circleci-provision-scripts/go.sh /opt/circleci-provision-scripts/go.sh\nRUN circleci-install golang 1.9.1\nADD circleci-provision-scripts/ruby.sh /opt/circleci-provision-scripts/ruby.sh\nRUN circleci-install ruby 2.1.8\nRUN circleci-install ruby 2.1.9\nRUN circleci-install ruby 2.2.6\nRUN circleci-install ruby 2.2.7\nRUN circleci-install ruby 2.3.4\nRUN circleci-install ruby 2.3.5\nRUN circleci-install ruby 2.4.1\nRUN circleci-install ruby 2.4.2\nRUN sudo -H -i -u ubuntu rvm use 2.2.6 --default\nADD circleci-provision-scripts/php.sh /opt/circleci-provision-scripts/php.sh\nRUN circleci-install php 5.5.31\nRUN circleci-install php 5.5.32\nRUN circleci-install php 5.5.36\nRUN circleci-install php 5.6.17\nRUN circleci-install php 5.6.18\nRUN circleci-install php 5.6.22\nRUN circleci-install php 7.0.7\nRUN circleci-install php 7.0.11\nRUN circleci-install php 7.0.17\nRUN circleci-install php 7.0.20\nRUN circleci-install php 7.0.24\nRUN circleci-install php 7.1.3\nRUN circleci-install php 7.1.6\nRUN circleci-install php 7.1.9\nRUN sudo -H -i -u ubuntu phpenv global 5.6.17\nADD circleci-provision-scripts/clojure.sh /opt/circleci-provision-scripts/clojure.sh\nRUN circleci-install clojure\nADD circleci-provision-scripts/scala.sh /opt/circleci-provision-scripts/scala.sh\nRUN circleci-install scala\nADD circleci-provision-scripts/haskell.sh /opt/circleci-provision-scripts/haskell.sh\nRUN circleci-install ghc 8.0.2\nRUN circleci-install stack\nADD circleci-provision-scripts/git-lfs.sh /opt/circleci-provision-scripts/git-lfs.sh\nRUN circleci-install git-lfs 1.5.4\n#  Docker have be last - to utilize cache better\nADD circleci-provision-scripts/docker.sh /opt/circleci-provision-scripts/docker.sh\nRUN circleci-install docker \\\n && circleci-install docker_compose\n#  Install CircleCI patched Docker that runs in unpriv container\nRUN circleci-install circleci_docker\n#  Undivert upstart\n#  You shouldn't change the line unless you understad the consequence\nRUN rm /usr/sbin/policy-rc.d \\\n && rm /sbin/initctl \\\n && dpkg-divert --rename --remove /sbin/initctl\n#  Add rest of provisioning files -- add at end to avoid cache invalidation\nADD circleci-provision-scripts /opt/circleci-provision-scripts\n#  We need Dockerfile because unit test parses Dockerfile to make sure all versions are installed\nADD targets/ubuntu-14.04-XXL/Dockerfile /opt/circleci/Dockerfile\nARG IMAGE_TAG\nRUN echo $IMAGE_TAG > /opt/circleci/image_version\nADD targets/ubuntu-14.04-XXL/pkg-versions.sh /opt/circleci/bin/pkg-versions.sh\nLABEL circleci.user=\"ubuntu\"\n","injectedSmells":[],"originalDockerfileHash":"6455d77215ebb60aefc540053c483fac","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM circleci/ubuntu-server:trusty-latest\nENV VERBOSE=\"true\"\n#   Avoid any installation scripts interact with upstart\n#   So divert now, but undivert at the end\n#   You shouldn't change the line unless you understand the consequence\nRUN echo 'exit 101' > /usr/sbin/policy-rc.d \\\n && chmod +x /usr/sbin/policy-rc.d \\\n && dpkg-divert --local --rename --add /sbin/initctl \\\n && ln -s /bin/true /sbin/initctl\nADD circleci-install /usr/local/bin/circleci-install\nADD circleci-provision-scripts/base.sh circleci-provision-scripts/circleci-specific.sh /opt/circleci-provision-scripts/\nRUN circleci-install base_requirements \\\n && circleci-install circleci_specific\n#   Installing java early beacuse a few things have the dependency to java (i.g. cassandra)\nADD circleci-provision-scripts/java.sh /opt/circleci-provision-scripts/java.sh\nRUN for package in oraclejdk7 oraclejdk8 openjdk7 openjdk8; do circleci-install java $package ; done\n#   Databases\nADD circleci-provision-scripts/mysql.sh circleci-provision-scripts/mongo.sh circleci-provision-scripts/postgres.sh circleci-provision-scripts/sqlite.sh /opt/circleci-provision-scripts/\nRUN for package in mysql_57 mongo postgres postgres_ext_postgis sqlite3_15; do circleci-install $package ; done\nADD circleci-provision-scripts/misc.sh /opt/circleci-provision-scripts/misc.sh\nRUN for package in sysadmin devtools jq redis memcached rabbitmq neo4j elasticsearch beanstalkd cassandra riak couchdb; do circleci-install $package ; done\n#   Update to the version where recent (as of Oct 2017) vulnerabilities were fixed\nADD circleci-provision-scripts/curl.sh /opt/circleci-provision-scripts/curl.sh\nRUN circleci-install curl_7_56\n#   Dislabe services by default\nRUN for s in apache2 memcached rabbitmq-server neo4j neo4j-service elasticsearch beanstalkd cassandra riak couchdb; do sysv-rc-conf $s off ; done\n#   Browsers\nADD circleci-provision-scripts/firefox.sh circleci-provision-scripts/chrome.sh circleci-provision-scripts/phantomjs.sh /opt/circleci-provision-scripts/\nRUN circleci-install firefox \\\n && circleci-install chrome \\\n && circleci-install phantomjs\n#   Android\nADD circleci-provision-scripts/android-sdk.sh /opt/circleci-provision-scripts/android-sdk.sh\nRUN circleci-install android_sdk platform-tools\nRUN circleci-install android_sdk extra-android-support\nRUN for package in android-25 android-24 android-23 android-22; do circleci-install android_sdk $package ; done\nRUN for package in sys-img-armeabi-v7a-android-24 sys-img-armeabi-v7a-android-22; do circleci-install android_sdk $package ; done\nRUN for package in build-tools-25.0.1 build-tools-25.0.0 build-tools-24.0.3 build-tools-24.0.2 build-tools-24.0.1 build-tools-24.0.0 build-tools-23.0.3 build-tools-23.0.2 build-tools-22.0.1; do circleci-install android_sdk $package ; done\nRUN for package in android_sdk extra-android-m2repository android_sdk extra-google-m2repository android_sdk extra-google-google_play_services android_sdk addon-google_apis-google-23 android_sdk addon-google_apis-google-22; do circleci-install android_sdk $package ; done\n#   Qt\nADD circleci-provision-scripts/qt.sh /opt/circleci-provision-scripts/qt.sh\nRUN circleci-install qt\n#   Install deployment tools\nADD circleci-provision-scripts/awscli.sh circleci-provision-scripts/gcloud.sh circleci-provision-scripts/heroku.sh /opt/circleci-provision-scripts/\nRUN for package in awscli gcloud heroku; do circleci-install $package ; done\n#   Languages\nARG use_precompile=true\nENV USE_PRECOMPILE=\"$use_precompile\" \\\n    RUN_APT_UPDATE=\"true\"\nRUN curl -s https://packagecloud.io/install/repositories/circleci/trusty/script.deb.sh | sudo bash\nADD circleci-provision-scripts/python.sh /opt/circleci-provision-scripts/python.sh\nRUN circleci-install python 2.7.10\nRUN circleci-install python 2.7.11\nRUN circleci-install python 2.7.12\nRUN circleci-install python 3.1.4\nRUN circleci-install python 3.1.5\nRUN circleci-install python 3.2.5\nRUN circleci-install python 3.2.6\nRUN circleci-install python 3.3.5\nRUN circleci-install python 3.3.6\nRUN circleci-install python 3.4.3\nRUN circleci-install python 3.4.4\nRUN circleci-install python 3.5.1\nRUN circleci-install python 3.5.2\nRUN circleci-install python 3.5.3\nRUN circleci-install python 3.6.1\nRUN circleci-install python 3.6.2\nRUN circleci-install python pypy-1.9\nRUN circleci-install python pypy-2.6.1\nRUN circleci-install python pypy-4.0.1\nRUN sudo -H -i -u ubuntu pyenv global 2.7.11\nADD circleci-provision-scripts/nodejs.sh /opt/circleci-provision-scripts/nodejs.sh\nRUN circleci-install nodejs 0.12.9\nRUN circleci-install nodejs 4.0.0\nRUN circleci-install nodejs 4.1.2\nRUN circleci-install nodejs 4.2.6\nRUN circleci-install nodejs 4.3.0\nRUN circleci-install nodejs 4.5.0\nRUN circleci-install nodejs 5.0.0\nRUN circleci-install nodejs 5.1.1\nRUN circleci-install nodejs 5.2.0\nRUN circleci-install nodejs 5.3.0\nRUN circleci-install nodejs 5.4.1\nRUN circleci-install nodejs 5.5.0\nRUN circleci-install nodejs 5.6.0\nRUN circleci-install nodejs 5.7.0\nRUN circleci-install nodejs 6.1.0\nRUN circleci-install nodejs 6.11.4\nRUN circleci-install nodejs 8.1.4\nRUN circleci-install nodejs 8.2.0\nRUN sudo -H -i -u ubuntu nvm alias default 4.2.6\nRUN circleci-install yarn 1.1.0\nADD circleci-provision-scripts/go.sh /opt/circleci-provision-scripts/go.sh\nRUN circleci-install golang 1.9.1\nADD circleci-provision-scripts/ruby.sh /opt/circleci-provision-scripts/ruby.sh\nRUN circleci-install ruby 2.1.8\nRUN circleci-install ruby 2.1.9\nRUN circleci-install ruby 2.2.6\nRUN circleci-install ruby 2.2.7\nRUN circleci-install ruby 2.3.4\nRUN circleci-install ruby 2.3.5\nRUN circleci-install ruby 2.4.1\nRUN circleci-install ruby 2.4.2\nRUN sudo -H -i -u ubuntu rvm use 2.2.6 --default\nADD circleci-provision-scripts/php.sh /opt/circleci-provision-scripts/php.sh\nRUN circleci-install php 5.5.31\nRUN circleci-install php 5.5.32\nRUN circleci-install php 5.5.36\nRUN circleci-install php 5.6.17\nRUN circleci-install php 5.6.18\nRUN circleci-install php 5.6.22\nRUN circleci-install php 7.0.7\nRUN circleci-install php 7.0.11\nRUN circleci-install php 7.0.17\nRUN circleci-install php 7.0.20\nRUN circleci-install php 7.0.24\nRUN circleci-install php 7.1.3\nRUN circleci-install php 7.1.6\nRUN circleci-install php 7.1.9\nRUN sudo -H -i -u ubuntu phpenv global 5.6.17\nADD circleci-provision-scripts/clojure.sh /opt/circleci-provision-scripts/clojure.sh\nRUN circleci-install clojure\nADD circleci-provision-scripts/scala.sh /opt/circleci-provision-scripts/scala.sh\nRUN circleci-install scala\nADD circleci-provision-scripts/haskell.sh /opt/circleci-provision-scripts/haskell.sh\nRUN circleci-install ghc 8.0.2\nRUN circleci-install stack\nADD circleci-provision-scripts/git-lfs.sh /opt/circleci-provision-scripts/git-lfs.sh\nRUN circleci-install git-lfs 1.5.4\n#   Docker have be last - to utilize cache better\nADD circleci-provision-scripts/docker.sh /opt/circleci-provision-scripts/docker.sh\nRUN circleci-install docker \\\n && circleci-install docker_compose\n#   Install CircleCI patched Docker that runs in unpriv container\nRUN circleci-install circleci_docker\n#   Undivert upstart\n#   You shouldn't change the line unless you understad the consequence\nRUN rm /usr/sbin/policy-rc.d \\\n && rm /sbin/initctl \\\n && dpkg-divert --rename --remove /sbin/initctl\n#   Add rest of provisioning files -- add at end to avoid cache invalidation\nADD circleci-provision-scripts /opt/circleci-provision-scripts\n#   We need Dockerfile because unit test parses Dockerfile to make sure all versions are installed\nADD targets/ubuntu-14.04-XXL/Dockerfile /opt/circleci/Dockerfile\nARG IMAGE_TAG\nRUN echo $IMAGE_TAG > /opt/circleci/image_version\nADD targets/ubuntu-14.04-XXL/pkg-versions.sh /opt/circleci/bin/pkg-versions.sh\nLABEL circleci.user=\"ubuntu\"\n","originalDockerfileUglifiedHash":"9b3349f3c4b2e346e1244983dbde8d63","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/f84cb187040fcad899e49a1240868af931125ab0.dockerfile"}