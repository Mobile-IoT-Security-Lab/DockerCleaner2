{"seed":1556910007,"processedDockerfileHash":"d69bc89abd660939cc03f6db53a33029","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Copyright (C) 2017-2018 COAL Developers\n#\n#   This program is free software; you can redistribute it and/or \n#   modify it under the terms of the GNU General Public License \n#   as published by the Free Software Foundation; version 2.\n#\n#   This program is distributed in the hope that it will be useful, \n#   but WITHOUT ANY WARRANTY; without even the implied warranty \n#   of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. \n#   See the GNU General Public License for more details.\n#\n#   You should have received a copy of the GNU General Public \n#   License along with this program; if not, write to the Free \n#   Software Foundation, Inc., 51 Franklin Street, Fifth \n#   Floor, Boston, MA 02110-1301, USA.\n#   Use an official Python runtime as a base image (host debian:jessie)\nFROM python:3.6-slim\nMAINTAINER COAL Developers <coal-capstone@googlegroups.com>\n#   Build-time metadata as defined at http://label-schema.org\n#   This means we get badges through MicroBadger\nARG BUILD_DATE\nARG VCS_REF\nLABEL org.label-schema.build-date=\"$BUILD_DATE\" \\\n      org.label-schema.name=\"Coal and Open-pit surface mining impacts on American Lands (COAL)\" \\\n      org.label-schema.description=\"Python library for processing hyperspectral imagery from the Airborne Visible/InfraRed Imaging Spectrometer (AVIRIS). COAL provides a suite of algorithms for classifying land cover, identifying mines and other geographic features, and correlating them with environmental data sets.\" \\\n      org.label-schema.url=\"https://capstone-coal.github.io/\" \\\n      org.label-schema.vcs-ref=\"$VCS_REF\" \\\n      org.label-schema.vcs-url=\"https://github.com/capstone-coal/pycoal\" \\\n      org.label-schema.vendor=\"Capstone Coal\" \\\n      org.label-schema.schema-version=\"1.0\"\n#   Install the dependencies\nRUN apt-get update \\\n && apt-get upgrade -y --force-yes \\\n && apt-get install --no-install-recommends apache2=2.4.56-1~deb11u1 bash-completion=1:2.11-2 bison=2:3.7.5+dfsg-1 checkinstall=1.6.2+git20170426.d24a630-2 cmake=3.18.4-2+deb11u1 devscripts=2.21.3+deb11u1 doxygen=1.9.1-1 flex=2.6.4-8 git=1:2.30.2-1+deb11u2 graphviz=2.42.2-5 grass-dev=7.8.5-1+deb11u1 libexpat1-dev=2.2.10-2+deb11u5 libfcgi-dev=2.4.2-2 libgdal-dev=3.2.2+dfsg-2+deb11u2 libgeos-dev=3.9.0-1 libgsl0-dev libopenscenegraph-dev=3.6.5+dfsg1-7+b1 libosgearth-dev libpq-dev=13.9-0+deb11u1 libproj-dev=7.2.1-1 libqt4-dev libqt4-opengl-dev libqtwebkit-dev libqwt-dev libspatialindex-dev=1.9.3-2 libspatialite-dev=5.0.1-2 libsqlite3-dev=3.34.1-3 pkg-config=0.29.2-1 pkg-kde-tools=0.15.32 pyqt4-dev-tools python-all=2.7.18-3 python-all-dev=2.7.18-3 python-qgis python-qt4 python-qt4-dev python-sip python-sip-dev qgis=3.10.14+dfsg-1 qgis-plugin-grass=3.10.14+dfsg-1 txt2tags=3.4-2 wget=1.21-1+deb11u1 xauth=1:1.1-1 xfonts-100dpi=1:1.0.4+nmu1.1 xfonts-75dpi=1:1.0.4+nmu1.1 xfonts-base=1:1.0.5 xfonts-scalable=1:1.0.3-1.2 xvfb=2:1.20.11-1+deb11u6 -y --force-yes\nRUN echo \"deb http://qgis.org/debian jessie main\" >> /etc/apt/sources.list\nRUN echo \"deb-src http://qgis.org/debian jessie main\" >> /etc/apt/sources.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-key 073D307A618E5811\n#   dput breaks Docker build\nRUN printf \"Package: dput\\nPin: origin \\\"\\\"\\nPin-Priority: -1\" >> /etc/apt/preferences\n#  RUN add-apt-repository -y ppa:ubuntugis/ubuntugis-unstable\n#   Download GDAL\nRUN wget http://download.osgeo.org/gdal/2.3.1/gdal-2.3.1.tar.gz \\\n && tar zxvf gdal-2.3.1.tar.gz \\\n && cd gdal-2.3.1 \\\n && ./configure \\\n && make \\\n && make install \\\n && ldconfig \\\n && gdalwarp --version\n#   Set the working directory to /coal\nWORKDIR /coal\n#   Copy the current directory contents into the container at /coal\nCOPY . /coal\n#   Install pycoal from source, ensures we always use the latest development branch\nRUN python setup.py install\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Copyright (C) 2017-2018 COAL Developers\n#\n#  This program is free software; you can redistribute it and/or \n#  modify it under the terms of the GNU General Public License \n#  as published by the Free Software Foundation; version 2.\n#\n#  This program is distributed in the hope that it will be useful, \n#  but WITHOUT ANY WARRANTY; without even the implied warranty \n#  of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. \n#  See the GNU General Public License for more details.\n#\n#  You should have received a copy of the GNU General Public \n#  License along with this program; if not, write to the Free \n#  Software Foundation, Inc., 51 Franklin Street, Fifth \n#  Floor, Boston, MA 02110-1301, USA.\n#  Use an official Python runtime as a base image (host debian:jessie)\nFROM python:3.6-slim\nMAINTAINER COAL Developers <coal-capstone@googlegroups.com>\n#  Build-time metadata as defined at http://label-schema.org\n#  This means we get badges through MicroBadger\nARG BUILD_DATE\nARG VCS_REF\nLABEL org.label-schema.build-date=\"$BUILD_DATE\" \\\n      org.label-schema.name=\"Coal and Open-pit surface mining impacts on American Lands (COAL)\" \\\n      org.label-schema.description=\"Python library for processing hyperspectral imagery from the Airborne Visible/InfraRed Imaging Spectrometer (AVIRIS). COAL provides a suite of algorithms for classifying land cover, identifying mines and other geographic features, and correlating them with environmental data sets.\" \\\n      org.label-schema.url=\"https://capstone-coal.github.io/\" \\\n      org.label-schema.vcs-ref=\"$VCS_REF\" \\\n      org.label-schema.vcs-url=\"https://github.com/capstone-coal/pycoal\" \\\n      org.label-schema.vendor=\"Capstone Coal\" \\\n      org.label-schema.schema-version=\"1.0\"\n#  Install the dependencies\nRUN apt-get update \\\n && apt-get upgrade -y --force-yes \\\n && apt-get install apache2 bash-completion bison checkinstall cmake devscripts doxygen flex git graphviz grass-dev libexpat1-dev libfcgi-dev libgdal-dev libgeos-dev libgsl0-dev libopenscenegraph-dev libosgearth-dev libpq-dev libproj-dev libqt4-dev libqt4-opengl-dev libqtwebkit-dev libqwt-dev libspatialindex-dev libspatialite-dev libsqlite3-dev pkg-config pkg-kde-tools pyqt4-dev-tools python-all python-all-dev python-qgis python-qt4 python-qt4-dev python-sip python-sip-dev qgis qgis-plugin-grass txt2tags wget xauth xfonts-100dpi xfonts-75dpi xfonts-base xfonts-scalable xvfb -y --force-yes\nRUN echo \"deb http://qgis.org/debian jessie main\" >> /etc/apt/sources.list\nRUN echo \"deb-src http://qgis.org/debian jessie main\" >> /etc/apt/sources.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-key 073D307A618E5811\n#  dput breaks Docker build\nRUN printf \"Package: dput\\nPin: origin \\\"\\\"\\nPin-Priority: -1\" >> /etc/apt/preferences\n# RUN add-apt-repository -y ppa:ubuntugis/ubuntugis-unstable\n#  Download GDAL\nRUN wget http://download.osgeo.org/gdal/2.3.1/gdal-2.3.1.tar.gz \\\n && tar zxvf gdal-2.3.1.tar.gz \\\n && cd gdal-2.3.1 \\\n && ./configure \\\n && make \\\n && make install \\\n && ldconfig \\\n && gdalwarp --version\n#  Set the working directory to /coal\nWORKDIR /coal\n#  Copy the current directory contents into the container at /coal\nADD . /coal\n#  Install pycoal from source, ensures we always use the latest development branch\nRUN python setup.py install\n","injectedSmells":[],"originalDockerfileHash":"d5857d1dd35527425e6972055ccc8fb7","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Copyright (C) 2017-2018 COAL Developers\n#\n#   This program is free software; you can redistribute it and/or \n#   modify it under the terms of the GNU General Public License \n#   as published by the Free Software Foundation; version 2.\n#\n#   This program is distributed in the hope that it will be useful, \n#   but WITHOUT ANY WARRANTY; without even the implied warranty \n#   of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. \n#   See the GNU General Public License for more details.\n#\n#   You should have received a copy of the GNU General Public \n#   License along with this program; if not, write to the Free \n#   Software Foundation, Inc., 51 Franklin Street, Fifth \n#   Floor, Boston, MA 02110-1301, USA.\n#   Use an official Python runtime as a base image (host debian:jessie)\nFROM python:3.6-slim\nMAINTAINER COAL Developers <coal-capstone@googlegroups.com>\n#   Build-time metadata as defined at http://label-schema.org\n#   This means we get badges through MicroBadger\nARG BUILD_DATE\nARG VCS_REF\nLABEL org.label-schema.build-date=\"$BUILD_DATE\" \\\n      org.label-schema.name=\"Coal and Open-pit surface mining impacts on American Lands (COAL)\" \\\n      org.label-schema.description=\"Python library for processing hyperspectral imagery from the Airborne Visible/InfraRed Imaging Spectrometer (AVIRIS). COAL provides a suite of algorithms for classifying land cover, identifying mines and other geographic features, and correlating them with environmental data sets.\" \\\n      org.label-schema.url=\"https://capstone-coal.github.io/\" \\\n      org.label-schema.vcs-ref=\"$VCS_REF\" \\\n      org.label-schema.vcs-url=\"https://github.com/capstone-coal/pycoal\" \\\n      org.label-schema.vendor=\"Capstone Coal\" \\\n      org.label-schema.schema-version=\"1.0\"\n#   Install the dependencies\nRUN apt-get update \\\n && apt-get upgrade -y --force-yes \\\n && apt-get install apache2 bash-completion bison checkinstall cmake devscripts doxygen flex git graphviz grass-dev libexpat1-dev libfcgi-dev libgdal-dev libgeos-dev libgsl0-dev libopenscenegraph-dev libosgearth-dev libpq-dev libproj-dev libqt4-dev libqt4-opengl-dev libqtwebkit-dev libqwt-dev libspatialindex-dev libspatialite-dev libsqlite3-dev pkg-config pkg-kde-tools pyqt4-dev-tools python-all python-all-dev python-qgis python-qt4 python-qt4-dev python-sip python-sip-dev qgis qgis-plugin-grass txt2tags wget xauth xfonts-100dpi xfonts-75dpi xfonts-base xfonts-scalable xvfb -y --force-yes\nRUN echo \"deb http://qgis.org/debian jessie main\" >> /etc/apt/sources.list\nRUN echo \"deb-src http://qgis.org/debian jessie main\" >> /etc/apt/sources.list\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-key 073D307A618E5811\n#   dput breaks Docker build\nRUN printf \"Package: dput\\nPin: origin \\\"\\\"\\nPin-Priority: -1\" >> /etc/apt/preferences\n#  RUN add-apt-repository -y ppa:ubuntugis/ubuntugis-unstable\n#   Download GDAL\nRUN wget http://download.osgeo.org/gdal/2.3.1/gdal-2.3.1.tar.gz \\\n && tar zxvf gdal-2.3.1.tar.gz \\\n && cd gdal-2.3.1 \\\n && ./configure \\\n && make \\\n && make install \\\n && ldconfig \\\n && gdalwarp --version\n#   Set the working directory to /coal\nWORKDIR /coal\n#   Copy the current directory contents into the container at /coal\nADD . /coal\n#   Install pycoal from source, ensures we always use the latest development branch\nRUN python setup.py install\n","originalDockerfileUglifiedHash":"0e0ebb9268f1faeb2685914386144039","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/776789237d1c061f4a4fa47b29c6d14dd1fcfdde.dockerfile"}