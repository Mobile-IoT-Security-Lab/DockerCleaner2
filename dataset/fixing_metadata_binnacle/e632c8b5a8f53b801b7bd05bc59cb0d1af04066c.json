{"seed":2736204654,"processedDockerfileHash":"6b2a4847fe273afeb3f08ae3ac4367e7","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#\n#    From this base-image / starting-point\n#\nFROM debian:testing\n#\n#    Authorship\n#\nMAINTAINER ss34@sanger.ac.uk\n#\n#   Pull in packages from testing\n#\nRUN :\n#\n#   Install dependencies\n#   we need blast2 for ABACAS2 as it does not use BLAST+ yet\n#\nRUN (apt-get update ;apt-get install --no-install-recommends build-essential hmmer lua5.1 ncbi-blast+ blast2 snap unzip mummer infernal exonerate mafft fasttree circos libsvg-perl libgd-svg-perl python-setuptools libc6-i386 lib32stdc++6 lib32gcc1 netcat genometools last-align libboost-iostreams-dev libgslcblas0 libgsl-dev libcolamd2 liblpsolve55-dev libstdc++6 aragorn tantan libstorable-perl libbio-perl-perl libsqlite3-dev --yes )\nRUN ln -fs /usr/bin/fasttree /usr/bin/FastTree\nRUN ln -s /usr/lib/snap/snap /usr/local/bin/snap\n#   \n#   Install AUGUSTUS\n#   \nRUN (apt-get update ;apt-get install --no-install-recommends augustus --yes )\n#   \n#   Install GenomeTools\n#   \nRUN (apt-get update ;apt-get install --no-install-recommends genometools --yes )\n#\n#   Install and configure OrthoMCL\n#\nRUN which wget &> /dev/null || (apt-get update ;apt-get install --no-install-recommends wget=1.20.3 ) ; wget --no-verbose --output-document /opt/omcl.tar http://www.orthomcl.org/common/downloads/software/unsupported/v1.4/ORTHOMCL_V1.4_mcl-02-063.tar\nRUN cd /opt \\\n && tar -xvf omcl.tar \\\n && tar -xzvf mcl-02-063.tar.gz \\\n && rm -f omcl.tar mcl-02-063.tar.gz \\\n && cd /opt/mcl-* \\\n && ./configure \\\n && make -j3 \\\n && make install \\\n && cd / \\\n && rm -rf /opt/mcl*\nRUN sed -i 's/our .PATH_TO_ORTHOMCL.*=.*/our $PATH_TO_ORTHOMCL = \".\\/\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm \\\n && sed -i 's/our .BLASTALL.*=.*/our $BLASTALL = \"\\/usr\\/bin\\/blastall\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm \\\n && sed -i 's/our .FORMATDB.*=.*/our $FORMATDB = \"\\/usr\\/bin\\/formatdb\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm \\\n && sed -i 's/our .MCL.*=.*/our $MCL = \"\\/usr\\/local\\/bin\\/mcl\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm\n#\n#   Install Gblocks\n#\nRUN which wget &> /dev/null || (apt-get update ;apt-get install --no-install-recommends wget=1.20.3 ) ; wget --no-verbose --output-document /opt/gblocks64.tar.Z http://molevol.cmima.csic.es/castresana/Gblocks/Gblocks_Linux64_0.91b.tar.Z\nRUN cd /opt \\\n && tar -xzvf gblocks64.tar.Z \\\n && rm -rf gblocks64.tar.Z \\\n && cp Gblocks_0.91b/Gblocks /usr/bin/Gblocks \\\n && chmod 755 /usr/bin/Gblocks\n#\n#   get GO OBO file\n#\nRUN which wget &> /dev/null || (apt-get update ;apt-get install --no-install-recommends wget=1.20.3 ) ; wget --no-verbose --output-document /opt/go.obo http://geneontology.org/ontology/go.obo\n#\n#   get Pfam pHMMs\n#\nRUN mkdir -p /opt/pfam\nRUN which wget &> /dev/null || (apt-get update ;apt-get install --no-install-recommends wget=1.20.3 ) ; wget --no-verbose --output-document /opt/pfam/Pfam-A.hmm.gz http://ftp.ebi.ac.uk/pub/databases/Pfam/current_release/Pfam-A.hmm.gz\nRUN cd /opt/pfam \\\n && gunzip Pfam-A.hmm.gz \\\n && hmmpress Pfam-A.hmm \\\n && rm -f Pfam-A.hmm\n#   \n#   copy data dir\n#\nRUN mkdir -p /opt/data\nCOPY ./data /opt/data\n#\n#   install RATT (keep up to date from build directory)\n#\nCOPY ./RATT /opt/RATT\n#\n#   install ABACAS (keep up to date from build directory)\n#\nCOPY ./ABACAS2 /opt/ABACAS2\nENV AUGUSTUS_CONFIG_PATH=\"/usr/share/augustus/config\"\nENV RATT_HOME=\"/opt/RATT\"\nENV GT_RETAINIDS=\"yes\"\nENV PERL5LIB=\"/opt/ORTHOMCLV1.4/:/opt/RATT/:/opt/ABACAS2/:$PERL5LIB\"\nENV PATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/share/augustus/bin:/usr/share/augustus/scripts:/opt/ORTHOMCLV1.4:/opt/RATT:/opt/ABACAS2:$PATH\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#\n#   From this base-image / starting-point\n#\nFROM debian:testing\n#\n#   Authorship\n#\nMAINTAINER ss34@sanger.ac.uk\n#\n#  Pull in packages from testing\n#\nRUN apt-get update -qq\n#\n#  Install dependencies\n#  we need blast2 for ABACAS2 as it does not use BLAST+ yet\n#\nRUN apt-get install build-essential hmmer lua5.1 ncbi-blast+ blast2 snap unzip mummer infernal exonerate mafft fasttree circos libsvg-perl libgd-svg-perl python-setuptools libc6-i386 lib32stdc++6 lib32gcc1 netcat genometools last-align libboost-iostreams-dev libgslcblas0 libgsl-dev libcolamd2 liblpsolve55-dev libstdc++6 aragorn tantan libstorable-perl libbio-perl-perl libsqlite3-dev --yes\nRUN ln -fs /usr/bin/fasttree /usr/bin/FastTree\nRUN ln -s /usr/lib/snap/snap /usr/local/bin/snap\n#  \n#  Install AUGUSTUS\n#  \nRUN apt-get install augustus --yes\n#  \n#  Install GenomeTools\n#  \nRUN apt-get install genometools --yes\n#\n#  Install and configure OrthoMCL\n#\nADD http://www.orthomcl.org/common/downloads/software/unsupported/v1.4/ORTHOMCL_V1.4_mcl-02-063.tar /opt/omcl.tar\nRUN cd /opt \\\n && tar -xvf omcl.tar \\\n && tar -xzvf mcl-02-063.tar.gz \\\n && rm -f omcl.tar mcl-02-063.tar.gz \\\n && cd /opt/mcl-* \\\n && ./configure \\\n && make -j3 \\\n && make install \\\n && cd / \\\n && rm -rf /opt/mcl*\nRUN sed -i 's/our .PATH_TO_ORTHOMCL.*=.*/our $PATH_TO_ORTHOMCL = \".\\/\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm \\\n && sed -i 's/our .BLASTALL.*=.*/our $BLASTALL = \"\\/usr\\/bin\\/blastall\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm \\\n && sed -i 's/our .FORMATDB.*=.*/our $FORMATDB = \"\\/usr\\/bin\\/formatdb\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm \\\n && sed -i 's/our .MCL.*=.*/our $MCL = \"\\/usr\\/local\\/bin\\/mcl\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm\n#\n#  Install Gblocks\n#\nADD http://molevol.cmima.csic.es/castresana/Gblocks/Gblocks_Linux64_0.91b.tar.Z /opt/gblocks64.tar.Z\nRUN cd /opt \\\n && tar -xzvf gblocks64.tar.Z \\\n && rm -rf gblocks64.tar.Z \\\n && cp Gblocks_0.91b/Gblocks /usr/bin/Gblocks \\\n && chmod 755 /usr/bin/Gblocks\n#\n#  get GO OBO file\n#\nADD http://geneontology.org/ontology/go.obo /opt/go.obo\n#\n#  get Pfam pHMMs\n#\nRUN mkdir -p /opt/pfam\nADD http://ftp.ebi.ac.uk/pub/databases/Pfam/current_release/Pfam-A.hmm.gz /opt/pfam/Pfam-A.hmm.gz\nRUN cd /opt/pfam \\\n && gunzip Pfam-A.hmm.gz \\\n && hmmpress Pfam-A.hmm \\\n && rm -f Pfam-A.hmm\n#  \n#  copy data dir\n#\nRUN mkdir -p /opt/data\nADD ./data /opt/data\n#\n#  install RATT (keep up to date from build directory)\n#\nADD ./RATT /opt/RATT\n#\n#  install ABACAS (keep up to date from build directory)\n#\nADD ./ABACAS2 /opt/ABACAS2\nENV AUGUSTUS_CONFIG_PATH=\"/usr/share/augustus/config\"\nENV RATT_HOME=\"/opt/RATT\"\nENV GT_RETAINIDS=\"yes\"\nENV PERL5LIB=\"/opt/ORTHOMCLV1.4/:/opt/RATT/:/opt/ABACAS2/:$PERL5LIB\"\nENV PATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/share/augustus/bin:/usr/share/augustus/scripts:/opt/ORTHOMCLV1.4:/opt/RATT:/opt/ABACAS2:$PATH\"\n","injectedSmells":[],"originalDockerfileHash":"f7e45f7872e8f738921d9c6aa3172b6e","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#    From this base-image / starting-point\n#\nFROM debian:testing\n#\n#    Authorship\n#\nMAINTAINER ss34@sanger.ac.uk\n#\n#   Pull in packages from testing\n#\nRUN apt-get update -qq\n#\n#   Install dependencies\n#   we need blast2 for ABACAS2 as it does not use BLAST+ yet\n#\nRUN apt-get install build-essential hmmer lua5.1 ncbi-blast+ blast2 snap unzip mummer infernal exonerate mafft fasttree circos libsvg-perl libgd-svg-perl python-setuptools libc6-i386 lib32stdc++6 lib32gcc1 netcat genometools last-align libboost-iostreams-dev libgslcblas0 libgsl-dev libcolamd2 liblpsolve55-dev libstdc++6 aragorn tantan libstorable-perl libbio-perl-perl libsqlite3-dev --yes\nRUN ln -fs /usr/bin/fasttree /usr/bin/FastTree\nRUN ln -s /usr/lib/snap/snap /usr/local/bin/snap\n#   \n#   Install AUGUSTUS\n#   \nRUN apt-get install augustus --yes\n#   \n#   Install GenomeTools\n#   \nRUN apt-get install genometools --yes\n#\n#   Install and configure OrthoMCL\n#\nADD http://www.orthomcl.org/common/downloads/software/unsupported/v1.4/ORTHOMCL_V1.4_mcl-02-063.tar /opt/omcl.tar\nRUN cd /opt \\\n && tar -xvf omcl.tar \\\n && tar -xzvf mcl-02-063.tar.gz \\\n && rm -f omcl.tar mcl-02-063.tar.gz \\\n && cd /opt/mcl-* \\\n && ./configure \\\n && make -j3 \\\n && make install \\\n && cd / \\\n && rm -rf /opt/mcl*\nRUN sed -i 's/our .PATH_TO_ORTHOMCL.*=.*/our $PATH_TO_ORTHOMCL = \".\\/\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm \\\n && sed -i 's/our .BLASTALL.*=.*/our $BLASTALL = \"\\/usr\\/bin\\/blastall\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm \\\n && sed -i 's/our .FORMATDB.*=.*/our $FORMATDB = \"\\/usr\\/bin\\/formatdb\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm \\\n && sed -i 's/our .MCL.*=.*/our $MCL = \"\\/usr\\/local\\/bin\\/mcl\";/' /opt/ORTHOMCLV1.4/orthomcl_module.pm\n#\n#   Install Gblocks\n#\nADD http://molevol.cmima.csic.es/castresana/Gblocks/Gblocks_Linux64_0.91b.tar.Z /opt/gblocks64.tar.Z\nRUN cd /opt \\\n && tar -xzvf gblocks64.tar.Z \\\n && rm -rf gblocks64.tar.Z \\\n && cp Gblocks_0.91b/Gblocks /usr/bin/Gblocks \\\n && chmod 755 /usr/bin/Gblocks\n#\n#   get GO OBO file\n#\nADD http://geneontology.org/ontology/go.obo /opt/go.obo\n#\n#   get Pfam pHMMs\n#\nRUN mkdir -p /opt/pfam\nADD http://ftp.ebi.ac.uk/pub/databases/Pfam/current_release/Pfam-A.hmm.gz /opt/pfam/Pfam-A.hmm.gz\nRUN cd /opt/pfam \\\n && gunzip Pfam-A.hmm.gz \\\n && hmmpress Pfam-A.hmm \\\n && rm -f Pfam-A.hmm\n#   \n#   copy data dir\n#\nRUN mkdir -p /opt/data\nADD ./data /opt/data\n#\n#   install RATT (keep up to date from build directory)\n#\nADD ./RATT /opt/RATT\n#\n#   install ABACAS (keep up to date from build directory)\n#\nADD ./ABACAS2 /opt/ABACAS2\nENV AUGUSTUS_CONFIG_PATH=\"/usr/share/augustus/config\"\nENV RATT_HOME=\"/opt/RATT\"\nENV GT_RETAINIDS=\"yes\"\nENV PERL5LIB=\"/opt/ORTHOMCLV1.4/:/opt/RATT/:/opt/ABACAS2/:$PERL5LIB\"\nENV PATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/share/augustus/bin:/usr/share/augustus/scripts:/opt/ORTHOMCLV1.4:/opt/RATT:/opt/ABACAS2:$PATH\"\n","originalDockerfileUglifiedHash":"61c6672c11d5d3412aa1c8e07a59c408","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/e632c8b5a8f53b801b7bd05bc59cb0d1af04066c.dockerfile"}