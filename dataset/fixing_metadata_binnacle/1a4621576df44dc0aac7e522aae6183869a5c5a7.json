{"seed":3610574393,"processedDockerfileHash":"dc9b80c44e4f81440e15fb313ee8e8df","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Copyright (c) 2016-2019 Crave.io Inc. All rights reserved\nFROM accupara/ubuntu:16.04\nMAINTAINER Crave.io Inc. \"contact@crave.io\"\nCOPY installqt.qs /tmp/installqt.qs\nENV QT_MAJOR=\"5.9\" \\\n    QT_VERSION=\"5.9.1\" \\\n    NDK_VERSION=\"r14b\" \\\n    SDK_VERSION=\"25.2.3\" \\\n    API_VERSION=\"16\" \\\n    ANDROID_SDK=\"android-sdk-linux\"\nENV QT_BINARIES=\"qt-opensource-linux-x64-${QT_VERSION}.run\" \\\n    SDK_TOOLS=\"tools_r${SDK_VERSION}-linux.zip\" \\\n    ANDROID_NDK=\"android-ndk-${NDK_VERSION}\" \\\n    ANDROID_SDK_ROOT=\"/opt/${ANDROID_SDK}\"\nENV QT5_ANDROID=\"/opt/Qt/${QT_VERSION}\" \\\n    NDK_BINARIES=\"${ANDROID_NDK}-linux-x86_64.zip\" \\\n    QT_DOWNLOAD_URL=\"http://download.qt.io/archive/qt/${QT_MAJOR}/${QT_VERSION}/${QT_BINARIES}\" \\\n    SDK_DOWNLOAD_URL=\"https://dl.google.com/android/repository/${SDK_TOOLS}\" \\\n    ANDROID_NDK_ROOT=\"/opt/${ANDROID_NDK}\"\nENV NDK_DOWNLOAD_URL=\"https://dl.google.com/android/repository/${NDK_BINARIES}\"\nRUN sudo apt-get update \\\n && sudo apt-get -y --no-install-recommends install git g++ make autoconf automake libtool cmake extra-cmake-modules pkg-config libxml2-dev libxslt1-dev libzip-dev libsqlite3-dev libusb-1.0-0-dev libssl-dev qt5-default qt5-qmake qtchooser qttools5-dev-tools libqt5svg5-dev libqt5webkit5-dev libqt5qml5 libqt5quick5 qtdeclarative5-dev qtscript5-dev libssh2-1-dev libcurl4-openssl-dev qttools5-dev qtconnectivity5-dev qtlocation5-dev qtpositioning5-dev libcrypto++-dev libssl-dev qml-module-qtpositioning qml-module-qtlocation libtool-bin openjdk-8-jdk ant wget unzip xutils-dev python \\\n && sudo apt-get clean \\\n && wget -q ${QT_DOWNLOAD_URL} \\\n && chmod +x ${QT_BINARIES} \\\n && sudo ./${QT_BINARIES} --script /tmp/installqt.qs --platform minimal \\\n && rm ${QT_BINARIES} \\\n && sudo sed -i 's/set_property(TARGET Qt5::Core PROPERTY INTERFACE_COMPILE_FEATURES cxx_decltype)/# set_property(TARGET Qt5::Core PROPERTY INTERFACE_COMPILE_FEATURES cxx_decltype)/' /opt/Qt/${QT_VERSION}/android_armv7/lib/cmake/Qt5Core/Qt5CoreConfigExtras.cmake \\\n && wget -q ${NDK_DOWNLOAD_URL} \\\n && unzip -q ${NDK_BINARIES} \\\n && sudo mv ${ANDROID_NDK} /opt/ \\\n && rm ${NDK_BINARIES} \\\n && wget -q ${SDK_DOWNLOAD_URL} \\\n && mkdir -p ${ANDROID_SDK} \\\n && cd ${ANDROID_SDK} \\\n && unzip -q ../${SDK_TOOLS} \\\n && mkdir -p licenses \\\n && echo \"\\n8933bad161af4178b1185d1a37fbf41ea5269c55\" > \"licenses/android-sdk-license\" \\\n && echo \"\\nd56f5187479451eabf01fb78af6dfcb131a6481e\" > \"licenses/android-sdk-license\" \\\n && echo \"\\n84831b9409646a918e30573bab4c9c91346d8abd\" > \"licenses/android-sdk-preview-license\" \\\n && (while sleep 3 ; do echo \"y\" ; done ) | tools/android update sdk --no-ui --filter tools,platform-tools,build-tools-${SDK_VERSION},android-${API_VERSION} \\\n && cd .. \\\n && sudo mv ${ANDROID_SDK} /opt/ \\\n && rm ${SDK_TOOLS}\nARG BUILD_DATE\nARG VCS_REF\nLABEL org.label-schema.build-date=\"$BUILD_DATE\" \\\n      org.label-schema.name=\"Subsurface for Android\" \\\n      org.label-schema.description=\"Build environment for compiling Subsurface for Android\" \\\n      org.label-schema.url=\"https://www.accupara.com/\" \\\n      org.label-schema.vcs-ref=\"$VCS_REF\" \\\n      org.label-schema.vcs-url=\"$VCS_REF\" \\\n      org.label-schema.vendor=\"Crave.io Inc.\"\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Copyright (c) 2016-2019 Crave.io Inc. All rights reserved\nFROM accupara/ubuntu:16.04\nMAINTAINER Crave.io Inc. \"contact@crave.io\"\nCOPY installqt.qs /tmp/installqt.qs\nENV QT_MAJOR=\"5.9\" \\\n    QT_VERSION=\"5.9.1\" \\\n    NDK_VERSION=\"r14b\" \\\n    SDK_VERSION=\"25.2.3\" \\\n    API_VERSION=\"16\" \\\n    ANDROID_SDK=\"android-sdk-linux\"\nENV QT_BINARIES=\"qt-opensource-linux-x64-${QT_VERSION}.run\" \\\n    SDK_TOOLS=\"tools_r${SDK_VERSION}-linux.zip\" \\\n    ANDROID_NDK=\"android-ndk-${NDK_VERSION}\" \\\n    ANDROID_SDK_ROOT=\"/opt/${ANDROID_SDK}\"\nENV QT5_ANDROID=\"/opt/Qt/${QT_VERSION}\" \\\n    NDK_BINARIES=\"${ANDROID_NDK}-linux-x86_64.zip\" \\\n    QT_DOWNLOAD_URL=\"http://download.qt.io/archive/qt/${QT_MAJOR}/${QT_VERSION}/${QT_BINARIES}\" \\\n    SDK_DOWNLOAD_URL=\"https://dl.google.com/android/repository/${SDK_TOOLS}\" \\\n    ANDROID_NDK_ROOT=\"/opt/${ANDROID_NDK}\"\nENV NDK_DOWNLOAD_URL=\"https://dl.google.com/android/repository/${NDK_BINARIES}\"\nRUN sudo apt-get update \\\n && sudo apt-get -y --no-install-recommends install git g++ make autoconf automake libtool cmake extra-cmake-modules pkg-config libxml2-dev libxslt1-dev libzip-dev libsqlite3-dev libusb-1.0-0-dev libssl-dev qt5-default qt5-qmake qtchooser qttools5-dev-tools libqt5svg5-dev libqt5webkit5-dev libqt5qml5 libqt5quick5 qtdeclarative5-dev qtscript5-dev libssh2-1-dev libcurl4-openssl-dev qttools5-dev qtconnectivity5-dev qtlocation5-dev qtpositioning5-dev libcrypto++-dev libssl-dev qml-module-qtpositioning qml-module-qtlocation libtool-bin openjdk-8-jdk ant wget unzip xutils-dev python \\\n && sudo apt-get clean \\\n && wget -q ${QT_DOWNLOAD_URL} \\\n && chmod +x ${QT_BINARIES} \\\n && sudo ./${QT_BINARIES} --script /tmp/installqt.qs --platform minimal \\\n && rm ${QT_BINARIES} \\\n && sudo sed -i 's/set_property(TARGET Qt5::Core PROPERTY INTERFACE_COMPILE_FEATURES cxx_decltype)/# set_property(TARGET Qt5::Core PROPERTY INTERFACE_COMPILE_FEATURES cxx_decltype)/' /opt/Qt/${QT_VERSION}/android_armv7/lib/cmake/Qt5Core/Qt5CoreConfigExtras.cmake \\\n && wget -q ${NDK_DOWNLOAD_URL} \\\n && unzip -q ${NDK_BINARIES} \\\n && sudo mv ${ANDROID_NDK} /opt/ \\\n && rm ${NDK_BINARIES} \\\n && wget -q ${SDK_DOWNLOAD_URL} \\\n && mkdir -p ${ANDROID_SDK} \\\n && cd ${ANDROID_SDK} \\\n && unzip -q ../${SDK_TOOLS} \\\n && mkdir -p licenses \\\n && echo \"\\n8933bad161af4178b1185d1a37fbf41ea5269c55\" > \"licenses/android-sdk-license\" \\\n && echo \"\\nd56f5187479451eabf01fb78af6dfcb131a6481e\" > \"licenses/android-sdk-license\" \\\n && echo \"\\n84831b9409646a918e30573bab4c9c91346d8abd\" > \"licenses/android-sdk-preview-license\" \\\n && (while sleep 3 ; do echo \"y\" ; done ) | tools/android update sdk --no-ui --filter tools,platform-tools,build-tools-${SDK_VERSION},android-${API_VERSION} \\\n && cd .. \\\n && sudo mv ${ANDROID_SDK} /opt/ \\\n && rm ${SDK_TOOLS}\nARG BUILD_DATE\nARG VCS_REF\nLABEL org.label-schema.build-date=\"$BUILD_DATE\" \\\n      org.label-schema.name=\"Subsurface for Android\" \\\n      org.label-schema.description=\"Build environment for compiling Subsurface for Android\" \\\n      org.label-schema.url=\"https://www.accupara.com/\" \\\n      org.label-schema.vcs-ref=\"$VCS_REF\" \\\n      org.label-schema.vcs-url=\"$VCS_REF\" \\\n      org.label-schema.vendor=\"Crave.io Inc.\"\n","injectedSmells":[],"originalDockerfileHash":"cc28a880f0a1a77940260127d734fe39","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Copyright (c) 2016-2019 Crave.io Inc. All rights reserved\nFROM accupara/ubuntu:16.04\nMAINTAINER Crave.io Inc. \"contact@crave.io\"\nCOPY installqt.qs /tmp/installqt.qs\nENV QT_MAJOR=\"5.9\" \\\n    QT_VERSION=\"5.9.1\" \\\n    NDK_VERSION=\"r14b\" \\\n    SDK_VERSION=\"25.2.3\" \\\n    API_VERSION=\"16\" \\\n    ANDROID_SDK=\"android-sdk-linux\"\nENV QT_BINARIES=\"qt-opensource-linux-x64-${QT_VERSION}.run\" \\\n    SDK_TOOLS=\"tools_r${SDK_VERSION}-linux.zip\" \\\n    ANDROID_NDK=\"android-ndk-${NDK_VERSION}\" \\\n    ANDROID_SDK_ROOT=\"/opt/${ANDROID_SDK}\"\nENV QT5_ANDROID=\"/opt/Qt/${QT_VERSION}\" \\\n    NDK_BINARIES=\"${ANDROID_NDK}-linux-x86_64.zip\" \\\n    QT_DOWNLOAD_URL=\"http://download.qt.io/archive/qt/${QT_MAJOR}/${QT_VERSION}/${QT_BINARIES}\" \\\n    SDK_DOWNLOAD_URL=\"https://dl.google.com/android/repository/${SDK_TOOLS}\" \\\n    ANDROID_NDK_ROOT=\"/opt/${ANDROID_NDK}\"\nENV NDK_DOWNLOAD_URL=\"https://dl.google.com/android/repository/${NDK_BINARIES}\"\nRUN sudo apt-get update \\\n && sudo apt-get -y --no-install-recommends install git g++ make autoconf automake libtool cmake extra-cmake-modules pkg-config libxml2-dev libxslt1-dev libzip-dev libsqlite3-dev libusb-1.0-0-dev libssl-dev qt5-default qt5-qmake qtchooser qttools5-dev-tools libqt5svg5-dev libqt5webkit5-dev libqt5qml5 libqt5quick5 qtdeclarative5-dev qtscript5-dev libssh2-1-dev libcurl4-openssl-dev qttools5-dev qtconnectivity5-dev qtlocation5-dev qtpositioning5-dev libcrypto++-dev libssl-dev qml-module-qtpositioning qml-module-qtlocation libtool-bin openjdk-8-jdk ant wget unzip xutils-dev python \\\n && sudo apt-get clean \\\n && wget -q ${QT_DOWNLOAD_URL} \\\n && chmod +x ${QT_BINARIES} \\\n && sudo ./${QT_BINARIES} --script /tmp/installqt.qs --platform minimal \\\n && rm ${QT_BINARIES} \\\n && sudo sed -i 's/set_property(TARGET Qt5::Core PROPERTY INTERFACE_COMPILE_FEATURES cxx_decltype)/# set_property(TARGET Qt5::Core PROPERTY INTERFACE_COMPILE_FEATURES cxx_decltype)/' /opt/Qt/${QT_VERSION}/android_armv7/lib/cmake/Qt5Core/Qt5CoreConfigExtras.cmake \\\n && wget -q ${NDK_DOWNLOAD_URL} \\\n && unzip -q ${NDK_BINARIES} \\\n && sudo mv ${ANDROID_NDK} /opt/ \\\n && rm ${NDK_BINARIES} \\\n && wget -q ${SDK_DOWNLOAD_URL} \\\n && mkdir -p ${ANDROID_SDK} \\\n && cd ${ANDROID_SDK} \\\n && unzip -q ../${SDK_TOOLS} \\\n && mkdir -p licenses \\\n && echo \"\\n8933bad161af4178b1185d1a37fbf41ea5269c55\" > \"licenses/android-sdk-license\" \\\n && echo \"\\nd56f5187479451eabf01fb78af6dfcb131a6481e\" > \"licenses/android-sdk-license\" \\\n && echo \"\\n84831b9409646a918e30573bab4c9c91346d8abd\" > \"licenses/android-sdk-preview-license\" \\\n && (while sleep 3 ; do echo \"y\" ; done ) | tools/android update sdk --no-ui --filter tools,platform-tools,build-tools-${SDK_VERSION},android-${API_VERSION} \\\n && cd .. \\\n && sudo mv ${ANDROID_SDK} /opt/ \\\n && rm ${SDK_TOOLS}\nARG BUILD_DATE\nARG VCS_REF\nLABEL org.label-schema.build-date=\"$BUILD_DATE\" \\\n      org.label-schema.name=\"Subsurface for Android\" \\\n      org.label-schema.description=\"Build environment for compiling Subsurface for Android\" \\\n      org.label-schema.url=\"https://www.accupara.com/\" \\\n      org.label-schema.vcs-ref=\"$VCS_REF\" \\\n      org.label-schema.vcs-url=\"$VCS_REF\" \\\n      org.label-schema.vendor=\"Crave.io Inc.\"\n","originalDockerfileUglifiedHash":"ca45057515e063861935cffb79a0721c","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/1a4621576df44dc0aac7e522aae6183869a5c5a7.dockerfile"}