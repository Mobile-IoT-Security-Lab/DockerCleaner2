{"seed":2057531740,"processedDockerfileHash":"9dd3a2e7d7623d0c318ae39844186c98","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ubuntu\nARG DEBIAN_FRONTEND=noninteractive\nLABEL KEY=\"LSF-COPPER-HORDE\"\n#  ENV HOME /root\nRUN :\nRUN apt-get -y upgrade\nRUN (apt-get update ;apt-get install --no-install-recommends telnet=0.17+2.4-2ubuntu1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends nano=7.2-1 -y )\n#   installing php7 in ubuntu 18.04\n#   installing php \nRUN (apt-get update ;apt-get install --no-install-recommends php=2:8.1+92ubuntu1 -y )\nRUN (apt-get update ;apt-get install --no-install-recommends apache2=2.4.55-1ubuntu2 libapache2-mod-php=2:8.1+92ubuntu1 mysql-client=8.0.32-0ubuntu4 gnupg2=2.2.40-1ubuntu2 openssl=3.0.8-1ubuntu1 php-pear=1:1.10.13+submodules+notgz+2022032202-2 -y )\n#   install php 7.2 modules\nRUN (apt-get update ;apt-get install --no-install-recommends php-pear=1:1.10.13+submodules+notgz+2022032202-2 php-fpm=2:8.1+92ubuntu1 php-dev=2:8.1+92ubuntu1 php-zip=2:8.1+92ubuntu1 php-curl=2:8.1+92ubuntu1 php-xmlrpc=3:1.0.0~rc3-6 php-gd=2:8.1+92ubuntu1 php-mysql=2:8.1+92ubuntu1 php-mbstring=2:8.1+92ubuntu1 php-xml=2:8.1+92ubuntu1 libapache2-mod-php=2:8.1+92ubuntu1 -y )\n#   https://www.ctrl.blog/entry/how-to-debian-horde-webmail\n#   https://www.ctrl.blog/entry/how-to-debian-horde-webmail\n#   how to connect with ldap srver samba active directory\n#   https://community.nethserver.org/t/installing-horde-groupware/7292\n#   php installation\n#   https://thishosting.rocks/install-php-on-ubuntu/\n#  RUN apt-get install -y php-horde-webmail mysql-client\n#  RUN apt-get -y  install php-horde\nRUN (apt-get update ;apt-get install --no-install-recommends php-horde-webmail -y )\n#  RUN apt-get install  php-pecl-imagick aspell-en\n#  RUN apt-get install php-horde-horde php-pecl-imagick aspell-en\nRUN mkdir /var/lib/horde/\nRUN chown www-data:www-data /var/lib/horde/\nRUN cp /etc/horde/horde/conf.php.dist /etc/horde/horde/conf.php\nRUN chown www-data:www-data /etc/horde/horde/conf.php\nRUN touch /etc/horde/imp/conf.php /etc/horde/turba/conf.php\nRUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\nRUN cp /etc/horde/imp/backends.php /etc/horde/imp/backends.local.php\n#   Add other configurations also\n#  ADD ./webmail/horde-webmail/config/conf.php /usr/share/horde/config/conf.php\nCOPY ./config/conf.php /usr/share/horde/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/config/conf.php\n#   coppying ingo mail Filter application\nCOPY ./config/ingo/conf.php /usr/share/horde/ingo/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/ingo/config/conf.php\n#   configuration file hosting solution\nCOPY ./config/gollem/conf.php /usr/share/horde/gollem/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/gollem/config/conf.php\n#   Configuring turba contact mangement\nCOPY ./config/turba/conf.php /usr/share/horde/turba/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/turba/config/conf.php\n#   Configuring Todo/Reminder plugin\nCOPY ./config/nag/conf.php /usr/share/horde/nag/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/nag/config/conf.php\n#   Configure Kronolith calender\nCOPY ./config/kronolith/conf.php /usr/share/horde/kronolith/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/kronolith/config/conf.php\n#   Configure mnemo Notebook\nCOPY ./config/mnemo/conf.php /usr/share/horde/mnemo/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/mnemo/config/conf.php\n#   Configure imp webmail\nCOPY ./config/imp/conf.php /usr/share/horde/imp/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/imp/config/conf.php\n#   Configure trean web book mark\nCOPY ./config/trean/conf.php /usr/share/horde/trean/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/trean/config/conf.php\n#  RUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\n#  RUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\n#  RUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\n#   coppying conf.php for horde active directory\n#  ADD ./config/conf.php /etc/horde/horde/conf.php\n#  ADD ./config/backends.local.php /etc/horde/imp/backends.php\nCOPY ./config/backends.local.php /usr/share/horde/imp/config/backends.local.php\n#  ADD ./webmail/horde-webmail/config/conf.php /usr/share/horde/config/conf.php\n#  RUN chown www-data:www-data /usr/share/horde/config/conf.php\nCOPY ./apache-horde.conf /etc/apache2/sites-enabled/apache-horde.conf\n#   horde database migration through a sh file\nCOPY ./horde-init.sh /etc/my_init.d/horde-init.sh\nRUN chmod +x /etc/my_init.d/horde-init.sh\nRUN mkdir -p /etc/service/apache2\nCOPY ./run.sh /etc/service/apache2/run\n#   Horde database migration script running\n#  RUN cd /usr/sbin\n#  RUN horde-db-migrate\nRUN chmod +x /etc/service/apache2/run\n#  CMD service apache2 start\nCMD [\"/etc/service/apache2/run\"]\n#  CMD [\"/sbin/my_init\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ubuntu\nARG DEBIAN_FRONTEND=noninteractive\nLABEL KEY=\"LSF-COPPER-HORDE\"\n# ENV HOME /root\nRUN apt-get update -y\nRUN apt-get -y upgrade\nRUN apt-get install telnet -y\nRUN apt-get install nano -y\n#  installing php7 in ubuntu 18.04\n#  installing php \nRUN apt-get install php -y\nRUN apt-get install apache2 libapache2-mod-php mysql-client gnupg2 openssl php-pear -y\n#  install php 7.2 modules\nRUN apt-get install php-pear php-fpm php-dev php-zip php-curl php-xmlrpc php-gd php-mysql php-mbstring php-xml libapache2-mod-php -y\n#  https://www.ctrl.blog/entry/how-to-debian-horde-webmail\n#  https://www.ctrl.blog/entry/how-to-debian-horde-webmail\n#  how to connect with ldap srver samba active directory\n#  https://community.nethserver.org/t/installing-horde-groupware/7292\n#  php installation\n#  https://thishosting.rocks/install-php-on-ubuntu/\n# RUN apt-get install -y php-horde-webmail mysql-client\n# RUN apt-get -y  install php-horde\nRUN apt-get install php-horde-webmail -y\n# RUN apt-get install  php-pecl-imagick aspell-en\n# RUN apt-get install php-horde-horde php-pecl-imagick aspell-en\nRUN mkdir /var/lib/horde/\nRUN chown www-data:www-data /var/lib/horde/\nRUN cp /etc/horde/horde/conf.php.dist /etc/horde/horde/conf.php\nRUN chown www-data:www-data /etc/horde/horde/conf.php\nRUN touch /etc/horde/imp/conf.php /etc/horde/turba/conf.php\nRUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\nRUN cp /etc/horde/imp/backends.php /etc/horde/imp/backends.local.php\n#  Add other configurations also\n# ADD ./webmail/horde-webmail/config/conf.php /usr/share/horde/config/conf.php\nADD ./config/conf.php /usr/share/horde/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/config/conf.php\n#  coppying ingo mail Filter application\nADD ./config/ingo/conf.php /usr/share/horde/ingo/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/ingo/config/conf.php\n#  configuration file hosting solution\nADD ./config/gollem/conf.php /usr/share/horde/gollem/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/gollem/config/conf.php\n#  Configuring turba contact mangement\nADD ./config/turba/conf.php /usr/share/horde/turba/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/turba/config/conf.php\n#  Configuring Todo/Reminder plugin\nADD ./config/nag/conf.php /usr/share/horde/nag/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/nag/config/conf.php\n#  Configure Kronolith calender\nADD ./config/kronolith/conf.php /usr/share/horde/kronolith/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/kronolith/config/conf.php\n#  Configure mnemo Notebook\nADD ./config/mnemo/conf.php /usr/share/horde/mnemo/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/mnemo/config/conf.php\n#  Configure imp webmail\nADD ./config/imp/conf.php /usr/share/horde/imp/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/imp/config/conf.php\n#  Configure trean web book mark\nADD ./config/trean/conf.php /usr/share/horde/trean/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/trean/config/conf.php\n# RUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\n# RUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\n# RUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\n#  coppying conf.php for horde active directory\n# ADD ./config/conf.php /etc/horde/horde/conf.php\n# ADD ./config/backends.local.php /etc/horde/imp/backends.php\nADD ./config/backends.local.php /usr/share/horde/imp/config/backends.local.php\n# ADD ./webmail/horde-webmail/config/conf.php /usr/share/horde/config/conf.php\n# RUN chown www-data:www-data /usr/share/horde/config/conf.php\nADD ./apache-horde.conf /etc/apache2/sites-enabled/apache-horde.conf\n#  horde database migration through a sh file\nADD ./horde-init.sh /etc/my_init.d/horde-init.sh\nRUN chmod +x /etc/my_init.d/horde-init.sh\nRUN mkdir -p /etc/service/apache2\nADD ./run.sh /etc/service/apache2/run\n#  Horde database migration script running\n# RUN cd /usr/sbin\n# RUN horde-db-migrate\nRUN chmod +x /etc/service/apache2/run\n# CMD service apache2 start\nCMD [\"/etc/service/apache2/run\"]\n# CMD [\"/sbin/my_init\"]\n","injectedSmells":[],"originalDockerfileHash":"f01ed377979100ed1f72b9d87aa3715c","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ubuntu\nARG DEBIAN_FRONTEND=noninteractive\nLABEL KEY=\"LSF-COPPER-HORDE\"\n#  ENV HOME /root\nRUN apt-get update -y\nRUN apt-get -y upgrade\nRUN apt-get install telnet -y\nRUN apt-get install nano -y\n#   installing php7 in ubuntu 18.04\n#   installing php \nRUN apt-get install php -y\nRUN apt-get install apache2 libapache2-mod-php mysql-client gnupg2 openssl php-pear -y\n#   install php 7.2 modules\nRUN apt-get install php-pear php-fpm php-dev php-zip php-curl php-xmlrpc php-gd php-mysql php-mbstring php-xml libapache2-mod-php -y\n#   https://www.ctrl.blog/entry/how-to-debian-horde-webmail\n#   https://www.ctrl.blog/entry/how-to-debian-horde-webmail\n#   how to connect with ldap srver samba active directory\n#   https://community.nethserver.org/t/installing-horde-groupware/7292\n#   php installation\n#   https://thishosting.rocks/install-php-on-ubuntu/\n#  RUN apt-get install -y php-horde-webmail mysql-client\n#  RUN apt-get -y  install php-horde\nRUN apt-get install php-horde-webmail -y\n#  RUN apt-get install  php-pecl-imagick aspell-en\n#  RUN apt-get install php-horde-horde php-pecl-imagick aspell-en\nRUN mkdir /var/lib/horde/\nRUN chown www-data:www-data /var/lib/horde/\nRUN cp /etc/horde/horde/conf.php.dist /etc/horde/horde/conf.php\nRUN chown www-data:www-data /etc/horde/horde/conf.php\nRUN touch /etc/horde/imp/conf.php /etc/horde/turba/conf.php\nRUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\nRUN cp /etc/horde/imp/backends.php /etc/horde/imp/backends.local.php\n#   Add other configurations also\n#  ADD ./webmail/horde-webmail/config/conf.php /usr/share/horde/config/conf.php\nADD ./config/conf.php /usr/share/horde/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/config/conf.php\n#   coppying ingo mail Filter application\nADD ./config/ingo/conf.php /usr/share/horde/ingo/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/ingo/config/conf.php\n#   configuration file hosting solution\nADD ./config/gollem/conf.php /usr/share/horde/gollem/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/gollem/config/conf.php\n#   Configuring turba contact mangement\nADD ./config/turba/conf.php /usr/share/horde/turba/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/turba/config/conf.php\n#   Configuring Todo/Reminder plugin\nADD ./config/nag/conf.php /usr/share/horde/nag/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/nag/config/conf.php\n#   Configure Kronolith calender\nADD ./config/kronolith/conf.php /usr/share/horde/kronolith/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/kronolith/config/conf.php\n#   Configure mnemo Notebook\nADD ./config/mnemo/conf.php /usr/share/horde/mnemo/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/mnemo/config/conf.php\n#   Configure imp webmail\nADD ./config/imp/conf.php /usr/share/horde/imp/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/imp/config/conf.php\n#   Configure trean web book mark\nADD ./config/trean/conf.php /usr/share/horde/trean/config/conf.php\nRUN chown www-data:www-data /usr/share/horde/trean/config/conf.php\n#  RUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\n#  RUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\n#  RUN chown www-data:www-data /etc/horde/imp/conf.php /etc/horde/turba/conf.php\n#   coppying conf.php for horde active directory\n#  ADD ./config/conf.php /etc/horde/horde/conf.php\n#  ADD ./config/backends.local.php /etc/horde/imp/backends.php\nADD ./config/backends.local.php /usr/share/horde/imp/config/backends.local.php\n#  ADD ./webmail/horde-webmail/config/conf.php /usr/share/horde/config/conf.php\n#  RUN chown www-data:www-data /usr/share/horde/config/conf.php\nADD ./apache-horde.conf /etc/apache2/sites-enabled/apache-horde.conf\n#   horde database migration through a sh file\nADD ./horde-init.sh /etc/my_init.d/horde-init.sh\nRUN chmod +x /etc/my_init.d/horde-init.sh\nRUN mkdir -p /etc/service/apache2\nADD ./run.sh /etc/service/apache2/run\n#   Horde database migration script running\n#  RUN cd /usr/sbin\n#  RUN horde-db-migrate\nRUN chmod +x /etc/service/apache2/run\n#  CMD service apache2 start\nCMD [\"/etc/service/apache2/run\"]\n#  CMD [\"/sbin/my_init\"]\n","originalDockerfileUglifiedHash":"4bd31cd24f6c48ee8103badb8f93d67c","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/0f189f65185ab45c190c7a5e31c592c609cec563.dockerfile"}