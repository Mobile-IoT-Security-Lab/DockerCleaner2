{"seed":1720412586,"processedDockerfileHash":"d5c35b02d4b1af98eb72ae541ff47dad","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-npm","have-a-healthcheck"],"processedDockerfile":"#\n#   Licensed to the Apache Software Foundation (ASF) under one or more\n#   contributor license agreements.  See the NOTICE file distributed with\n#   this work for additional information regarding copyright ownership.\n#   The ASF licenses this file to You under the Apache License, Version 2.0\n#   (the \"License\"); you may not use this file except in compliance with\n#   the License.  You may obtain a copy of the License at\n#\n#       http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing, software\n#   distributed under the License is distributed on an \"AS IS\" BASIS,\n#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#   See the License for the specific language governing permissions and\n#   limitations under the License\n#\n#   This Dockerfile is for MyBinder support\nFROM andrewosh/binder-base\nUSER root\n#   for declarativewidgets\nRUN curl -sL https://deb.nodesource.com/setup_0.12 | bash - \\\n && (apt-get update ;apt-get install --no-install-recommends nodejs=18.13.0+dfsg1-1ubuntu2 npm=9.2.0~ds1-1 -y ) \\\n && npm install bower@1.8.14 -g\n#   for pyspark demos\nENV APACHE_SPARK_VERSION=\"2.2.0\"\nRUN apt-get update -y \\\n && (apt-get update ;apt-get install --no-install-recommends software-properties-common=0.99.35 -y )\nRUN echo \"===> add webupd8 repository...\" \\\n && echo \"deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | tee /etc/apt/sources.list.d/webupd8team-java.list \\\n && echo \"deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | tee -a /etc/apt/sources.list.d/webupd8team-java.list \\\n && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886 \\\n && :\nRUN echo \"===> install Java\" \\\n && echo debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && echo debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --force-yes oracle-java8-installer oracle-java8-set-default \\\n && apt-get clean \\\n && update-java-alternatives -s java-8-oracle\nRUN cd /tmp \\\n && wget -q http://apache.claz.org/spark/spark-${APACHE_SPARK_VERSION}/spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz \\\n && tar xzf spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz -C /usr/local \\\n && rm spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz\nRUN cd /usr/local \\\n && ln -s spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6 spark\n#   R support\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends fonts-dejavu=2.37-6 gfortran=4:12.2.0-3ubuntu1 gcc=4:12.2.0-3ubuntu1 -y ) \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\nENV SPARK_HOME=\"/usr/local/spark\"\nENV PYTHONPATH=\"$SPARK_HOME/python:$SPARK_HOME/python/lib/py4j-0.10.1-src.zip\"\nENV PYSPARK_PYTHON=\"/home/main/anaconda2/envs/python3/bin/python\"\nENV R_LIBS_USER=\"$SPARK_HOME/R/lib\"\nUSER main\nENV DASHBOARDS_VERSION=\"==0.4.1\"\nENV DASHBOARDS_BUNDLERS_VERSION=\"==0.2.2\"\nENV TOREE_VERSION=\">=0.1.0.dev0, <=0.1.0\"\n#   get to the latest jupyter release and necessary libraries\nRUN conda install -y jupyter seaborn futures \\\n && bash -c \"source activate python3 \\\n && conda install seaborn\"\n#   R packages\nRUN conda config --add channels r \\\n && conda install --quiet --yes 'r-base=3.2*' 'r-ggplot2=1.0*' 'r-rcurl=1.95*' \\\n && conda clean -tipsy\nENV DECL_WIDGETS_VERSION=\"0.4.3\"\n#   install incubator extensions\nRUN pip install jupyter_dashboards==0.4.1 jupyter_dashboards_bundlers==0.2.2 jupyter_declarativewidgets==$DECL_WIDGETS_VERSION\nRUN jupyter dashboards install --user --symlink \\\n && jupyter declarativewidgets install --user --symlink \\\n && jupyter dashboards activate \\\n && jupyter declarativewidgets activate \\\n && jupyter dashboards_bundlers activate\n#   install kernel-side incubator extensions for python3 environment too\nRUN bash -c \"source activate python3 \\\n && pip install jupyter_declarativewidgets==$DECL_WIDGETS_VERSION\"\n#   install Toree\nRUN pip install 'toree>=0.1.0.dev0, <=0.1.0'\nRUN jupyter toree install --user\n#   include nice intro notebook\nCOPY index.ipynb $HOME/notebooks/\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#\n#  Licensed to the Apache Software Foundation (ASF) under one or more\n#  contributor license agreements.  See the NOTICE file distributed with\n#  this work for additional information regarding copyright ownership.\n#  The ASF licenses this file to You under the Apache License, Version 2.0\n#  (the \"License\"); you may not use this file except in compliance with\n#  the License.  You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n#  Unless required by applicable law or agreed to in writing, software\n#  distributed under the License is distributed on an \"AS IS\" BASIS,\n#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#  See the License for the specific language governing permissions and\n#  limitations under the License\n#\n#  This Dockerfile is for MyBinder support\nFROM andrewosh/binder-base\nUSER root\n#  for declarativewidgets\nRUN curl -sL https://deb.nodesource.com/setup_0.12 | bash - \\\n && apt-get install nodejs npm -y \\\n && npm install bower -g\n#  for pyspark demos\nENV APACHE_SPARK_VERSION=\"2.2.0\"\nRUN apt-get update -y \\\n && apt-get install software-properties-common -y\nRUN echo \"===> add webupd8 repository...\" \\\n && echo \"deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | tee /etc/apt/sources.list.d/webupd8team-java.list \\\n && echo \"deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | tee -a /etc/apt/sources.list.d/webupd8team-java.list \\\n && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886 \\\n && apt-get update\nRUN echo \"===> install Java\" \\\n && echo debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && echo debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --force-yes oracle-java8-installer oracle-java8-set-default \\\n && apt-get clean \\\n && update-java-alternatives -s java-8-oracle\nRUN cd /tmp \\\n && wget -q http://apache.claz.org/spark/spark-${APACHE_SPARK_VERSION}/spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz \\\n && tar xzf spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz -C /usr/local \\\n && rm spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz\nRUN cd /usr/local \\\n && ln -s spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6 spark\n#  R support\nRUN apt-get update \\\n && apt-get install --no-install-recommends fonts-dejavu gfortran gcc -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\nENV SPARK_HOME=\"/usr/local/spark\"\nENV PYTHONPATH=\"$SPARK_HOME/python:$SPARK_HOME/python/lib/py4j-0.10.1-src.zip\"\nENV PYSPARK_PYTHON=\"/home/main/anaconda2/envs/python3/bin/python\"\nENV R_LIBS_USER=\"$SPARK_HOME/R/lib\"\nUSER main\nENV DASHBOARDS_VERSION=\"==0.4.1\"\nENV DASHBOARDS_BUNDLERS_VERSION=\"==0.2.2\"\nENV TOREE_VERSION=\">=0.1.0.dev0, <=0.1.0\"\n#  get to the latest jupyter release and necessary libraries\nRUN conda install -y jupyter seaborn futures \\\n && bash -c \"source activate python3 \\\n && conda install seaborn\"\n#  R packages\nRUN conda config --add channels r \\\n && conda install --quiet --yes 'r-base=3.2*' 'r-ggplot2=1.0*' 'r-rcurl=1.95*' \\\n && conda clean -tipsy\nENV DECL_WIDGETS_VERSION=\"0.4.3\"\n#  install incubator extensions\nRUN pip install jupyter_dashboards==0.4.1 jupyter_dashboards_bundlers==0.2.2 jupyter_declarativewidgets==$DECL_WIDGETS_VERSION\nRUN jupyter dashboards install --user --symlink \\\n && jupyter declarativewidgets install --user --symlink \\\n && jupyter dashboards activate \\\n && jupyter declarativewidgets activate \\\n && jupyter dashboards_bundlers activate\n#  install kernel-side incubator extensions for python3 environment too\nRUN bash -c \"source activate python3 \\\n && pip install jupyter_declarativewidgets==$DECL_WIDGETS_VERSION\"\n#  install Toree\nRUN pip install 'toree>=0.1.0.dev0, <=0.1.0'\nRUN jupyter toree install --user\n#  include nice intro notebook\nCOPY index.ipynb $HOME/notebooks/\n","injectedSmells":[],"originalDockerfileHash":"692c47148046a6255d0a3069668b69aa","successfullyInjectedSmells":[],"originalDockerfileUglified":"#\n#   Licensed to the Apache Software Foundation (ASF) under one or more\n#   contributor license agreements.  See the NOTICE file distributed with\n#   this work for additional information regarding copyright ownership.\n#   The ASF licenses this file to You under the Apache License, Version 2.0\n#   (the \"License\"); you may not use this file except in compliance with\n#   the License.  You may obtain a copy of the License at\n#\n#       http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing, software\n#   distributed under the License is distributed on an \"AS IS\" BASIS,\n#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#   See the License for the specific language governing permissions and\n#   limitations under the License\n#\n#   This Dockerfile is for MyBinder support\nFROM andrewosh/binder-base\nUSER root\n#   for declarativewidgets\nRUN curl -sL https://deb.nodesource.com/setup_0.12 | bash - \\\n && apt-get install nodejs npm -y \\\n && npm install bower -g\n#   for pyspark demos\nENV APACHE_SPARK_VERSION=\"2.2.0\"\nRUN apt-get update -y \\\n && apt-get install software-properties-common -y\nRUN echo \"===> add webupd8 repository...\" \\\n && echo \"deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | tee /etc/apt/sources.list.d/webupd8team-java.list \\\n && echo \"deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | tee -a /etc/apt/sources.list.d/webupd8team-java.list \\\n && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886 \\\n && apt-get update\nRUN echo \"===> install Java\" \\\n && echo debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n && echo debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections \\\n && DEBIAN_FRONTEND=noninteractive apt-get install -y --force-yes oracle-java8-installer oracle-java8-set-default \\\n && apt-get clean \\\n && update-java-alternatives -s java-8-oracle\nRUN cd /tmp \\\n && wget -q http://apache.claz.org/spark/spark-${APACHE_SPARK_VERSION}/spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz \\\n && tar xzf spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz -C /usr/local \\\n && rm spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz\nRUN cd /usr/local \\\n && ln -s spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6 spark\n#   R support\nRUN apt-get update \\\n && apt-get install --no-install-recommends fonts-dejavu gfortran gcc -y \\\n && apt-get clean \\\n && rm -rf /var/lib/apt/lists/*\nENV SPARK_HOME=\"/usr/local/spark\"\nENV PYTHONPATH=\"$SPARK_HOME/python:$SPARK_HOME/python/lib/py4j-0.10.1-src.zip\"\nENV PYSPARK_PYTHON=\"/home/main/anaconda2/envs/python3/bin/python\"\nENV R_LIBS_USER=\"$SPARK_HOME/R/lib\"\nUSER main\nENV DASHBOARDS_VERSION=\"==0.4.1\"\nENV DASHBOARDS_BUNDLERS_VERSION=\"==0.2.2\"\nENV TOREE_VERSION=\">=0.1.0.dev0, <=0.1.0\"\n#   get to the latest jupyter release and necessary libraries\nRUN conda install -y jupyter seaborn futures \\\n && bash -c \"source activate python3 \\\n && conda install seaborn\"\n#   R packages\nRUN conda config --add channels r \\\n && conda install --quiet --yes 'r-base=3.2*' 'r-ggplot2=1.0*' 'r-rcurl=1.95*' \\\n && conda clean -tipsy\nENV DECL_WIDGETS_VERSION=\"0.4.3\"\n#   install incubator extensions\nRUN pip install jupyter_dashboards==0.4.1 jupyter_dashboards_bundlers==0.2.2 jupyter_declarativewidgets==$DECL_WIDGETS_VERSION\nRUN jupyter dashboards install --user --symlink \\\n && jupyter declarativewidgets install --user --symlink \\\n && jupyter dashboards activate \\\n && jupyter declarativewidgets activate \\\n && jupyter dashboards_bundlers activate\n#   install kernel-side incubator extensions for python3 environment too\nRUN bash -c \"source activate python3 \\\n && pip install jupyter_declarativewidgets==$DECL_WIDGETS_VERSION\"\n#   install Toree\nRUN pip install 'toree>=0.1.0.dev0, <=0.1.0'\nRUN jupyter toree install --user\n#   include nice intro notebook\nCOPY index.ipynb $HOME/notebooks/\n","originalDockerfileUglifiedHash":"bbaa79bffbbce26fd2cf3ed32058f269","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/ca4d26ba2bb9bb914b18504a94db15c213a771b8.dockerfile"}