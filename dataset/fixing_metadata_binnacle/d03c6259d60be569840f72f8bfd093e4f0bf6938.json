{"seed":3835352331,"processedDockerfileHash":"4c3b76f95b92b05095642100ced82a1c","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Ubuntu 14.04 LTS derivative\nFROM phusion/baseimage:0.9.13\n#   Create software directory\nRUN mkdir /software\n#   Update apt-get\nRUN echo \"cache-bust\" \\\n && :\n#   Locale setup\nRUN (apt-get update ;apt-get install --no-install-recommends language-pack-en-base -y )\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US.UTF-8\"\nENV LC_ALL=\"en_US.UTF-8\"\n#  # Install Clang 3.5, Boost and utilities\nRUN apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends linux-tools-3.13.0-32-generic libc6-dbg wget aptitude tmux vim emacs make git mercurial autoconf automake libtool cmake pkg-config zlib1g-dev libreadline6 libreadline6-dev libncurses5-dev libgmp-dev libyaml-dev libyaml-cpp-dev libzmq3 libzmq3-dev python-dev python-pip clang-3.5 libbz2-dev -y )\n#   Install and configure GCC 4.9\nRUN add-apt-repository ppa:ubuntu-toolchain-r/test \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends gcc-4.9 g++-4.9 libstdc++-4.9-dev -y ) \\\n && update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 20 \\\n && update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 20\n#   Intall ruby 2+\n#   Ubuntu's package does stupid things with ruby 2.0\nRUN add-apt-repository -y ppa:brightbox/ruby-ng \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends ruby2.2 -y ) \\\n && (apt-get update ;apt-get install --no-install-recommends ruby-switch -y ) \\\n && ruby-switch --set ruby2.2\n#   Install ocaml\nENV OPAMYES=\"1\"\nRUN add-apt-repository -y ppa:avsm/ppa \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends ocaml ocaml-native-compilers camlp4-extra opam time -y ) \\\n && opam init -a \\\n && opam install ocamlfind \\\n && /bin/echo -e \"\\neval \\`opam config env\\`\\n\" >> /root/.bashrc\nRUN wget http://sourceforge.net/projects/boost/files/boost/1.57.0/boost_1_57_0.tar.bz2/download \\\n && tar --bzip2 -xvf ./download \\\n && rm download \\\n && cd boost_1_57_0 \\\n && ./bootstrap.sh --with-libraries=serialization,system,thread,log,program_options,filesystem --prefix=/usr/local libdir=/usr/local/lib \\\n && ./b2 stage threading=multi link=shared \\\n && ./b2 install threading=multi link=shared \\\n && cd .. \\\n && rm -Rf boost_1_57_0\n#   Install GHC and cabal\nENV PATH=\"/opt/ghc/7.10.1/bin:/opt/cabal/1.22/bin:/opt/alex/3.1.4/bin:/opt/happy/1.19.5/bin:/root/.cabal/bin/:$PATH\"\nWORKDIR /\nRUN add-apt-repository ppa:hvr/ghc \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends ghc-7.10.1 alex-3.1.4 happy-1.19.5 cabal-install-1.22 -y ) \\\n && cabal update \\\n && cabal install cabal-install -j\n#   Install libre2\nRUN add-apt-repository -y ppa:pi-rho/security \\\n && apt-get update \\\n && (apt-get update ;apt-get install --no-install-recommends libre2-dev -y )\n#   Install csvpp\nRUN git clone https://git01.codeplex.com/forks/wjjt/csvpp /software/csvpp \\\n && cd /software/csvpp \\\n && cmake . \\\n && make \\\n && mv libcsvpp.so /usr/lib/\n#   Install libdynamic\nRUN git clone https://github.com/DaMSL/libdynamic /software/libdynamic \\\n && cd /software/libdynamic \\\n && ./autogen.sh \\\n && ./configure --prefix=/usr \\\n && make \\\n && make install\n#   Numa ctl\nRUN wget --no-verbose -T 10 ftp://oss.sgi.com/www/projects/libnuma/download/numactl-2.0.10.tar.gz \\\n && tar -xvf numactl-2.0.10.tar.gz \\\n && cd numactl-2.0.10 \\\n && ./autogen.sh \\\n && ./configure \\\n && make \\\n && make install\n#   python pip installs\nRUN (apt-get update ;apt-get install --no-install-recommends python-dev -y ) \\\n && pip install pyyaml==6.0\n#   Clone K3, K3-Mosaic from Git\nRUN mkdir -p /k3/K3 /k3/K3-Mosaic \\\n && git clone https://github.com/DaMSL/K3.git /k3/K3 \\\n && git clone https://github.com/DaMSL/K3-Mosaic.git /k3/K3-Mosaic\n#   Install decent vim configuration\nRUN mkdir /root/.vim \\\n && git clone https://github.com/tpope/vim-pathogen.git /root/.vim ; git clone https://github.com/tpope/vim-sensible.git /root/.vim/bundle ; git clone https://github.com/tmhedberg/matchit.git /root/.vim/bundle ; git clone https://github.com/kien/ctrlp.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-surround.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-unimpaired.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-repeat.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-fugitive.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-vinegar.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-eunuch.git /root/.vim/bundle ; git clone https://github.com/scrooloose/nerdtree.git /root/.vim/bundle ; git clone https://github.com/scrooloose/syntastic.git /root/.vim/bundle ; git clone https://github.com/godlygeek/tabular.git /root/.vim/bundle ; git clone https://github.com/bling/airline.git /root/.vim/bundle ; git clone https://github.com/bronson/vim-visual-star-search.git /root/.vim/bundle ; git clone https://github.com/justinmk/vim-sneak.git /root/.vim/bundle ; echo 'execute pathogen#infect() | syntax on | filetype plugin indent on' > /root/.vimrc\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Ubuntu 14.04 LTS derivative\nFROM phusion/baseimage:0.9.13\n#  Create software directory\nRUN mkdir /software\n#  Update apt-get\nRUN echo \"cache-bust\" \\\n && apt-get update\n#  Locale setup\nRUN apt-get install language-pack-en-base -y\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US.UTF-8\"\nENV LC_ALL=\"en_US.UTF-8\"\n# # Install Clang 3.5, Boost and utilities\nRUN apt-get update \\\n && apt-get install linux-tools-3.13.0-32-generic libc6-dbg wget aptitude tmux vim emacs make git mercurial autoconf automake libtool cmake pkg-config zlib1g-dev libreadline6 libreadline6-dev libncurses5-dev libgmp-dev libyaml-dev libyaml-cpp-dev libzmq3 libzmq3-dev python-dev python-pip clang-3.5 libbz2-dev -y\n#  Install and configure GCC 4.9\nRUN add-apt-repository ppa:ubuntu-toolchain-r/test \\\n && apt-get update \\\n && apt-get install gcc-4.9 g++-4.9 libstdc++-4.9-dev -y \\\n && update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 20 \\\n && update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 20\n#  Intall ruby 2+\n#  Ubuntu's package does stupid things with ruby 2.0\nRUN add-apt-repository -y ppa:brightbox/ruby-ng \\\n && apt-get update \\\n && apt-get install ruby2.2 -y \\\n && apt-get install ruby-switch -y \\\n && ruby-switch --set ruby2.2\n#  Install ocaml\nENV OPAMYES=\"1\"\nRUN add-apt-repository -y ppa:avsm/ppa \\\n && apt-get update \\\n && apt-get install ocaml ocaml-native-compilers camlp4-extra opam time -y \\\n && opam init -a \\\n && opam install ocamlfind \\\n && /bin/echo -e \"\\neval \\`opam config env\\`\\n\" >> /root/.bashrc\nRUN wget http://sourceforge.net/projects/boost/files/boost/1.57.0/boost_1_57_0.tar.bz2/download \\\n && tar --bzip2 -xvf ./download \\\n && rm download \\\n && cd boost_1_57_0 \\\n && ./bootstrap.sh --with-libraries=serialization,system,thread,log,program_options,filesystem --prefix=/usr/local libdir=/usr/local/lib \\\n && ./b2 stage threading=multi link=shared \\\n && ./b2 install threading=multi link=shared \\\n && cd .. \\\n && rm -Rf boost_1_57_0\n#  Install GHC and cabal\nENV PATH=\"/opt/ghc/7.10.1/bin:/opt/cabal/1.22/bin:/opt/alex/3.1.4/bin:/opt/happy/1.19.5/bin:/root/.cabal/bin/:$PATH\"\nWORKDIR /\nRUN add-apt-repository ppa:hvr/ghc \\\n && apt-get update \\\n && apt-get install ghc-7.10.1 alex-3.1.4 happy-1.19.5 cabal-install-1.22 -y \\\n && cabal update \\\n && cabal install cabal-install -j\n#  Install libre2\nRUN add-apt-repository -y ppa:pi-rho/security \\\n && apt-get update \\\n && apt-get install libre2-dev -y\n#  Install csvpp\nRUN git clone https://git01.codeplex.com/forks/wjjt/csvpp /software/csvpp \\\n && cd /software/csvpp \\\n && cmake . \\\n && make \\\n && mv libcsvpp.so /usr/lib/\n#  Install libdynamic\nRUN git clone https://github.com/DaMSL/libdynamic /software/libdynamic \\\n && cd /software/libdynamic \\\n && ./autogen.sh \\\n && ./configure --prefix=/usr \\\n && make \\\n && make install\n#  Numa ctl\nRUN wget --no-verbose -T 10 ftp://oss.sgi.com/www/projects/libnuma/download/numactl-2.0.10.tar.gz \\\n && tar -xvf numactl-2.0.10.tar.gz \\\n && cd numactl-2.0.10 \\\n && ./autogen.sh \\\n && ./configure \\\n && make \\\n && make install\n#  python pip installs\nRUN apt-get install python-dev -y \\\n && pip install pyyaml\n#  Clone K3, K3-Mosaic from Git\nRUN mkdir -p /k3/K3 /k3/K3-Mosaic \\\n && git clone https://github.com/DaMSL/K3.git /k3/K3 \\\n && git clone https://github.com/DaMSL/K3-Mosaic.git /k3/K3-Mosaic\n#  Install decent vim configuration\nRUN mkdir /root/.vim \\\n && git clone https://github.com/tpope/vim-pathogen.git /root/.vim ; git clone https://github.com/tpope/vim-sensible.git /root/.vim/bundle ; git clone https://github.com/tmhedberg/matchit.git /root/.vim/bundle ; git clone https://github.com/kien/ctrlp.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-surround.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-unimpaired.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-repeat.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-fugitive.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-vinegar.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-eunuch.git /root/.vim/bundle ; git clone https://github.com/scrooloose/nerdtree.git /root/.vim/bundle ; git clone https://github.com/scrooloose/syntastic.git /root/.vim/bundle ; git clone https://github.com/godlygeek/tabular.git /root/.vim/bundle ; git clone https://github.com/bling/airline.git /root/.vim/bundle ; git clone https://github.com/bronson/vim-visual-star-search.git /root/.vim/bundle ; git clone https://github.com/justinmk/vim-sneak.git /root/.vim/bundle ; echo 'execute pathogen#infect() | syntax on | filetype plugin indent on' > /root/.vimrc\n","injectedSmells":[],"originalDockerfileHash":"84d7d39f2e1cb2b8d12e25e4e49ad50b","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Ubuntu 14.04 LTS derivative\nFROM phusion/baseimage:0.9.13\n#   Create software directory\nRUN mkdir /software\n#   Update apt-get\nRUN echo \"cache-bust\" \\\n && apt-get update\n#   Locale setup\nRUN apt-get install language-pack-en-base -y\nENV LANG=\"en_US.UTF-8\"\nENV LANGUAGE=\"en_US.UTF-8\"\nENV LC_ALL=\"en_US.UTF-8\"\n#  # Install Clang 3.5, Boost and utilities\nRUN apt-get update \\\n && apt-get install linux-tools-3.13.0-32-generic libc6-dbg wget aptitude tmux vim emacs make git mercurial autoconf automake libtool cmake pkg-config zlib1g-dev libreadline6 libreadline6-dev libncurses5-dev libgmp-dev libyaml-dev libyaml-cpp-dev libzmq3 libzmq3-dev python-dev python-pip clang-3.5 libbz2-dev -y\n#   Install and configure GCC 4.9\nRUN add-apt-repository ppa:ubuntu-toolchain-r/test \\\n && apt-get update \\\n && apt-get install gcc-4.9 g++-4.9 libstdc++-4.9-dev -y \\\n && update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 20 \\\n && update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 20\n#   Intall ruby 2+\n#   Ubuntu's package does stupid things with ruby 2.0\nRUN add-apt-repository -y ppa:brightbox/ruby-ng \\\n && apt-get update \\\n && apt-get install ruby2.2 -y \\\n && apt-get install ruby-switch -y \\\n && ruby-switch --set ruby2.2\n#   Install ocaml\nENV OPAMYES=\"1\"\nRUN add-apt-repository -y ppa:avsm/ppa \\\n && apt-get update \\\n && apt-get install ocaml ocaml-native-compilers camlp4-extra opam time -y \\\n && opam init -a \\\n && opam install ocamlfind \\\n && /bin/echo -e \"\\neval \\`opam config env\\`\\n\" >> /root/.bashrc\nRUN wget http://sourceforge.net/projects/boost/files/boost/1.57.0/boost_1_57_0.tar.bz2/download \\\n && tar --bzip2 -xvf ./download \\\n && rm download \\\n && cd boost_1_57_0 \\\n && ./bootstrap.sh --with-libraries=serialization,system,thread,log,program_options,filesystem --prefix=/usr/local libdir=/usr/local/lib \\\n && ./b2 stage threading=multi link=shared \\\n && ./b2 install threading=multi link=shared \\\n && cd .. \\\n && rm -Rf boost_1_57_0\n#   Install GHC and cabal\nENV PATH=\"/opt/ghc/7.10.1/bin:/opt/cabal/1.22/bin:/opt/alex/3.1.4/bin:/opt/happy/1.19.5/bin:/root/.cabal/bin/:$PATH\"\nWORKDIR /\nRUN add-apt-repository ppa:hvr/ghc \\\n && apt-get update \\\n && apt-get install ghc-7.10.1 alex-3.1.4 happy-1.19.5 cabal-install-1.22 -y \\\n && cabal update \\\n && cabal install cabal-install -j\n#   Install libre2\nRUN add-apt-repository -y ppa:pi-rho/security \\\n && apt-get update \\\n && apt-get install libre2-dev -y\n#   Install csvpp\nRUN git clone https://git01.codeplex.com/forks/wjjt/csvpp /software/csvpp \\\n && cd /software/csvpp \\\n && cmake . \\\n && make \\\n && mv libcsvpp.so /usr/lib/\n#   Install libdynamic\nRUN git clone https://github.com/DaMSL/libdynamic /software/libdynamic \\\n && cd /software/libdynamic \\\n && ./autogen.sh \\\n && ./configure --prefix=/usr \\\n && make \\\n && make install\n#   Numa ctl\nRUN wget --no-verbose -T 10 ftp://oss.sgi.com/www/projects/libnuma/download/numactl-2.0.10.tar.gz \\\n && tar -xvf numactl-2.0.10.tar.gz \\\n && cd numactl-2.0.10 \\\n && ./autogen.sh \\\n && ./configure \\\n && make \\\n && make install\n#   python pip installs\nRUN apt-get install python-dev -y \\\n && pip install pyyaml\n#   Clone K3, K3-Mosaic from Git\nRUN mkdir -p /k3/K3 /k3/K3-Mosaic \\\n && git clone https://github.com/DaMSL/K3.git /k3/K3 \\\n && git clone https://github.com/DaMSL/K3-Mosaic.git /k3/K3-Mosaic\n#   Install decent vim configuration\nRUN mkdir /root/.vim \\\n && git clone https://github.com/tpope/vim-pathogen.git /root/.vim ; git clone https://github.com/tpope/vim-sensible.git /root/.vim/bundle ; git clone https://github.com/tmhedberg/matchit.git /root/.vim/bundle ; git clone https://github.com/kien/ctrlp.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-surround.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-unimpaired.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-repeat.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-fugitive.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-vinegar.git /root/.vim/bundle ; git clone https://github.com/tpope/vim-eunuch.git /root/.vim/bundle ; git clone https://github.com/scrooloose/nerdtree.git /root/.vim/bundle ; git clone https://github.com/scrooloose/syntastic.git /root/.vim/bundle ; git clone https://github.com/godlygeek/tabular.git /root/.vim/bundle ; git clone https://github.com/bling/airline.git /root/.vim/bundle ; git clone https://github.com/bronson/vim-visual-star-search.git /root/.vim/bundle ; git clone https://github.com/justinmk/vim-sneak.git /root/.vim/bundle ; echo 'execute pathogen#infect() | syntax on | filetype plugin indent on' > /root/.vimrc\n","originalDockerfileUglifiedHash":"aa48019c64035b4a5d0faabd8b84e718","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/d03c6259d60be569840f72f8bfd093e4f0bf6938.dockerfile"}