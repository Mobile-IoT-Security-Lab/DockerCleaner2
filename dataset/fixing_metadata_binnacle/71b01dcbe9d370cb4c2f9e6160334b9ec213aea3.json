{"seed":3383764100,"processedDockerfileHash":"4eebd10e3740ce881d6165968b1db3ac","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM php:7.2-fpm\n#  COPY ./sources.list.stretch /etc/apt/sources.list\n#   Extensions: ctype, dom, fileinfo, ftp, hash, iconv, json, pdo, pdo_sqlite, session,\n#   tokenizer, simplexml, xml, xmlreader, xmlwriter and phar are bundled and compiled into\n#   PHP by default. If missing, install them directly by `docker-php-ext-install extension_name`\n#   Notice:\n#   1. Mcrypt was DEPRECATED in PHP 7.1.0, and REMOVED in PHP 7.2.0.\n#   2. opcache requires PHP version >= 7.0.0.\n#   3. soap requires libxml2-dev.\n#   4. xml, xmlrpc, wddx require libxml2-dev and libxslt-dev.\n#   5. Line `&& :\\` is just for better reading and do nothing.\nRUN apt-get update \\\n && apt-get install --no-install-recommends libfreetype6-dev=2.9.1-3+deb10u3 libjpeg62-turbo-dev=1:1.5.2-2+deb10u1 libpng-dev=1.6.36-6 -y \\\n && docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/ \\\n && docker-php-ext-install gd \\\n && : \\\n && apt-get install --no-install-recommends libicu-dev=63.1-6+deb10u3 -y \\\n && docker-php-ext-install intl \\\n && : \\\n && apt-get install --no-install-recommends libxml2-dev=2.9.4+dfsg1-7+deb10u5 -y \\\n && apt-get install --no-install-recommends libxslt-dev -y \\\n && docker-php-ext-install soap \\\n && docker-php-ext-install xsl \\\n && docker-php-ext-install xmlrpc \\\n && docker-php-ext-install wddx \\\n && : \\\n && apt-get install --no-install-recommends libbz2-dev=1.0.6-9.2~deb10u2 -y \\\n && docker-php-ext-install bz2 \\\n && : \\\n && docker-php-ext-install zip \\\n && docker-php-ext-install pcntl \\\n && docker-php-ext-install pdo_mysql \\\n && docker-php-ext-install mysqli \\\n && docker-php-ext-install mbstring \\\n && docker-php-ext-install exif \\\n && docker-php-ext-install bcmath \\\n && docker-php-ext-install calendar \\\n && docker-php-ext-install sockets \\\n && docker-php-ext-install gettext \\\n && docker-php-ext-install shmop \\\n && docker-php-ext-install sysvmsg \\\n && docker-php-ext-install sysvsem \\\n && docker-php-ext-install sysvshm \\\n && docker-php-ext-install opcache\n#  && docker-php-ext-install pdo_firebird \\\n#  && docker-php-ext-install pdo_dblib \\\n#  && docker-php-ext-install pdo_oci \\\n#  && docker-php-ext-install pdo_odbc \\\n#  && docker-php-ext-install pdo_pgsql \\\n#  && docker-php-ext-install pgsql \\\n#  && docker-php-ext-install oci8 \\\n#  && docker-php-ext-install odbc \\\n#  && docker-php-ext-install dba \\\n#  && docker-php-ext-install interbase \\\n#  && :\\\n#  && apt-get install -y libmcrypt-dev \\\n#  && docker-php-ext-install mcrypt \\\n#  && :\\\n#  && apt-get install -y curl \\\n#  && apt-get install -y libcurl3 \\\n#  && apt-get install -y libcurl4-openssl-dev \\\n#  && docker-php-ext-install curl \\\n#  && :\\\n#  && apt-get install -y libreadline-dev \\\n#  && docker-php-ext-install readline \\\n#  && :\\\n#  && apt-get install -y libsnmp-dev \\\n#  && apt-get install -y snmp \\\n#  && docker-php-ext-install snmp \\\n#  && :\\\n#  && apt-get install -y libpspell-dev \\\n#  && apt-get install -y aspell-en \\\n#  && docker-php-ext-install pspell \\\n#  && :\\\n#  && apt-get install -y librecode0 \\\n#  && apt-get install -y librecode-dev \\\n#  && docker-php-ext-install recode \\\n#  && :\\\n#  && apt-get install -y libtidy-dev \\\n#  && docker-php-ext-install tidy \\\n#  && :\\\n#  && apt-get install -y libgmp-dev \\\n#  && ln -s /usr/include/x86_64-linux-gnu/gmp.h /usr/include/gmp.h \\\n#  && docker-php-ext-install gmp \\\n#  && :\\\n#  && apt-get install -y postgresql-client \\\n#  && apt-get install -y mysql-client \\\n#  && :\\\n#  && apt-get install -y libc-client-dev \\\n#  && docker-php-ext-configure imap --with-kerberos --with-imap-ssl \\\n#  && docker-php-ext-install imap \\\n#  && :\\\n#  && apt-get install -y libldb-dev \\\n#  && apt-get install -y libldap2-dev \\\n#  && docker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu \\\n#  && docker-php-ext-install ldap \\\n#   Composer\nRUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/bin/ --filename=composer\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\nHEALTHCHECK CMD curl --fail http://127.0.0.1:80 || exit 1\n","originalDockerfile":"FROM php:7.2-fpm\n# COPY ./sources.list.stretch /etc/apt/sources.list\n#  Extensions: ctype, dom, fileinfo, ftp, hash, iconv, json, pdo, pdo_sqlite, session,\n#  tokenizer, simplexml, xml, xmlreader, xmlwriter and phar are bundled and compiled into\n#  PHP by default. If missing, install them directly by `docker-php-ext-install extension_name`\n#  Notice:\n#  1. Mcrypt was DEPRECATED in PHP 7.1.0, and REMOVED in PHP 7.2.0.\n#  2. opcache requires PHP version >= 7.0.0.\n#  3. soap requires libxml2-dev.\n#  4. xml, xmlrpc, wddx require libxml2-dev and libxslt-dev.\n#  5. Line `&& :\\` is just for better reading and do nothing.\nRUN apt-get update \\\n && apt-get install libfreetype6-dev libjpeg62-turbo-dev libpng-dev -y \\\n && docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/ \\\n && docker-php-ext-install gd \\\n && : \\\n && apt-get install libicu-dev -y \\\n && docker-php-ext-install intl \\\n && : \\\n && apt-get install libxml2-dev -y \\\n && apt-get install libxslt-dev -y \\\n && docker-php-ext-install soap \\\n && docker-php-ext-install xsl \\\n && docker-php-ext-install xmlrpc \\\n && docker-php-ext-install wddx \\\n && : \\\n && apt-get install libbz2-dev -y \\\n && docker-php-ext-install bz2 \\\n && : \\\n && docker-php-ext-install zip \\\n && docker-php-ext-install pcntl \\\n && docker-php-ext-install pdo_mysql \\\n && docker-php-ext-install mysqli \\\n && docker-php-ext-install mbstring \\\n && docker-php-ext-install exif \\\n && docker-php-ext-install bcmath \\\n && docker-php-ext-install calendar \\\n && docker-php-ext-install sockets \\\n && docker-php-ext-install gettext \\\n && docker-php-ext-install shmop \\\n && docker-php-ext-install sysvmsg \\\n && docker-php-ext-install sysvsem \\\n && docker-php-ext-install sysvshm \\\n && docker-php-ext-install opcache\n# && docker-php-ext-install pdo_firebird \\\n# && docker-php-ext-install pdo_dblib \\\n# && docker-php-ext-install pdo_oci \\\n# && docker-php-ext-install pdo_odbc \\\n# && docker-php-ext-install pdo_pgsql \\\n# && docker-php-ext-install pgsql \\\n# && docker-php-ext-install oci8 \\\n# && docker-php-ext-install odbc \\\n# && docker-php-ext-install dba \\\n# && docker-php-ext-install interbase \\\n# && :\\\n# && apt-get install -y libmcrypt-dev \\\n# && docker-php-ext-install mcrypt \\\n# && :\\\n# && apt-get install -y curl \\\n# && apt-get install -y libcurl3 \\\n# && apt-get install -y libcurl4-openssl-dev \\\n# && docker-php-ext-install curl \\\n# && :\\\n# && apt-get install -y libreadline-dev \\\n# && docker-php-ext-install readline \\\n# && :\\\n# && apt-get install -y libsnmp-dev \\\n# && apt-get install -y snmp \\\n# && docker-php-ext-install snmp \\\n# && :\\\n# && apt-get install -y libpspell-dev \\\n# && apt-get install -y aspell-en \\\n# && docker-php-ext-install pspell \\\n# && :\\\n# && apt-get install -y librecode0 \\\n# && apt-get install -y librecode-dev \\\n# && docker-php-ext-install recode \\\n# && :\\\n# && apt-get install -y libtidy-dev \\\n# && docker-php-ext-install tidy \\\n# && :\\\n# && apt-get install -y libgmp-dev \\\n# && ln -s /usr/include/x86_64-linux-gnu/gmp.h /usr/include/gmp.h \\\n# && docker-php-ext-install gmp \\\n# && :\\\n# && apt-get install -y postgresql-client \\\n# && apt-get install -y mysql-client \\\n# && :\\\n# && apt-get install -y libc-client-dev \\\n# && docker-php-ext-configure imap --with-kerberos --with-imap-ssl \\\n# && docker-php-ext-install imap \\\n# && :\\\n# && apt-get install -y libldb-dev \\\n# && apt-get install -y libldap2-dev \\\n# && docker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu \\\n# && docker-php-ext-install ldap \\\n#  Composer\nRUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/bin/ --filename=composer\n","injectedSmells":[],"originalDockerfileHash":"8b1ab9d3e752ddb8ba1d7f79c9b02484","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM php:7.2-fpm\n#  COPY ./sources.list.stretch /etc/apt/sources.list\n#   Extensions: ctype, dom, fileinfo, ftp, hash, iconv, json, pdo, pdo_sqlite, session,\n#   tokenizer, simplexml, xml, xmlreader, xmlwriter and phar are bundled and compiled into\n#   PHP by default. If missing, install them directly by `docker-php-ext-install extension_name`\n#   Notice:\n#   1. Mcrypt was DEPRECATED in PHP 7.1.0, and REMOVED in PHP 7.2.0.\n#   2. opcache requires PHP version >= 7.0.0.\n#   3. soap requires libxml2-dev.\n#   4. xml, xmlrpc, wddx require libxml2-dev and libxslt-dev.\n#   5. Line `&& :\\` is just for better reading and do nothing.\nRUN apt-get update \\\n && apt-get install libfreetype6-dev libjpeg62-turbo-dev libpng-dev -y \\\n && docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/ \\\n && docker-php-ext-install gd \\\n && : \\\n && apt-get install libicu-dev -y \\\n && docker-php-ext-install intl \\\n && : \\\n && apt-get install libxml2-dev -y \\\n && apt-get install libxslt-dev -y \\\n && docker-php-ext-install soap \\\n && docker-php-ext-install xsl \\\n && docker-php-ext-install xmlrpc \\\n && docker-php-ext-install wddx \\\n && : \\\n && apt-get install libbz2-dev -y \\\n && docker-php-ext-install bz2 \\\n && : \\\n && docker-php-ext-install zip \\\n && docker-php-ext-install pcntl \\\n && docker-php-ext-install pdo_mysql \\\n && docker-php-ext-install mysqli \\\n && docker-php-ext-install mbstring \\\n && docker-php-ext-install exif \\\n && docker-php-ext-install bcmath \\\n && docker-php-ext-install calendar \\\n && docker-php-ext-install sockets \\\n && docker-php-ext-install gettext \\\n && docker-php-ext-install shmop \\\n && docker-php-ext-install sysvmsg \\\n && docker-php-ext-install sysvsem \\\n && docker-php-ext-install sysvshm \\\n && docker-php-ext-install opcache\n#  && docker-php-ext-install pdo_firebird \\\n#  && docker-php-ext-install pdo_dblib \\\n#  && docker-php-ext-install pdo_oci \\\n#  && docker-php-ext-install pdo_odbc \\\n#  && docker-php-ext-install pdo_pgsql \\\n#  && docker-php-ext-install pgsql \\\n#  && docker-php-ext-install oci8 \\\n#  && docker-php-ext-install odbc \\\n#  && docker-php-ext-install dba \\\n#  && docker-php-ext-install interbase \\\n#  && :\\\n#  && apt-get install -y libmcrypt-dev \\\n#  && docker-php-ext-install mcrypt \\\n#  && :\\\n#  && apt-get install -y curl \\\n#  && apt-get install -y libcurl3 \\\n#  && apt-get install -y libcurl4-openssl-dev \\\n#  && docker-php-ext-install curl \\\n#  && :\\\n#  && apt-get install -y libreadline-dev \\\n#  && docker-php-ext-install readline \\\n#  && :\\\n#  && apt-get install -y libsnmp-dev \\\n#  && apt-get install -y snmp \\\n#  && docker-php-ext-install snmp \\\n#  && :\\\n#  && apt-get install -y libpspell-dev \\\n#  && apt-get install -y aspell-en \\\n#  && docker-php-ext-install pspell \\\n#  && :\\\n#  && apt-get install -y librecode0 \\\n#  && apt-get install -y librecode-dev \\\n#  && docker-php-ext-install recode \\\n#  && :\\\n#  && apt-get install -y libtidy-dev \\\n#  && docker-php-ext-install tidy \\\n#  && :\\\n#  && apt-get install -y libgmp-dev \\\n#  && ln -s /usr/include/x86_64-linux-gnu/gmp.h /usr/include/gmp.h \\\n#  && docker-php-ext-install gmp \\\n#  && :\\\n#  && apt-get install -y postgresql-client \\\n#  && apt-get install -y mysql-client \\\n#  && :\\\n#  && apt-get install -y libc-client-dev \\\n#  && docker-php-ext-configure imap --with-kerberos --with-imap-ssl \\\n#  && docker-php-ext-install imap \\\n#  && :\\\n#  && apt-get install -y libldb-dev \\\n#  && apt-get install -y libldap2-dev \\\n#  && docker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu \\\n#  && docker-php-ext-install ldap \\\n#   Composer\nRUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/bin/ --filename=composer\n","originalDockerfileUglifiedHash":"846704d0e3420e3bf3fe64d123ffca51","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/71b01dcbe9d370cb4c2f9e6160334b9ec213aea3.dockerfile"}