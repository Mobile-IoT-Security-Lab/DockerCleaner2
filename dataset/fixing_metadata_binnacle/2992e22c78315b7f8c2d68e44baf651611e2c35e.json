{"seed":700004146,"processedDockerfileHash":"8b3110b04b6ccb33ee419211f8544a72","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","use-copy-instead-of-add","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Dockerfile\n#\n#   Generate a Docker container With StoryPlayer.\n#\n#   Copyright (c) 2011-present Mediasift Ltd\n#   All rights reserved.\n#\n#   Redistribution and use in source and binary forms, with or without\n#   modification, are permitted provided that the following conditions\n#   are met:\n#\n#    # Redistributions of source code must retain the above copyright\n#       notice, this list of conditions and the following disclaimer.\n#\n#    # Redistributions in binary form must reproduce the above copyright\n#       notice, this list of conditions and the following disclaimer in\n#       the documentation and/or other materials provided with the\n#       distribution.\n#\n#    # Neither the names of the copyright holders nor the names of his\n#       contributors may be used to endorse or promote products derived\n#       from this software without specific prior written permission.\n#\n#   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n#   \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n#   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS\n#   FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n#   COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n#   INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n#   BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n#   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n#   CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\n#   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN\n#   ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n#   POSSIBILITY OF SUCH DAMAGE.\n#\n#   @category  Libraries\n#   @package   Storyplayer\n#   @author    Nicola Asuni <nicola.asuni@datasift.com>\n#   @copyright 2011-present Mediasift Ltd www.datasift.com\n#   @license   http://www.opensource.org/licenses/bsd-license.php  BSD License\n#   @link      http://datasift.github.io/storyplayer\n#   ------------------------------------------------------------------------------\n#   ------------------------------------------------------------------------------\n#   NOTES:\n#\n#   This script requires Docker (https://www.docker.com/)\n#\n#   Add your user to the \"docker\" group:\n#       sudo groupadd docker\n#       sudo gpasswd -a <YOURUSER> docker\n#       sudo service docker.io restart\n#\n#   To create the container execute:\n#       docker build --tag=\"datasift/storyplayer:latest\" .\n#\n#   To log into the newly created container:\n#       docker run -t -i datasift:storyplayer /bin/bash\n#\n#   To get the container ID:\n#       CONTAINER_ID=`docker ps -a | grep datasift:storyplayer | cut -c1-12`\n#\n#   To delete the newly created docker container:\n#       docker rm -f $CONTAINER_ID\n#\n#   To delete the docker image:\n#       docker rmi -f datasift:storyplayer\n#\n#   To delete all docker images:\n#       docker rmi -f `docker images -q`\n#   ------------------------------------------------------------------------------\nFROM ubuntu:trusty\nMAINTAINER nicola.asuni@datasift.com\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV TERM=\"linux\"\nRUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections\n#   configure ssh to disable strict host checking\nRUN mkdir /root/.ssh\nRUN echo \"Host *\" > /root/.ssh/config\nRUN echo \" StrictHostKeyChecking no\" >> /root/.ssh/config\nRUN : \\\n && apt-get -y dist-upgrade\nRUN (apt-get update ;apt-get install --no-install-recommends build-essential=11.6ubuntu6 pkg-config=0.26-1ubuntu4 openssh-server=1:6.6p1-2ubuntu2.13 openssh-client=1:6.6p1-2ubuntu2.13 wget=1.15-1ubuntu1.14.04.5 curl=7.35.0-1ubuntu2.20 rsync=3.1.0-2ubuntu0.4 libzmq3-dev=4.0.4+dfsg-2ubuntu0.1 libzmq3=4.0.4+dfsg-2ubuntu0.1 git=1:1.9.1-1ubuntu0.10 screen=4.1.0~20120320gitdb59704-9 ansible=1.5.4+dfsg-1 python=2.7.5-5ubuntu3 php5=5.5.9+dfsg-1ubuntu4.29 php5-dev=5.5.9+dfsg-1ubuntu4.29 php5-cli=5.5.9+dfsg-1ubuntu4.29 php5-common=5.5.9+dfsg-1ubuntu4.29 php5-curl=5.5.9+dfsg-1ubuntu4.29 php5-json=1.3.2-2build1 php5-xsl=5.5.9+dfsg-1ubuntu4.29 php-pear=5.5.9+dfsg-1ubuntu4.29 libyaml-dev=0.1.4-3ubuntu3.1 ruby-dev=1:1.9.3.4 re2c=0.13.5-1build2 -y )\nRUN yes '' | pecl install -f yaml-beta\nRUN yes '' | pecl install -f zmq-beta\nRUN echo \"extension=yaml.so\" > /etc/php5/cli/conf.d/20-yaml.ini\nRUN echo \"extension=zmq.so\" > /etc/php5/cli/conf.d/20-zmq.ini\nRUN echo \"extension=yaml.so\" > /etc/php5/apache2/conf.d/20-yaml.ini\nRUN echo \"extension=zmq.so\" > /etc/php5/apache2/conf.d/20-zmq.ini\n#   install Vagrant\nENV VAGRANT_HOME=\"/root/.vagrant.d\"\nRUN cd /tmp \\\n && wget --no-check-certificate https://dl.bintray.com/mitchellh/vagrant/vagrant_1.7.4_x86_64.deb \\\n && dpkg -i vagrant_1.7.4_x86_64.deb \\\n && (apt-get update ;apt-get install --no-install-recommends -y -f )\nRUN vagrant plugin install vagrant-omnibus\nRUN vagrant plugin install vagrant-openstack-plugin\nRUN vagrant plugin install vagrant-aws\n#   install composer\nRUN cd /var/www \\\n && curl -sS https://getcomposer.org/installer | php \\\n && mv composer.phar /usr/bin/composer\n#   install StoryPlayer\nCOPY . /var/www/storyplayer\nRUN cd /var/www/storyplayer \\\n && composer install\nENV PATH=\"/var/www/storyplayer/src/bin:$PATH\"\n#   install the StoryPlayer Browser module\nRUN cd /var/www/storyplayer \\\n && storyplayer install\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Dockerfile\n#\n#  Generate a Docker container With StoryPlayer.\n#\n#  Copyright (c) 2011-present Mediasift Ltd\n#  All rights reserved.\n#\n#  Redistribution and use in source and binary forms, with or without\n#  modification, are permitted provided that the following conditions\n#  are met:\n#\n#   # Redistributions of source code must retain the above copyright\n#      notice, this list of conditions and the following disclaimer.\n#\n#   # Redistributions in binary form must reproduce the above copyright\n#      notice, this list of conditions and the following disclaimer in\n#      the documentation and/or other materials provided with the\n#      distribution.\n#\n#   # Neither the names of the copyright holders nor the names of his\n#      contributors may be used to endorse or promote products derived\n#      from this software without specific prior written permission.\n#\n#  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n#  \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n#  LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS\n#  FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n#  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n#  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n#  BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n#  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n#  CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\n#  LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN\n#  ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n#  POSSIBILITY OF SUCH DAMAGE.\n#\n#  @category  Libraries\n#  @package   Storyplayer\n#  @author    Nicola Asuni <nicola.asuni@datasift.com>\n#  @copyright 2011-present Mediasift Ltd www.datasift.com\n#  @license   http://www.opensource.org/licenses/bsd-license.php  BSD License\n#  @link      http://datasift.github.io/storyplayer\n#  ------------------------------------------------------------------------------\n#  ------------------------------------------------------------------------------\n#  NOTES:\n#\n#  This script requires Docker (https://www.docker.com/)\n#\n#  Add your user to the \"docker\" group:\n#      sudo groupadd docker\n#      sudo gpasswd -a <YOURUSER> docker\n#      sudo service docker.io restart\n#\n#  To create the container execute:\n#      docker build --tag=\"datasift/storyplayer:latest\" .\n#\n#  To log into the newly created container:\n#      docker run -t -i datasift:storyplayer /bin/bash\n#\n#  To get the container ID:\n#      CONTAINER_ID=`docker ps -a | grep datasift:storyplayer | cut -c1-12`\n#\n#  To delete the newly created docker container:\n#      docker rm -f $CONTAINER_ID\n#\n#  To delete the docker image:\n#      docker rmi -f datasift:storyplayer\n#\n#  To delete all docker images:\n#      docker rmi -f `docker images -q`\n#  ------------------------------------------------------------------------------\nFROM ubuntu:trusty\nMAINTAINER nicola.asuni@datasift.com\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV TERM=\"linux\"\nRUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections\n#  configure ssh to disable strict host checking\nRUN mkdir /root/.ssh\nRUN echo \"Host *\" > /root/.ssh/config\nRUN echo \" StrictHostKeyChecking no\" >> /root/.ssh/config\nRUN apt-get update \\\n && apt-get -y dist-upgrade\nRUN apt-get install build-essential pkg-config openssh-server openssh-client wget curl rsync libzmq3-dev libzmq3 git screen ansible python php5 php5-dev php5-cli php5-common php5-curl php5-json php5-xsl php-pear libyaml-dev ruby-dev re2c -y\nRUN yes '' | pecl install -f yaml-beta\nRUN yes '' | pecl install -f zmq-beta\nRUN echo \"extension=yaml.so\" > /etc/php5/cli/conf.d/20-yaml.ini\nRUN echo \"extension=zmq.so\" > /etc/php5/cli/conf.d/20-zmq.ini\nRUN echo \"extension=yaml.so\" > /etc/php5/apache2/conf.d/20-yaml.ini\nRUN echo \"extension=zmq.so\" > /etc/php5/apache2/conf.d/20-zmq.ini\n#  install Vagrant\nENV VAGRANT_HOME=\"/root/.vagrant.d\"\nRUN cd /tmp \\\n && wget --no-check-certificate https://dl.bintray.com/mitchellh/vagrant/vagrant_1.7.4_x86_64.deb \\\n && dpkg -i vagrant_1.7.4_x86_64.deb \\\n && apt-get install -y -f\nRUN vagrant plugin install vagrant-omnibus\nRUN vagrant plugin install vagrant-openstack-plugin\nRUN vagrant plugin install vagrant-aws\n#  install composer\nRUN cd /var/www \\\n && curl -sS https://getcomposer.org/installer | php \\\n && mv composer.phar /usr/bin/composer\n#  install StoryPlayer\nADD . /var/www/storyplayer\nRUN cd /var/www/storyplayer \\\n && composer install\nENV PATH=\"/var/www/storyplayer/src/bin:$PATH\"\n#  install the StoryPlayer Browser module\nRUN cd /var/www/storyplayer \\\n && storyplayer install\n","injectedSmells":[],"originalDockerfileHash":"fc5a299f332d94f174d639fe29b93732","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Dockerfile\n#\n#   Generate a Docker container With StoryPlayer.\n#\n#   Copyright (c) 2011-present Mediasift Ltd\n#   All rights reserved.\n#\n#   Redistribution and use in source and binary forms, with or without\n#   modification, are permitted provided that the following conditions\n#   are met:\n#\n#    # Redistributions of source code must retain the above copyright\n#       notice, this list of conditions and the following disclaimer.\n#\n#    # Redistributions in binary form must reproduce the above copyright\n#       notice, this list of conditions and the following disclaimer in\n#       the documentation and/or other materials provided with the\n#       distribution.\n#\n#    # Neither the names of the copyright holders nor the names of his\n#       contributors may be used to endorse or promote products derived\n#       from this software without specific prior written permission.\n#\n#   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n#   \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n#   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS\n#   FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n#   COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n#   INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n#   BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n#   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n#   CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\n#   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN\n#   ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n#   POSSIBILITY OF SUCH DAMAGE.\n#\n#   @category  Libraries\n#   @package   Storyplayer\n#   @author    Nicola Asuni <nicola.asuni@datasift.com>\n#   @copyright 2011-present Mediasift Ltd www.datasift.com\n#   @license   http://www.opensource.org/licenses/bsd-license.php  BSD License\n#   @link      http://datasift.github.io/storyplayer\n#   ------------------------------------------------------------------------------\n#   ------------------------------------------------------------------------------\n#   NOTES:\n#\n#   This script requires Docker (https://www.docker.com/)\n#\n#   Add your user to the \"docker\" group:\n#       sudo groupadd docker\n#       sudo gpasswd -a <YOURUSER> docker\n#       sudo service docker.io restart\n#\n#   To create the container execute:\n#       docker build --tag=\"datasift/storyplayer:latest\" .\n#\n#   To log into the newly created container:\n#       docker run -t -i datasift:storyplayer /bin/bash\n#\n#   To get the container ID:\n#       CONTAINER_ID=`docker ps -a | grep datasift:storyplayer | cut -c1-12`\n#\n#   To delete the newly created docker container:\n#       docker rm -f $CONTAINER_ID\n#\n#   To delete the docker image:\n#       docker rmi -f datasift:storyplayer\n#\n#   To delete all docker images:\n#       docker rmi -f `docker images -q`\n#   ------------------------------------------------------------------------------\nFROM ubuntu:trusty\nMAINTAINER nicola.asuni@datasift.com\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV TERM=\"linux\"\nRUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections\n#   configure ssh to disable strict host checking\nRUN mkdir /root/.ssh\nRUN echo \"Host *\" > /root/.ssh/config\nRUN echo \" StrictHostKeyChecking no\" >> /root/.ssh/config\nRUN apt-get update \\\n && apt-get -y dist-upgrade\nRUN apt-get install build-essential pkg-config openssh-server openssh-client wget curl rsync libzmq3-dev libzmq3 git screen ansible python php5 php5-dev php5-cli php5-common php5-curl php5-json php5-xsl php-pear libyaml-dev ruby-dev re2c -y\nRUN yes '' | pecl install -f yaml-beta\nRUN yes '' | pecl install -f zmq-beta\nRUN echo \"extension=yaml.so\" > /etc/php5/cli/conf.d/20-yaml.ini\nRUN echo \"extension=zmq.so\" > /etc/php5/cli/conf.d/20-zmq.ini\nRUN echo \"extension=yaml.so\" > /etc/php5/apache2/conf.d/20-yaml.ini\nRUN echo \"extension=zmq.so\" > /etc/php5/apache2/conf.d/20-zmq.ini\n#   install Vagrant\nENV VAGRANT_HOME=\"/root/.vagrant.d\"\nRUN cd /tmp \\\n && wget --no-check-certificate https://dl.bintray.com/mitchellh/vagrant/vagrant_1.7.4_x86_64.deb \\\n && dpkg -i vagrant_1.7.4_x86_64.deb \\\n && apt-get install -y -f\nRUN vagrant plugin install vagrant-omnibus\nRUN vagrant plugin install vagrant-openstack-plugin\nRUN vagrant plugin install vagrant-aws\n#   install composer\nRUN cd /var/www \\\n && curl -sS https://getcomposer.org/installer | php \\\n && mv composer.phar /usr/bin/composer\n#   install StoryPlayer\nADD . /var/www/storyplayer\nRUN cd /var/www/storyplayer \\\n && composer install\nENV PATH=\"/var/www/storyplayer/src/bin:$PATH\"\n#   install the StoryPlayer Browser module\nRUN cd /var/www/storyplayer \\\n && storyplayer install\n","originalDockerfileUglifiedHash":"86cbd4dd6052d8d5a78adf987ce6f21a","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/2992e22c78315b7f8c2d68e44baf651611e2c35e.dockerfile"}