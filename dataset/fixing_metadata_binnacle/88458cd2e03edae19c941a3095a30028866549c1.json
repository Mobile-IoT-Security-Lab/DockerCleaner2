{"seed":144459952,"processedDockerfileHash":"f8981f2f689009058c6a25b14473cf1c","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Copyright 2018 Víctor Mayoral Vilches - All Rights Reserved\n#\n#   Unauthorized copying of this file, via any medium is strictly prohibited\n#   without previous consent.\n#   Default, 64 bit image\n#   FROM ubuntu:16.04\n#   # 32 bit image\nFROM i686/ubuntu\n#  --------------------\n#   General setup\n#  --------------------\n#   setup environment\nENV LANG=\"C.UTF-8\"\nENV LC_ALL=\"C.UTF-8\"\nWORKDIR /root\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends binutils=2.40-2ubuntu3 gcc=4:12.2.0-3ubuntu1 gdb=13.1-2ubuntu2 -y )\nRUN :\n#   Utilities for the hack\nRUN (apt-get update ;apt-get install --no-install-recommends vim=2:9.0.1000-4ubuntu2 less=590-1.2 python3=3.11.2-1 python wget=1.21.3-1ubuntu1 bsdmainutils=12.1.7+nmu3ubuntu2 tcpdump=4.99.3-1ubuntu1 net-tools=2.10-0.1ubuntu3 -y )\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends git=1:2.39.2-1ubuntu1 cowsay=3.03+dfsg2-8 -y )\n#  --------------------\n#   Set up proper (comfortable) gdb environment\n#  --------------------\nRUN wget -P ~ git.io/.gdbinit\n#   # SELECT ONE OR THE OTHER\n#   # Or, set up the Python Exploit Development Assistance for GDB (PEDA)\n#   RUN git clone https://github.com/longld/peda.git\n#   RUN echo \"source /root/peda/peda.py\" >> /root/.gdbinit\n#  --------------------\n#   Set up checksec\n#  --------------------\nRUN git clone https://github.com/slimm609/checksec.sh\n#   RUN export PATH=\"/root/checksec.sh\":$PATH\n#  --------------------\n#   Set up rp++\n#  --------------------\nRUN wget https://github.com/downloads/0vercl0k/rp/rp-lin-x86\nRUN mv rp-lin-x86 rp++\nRUN chmod +x rp++\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends netcat -y )\n#   #--------------------\n#   # Set up python3-pwntools\n#   #--------------------\n#   RUN apt-get install -y python3-dev python3-pip\n#   RUN pip3 install --upgrade pip\n#   RUN pip3 install --upgrade git+https://github.com/arthaud/python3-pwntools.git\n#  --------------------\n#   Set up pwntools\n#  --------------------\n#   Install packages\nRUN :\nRUN apt-get upgrade -y\nRUN (apt-get update ;apt-get install --no-install-recommends software-properties-common=0.99.35 -y ) \\\n && apt-add-repository -y ppa:pwntools/binutils \\\n && apt-add-repository -y ppa:fkrull/deadsnakes-python2.7\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends binutils-arm-linux-gnu binutils-i386-linux-gnu binutils-mips-linux-gnu=2.40-2ubuntu1cross2 binutils-mips64-linux-gnu -y )\nRUN (apt-get update ;apt-get install --no-install-recommends git=1:2.39.2-1ubuntu1 python2.7=2.7.18-13ubuntu2 python-pip python-dev libffi-dev=3.4.4-1 libssl-dev=3.0.8-1ubuntu1 -y --force-yes )\nRUN pip install setuptools==67.6.1 --upgrade\nRUN pip install requests==2.28.2\nRUN groupadd -r pwntools\nRUN useradd -mrg pwntools pwntools\nRUN rm -rf /var/lib/apt/lists/*\n#   Install pwntools\nRUN git clone -b 3.7.1 https://github.com/Gallopsled/pwntools.git \\\n && pip install --upgrade --editable pwntools\n#   Install z3\nRUN git clone https://github.com/Z3Prover/z3.git \\\n && cd z3 \\\n && python scripts/mk_make.py --python \\\n && cd build \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf z3\n#  --------------------\n#   Copy source files\n#  --------------------\n#   COPY client.c /root\n#  --------------------\n#   Compile code\n#  --------------------\n#   RUN gcc client.c -g -o client -fno-stack-protector -z execstack\n#  --------------------\n#   Entry point\n#  --------------------\nCMD [\"bash\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Copyright 2018 Víctor Mayoral Vilches - All Rights Reserved\n#\n#  Unauthorized copying of this file, via any medium is strictly prohibited\n#  without previous consent.\n#  Default, 64 bit image\n#  FROM ubuntu:16.04\n#  # 32 bit image\nFROM i686/ubuntu\n# --------------------\n#  General setup\n# --------------------\n#  setup environment\nENV LANG=\"C.UTF-8\"\nENV LC_ALL=\"C.UTF-8\"\nWORKDIR /root\nRUN apt-get update\nRUN apt-get install binutils gcc gdb -y\nRUN apt-get update\n#  Utilities for the hack\nRUN apt-get install vim less python3 python wget bsdmainutils tcpdump net-tools -y\nRUN apt-get update\nRUN apt-get install git cowsay -y\n# --------------------\n#  Set up proper (comfortable) gdb environment\n# --------------------\nRUN wget -P ~ git.io/.gdbinit\n#  # SELECT ONE OR THE OTHER\n#  # Or, set up the Python Exploit Development Assistance for GDB (PEDA)\n#  RUN git clone https://github.com/longld/peda.git\n#  RUN echo \"source /root/peda/peda.py\" >> /root/.gdbinit\n# --------------------\n#  Set up checksec\n# --------------------\nRUN git clone https://github.com/slimm609/checksec.sh\n#  RUN export PATH=\"/root/checksec.sh\":$PATH\n# --------------------\n#  Set up rp++\n# --------------------\nRUN wget https://github.com/downloads/0vercl0k/rp/rp-lin-x86\nRUN mv rp-lin-x86 rp++\nRUN chmod +x rp++\nRUN apt-get update\nRUN apt-get install netcat -y\n#  #--------------------\n#  # Set up python3-pwntools\n#  #--------------------\n#  RUN apt-get install -y python3-dev python3-pip\n#  RUN pip3 install --upgrade pip\n#  RUN pip3 install --upgrade git+https://github.com/arthaud/python3-pwntools.git\n# --------------------\n#  Set up pwntools\n# --------------------\n#  Install packages\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install software-properties-common -y \\\n && apt-add-repository -y ppa:pwntools/binutils \\\n && apt-add-repository -y ppa:fkrull/deadsnakes-python2.7\nRUN apt-get update\nRUN apt-get install binutils-arm-linux-gnu binutils-i386-linux-gnu binutils-mips-linux-gnu binutils-mips64-linux-gnu -y\nRUN apt-get install git python2.7 python-pip python-dev libffi-dev libssl-dev -y --force-yes\nRUN pip install setuptools --upgrade\nRUN pip install requests\nRUN groupadd -r pwntools\nRUN useradd -mrg pwntools pwntools\nRUN rm -rf /var/lib/apt/lists/*\n#  Install pwntools\nRUN git clone -b 3.7.1 https://github.com/Gallopsled/pwntools.git \\\n && pip install --upgrade --editable pwntools\n#  Install z3\nRUN git clone https://github.com/Z3Prover/z3.git \\\n && cd z3 \\\n && python scripts/mk_make.py --python \\\n && cd build \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf z3\n# --------------------\n#  Copy source files\n# --------------------\n#  COPY client.c /root\n# --------------------\n#  Compile code\n# --------------------\n#  RUN gcc client.c -g -o client -fno-stack-protector -z execstack\n# --------------------\n#  Entry point\n# --------------------\nCMD [\"bash\"]\n","injectedSmells":[],"originalDockerfileHash":"50f5c2f0f2852d7ce61adacd089c48b0","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Copyright 2018 Víctor Mayoral Vilches - All Rights Reserved\n#\n#   Unauthorized copying of this file, via any medium is strictly prohibited\n#   without previous consent.\n#   Default, 64 bit image\n#   FROM ubuntu:16.04\n#   # 32 bit image\nFROM i686/ubuntu\n#  --------------------\n#   General setup\n#  --------------------\n#   setup environment\nENV LANG=\"C.UTF-8\"\nENV LC_ALL=\"C.UTF-8\"\nWORKDIR /root\nRUN apt-get update\nRUN apt-get install binutils gcc gdb -y\nRUN apt-get update\n#   Utilities for the hack\nRUN apt-get install vim less python3 python wget bsdmainutils tcpdump net-tools -y\nRUN apt-get update\nRUN apt-get install git cowsay -y\n#  --------------------\n#   Set up proper (comfortable) gdb environment\n#  --------------------\nRUN wget -P ~ git.io/.gdbinit\n#   # SELECT ONE OR THE OTHER\n#   # Or, set up the Python Exploit Development Assistance for GDB (PEDA)\n#   RUN git clone https://github.com/longld/peda.git\n#   RUN echo \"source /root/peda/peda.py\" >> /root/.gdbinit\n#  --------------------\n#   Set up checksec\n#  --------------------\nRUN git clone https://github.com/slimm609/checksec.sh\n#   RUN export PATH=\"/root/checksec.sh\":$PATH\n#  --------------------\n#   Set up rp++\n#  --------------------\nRUN wget https://github.com/downloads/0vercl0k/rp/rp-lin-x86\nRUN mv rp-lin-x86 rp++\nRUN chmod +x rp++\nRUN apt-get update\nRUN apt-get install netcat -y\n#   #--------------------\n#   # Set up python3-pwntools\n#   #--------------------\n#   RUN apt-get install -y python3-dev python3-pip\n#   RUN pip3 install --upgrade pip\n#   RUN pip3 install --upgrade git+https://github.com/arthaud/python3-pwntools.git\n#  --------------------\n#   Set up pwntools\n#  --------------------\n#   Install packages\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install software-properties-common -y \\\n && apt-add-repository -y ppa:pwntools/binutils \\\n && apt-add-repository -y ppa:fkrull/deadsnakes-python2.7\nRUN apt-get update\nRUN apt-get install binutils-arm-linux-gnu binutils-i386-linux-gnu binutils-mips-linux-gnu binutils-mips64-linux-gnu -y\nRUN apt-get install git python2.7 python-pip python-dev libffi-dev libssl-dev -y --force-yes\nRUN pip install setuptools --upgrade\nRUN pip install requests\nRUN groupadd -r pwntools\nRUN useradd -mrg pwntools pwntools\nRUN rm -rf /var/lib/apt/lists/*\n#   Install pwntools\nRUN git clone -b 3.7.1 https://github.com/Gallopsled/pwntools.git \\\n && pip install --upgrade --editable pwntools\n#   Install z3\nRUN git clone https://github.com/Z3Prover/z3.git \\\n && cd z3 \\\n && python scripts/mk_make.py --python \\\n && cd build \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf z3\n#  --------------------\n#   Copy source files\n#  --------------------\n#   COPY client.c /root\n#  --------------------\n#   Compile code\n#  --------------------\n#   RUN gcc client.c -g -o client -fno-stack-protector -z execstack\n#  --------------------\n#   Entry point\n#  --------------------\nCMD [\"bash\"]\n","originalDockerfileUglifiedHash":"d478bf715d8ca667031ecd0094498758","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/88458cd2e03edae19c941a3095a30028866549c1.dockerfile"}