{"seed":3785296445,"processedDockerfileHash":"df8fb44b3db138d67e2593bd139d1298","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","have-a-healthcheck"],"processedDockerfile":"#  ############################# Dockerfile ###################################\nFROM java:7\n#  ##################################### METADATA ##############################\nLABEL base_image=\"biocontainers:latest\" \\\n      version=\"2\" \\\n      software=\"gatk\" \\\n      software.version=\"3.4\" \\\n      about.summary=\"The Genome Analysis Toolkit or GATK is a software package developed at the Broad Institute to analyze high-throughput sequencing data.\" \\\n      about.home=\"https://www.broadinstitute.org/gatk/|https://github.com/broadgsa/gatk-protected/\" \\\n      about.license_file=\"https://github.com/broadgsa/gatk-protected/blob/master/licensing/protected_license.txt\" \\\n      about.license=\"SPDX:BSD-3-Clause\" \\\n      about.tags=\"Genomics\" \\\n      extra.identifiers.biotools=\"gatk\" \\\n      extra.binaries=\"GenomeAnalysisTK\" \\\n      about.provides=\"gatk 3.4|samtools 1.2|bwakit 0.7.12|picard tools 1.139\"\n#   Set noninterative mode\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  ################# BEGIN INSTALLATION ######################\n#\n#   Change to root\n#\nUSER root\n#\n#   INSTALL MAVEN\n#\nRUN apt-get update -qq \\\n && apt-get install --no-install-recommends libncurses5-dev libncursesw5-dev build-essential bzip2 zlib1g-dev maven -y -q --fix-missing \\\n && apt-get clean \\\n && apt-get purge \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* \\\n && mkdir /data /config\n#\n#   INSTALL SAMTOOLS\n#\nENV ZIP=\"samtools-1.2.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/samtools\"\nENV FOLDER=\"samtools-1.2\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n#\n#   Add biodocker user with password biodocker\n#\nRUN useradd --create-home --shell /bin/bash --user-group --uid 1000 --groups sudo biodocker \\\n && echo `echo \"biodocker\\\\nbiodocker\\\\n\" | passwd biodocker `\n#\n#   Change user\n#\nUSER biodocker\n#\n#   Create $HOME/bin folder\n#\nRUN mkdir -p /home/biodocker/bin\n#\n#   Add $HOME/bin to path\n#\nENV PATH=\"$PATH:/home/biodocker/bin\"\nENV HOME=\"/home/biodocker\"\n#\n#   INSTALL BWA\n#\nENV ZIP=\"bwakit-0.7.12_x64-linux.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/bwa\"\nENV FOLDER=\"bwa.kit\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP --strip-components=1 -C $DST \\\n && rm $DST/$ZIP\n#\n#   INSTALL PICARD\n#\nENV ZIP=\"picard-tools-1.139.zip\"\nENV URL=\"https://github.com/broadinstitute/picard/releases/download/1.139/\"\nENV FOLDER=\"picard-tools-1.139\"\nENV DST=\"/home/biodocker/bin/\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && unzip $DST/$ZIP -d $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && mv * .. \\\n && cd / \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST'/picard.jar \\$@\" > '$DST'/picard' \\\n && chmod +x $DST/picard \\\n && rm -rf $DST/$FOLDER\n#\n#   INSTALL GATK\n#\n#   download and build GATK from current master\nENV SHA=\"f19618653a0d23baaf147efe7f14aeb4eeb0cbb8\"\nENV DST=\"/home/biodocker/bin\"\nENV FOLDER=\"gatk\"\nRUN git clone https://github.com/broadgsa/gatk-protected.git $DST/$FOLDER \\\n && cd $DST/$FOLDER \\\n && git reset --hard $SHA \\\n && mvn verify \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST/$FOLDER'/target/GenomeAnalysisTK.jar \\$@\" > '$DST'/GenomeAnalysisTK' \\\n && chmod +x $DST/GenomeAnalysisTK\nENV PATH=\"/usr/lib/jvm/java-7-openjdk-amd64/bin:$PATH\"\n#  ENV JAVABIN=/usr/lib/jvm/java-7-openjdk-amd64/bin/java\n#  ENTRYPOINT [\"java\", \"-jar\", \"$DST/target/GenomeAnalysisTK.jar\"]\n#\n#   Share default volumes\n#\nVOLUME [\"/data\", \"/config\"]\n#   CMD [\"GenomeAnalysisTK\"]\n#  #################### INSTALLATION END #####################\n#   File Author / Maintainer\nMAINTAINER Saulo Alves Aflitos <sauloal@gmail.com>\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# ############################# Dockerfile ###################################\nFROM java:7\n# ##################################### METADATA ##############################\nLABEL base_image=\"biocontainers:latest\" \\\n      version=\"2\" \\\n      software=\"gatk\" \\\n      software.version=\"3.4\" \\\n      about.summary=\"The Genome Analysis Toolkit or GATK is a software package developed at the Broad Institute to analyze high-throughput sequencing data.\" \\\n      about.home=\"https://www.broadinstitute.org/gatk/|https://github.com/broadgsa/gatk-protected/\" \\\n      about.license_file=\"https://github.com/broadgsa/gatk-protected/blob/master/licensing/protected_license.txt\" \\\n      about.license=\"SPDX:BSD-3-Clause\" \\\n      about.tags=\"Genomics\" \\\n      extra.identifiers.biotools=\"gatk\" \\\n      extra.binaries=\"GenomeAnalysisTK\" \\\n      about.provides=\"gatk 3.4|samtools 1.2|bwakit 0.7.12|picard tools 1.139\"\n#  Set noninterative mode\nENV DEBIAN_FRONTEND=\"noninteractive\"\n# ################# BEGIN INSTALLATION ######################\n#\n#  Change to root\n#\nUSER root\n#\n#  INSTALL MAVEN\n#\nRUN apt-get update -qq \\\n && apt-get install libncurses5-dev libncursesw5-dev build-essential bzip2 zlib1g-dev maven -y -q --fix-missing \\\n && apt-get clean \\\n && apt-get purge \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* \\\n && mkdir /data /config\n#\n#  INSTALL SAMTOOLS\n#\nENV ZIP=\"samtools-1.2.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/samtools\"\nENV FOLDER=\"samtools-1.2\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n#\n#  Add biodocker user with password biodocker\n#\nRUN useradd --create-home --shell /bin/bash --user-group --uid 1000 --groups sudo biodocker \\\n && echo `echo \"biodocker\\\\nbiodocker\\\\n\" | passwd biodocker `\n#\n#  Change user\n#\nUSER biodocker\n#\n#  Create $HOME/bin folder\n#\nRUN mkdir -p /home/biodocker/bin\n#\n#  Add $HOME/bin to path\n#\nENV PATH=\"$PATH:/home/biodocker/bin\"\nENV HOME=\"/home/biodocker\"\n#\n#  INSTALL BWA\n#\nENV ZIP=\"bwakit-0.7.12_x64-linux.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/bwa\"\nENV FOLDER=\"bwa.kit\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP --strip-components=1 -C $DST \\\n && rm $DST/$ZIP\n#\n#  INSTALL PICARD\n#\nENV ZIP=\"picard-tools-1.139.zip\"\nENV URL=\"https://github.com/broadinstitute/picard/releases/download/1.139/\"\nENV FOLDER=\"picard-tools-1.139\"\nENV DST=\"/home/biodocker/bin/\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && unzip $DST/$ZIP -d $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && mv * .. \\\n && cd / \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST'/picard.jar \\$@\" > '$DST'/picard' \\\n && chmod +x $DST/picard \\\n && rm -rf $DST/$FOLDER\n#\n#  INSTALL GATK\n#\n#  download and build GATK from current master\nENV SHA=\"f19618653a0d23baaf147efe7f14aeb4eeb0cbb8\"\nENV DST=\"/home/biodocker/bin\"\nENV FOLDER=\"gatk\"\nRUN git clone https://github.com/broadgsa/gatk-protected.git $DST/$FOLDER \\\n && cd $DST/$FOLDER \\\n && git reset --hard $SHA \\\n && mvn verify \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST/$FOLDER'/target/GenomeAnalysisTK.jar \\$@\" > '$DST'/GenomeAnalysisTK' \\\n && chmod +x $DST/GenomeAnalysisTK\nENV PATH=\"/usr/lib/jvm/java-7-openjdk-amd64/bin:$PATH\"\n# ENV JAVABIN=/usr/lib/jvm/java-7-openjdk-amd64/bin/java\n# ENTRYPOINT [\"java\", \"-jar\", \"$DST/target/GenomeAnalysisTK.jar\"]\n#\n#  Share default volumes\n#\nVOLUME [\"/data\", \"/config\"]\n#  CMD [\"GenomeAnalysisTK\"]\n# #################### INSTALLATION END #####################\n#  File Author / Maintainer\nMAINTAINER Saulo Alves Aflitos <sauloal@gmail.com>\n","injectedSmells":[],"originalDockerfileHash":"f603cee8cab213e8e2986d6ee19f0a3d","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  ############################# Dockerfile ###################################\nFROM java:7\n#  ##################################### METADATA ##############################\nLABEL base_image=\"biocontainers:latest\" \\\n      version=\"2\" \\\n      software=\"gatk\" \\\n      software.version=\"3.4\" \\\n      about.summary=\"The Genome Analysis Toolkit or GATK is a software package developed at the Broad Institute to analyze high-throughput sequencing data.\" \\\n      about.home=\"https://www.broadinstitute.org/gatk/|https://github.com/broadgsa/gatk-protected/\" \\\n      about.license_file=\"https://github.com/broadgsa/gatk-protected/blob/master/licensing/protected_license.txt\" \\\n      about.license=\"SPDX:BSD-3-Clause\" \\\n      about.tags=\"Genomics\" \\\n      extra.identifiers.biotools=\"gatk\" \\\n      extra.binaries=\"GenomeAnalysisTK\" \\\n      about.provides=\"gatk 3.4|samtools 1.2|bwakit 0.7.12|picard tools 1.139\"\n#   Set noninterative mode\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  ################# BEGIN INSTALLATION ######################\n#\n#   Change to root\n#\nUSER root\n#\n#   INSTALL MAVEN\n#\nRUN apt-get update -qq \\\n && apt-get install libncurses5-dev libncursesw5-dev build-essential bzip2 zlib1g-dev maven -y -q --fix-missing \\\n && apt-get clean \\\n && apt-get purge \\\n && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* \\\n && mkdir /data /config\n#\n#   INSTALL SAMTOOLS\n#\nENV ZIP=\"samtools-1.2.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/samtools\"\nENV FOLDER=\"samtools-1.2\"\nENV DST=\"/tmp\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP -C $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && make \\\n && make install \\\n && cd / \\\n && rm -rf $DST/$FOLDER\n#\n#   Add biodocker user with password biodocker\n#\nRUN useradd --create-home --shell /bin/bash --user-group --uid 1000 --groups sudo biodocker \\\n && echo `echo \"biodocker\\\\nbiodocker\\\\n\" | passwd biodocker `\n#\n#   Change user\n#\nUSER biodocker\n#\n#   Create $HOME/bin folder\n#\nRUN mkdir -p /home/biodocker/bin\n#\n#   Add $HOME/bin to path\n#\nENV PATH=\"$PATH:/home/biodocker/bin\"\nENV HOME=\"/home/biodocker\"\n#\n#   INSTALL BWA\n#\nENV ZIP=\"bwakit-0.7.12_x64-linux.tar.bz2\"\nENV URL=\"https://github.com/BioDocker/software-archive/releases/download/bwa\"\nENV FOLDER=\"bwa.kit\"\nENV DST=\"/home/biodocker/bin\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && tar xvf $DST/$ZIP --strip-components=1 -C $DST \\\n && rm $DST/$ZIP\n#\n#   INSTALL PICARD\n#\nENV ZIP=\"picard-tools-1.139.zip\"\nENV URL=\"https://github.com/broadinstitute/picard/releases/download/1.139/\"\nENV FOLDER=\"picard-tools-1.139\"\nENV DST=\"/home/biodocker/bin/\"\nRUN wget $URL/$ZIP -O $DST/$ZIP \\\n && unzip $DST/$ZIP -d $DST \\\n && rm $DST/$ZIP \\\n && cd $DST/$FOLDER \\\n && mv * .. \\\n && cd / \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST'/picard.jar \\$@\" > '$DST'/picard' \\\n && chmod +x $DST/picard \\\n && rm -rf $DST/$FOLDER\n#\n#   INSTALL GATK\n#\n#   download and build GATK from current master\nENV SHA=\"f19618653a0d23baaf147efe7f14aeb4eeb0cbb8\"\nENV DST=\"/home/biodocker/bin\"\nENV FOLDER=\"gatk\"\nRUN git clone https://github.com/broadgsa/gatk-protected.git $DST/$FOLDER \\\n && cd $DST/$FOLDER \\\n && git reset --hard $SHA \\\n && mvn verify \\\n && bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST/$FOLDER'/target/GenomeAnalysisTK.jar \\$@\" > '$DST'/GenomeAnalysisTK' \\\n && chmod +x $DST/GenomeAnalysisTK\nENV PATH=\"/usr/lib/jvm/java-7-openjdk-amd64/bin:$PATH\"\n#  ENV JAVABIN=/usr/lib/jvm/java-7-openjdk-amd64/bin/java\n#  ENTRYPOINT [\"java\", \"-jar\", \"$DST/target/GenomeAnalysisTK.jar\"]\n#\n#   Share default volumes\n#\nVOLUME [\"/data\", \"/config\"]\n#   CMD [\"GenomeAnalysisTK\"]\n#  #################### INSTALLATION END #####################\n#   File Author / Maintainer\nMAINTAINER Saulo Alves Aflitos <sauloal@gmail.com>\n","originalDockerfileUglifiedHash":"2a80d3779e734aa87c120a187597ac73","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/1e9243cb11d750775f4a8e982cd95f4ec4e9e990.dockerfile"}