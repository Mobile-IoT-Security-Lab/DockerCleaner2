{"seed":1619413543,"processedDockerfileHash":"1911b71a3090978672e0bd9afdda60e8","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM ros:kinetic-ros-base-xenial\nMAINTAINER Víctor Mayoral Vilches<victor@aliasrobotics.com>\nRUN apt-get update \\\n && apt-get install --no-install-recommends ros-kinetic-robot=1.3.2-0* -y \\\n && rm -rf /var/lib/apt/lists/*\n#   Install mono\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https\nRUN echo \"deb https://download.mono-project.com/repo/ubuntu stable-xenial main\" | tee /etc/apt/sources.list.d/mono-official-stable.list\nRUN apt-get update \\\n && apt-get install --no-install-recommends mono-devel -y\n#   RUN certmgr -ssl -m https://go.microsoft.com\n#   RUN certmgr -ssl -m https://nugetgallery.blob.core.windows.net\n#   RUN certmgr -ssl -m https://nuget.org\n#   RUN mozroots --import --sync\n#   Install a few additional dependencies\nRUN apt-get install --no-install-recommends nuget git -y\n#   Get a simple talker/listener into the scenario, get roschaos\nCOPY pubsub_example /root/ros_catkin_ws/src/pubsub_example\nRUN cd /root/ros_catkin_ws/src \\\n && git clone https://github.com/ruffsl/roschaos\nRUN /bin/bash -c \"cd /root/ros_catkin_ws \\\n && source /opt/ros/kinetic/setup.bash \\\n && catkin_make_isolated --install --install-space /opt/ros/kinetic \\\n && cd \\\n && rm -r /root/ros_catkin_ws\"\n#   Install ROSPenTo\nRUN cd /root \\\n && git clone https://github.com/jr-robotics/ROSPenTo\nRUN cd /root/ROSPenTo \\\n && nuget restore \\\n && msbuild\n#  Copy SSH banner\nRUN rm -rf /etc/update-motd.d/* \\\n && rm -rf /etc/legal \\\n && sed -i 's/\\#force_color_prompt=yes/force_color_prompt=yes/' /root/.bashrc\n#   Create an alias for ROSPenTo and rospento\nRUN echo 'alias ROSPenTo=\"mono /root/ROSPenTo/RosPenToConsole/bin/Debug/RosPenToConsole.exe\"' >> /root/.bashrc\nRUN echo 'alias rospento=\"mono /root/ROSPenTo/RosPenToConsole/bin/Debug/RosPenToConsole.exe\"' >> /root/.bashrc\n#   To install volatility project, we gain inspiration from:\n#   - https://github.com/blacktop/docker-yara/blob/master/3.7/Dockerfile\n#   - https://github.com/blacktop/docker-volatility/blob/master/2.6/Dockerfile\n#   First, install Volatility Dependancies\nRUN apt-get install --no-install-recommends ca-certificates zlib1g-dev python-pillow python-crypto python-lxml python-setuptools -y\nRUN apt-get install --no-install-recommends libssl-dev python-dev libc-dev libjpeg-dev automake autoconf python-pip git libjansson-dev libtool flex -y\nRUN pip install pip==23.1 --upgrade\nRUN pip install simplejson==3.19.1 construct==2.10.68 openpyxl==3.1.2 haystack==0.42 distorm3==3.5.2 colorama==0.4.6 pycoin==0.92.20230326 pytz==2023.3\n#   install YARA\nENV YARA_VERSION=\"3.7.1\"\nENV YARA_PY_VERSION=\"3.7.0\"\nRUN set -x \\\n && echo \"Install Yara from source...\" \\\n && cd /tmp/ \\\n && git clone --recursive --branch v$YARA_VERSION https://github.com/VirusTotal/yara.git \\\n && cd /tmp/yara \\\n && ./bootstrap.sh \\\n && sync \\\n && apt-get install --no-install-recommends libmagic-dev -y \\\n && ./configure --with-crypto --enable-magic --enable-cuckoo --enable-dotnet\nRUN cd /tmp/yara \\\n && make \\\n && make install \\\n && echo \"Install yara-python...\" \\\n && cd /tmp/ \\\n && git clone --recursive --branch v$YARA_PY_VERSION https://github.com/VirusTotal/yara-python \\\n && cd yara-python \\\n && python setup.py build --dynamic-linking \\\n && python setup.py install \\\n && echo \"Make test_rule...\" \\\n && mkdir /rules \\\n && echo \"rule dummy { condition: true }\" > /rules/test_rule \\\n && rm -rf /tmp/*\n#   Install distorm3\nRUN apt-get install --no-install-recommends pcregrep libpcre++-dev -y\nRUN cd /tmp \\\n && git clone https://github.com/gdabah/distorm \\\n && cd /tmp/distorm \\\n && python setup.py install \\\n && rm -rf /tmp/*\n#   Install PyCrypto\nRUN apt-get install --no-install-recommends libgmp3-dev wget -y\nRUN cd /tmp \\\n && wget http://ftp.dlitz.net/pub/dlitz/crypto/pycrypto/pycrypto-2.6.tar.gz \\\n && tar -xvzf pycrypto-2.6.tar.gz \\\n && cd pycrypto-2.6 \\\n && python setup.py install \\\n && rm -rf /tmp/*\n#   Install ujson\nRUN pip install ujson==5.7.0 pillow==9.5.0\n#   Install now volatility\nENV VOL_VERSION=\"2.6\"\n#   remove this and use git clone as below\nCOPY volatility /tmp/volatility\nRUN cd /tmp \\\n && echo \"===> Installing Volatility from source...\" \\\n && cd volatility \\\n && python setup.py install \\\n && rm -rf /tmp/*\n#   Installing the Malware Plugins\nRUN cd /usr/local/lib/python2.7/dist-packages/volatility-2.6-py2.7.egg/volatility/plugins/ \\\n && wget http://code.google.com/p/malwarecookbook/source/browse/trunk/malware.py\n#   Fetch the profile, for this particular distro, Ubuntu 16.04.5\nRUN cd /root \\\n && apt-get install --no-install-recommends unzip -y \\\n && wget https://github.com/volatilityfoundation/profiles/blob/master/Linux/Ubuntu/x64/Ubuntu16045.zip?raw=true \\\n && mv Ubuntu16045.zip?raw=true /usr/local/lib/python2.7/dist-packages/volatility-2.6-py2.7.egg/volatility/plugins/overlays/linux/Ubuntu16045.zip\nCOPY launch_script.bash /root/\nENTRYPOINT [\"/root/launch_script.bash\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM ros:kinetic-ros-base-xenial\nMAINTAINER Víctor Mayoral Vilches<victor@aliasrobotics.com>\nRUN apt-get update \\\n && apt-get install ros-kinetic-robot=1.3.2-0* -y \\\n && rm -rf /var/lib/apt/lists/*\n#  Install mono\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF\nRUN apt-get update \\\n && apt-get install apt-transport-https\nRUN echo \"deb https://download.mono-project.com/repo/ubuntu stable-xenial main\" | tee /etc/apt/sources.list.d/mono-official-stable.list\nRUN apt-get update \\\n && apt-get install mono-devel -y\n#  RUN certmgr -ssl -m https://go.microsoft.com\n#  RUN certmgr -ssl -m https://nugetgallery.blob.core.windows.net\n#  RUN certmgr -ssl -m https://nuget.org\n#  RUN mozroots --import --sync\n#  Install a few additional dependencies\nRUN apt-get install nuget git -y\n#  Get a simple talker/listener into the scenario, get roschaos\nCOPY pubsub_example /root/ros_catkin_ws/src/pubsub_example\nRUN cd /root/ros_catkin_ws/src \\\n && git clone https://github.com/ruffsl/roschaos\nRUN /bin/bash -c \"cd /root/ros_catkin_ws \\\n && source /opt/ros/kinetic/setup.bash \\\n && catkin_make_isolated --install --install-space /opt/ros/kinetic \\\n && cd \\\n && rm -r /root/ros_catkin_ws\"\n#  Install ROSPenTo\nRUN cd /root \\\n && git clone https://github.com/jr-robotics/ROSPenTo\nRUN cd /root/ROSPenTo \\\n && nuget restore \\\n && msbuild\n# Copy SSH banner\nRUN rm -rf /etc/update-motd.d/* \\\n && rm -rf /etc/legal \\\n && sed -i 's/\\#force_color_prompt=yes/force_color_prompt=yes/' /root/.bashrc\n#  Create an alias for ROSPenTo and rospento\nRUN echo 'alias ROSPenTo=\"mono /root/ROSPenTo/RosPenToConsole/bin/Debug/RosPenToConsole.exe\"' >> /root/.bashrc\nRUN echo 'alias rospento=\"mono /root/ROSPenTo/RosPenToConsole/bin/Debug/RosPenToConsole.exe\"' >> /root/.bashrc\n#  To install volatility project, we gain inspiration from:\n#  - https://github.com/blacktop/docker-yara/blob/master/3.7/Dockerfile\n#  - https://github.com/blacktop/docker-volatility/blob/master/2.6/Dockerfile\n#  First, install Volatility Dependancies\nRUN apt-get install ca-certificates zlib1g-dev python-pillow python-crypto python-lxml python-setuptools -y\nRUN apt-get install libssl-dev python-dev libc-dev libjpeg-dev automake autoconf python-pip git libjansson-dev libtool flex -y\nRUN pip install pip --upgrade\nRUN pip install simplejson construct openpyxl haystack distorm3 colorama pycoin pytz\n#  install YARA\nENV YARA_VERSION=\"3.7.1\"\nENV YARA_PY_VERSION=\"3.7.0\"\nRUN set -x \\\n && echo \"Install Yara from source...\" \\\n && cd /tmp/ \\\n && git clone --recursive --branch v$YARA_VERSION https://github.com/VirusTotal/yara.git \\\n && cd /tmp/yara \\\n && ./bootstrap.sh \\\n && sync \\\n && apt-get install libmagic-dev -y \\\n && ./configure --with-crypto --enable-magic --enable-cuckoo --enable-dotnet\nRUN cd /tmp/yara \\\n && make \\\n && make install \\\n && echo \"Install yara-python...\" \\\n && cd /tmp/ \\\n && git clone --recursive --branch v$YARA_PY_VERSION https://github.com/VirusTotal/yara-python \\\n && cd yara-python \\\n && python setup.py build --dynamic-linking \\\n && python setup.py install \\\n && echo \"Make test_rule...\" \\\n && mkdir /rules \\\n && echo \"rule dummy { condition: true }\" > /rules/test_rule \\\n && rm -rf /tmp/*\n#  Install distorm3\nRUN apt-get install pcregrep libpcre++-dev -y\nRUN cd /tmp \\\n && git clone https://github.com/gdabah/distorm \\\n && cd /tmp/distorm \\\n && python setup.py install \\\n && rm -rf /tmp/*\n#  Install PyCrypto\nRUN apt-get install libgmp3-dev wget -y\nRUN cd /tmp \\\n && wget http://ftp.dlitz.net/pub/dlitz/crypto/pycrypto/pycrypto-2.6.tar.gz \\\n && tar -xvzf pycrypto-2.6.tar.gz \\\n && cd pycrypto-2.6 \\\n && python setup.py install \\\n && rm -rf /tmp/*\n#  Install ujson\nRUN pip install ujson pillow\n#  Install now volatility\nENV VOL_VERSION=\"2.6\"\n#  remove this and use git clone as below\nCOPY volatility /tmp/volatility\nRUN cd /tmp \\\n && echo \"===> Installing Volatility from source...\" \\\n && cd volatility \\\n && python setup.py install \\\n && rm -rf /tmp/*\n#  Installing the Malware Plugins\nRUN cd /usr/local/lib/python2.7/dist-packages/volatility-2.6-py2.7.egg/volatility/plugins/ \\\n && wget http://code.google.com/p/malwarecookbook/source/browse/trunk/malware.py\n#  Fetch the profile, for this particular distro, Ubuntu 16.04.5\nRUN cd /root \\\n && apt-get install unzip -y \\\n && wget https://github.com/volatilityfoundation/profiles/blob/master/Linux/Ubuntu/x64/Ubuntu16045.zip?raw=true \\\n && mv Ubuntu16045.zip?raw=true /usr/local/lib/python2.7/dist-packages/volatility-2.6-py2.7.egg/volatility/plugins/overlays/linux/Ubuntu16045.zip\nCOPY launch_script.bash /root/\nENTRYPOINT [\"/root/launch_script.bash\"]\n","injectedSmells":[],"originalDockerfileHash":"664328ae07d68f9afa3a324360864a27","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM ros:kinetic-ros-base-xenial\nMAINTAINER Víctor Mayoral Vilches<victor@aliasrobotics.com>\nRUN apt-get update \\\n && apt-get install ros-kinetic-robot=1.3.2-0* -y \\\n && rm -rf /var/lib/apt/lists/*\n#   Install mono\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF\nRUN apt-get update \\\n && apt-get install apt-transport-https\nRUN echo \"deb https://download.mono-project.com/repo/ubuntu stable-xenial main\" | tee /etc/apt/sources.list.d/mono-official-stable.list\nRUN apt-get update \\\n && apt-get install mono-devel -y\n#   RUN certmgr -ssl -m https://go.microsoft.com\n#   RUN certmgr -ssl -m https://nugetgallery.blob.core.windows.net\n#   RUN certmgr -ssl -m https://nuget.org\n#   RUN mozroots --import --sync\n#   Install a few additional dependencies\nRUN apt-get install nuget git -y\n#   Get a simple talker/listener into the scenario, get roschaos\nCOPY pubsub_example /root/ros_catkin_ws/src/pubsub_example\nRUN cd /root/ros_catkin_ws/src \\\n && git clone https://github.com/ruffsl/roschaos\nRUN /bin/bash -c \"cd /root/ros_catkin_ws \\\n && source /opt/ros/kinetic/setup.bash \\\n && catkin_make_isolated --install --install-space /opt/ros/kinetic \\\n && cd \\\n && rm -r /root/ros_catkin_ws\"\n#   Install ROSPenTo\nRUN cd /root \\\n && git clone https://github.com/jr-robotics/ROSPenTo\nRUN cd /root/ROSPenTo \\\n && nuget restore \\\n && msbuild\n#  Copy SSH banner\nRUN rm -rf /etc/update-motd.d/* \\\n && rm -rf /etc/legal \\\n && sed -i 's/\\#force_color_prompt=yes/force_color_prompt=yes/' /root/.bashrc\n#   Create an alias for ROSPenTo and rospento\nRUN echo 'alias ROSPenTo=\"mono /root/ROSPenTo/RosPenToConsole/bin/Debug/RosPenToConsole.exe\"' >> /root/.bashrc\nRUN echo 'alias rospento=\"mono /root/ROSPenTo/RosPenToConsole/bin/Debug/RosPenToConsole.exe\"' >> /root/.bashrc\n#   To install volatility project, we gain inspiration from:\n#   - https://github.com/blacktop/docker-yara/blob/master/3.7/Dockerfile\n#   - https://github.com/blacktop/docker-volatility/blob/master/2.6/Dockerfile\n#   First, install Volatility Dependancies\nRUN apt-get install ca-certificates zlib1g-dev python-pillow python-crypto python-lxml python-setuptools -y\nRUN apt-get install libssl-dev python-dev libc-dev libjpeg-dev automake autoconf python-pip git libjansson-dev libtool flex -y\nRUN pip install pip --upgrade\nRUN pip install simplejson construct openpyxl haystack distorm3 colorama pycoin pytz\n#   install YARA\nENV YARA_VERSION=\"3.7.1\"\nENV YARA_PY_VERSION=\"3.7.0\"\nRUN set -x \\\n && echo \"Install Yara from source...\" \\\n && cd /tmp/ \\\n && git clone --recursive --branch v$YARA_VERSION https://github.com/VirusTotal/yara.git \\\n && cd /tmp/yara \\\n && ./bootstrap.sh \\\n && sync \\\n && apt-get install libmagic-dev -y \\\n && ./configure --with-crypto --enable-magic --enable-cuckoo --enable-dotnet\nRUN cd /tmp/yara \\\n && make \\\n && make install \\\n && echo \"Install yara-python...\" \\\n && cd /tmp/ \\\n && git clone --recursive --branch v$YARA_PY_VERSION https://github.com/VirusTotal/yara-python \\\n && cd yara-python \\\n && python setup.py build --dynamic-linking \\\n && python setup.py install \\\n && echo \"Make test_rule...\" \\\n && mkdir /rules \\\n && echo \"rule dummy { condition: true }\" > /rules/test_rule \\\n && rm -rf /tmp/*\n#   Install distorm3\nRUN apt-get install pcregrep libpcre++-dev -y\nRUN cd /tmp \\\n && git clone https://github.com/gdabah/distorm \\\n && cd /tmp/distorm \\\n && python setup.py install \\\n && rm -rf /tmp/*\n#   Install PyCrypto\nRUN apt-get install libgmp3-dev wget -y\nRUN cd /tmp \\\n && wget http://ftp.dlitz.net/pub/dlitz/crypto/pycrypto/pycrypto-2.6.tar.gz \\\n && tar -xvzf pycrypto-2.6.tar.gz \\\n && cd pycrypto-2.6 \\\n && python setup.py install \\\n && rm -rf /tmp/*\n#   Install ujson\nRUN pip install ujson pillow\n#   Install now volatility\nENV VOL_VERSION=\"2.6\"\n#   remove this and use git clone as below\nCOPY volatility /tmp/volatility\nRUN cd /tmp \\\n && echo \"===> Installing Volatility from source...\" \\\n && cd volatility \\\n && python setup.py install \\\n && rm -rf /tmp/*\n#   Installing the Malware Plugins\nRUN cd /usr/local/lib/python2.7/dist-packages/volatility-2.6-py2.7.egg/volatility/plugins/ \\\n && wget http://code.google.com/p/malwarecookbook/source/browse/trunk/malware.py\n#   Fetch the profile, for this particular distro, Ubuntu 16.04.5\nRUN cd /root \\\n && apt-get install unzip -y \\\n && wget https://github.com/volatilityfoundation/profiles/blob/master/Linux/Ubuntu/x64/Ubuntu16045.zip?raw=true \\\n && mv Ubuntu16045.zip?raw=true /usr/local/lib/python2.7/dist-packages/volatility-2.6-py2.7.egg/volatility/plugins/overlays/linux/Ubuntu16045.zip\nCOPY launch_script.bash /root/\nENTRYPOINT [\"/root/launch_script.bash\"]\n","originalDockerfileUglifiedHash":"fe1df9a479b31c9873b9903460e71d76","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/55283dcf026386c96a3caaba652c75e259d9c216.dockerfile"}