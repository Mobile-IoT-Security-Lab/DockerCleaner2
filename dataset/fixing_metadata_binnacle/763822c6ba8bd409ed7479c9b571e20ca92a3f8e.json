{"seed":861493540,"processedDockerfileHash":"e802b82b433cd0d13a142b31d6877304","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apt-get","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   Inspired by\n#    https://github.com/cockroachdb/cockroach/blob/master/build/Dockerfile\n#   MAINTAINER Tamir Duberstein <tamird@gmail.com>\nFROM ubuntu:16.04\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https=1.2.35 ca-certificates=20210119~16.04.1 curl=7.47.0-1ubuntu2.19 net-tools=1.60-26ubuntu1 -y\nRUN curl -fsSL -O https://github.com/Yelp/dumb-init/releases/download/v1.2.0/dumb-init_1.2.0_amd64.deb \\\n && dpkg -i dumb-init_1.2.0_amd64.deb \\\n && rm dumb-init_1.2.0_amd64.deb\nENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\nRUN curl -fsSL https://deb.nodesource.com/gpgkey/nodesource.gpg.key | apt-key add - \\\n && echo 'deb https://deb.nodesource.com/node_6.x xenial main' | tee /etc/apt/sources.list.d/nodesource.list \\\n && curl -fsSL https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - \\\n && echo 'deb https://dl.yarnpkg.com/debian/ stable main' | tee /etc/apt/sources.list.d/yarn.list\n#   autoconf - crosstool-ng/bootstrap / c-deps: jemalloc\n#   bison - crosstool-ng/configure\n#   bzip2 - crosstool-ng/configure\n#   clang - msan: -fsanitize\n#   cmake - msan: libcxx\n#   file - crosstool-ng/build\n#   flex - crosstool-ng/configure\n#   g++ - crosstool-ng/build\n#   gawk - crosstool-ng/configure\n#   git - crosstool-ng/configure\n#   golang - go: bootstrap\n#   gperf - crosstool-ng/configure\n#   help2man - crosstool-ng/configure\n#   iptables - acceptance tests' partition nemesis\n#   libncurses-dev - crosstool-ng/configure\n#   make - crosstool-ng boostrap / CRDB build system\n#   nodejs - ui: all\n#   openssh-client - terraform / jepsen\n#   patch - crosstool-ng/configure\n#   python - msan: libcxx\n#   texinfo - crosstool-ng/configure\n#   unzip - terraform\n#   xz-utils - msan: libcxx / CRDB build system\n#   yarn - ui: all\nRUN apt-get update \\\n && apt-get install --no-install-recommends autoconf=2.69-9 bison=2:3.0.4.dfsg-1 bzip2=1.0.6-8ubuntu0.2 cmake=3.5.1-1ubuntu3 g++=4:5.3.1-1ubuntu1 git=1:2.7.4-0ubuntu1.10 libncurses-dev make=4.1-6 nodejs=4.2.6~dfsg-1ubuntu4.2 unzip=6.0-20ubuntu1.1 xz-utils=5.1.1alpha+20120614-2ubuntu2 yarn -y\nENV GOPATH=\"/go\"\nENV PATH=\"$GOPATH/bin:/usr/local/go/bin:$PATH\"\nRUN mkdir -p \"$GOPATH/src\" \"$GOPATH/bin\" \\\n && chmod -R 777 \"$GOPATH\"\nWORKDIR $GOPATH\n#  ## Avoid blocking - https://storage.googleapis.com/golang/go1.9.2.linux-amd64.tar.gz\nRUN curl -fsSL http://172.17.4.50:48080/Downloads/99-mirror/https0x3A0x2F0x2Fgolang.org0x2Fdl/go1.9.2.linux-amd64.tar.gz | gunzip | tar -x -C /usr/local\n#  RUN apt-get install -y --no-install-recommends wget \\\n#      && wget --quiet --recursive --no-host-directories --cut-dirs=1 \\\n#          http://172.17.4.50:48080/go/src/github.com/cockroachdb/cockroach \\\n#      && apt-get autoremove -y wget\nRUN git clone --depth=1 https://github.com/cockroachdb/cockroach $GOPATH/src/github.com/cockroachdb/cockroach\nWORKDIR $GOPATH/src/github.com/cockroachdb/cockroach\nRUN make build \\\n && mv cockroach /usr/local/bin\nWORKDIR $GOPATH\n#  ## Finally clean\n#  RUN apt-get autoremove -y gcc g++ \\\n#      rm -rf /var/lib/apt/lists \\\n#      rm -rf /usr/local/go \\\n#      rm -rf $GOPATH/bin/* $GOPATH/pkg $GOPATH/native $GOPATH/src/github.com/cockroachdb/cockroach\nCMD [\"cockroach\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Inspired by\n#   https://github.com/cockroachdb/cockroach/blob/master/build/Dockerfile\n#  MAINTAINER Tamir Duberstein <tamird@gmail.com>\nFROM ubuntu:16.04\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https ca-certificates curl net-tools -y\nRUN curl -fsSL -O https://github.com/Yelp/dumb-init/releases/download/v1.2.0/dumb-init_1.2.0_amd64.deb \\\n && dpkg -i dumb-init_1.2.0_amd64.deb \\\n && rm dumb-init_1.2.0_amd64.deb\nENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\nRUN curl -fsSL https://deb.nodesource.com/gpgkey/nodesource.gpg.key | apt-key add - \\\n && echo 'deb https://deb.nodesource.com/node_6.x xenial main' | tee /etc/apt/sources.list.d/nodesource.list \\\n && curl -fsSL https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - \\\n && echo 'deb https://dl.yarnpkg.com/debian/ stable main' | tee /etc/apt/sources.list.d/yarn.list\n#  autoconf - crosstool-ng/bootstrap / c-deps: jemalloc\n#  bison - crosstool-ng/configure\n#  bzip2 - crosstool-ng/configure\n#  clang - msan: -fsanitize\n#  cmake - msan: libcxx\n#  file - crosstool-ng/build\n#  flex - crosstool-ng/configure\n#  g++ - crosstool-ng/build\n#  gawk - crosstool-ng/configure\n#  git - crosstool-ng/configure\n#  golang - go: bootstrap\n#  gperf - crosstool-ng/configure\n#  help2man - crosstool-ng/configure\n#  iptables - acceptance tests' partition nemesis\n#  libncurses-dev - crosstool-ng/configure\n#  make - crosstool-ng boostrap / CRDB build system\n#  nodejs - ui: all\n#  openssh-client - terraform / jepsen\n#  patch - crosstool-ng/configure\n#  python - msan: libcxx\n#  texinfo - crosstool-ng/configure\n#  unzip - terraform\n#  xz-utils - msan: libcxx / CRDB build system\n#  yarn - ui: all\nRUN apt-get update \\\n && apt-get install --no-install-recommends autoconf bison bzip2 cmake g++ git libncurses-dev make nodejs unzip xz-utils yarn -y\nENV GOPATH=\"/go\"\nENV PATH=\"$GOPATH/bin:/usr/local/go/bin:$PATH\"\nRUN mkdir -p \"$GOPATH/src\" \"$GOPATH/bin\" \\\n && chmod -R 777 \"$GOPATH\"\nWORKDIR $GOPATH\n# ## Avoid blocking - https://storage.googleapis.com/golang/go1.9.2.linux-amd64.tar.gz\nRUN curl -fsSL http://172.17.4.50:48080/Downloads/99-mirror/https0x3A0x2F0x2Fgolang.org0x2Fdl/go1.9.2.linux-amd64.tar.gz | gunzip | tar -x -C /usr/local\n# RUN apt-get install -y --no-install-recommends wget \\\n#     && wget --quiet --recursive --no-host-directories --cut-dirs=1 \\\n#         http://172.17.4.50:48080/go/src/github.com/cockroachdb/cockroach \\\n#     && apt-get autoremove -y wget\nRUN git clone --depth=1 https://github.com/cockroachdb/cockroach $GOPATH/src/github.com/cockroachdb/cockroach\nWORKDIR $GOPATH/src/github.com/cockroachdb/cockroach\nRUN make build \\\n && mv cockroach /usr/local/bin\nWORKDIR $GOPATH\n# ## Finally clean\n# RUN apt-get autoremove -y gcc g++ \\\n#     rm -rf /var/lib/apt/lists \\\n#     rm -rf /usr/local/go \\\n#     rm -rf $GOPATH/bin/* $GOPATH/pkg $GOPATH/native $GOPATH/src/github.com/cockroachdb/cockroach\nCMD [\"cockroach\"]\n","injectedSmells":[],"originalDockerfileHash":"2f62e120dd1ebf271ffad62533595924","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Inspired by\n#    https://github.com/cockroachdb/cockroach/blob/master/build/Dockerfile\n#   MAINTAINER Tamir Duberstein <tamird@gmail.com>\nFROM ubuntu:16.04\nRUN apt-get update \\\n && apt-get install --no-install-recommends apt-transport-https ca-certificates curl net-tools -y\nRUN curl -fsSL -O https://github.com/Yelp/dumb-init/releases/download/v1.2.0/dumb-init_1.2.0_amd64.deb \\\n && dpkg -i dumb-init_1.2.0_amd64.deb \\\n && rm dumb-init_1.2.0_amd64.deb\nENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\nRUN curl -fsSL https://deb.nodesource.com/gpgkey/nodesource.gpg.key | apt-key add - \\\n && echo 'deb https://deb.nodesource.com/node_6.x xenial main' | tee /etc/apt/sources.list.d/nodesource.list \\\n && curl -fsSL https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - \\\n && echo 'deb https://dl.yarnpkg.com/debian/ stable main' | tee /etc/apt/sources.list.d/yarn.list\n#   autoconf - crosstool-ng/bootstrap / c-deps: jemalloc\n#   bison - crosstool-ng/configure\n#   bzip2 - crosstool-ng/configure\n#   clang - msan: -fsanitize\n#   cmake - msan: libcxx\n#   file - crosstool-ng/build\n#   flex - crosstool-ng/configure\n#   g++ - crosstool-ng/build\n#   gawk - crosstool-ng/configure\n#   git - crosstool-ng/configure\n#   golang - go: bootstrap\n#   gperf - crosstool-ng/configure\n#   help2man - crosstool-ng/configure\n#   iptables - acceptance tests' partition nemesis\n#   libncurses-dev - crosstool-ng/configure\n#   make - crosstool-ng boostrap / CRDB build system\n#   nodejs - ui: all\n#   openssh-client - terraform / jepsen\n#   patch - crosstool-ng/configure\n#   python - msan: libcxx\n#   texinfo - crosstool-ng/configure\n#   unzip - terraform\n#   xz-utils - msan: libcxx / CRDB build system\n#   yarn - ui: all\nRUN apt-get update \\\n && apt-get install --no-install-recommends autoconf bison bzip2 cmake g++ git libncurses-dev make nodejs unzip xz-utils yarn -y\nENV GOPATH=\"/go\"\nENV PATH=\"$GOPATH/bin:/usr/local/go/bin:$PATH\"\nRUN mkdir -p \"$GOPATH/src\" \"$GOPATH/bin\" \\\n && chmod -R 777 \"$GOPATH\"\nWORKDIR $GOPATH\n#  ## Avoid blocking - https://storage.googleapis.com/golang/go1.9.2.linux-amd64.tar.gz\nRUN curl -fsSL http://172.17.4.50:48080/Downloads/99-mirror/https0x3A0x2F0x2Fgolang.org0x2Fdl/go1.9.2.linux-amd64.tar.gz | gunzip | tar -x -C /usr/local\n#  RUN apt-get install -y --no-install-recommends wget \\\n#      && wget --quiet --recursive --no-host-directories --cut-dirs=1 \\\n#          http://172.17.4.50:48080/go/src/github.com/cockroachdb/cockroach \\\n#      && apt-get autoremove -y wget\nRUN git clone --depth=1 https://github.com/cockroachdb/cockroach $GOPATH/src/github.com/cockroachdb/cockroach\nWORKDIR $GOPATH/src/github.com/cockroachdb/cockroach\nRUN make build \\\n && mv cockroach /usr/local/bin\nWORKDIR $GOPATH\n#  ## Finally clean\n#  RUN apt-get autoremove -y gcc g++ \\\n#      rm -rf /var/lib/apt/lists \\\n#      rm -rf /usr/local/go \\\n#      rm -rf $GOPATH/bin/* $GOPATH/pkg $GOPATH/native $GOPATH/src/github.com/cockroachdb/cockroach\nCMD [\"cockroach\"]\n","originalDockerfileUglifiedHash":"eef88e24aa6d1f25fa1be17d1ef1f1ed","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/763822c6ba8bd409ed7479c9b571e20ca92a3f8e.dockerfile"}