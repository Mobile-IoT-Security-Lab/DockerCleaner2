{"seed":1325638101,"processedDockerfileHash":"7feeb8e402b47a3f976b47b472935127","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"ARG AUTOWARE_DOCKER_ARCH\nARG AUTOWARE_TARGET_ARCH\nFROM multiarch/alpine:${AUTOWARE_TARGET_ARCH}-latest-stable AS bootstrap\nFROM ${AUTOWARE_DOCKER_ARCH}/ubuntu:16.04 AS sysroot\nARG AUTOWARE_TARGET_ARCH\nCOPY --from=bootstrap /usr/bin/qemu-${AUTOWARE_TARGET_ARCH}-static /usr/bin/qemu-${AUTOWARE_TARGET_ARCH}-static\nRUN echo \"deb http://packages.ros.org/ros/ubuntu xenial main\" | tee /etc/apt/sources.list.d/ros-latest.list\nRUN apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116\nRUN apt-get update \\\n && apt-get install --no-install-recommends curl lsb-release python-rosdep sudo -y\n#   Autoware dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends freeglut3-dev libarmadillo-dev libcurl4-openssl-dev libeigen3-dev libgflags-dev libgl1-mesa-dev libglew-dev libglu1-mesa-dev libgoogle-glog-dev libgtest-dev libnlopt-dev libopencv-dev libpcap0.8-dev libpcl-dev libpcl1.7 libqt5core5a libqt5gui5 libqt5opengl5 libqt5opengl5-dev libqt5widgets5 libssh2-1 libtinyxml-dev libx11-dev libxi-dev libxml2-dev libxmu-dev libyaml-cpp-dev python-flask python-serial qtbase5-dev ros-kinetic-angles ros-kinetic-camera-info-manager ros-kinetic-catkin ros-kinetic-cmake-modules ros-kinetic-cv-bridge ros-kinetic-diagnostic-msgs ros-kinetic-diagnostic-updater ros-kinetic-dynamic-reconfigure ros-kinetic-geometry-msgs ros-kinetic-gps-common ros-kinetic-grid-map-cv ros-kinetic-grid-map-msgs ros-kinetic-grid-map-ros ros-kinetic-image-geometry ros-kinetic-image-transport ros-kinetic-imu-filter-madgwick ros-kinetic-imu-tools ros-kinetic-jsk-recognition-msgs ros-kinetic-jsk-rviz-plugins ros-kinetic-message-filters ros-kinetic-message-generation ros-kinetic-message-runtime ros-kinetic-nav-msgs ros-kinetic-nlopt ros-kinetic-nmea-msgs ros-kinetic-nodelet ros-kinetic-pcl-conversions ros-kinetic-pcl-msgs ros-kinetic-pcl-ros ros-kinetic-pluginlib ros-kinetic-rosconsole ros-kinetic-roscpp ros-kinetic-roslaunch ros-kinetic-roslib ros-kinetic-roslint ros-kinetic-rospy ros-kinetic-rostest ros-kinetic-rosunit ros-kinetic-rqt-plot ros-kinetic-rviz ros-kinetic-sensor-msgs ros-kinetic-shape-msgs ros-kinetic-sound-play ros-kinetic-std-msgs ros-kinetic-std-srvs ros-kinetic-stereo-msgs ros-kinetic-tf ros-kinetic-tf2 ros-kinetic-tf2-ros ros-kinetic-visualization-msgs ros-kinetic-xacro -y\nRUN find / -depth -xdev -type l -lname '/*' -exec sh -c 'linkpath=\"$(readlink {})\" \\\n && rm -f {} \\\n && ln -frsv \"$linkpath\" \"{}\"'\nFROM ubuntu:16.04 AS builder\nARG AUTOWARE_TARGET_ARCH\nARG AUTOWARE_TARGET_PLATFORM\nENV AUTOWARE_SYSROOT=\"/sysroot/${AUTOWARE_TARGET_PLATFORM}\"\nCOPY --from=sysroot /lib ${AUTOWARE_SYSROOT}/lib\nCOPY --from=sysroot /usr/include ${AUTOWARE_SYSROOT}/usr/include\nCOPY --from=sysroot /usr/lib ${AUTOWARE_SYSROOT}/usr/lib\nCOPY --from=sysroot /usr/share/pkgconfig ${AUTOWARE_SYSROOT}/usr/share/pkgconfig\nCOPY --from=sysroot /opt ${AUTOWARE_SYSROOT}/opt\nCOPY --from=sysroot /etc/alternatives ${AUTOWARE_SYSROOT}/etc/alternatives\nRUN echo \"deb http://packages.ros.org/ros/ubuntu xenial main\" | tee /etc/apt/sources.list.d/ros-latest.list\nRUN apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116\nRUN apt-get update \\\n && apt-get install --no-install-recommends crossbuild-essential-arm64 pkg-config python-rospkg qt5-qmake qtbase5-dev-tools ros-kinetic-catkin -y\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/opt/ros/kinetic/include#${AUTOWARE_SYSROOT}/opt/ros/kinetic/include#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/opt/ros/kinetic/lib#${AUTOWARE_SYSROOT}/opt/ros/kinetic/lib#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/include#${AUTOWARE_SYSROOT}/usr/include#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/lib#${AUTOWARE_SYSROOT}/usr/lib#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/usr/lib/cmake/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu#${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/usr/lib/cmake/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/lib/openmpi#${AUTOWARE_SYSROOT}/usr/lib/openmpi#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/usr/lib/cmake/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/include#${AUTOWARE_SYSROOT}/usr/include#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/lib/pkgconfig/ -name \"*.pc\" -type f -exec sed -i -e \"s#-I/opt/ros/kinetic/usr/include#-I${AUTOWARE_SYSROOT}/opt/ros/kinetic/usr/include#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/lib/pkgconfig/ -name \"*.pc\" -type f -exec sed -i -e \"s#-I/usr/include#-I${AUTOWARE_SYSROOT}/usr/include#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/ -name \"*.pc\" -type f -exec sed -i -e \"s#prefix=/#prefix=${AUTOWARE_SYSROOT}/#g\" {}\nRUN sed -i -e \"s#/usr#${AUTOWARE_SYSROOT}/usr#g\" ${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/cmake/pcl/PCLConfig.cmake\nRUN sed -i -e \"s#set(imported_location \\\"${_qt5Widgets_install_prefix}/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/qt5/bin/uic\\\")#set(imported_location \\\"/usr/lib/x86_64-linux-gnu/qt5/bin/uic\\\")#g\" ${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/cmake/Qt5Widgets/Qt5WidgetsConfigExtras.cmake\nRUN sed -i -e \"s#set(imported_location \\\"${_qt5Core_install_prefix}/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/qt5/bin/#set(imported_location \\\"/usr/lib/x86_64-linux-gnu/qt5/bin/#g\" ${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/cmake/Qt5Core/Qt5CoreConfigExtras.cmake\nRUN sed -i -e \"s#define ARMA_SUPERLU_INCLUDE_DIR /usr/include/superlu/#define ARMA_SUPERLU_INCLUDE_DIR ${AUTOWARE_SYSROOT}/usr/include/superlu/#g\" ${AUTOWARE_SYSROOT}/usr/include/armadillo_bits/config.hpp\nENV ROS_DISTRO=\"kinetic\"\nENV CC=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-gcc\"\nENV CXX=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-g++\"\nENV AR=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-ar\"\nENV CPP=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-cpp\"\nCMD . /opt/ros/kinetic/setup.sh \\\n && /bin/bash\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"ARG AUTOWARE_DOCKER_ARCH\nARG AUTOWARE_TARGET_ARCH\nFROM multiarch/alpine:${AUTOWARE_TARGET_ARCH}-latest-stable AS bootstrap\nFROM ${AUTOWARE_DOCKER_ARCH}/ubuntu:16.04 AS sysroot\nARG AUTOWARE_TARGET_ARCH\nCOPY --from=bootstrap /usr/bin/qemu-${AUTOWARE_TARGET_ARCH}-static /usr/bin/qemu-${AUTOWARE_TARGET_ARCH}-static\nRUN echo \"deb http://packages.ros.org/ros/ubuntu xenial main\" | tee /etc/apt/sources.list.d/ros-latest.list\nRUN apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116\nRUN apt-get update \\\n && apt-get install --no-install-recommends curl lsb-release python-rosdep sudo -y\n#  Autoware dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends freeglut3-dev libarmadillo-dev libcurl4-openssl-dev libeigen3-dev libgflags-dev libgl1-mesa-dev libglew-dev libglu1-mesa-dev libgoogle-glog-dev libgtest-dev libnlopt-dev libopencv-dev libpcap0.8-dev libpcl-dev libpcl1.7 libqt5core5a libqt5gui5 libqt5opengl5 libqt5opengl5-dev libqt5widgets5 libssh2-1 libtinyxml-dev libx11-dev libxi-dev libxml2-dev libxmu-dev libyaml-cpp-dev python-flask python-serial qtbase5-dev ros-kinetic-angles ros-kinetic-camera-info-manager ros-kinetic-catkin ros-kinetic-cmake-modules ros-kinetic-cv-bridge ros-kinetic-diagnostic-msgs ros-kinetic-diagnostic-updater ros-kinetic-dynamic-reconfigure ros-kinetic-geometry-msgs ros-kinetic-gps-common ros-kinetic-grid-map-cv ros-kinetic-grid-map-msgs ros-kinetic-grid-map-ros ros-kinetic-image-geometry ros-kinetic-image-transport ros-kinetic-imu-filter-madgwick ros-kinetic-imu-tools ros-kinetic-jsk-recognition-msgs ros-kinetic-jsk-rviz-plugins ros-kinetic-message-filters ros-kinetic-message-generation ros-kinetic-message-runtime ros-kinetic-nav-msgs ros-kinetic-nlopt ros-kinetic-nmea-msgs ros-kinetic-nodelet ros-kinetic-pcl-conversions ros-kinetic-pcl-msgs ros-kinetic-pcl-ros ros-kinetic-pluginlib ros-kinetic-rosconsole ros-kinetic-roscpp ros-kinetic-roslaunch ros-kinetic-roslib ros-kinetic-roslint ros-kinetic-rospy ros-kinetic-rostest ros-kinetic-rosunit ros-kinetic-rqt-plot ros-kinetic-rviz ros-kinetic-sensor-msgs ros-kinetic-shape-msgs ros-kinetic-sound-play ros-kinetic-std-msgs ros-kinetic-std-srvs ros-kinetic-stereo-msgs ros-kinetic-tf ros-kinetic-tf2 ros-kinetic-tf2-ros ros-kinetic-visualization-msgs ros-kinetic-xacro -y\nRUN find / -depth -xdev -type l -lname '/*' -exec sh -c 'linkpath=\"$(readlink {})\" \\\n && rm -f {} \\\n && ln -frsv \"$linkpath\" \"{}\"' ;\nFROM ubuntu:16.04 AS builder\nARG AUTOWARE_TARGET_ARCH\nARG AUTOWARE_TARGET_PLATFORM\nENV AUTOWARE_SYSROOT=\"/sysroot/${AUTOWARE_TARGET_PLATFORM}\"\nCOPY --from=sysroot /lib ${AUTOWARE_SYSROOT}/lib\nCOPY --from=sysroot /usr/include ${AUTOWARE_SYSROOT}/usr/include\nCOPY --from=sysroot /usr/lib ${AUTOWARE_SYSROOT}/usr/lib\nCOPY --from=sysroot /usr/share/pkgconfig ${AUTOWARE_SYSROOT}/usr/share/pkgconfig\nCOPY --from=sysroot /opt ${AUTOWARE_SYSROOT}/opt\nCOPY --from=sysroot /etc/alternatives ${AUTOWARE_SYSROOT}/etc/alternatives\nRUN echo \"deb http://packages.ros.org/ros/ubuntu xenial main\" | tee /etc/apt/sources.list.d/ros-latest.list\nRUN apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116\nRUN apt-get update \\\n && apt-get install --no-install-recommends crossbuild-essential-arm64 pkg-config python-rospkg qt5-qmake qtbase5-dev-tools ros-kinetic-catkin -y\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/opt/ros/kinetic/include#${AUTOWARE_SYSROOT}/opt/ros/kinetic/include#g\" {} ;\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/opt/ros/kinetic/lib#${AUTOWARE_SYSROOT}/opt/ros/kinetic/lib#g\" {} ;\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/include#${AUTOWARE_SYSROOT}/usr/include#g\" {} ;\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/lib#${AUTOWARE_SYSROOT}/usr/lib#g\" {} ;\nRUN find ${AUTOWARE_SYSROOT}/usr/lib/cmake/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu#${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu#g\" {} ;\nRUN find ${AUTOWARE_SYSROOT}/usr/lib/cmake/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/lib/openmpi#${AUTOWARE_SYSROOT}/usr/lib/openmpi#g\" {} ;\nRUN find ${AUTOWARE_SYSROOT}/usr/lib/cmake/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/include#${AUTOWARE_SYSROOT}/usr/include#g\" {} ;\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/lib/pkgconfig/ -name \"*.pc\" -type f -exec sed -i -e \"s#-I/opt/ros/kinetic/usr/include#-I${AUTOWARE_SYSROOT}/opt/ros/kinetic/usr/include#g\" {} ;\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/lib/pkgconfig/ -name \"*.pc\" -type f -exec sed -i -e \"s#-I/usr/include#-I${AUTOWARE_SYSROOT}/usr/include#g\" {} ;\nRUN find ${AUTOWARE_SYSROOT}/ -name \"*.pc\" -type f -exec sed -i -e \"s#prefix=/#prefix=${AUTOWARE_SYSROOT}/#g\" {} ;\nRUN sed -i -e \"s#/usr#${AUTOWARE_SYSROOT}/usr#g\" ${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/cmake/pcl/PCLConfig.cmake\nRUN sed -i -e \"s#set(imported_location \\\"${_qt5Widgets_install_prefix}/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/qt5/bin/uic\\\")#set(imported_location \\\"/usr/lib/x86_64-linux-gnu/qt5/bin/uic\\\")#g\" ${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/cmake/Qt5Widgets/Qt5WidgetsConfigExtras.cmake\nRUN sed -i -e \"s#set(imported_location \\\"${_qt5Core_install_prefix}/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/qt5/bin/#set(imported_location \\\"/usr/lib/x86_64-linux-gnu/qt5/bin/#g\" ${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/cmake/Qt5Core/Qt5CoreConfigExtras.cmake\nRUN sed -i -e \"s#define ARMA_SUPERLU_INCLUDE_DIR /usr/include/superlu/#define ARMA_SUPERLU_INCLUDE_DIR ${AUTOWARE_SYSROOT}/usr/include/superlu/#g\" ${AUTOWARE_SYSROOT}/usr/include/armadillo_bits/config.hpp\nENV ROS_DISTRO=\"kinetic\"\nENV CC=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-gcc\"\nENV CXX=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-g++\"\nENV AR=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-ar\"\nENV CPP=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-cpp\"\nCMD . /opt/ros/kinetic/setup.sh \\\n && /bin/bash\n","injectedSmells":[],"originalDockerfileHash":"c986f41cc4910e84f1cac31e4f03a1d5","successfullyInjectedSmells":[],"originalDockerfileUglified":"ARG AUTOWARE_DOCKER_ARCH\nARG AUTOWARE_TARGET_ARCH\nFROM multiarch/alpine:${AUTOWARE_TARGET_ARCH}-latest-stable AS bootstrap\nFROM ${AUTOWARE_DOCKER_ARCH}/ubuntu:16.04 AS sysroot\nARG AUTOWARE_TARGET_ARCH\nCOPY --from=bootstrap /usr/bin/qemu-${AUTOWARE_TARGET_ARCH}-static /usr/bin/qemu-${AUTOWARE_TARGET_ARCH}-static\nRUN echo \"deb http://packages.ros.org/ros/ubuntu xenial main\" | tee /etc/apt/sources.list.d/ros-latest.list\nRUN apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116\nRUN apt-get update \\\n && apt-get install --no-install-recommends curl lsb-release python-rosdep sudo -y\n#   Autoware dependencies\nRUN apt-get update \\\n && apt-get install --no-install-recommends freeglut3-dev libarmadillo-dev libcurl4-openssl-dev libeigen3-dev libgflags-dev libgl1-mesa-dev libglew-dev libglu1-mesa-dev libgoogle-glog-dev libgtest-dev libnlopt-dev libopencv-dev libpcap0.8-dev libpcl-dev libpcl1.7 libqt5core5a libqt5gui5 libqt5opengl5 libqt5opengl5-dev libqt5widgets5 libssh2-1 libtinyxml-dev libx11-dev libxi-dev libxml2-dev libxmu-dev libyaml-cpp-dev python-flask python-serial qtbase5-dev ros-kinetic-angles ros-kinetic-camera-info-manager ros-kinetic-catkin ros-kinetic-cmake-modules ros-kinetic-cv-bridge ros-kinetic-diagnostic-msgs ros-kinetic-diagnostic-updater ros-kinetic-dynamic-reconfigure ros-kinetic-geometry-msgs ros-kinetic-gps-common ros-kinetic-grid-map-cv ros-kinetic-grid-map-msgs ros-kinetic-grid-map-ros ros-kinetic-image-geometry ros-kinetic-image-transport ros-kinetic-imu-filter-madgwick ros-kinetic-imu-tools ros-kinetic-jsk-recognition-msgs ros-kinetic-jsk-rviz-plugins ros-kinetic-message-filters ros-kinetic-message-generation ros-kinetic-message-runtime ros-kinetic-nav-msgs ros-kinetic-nlopt ros-kinetic-nmea-msgs ros-kinetic-nodelet ros-kinetic-pcl-conversions ros-kinetic-pcl-msgs ros-kinetic-pcl-ros ros-kinetic-pluginlib ros-kinetic-rosconsole ros-kinetic-roscpp ros-kinetic-roslaunch ros-kinetic-roslib ros-kinetic-roslint ros-kinetic-rospy ros-kinetic-rostest ros-kinetic-rosunit ros-kinetic-rqt-plot ros-kinetic-rviz ros-kinetic-sensor-msgs ros-kinetic-shape-msgs ros-kinetic-sound-play ros-kinetic-std-msgs ros-kinetic-std-srvs ros-kinetic-stereo-msgs ros-kinetic-tf ros-kinetic-tf2 ros-kinetic-tf2-ros ros-kinetic-visualization-msgs ros-kinetic-xacro -y\nRUN find / -depth -xdev -type l -lname '/*' -exec sh -c 'linkpath=\"$(readlink {})\" \\\n && rm -f {} \\\n && ln -frsv \"$linkpath\" \"{}\"'\nFROM ubuntu:16.04 AS builder\nARG AUTOWARE_TARGET_ARCH\nARG AUTOWARE_TARGET_PLATFORM\nENV AUTOWARE_SYSROOT=\"/sysroot/${AUTOWARE_TARGET_PLATFORM}\"\nCOPY --from=sysroot /lib ${AUTOWARE_SYSROOT}/lib\nCOPY --from=sysroot /usr/include ${AUTOWARE_SYSROOT}/usr/include\nCOPY --from=sysroot /usr/lib ${AUTOWARE_SYSROOT}/usr/lib\nCOPY --from=sysroot /usr/share/pkgconfig ${AUTOWARE_SYSROOT}/usr/share/pkgconfig\nCOPY --from=sysroot /opt ${AUTOWARE_SYSROOT}/opt\nCOPY --from=sysroot /etc/alternatives ${AUTOWARE_SYSROOT}/etc/alternatives\nRUN echo \"deb http://packages.ros.org/ros/ubuntu xenial main\" | tee /etc/apt/sources.list.d/ros-latest.list\nRUN apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116\nRUN apt-get update \\\n && apt-get install --no-install-recommends crossbuild-essential-arm64 pkg-config python-rospkg qt5-qmake qtbase5-dev-tools ros-kinetic-catkin -y\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/opt/ros/kinetic/include#${AUTOWARE_SYSROOT}/opt/ros/kinetic/include#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/opt/ros/kinetic/lib#${AUTOWARE_SYSROOT}/opt/ros/kinetic/lib#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/include#${AUTOWARE_SYSROOT}/usr/include#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/share/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/lib#${AUTOWARE_SYSROOT}/usr/lib#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/usr/lib/cmake/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu#${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/usr/lib/cmake/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/lib/openmpi#${AUTOWARE_SYSROOT}/usr/lib/openmpi#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/usr/lib/cmake/ -name \"*.cmake\" -type f -exec sed -i -e \"s#/usr/include#${AUTOWARE_SYSROOT}/usr/include#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/lib/pkgconfig/ -name \"*.pc\" -type f -exec sed -i -e \"s#-I/opt/ros/kinetic/usr/include#-I${AUTOWARE_SYSROOT}/opt/ros/kinetic/usr/include#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/opt/ros/kinetic/lib/pkgconfig/ -name \"*.pc\" -type f -exec sed -i -e \"s#-I/usr/include#-I${AUTOWARE_SYSROOT}/usr/include#g\" {}\nRUN find ${AUTOWARE_SYSROOT}/ -name \"*.pc\" -type f -exec sed -i -e \"s#prefix=/#prefix=${AUTOWARE_SYSROOT}/#g\" {}\nRUN sed -i -e \"s#/usr#${AUTOWARE_SYSROOT}/usr#g\" ${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/cmake/pcl/PCLConfig.cmake\nRUN sed -i -e \"s#set(imported_location \\\"${_qt5Widgets_install_prefix}/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/qt5/bin/uic\\\")#set(imported_location \\\"/usr/lib/x86_64-linux-gnu/qt5/bin/uic\\\")#g\" ${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/cmake/Qt5Widgets/Qt5WidgetsConfigExtras.cmake\nRUN sed -i -e \"s#set(imported_location \\\"${_qt5Core_install_prefix}/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/qt5/bin/#set(imported_location \\\"/usr/lib/x86_64-linux-gnu/qt5/bin/#g\" ${AUTOWARE_SYSROOT}/usr/lib/${AUTOWARE_TARGET_ARCH}-linux-gnu/cmake/Qt5Core/Qt5CoreConfigExtras.cmake\nRUN sed -i -e \"s#define ARMA_SUPERLU_INCLUDE_DIR /usr/include/superlu/#define ARMA_SUPERLU_INCLUDE_DIR ${AUTOWARE_SYSROOT}/usr/include/superlu/#g\" ${AUTOWARE_SYSROOT}/usr/include/armadillo_bits/config.hpp\nENV ROS_DISTRO=\"kinetic\"\nENV CC=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-gcc\"\nENV CXX=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-g++\"\nENV AR=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-ar\"\nENV CPP=\"/usr/bin/${AUTOWARE_TARGET_ARCH}-linux-gnu-cpp\"\nCMD . /opt/ros/kinetic/setup.sh \\\n && /bin/bash\n","originalDockerfileUglifiedHash":"be0ede608d563fcb2ad74b220df6c429","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/4f7b8084ad688b7cb28589e7143989cc2c2a42d6.dockerfile"}