{"seed":86036426,"processedDockerfileHash":"e91b4cf7b4ddaef252a87df68cc0e810","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","have-a-healthcheck"],"processedDockerfile":"#   Android Dockerfile\nFROM ubuntu:14.04\nMAINTAINER Mobile Builds Eng \"mobile-builds-eng@uber.com\"\n#   Sets language to UTF8 : this works in pretty much all cases\nENV LANG=\"en_US.UTF-8\"\nRUN locale-gen $LANG\nENV DOCKER_ANDROID_LANG=\"en_US\"\nENV DOCKER_ANDROID_DISPLAY_NAME=\"mobileci-docker\"\n#   Never ask for confirmations\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Update apt-get\nRUN rm -rf /var/lib/apt/lists/*\nRUN :\nRUN apt-get dist-upgrade -y\n#   Installing packages\nRUN (apt-get update ;apt-get install --no-install-recommends autoconf=2.69-6 build-essential=11.6ubuntu6 bzip2=1.0.6-5 curl=7.35.0-1ubuntu2.20 gcc=4:4.8.2-1ubuntu6 git=1:1.9.1-1ubuntu0.10 groff=1.22.2-5 lib32stdc++6=4.8.4-2ubuntu1~14.04.4 lib32z1=1:1.2.8.dfsg-1ubuntu1.1 lib32z1-dev=1:1.2.8.dfsg-1ubuntu1.1 lib32ncurses5=5.9+20140118-1ubuntu1 lib32bz2-1.0=1.0.6-5 libc6-dev=2.19-0ubuntu6.15 libgmp-dev=2:5.1.3+dfsg-1ubuntu1 libmpc-dev=1.0.1-1ubuntu1 libmpfr-dev=3.1.2-1 libxslt-dev libxml2-dev=2.9.1+dfsg1-3ubuntu4.13 m4=1.4.17-2ubuntu1 make=3.81-8.2ubuntu3 ncurses-dev ocaml=4.01.0-3ubuntu3.1 openssh-client=1:6.6p1-2ubuntu2.13 pkg-config=0.26-1ubuntu4 python-software-properties=0.92.37.8 rsync=3.1.0-2ubuntu0.4 software-properties-common=0.92.37.8 unzip=6.0-9ubuntu1.5 wget=1.15-1ubuntu1.14.04.5 zip=3.0-8 zlib1g-dev=1:1.2.8.dfsg-1ubuntu1.1 -y )\n#   Install Java\nRUN apt-add-repository ppa:openjdk-r/ppa\nRUN :\nRUN (apt-get update ;apt-get install --no-install-recommends openjdk-8-jdk -y )\n#   Clean Up Apt-get\nRUN rm -rf /var/lib/apt/lists/*\nRUN apt-get clean\n#   Install Android SDK\nRUN wget https://dl.google.com/android/android-sdk_r24.4.1-linux.tgz\nRUN tar -xvzf android-sdk_r24.4.1-linux.tgz\nRUN mv android-sdk-linux /usr/local/android-sdk\nRUN rm android-sdk_r24.4.1-linux.tgz\nENV ANDROID_COMPONENTS=\"platform-tools,android-23,build-tools-23.0.2,build-tools-24.0.0\"\n#   Install Android tools\nRUN echo y | /usr/local/android-sdk/tools/android update sdk --filter \"${ANDROID_COMPONENTS}\" --no-ui -a\n#   Install Android NDK\nRUN wget http://dl.google.com/android/repository/android-ndk-r12-linux-x86_64.zip\nRUN unzip android-ndk-r12-linux-x86_64.zip\nRUN mv android-ndk-r12 /usr/local/android-ndk\nRUN rm android-ndk-r12-linux-x86_64.zip\n#   Environment variables\nENV ANDROID_HOME=\"/usr/local/android-sdk\"\nENV ANDROID_SDK_HOME=\"$ANDROID_HOME\"\nENV ANDROID_NDK_HOME=\"/usr/local/android-ndk\"\nENV JENKINS_HOME=\"$HOME\"\nENV PATH=\"${INFER_HOME}/bin:${PATH}\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/tools\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/platform-tools\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/build-tools/23.0.2\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/build-tools/24.0.0\"\nENV PATH=\"$PATH:$ANDROID_NDK_HOME\"\n#   Export JAVA_HOME variable\nENV JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64/\"\n#   Support Gradle\nENV TERM=\"dumb\"\nENV JAVA_OPTS=\"\\\"-Xms4096m -Xmx4096m\\\"\"\nENV GRADLE_OPTS=\"\\\"-XX:+UseG1GC -XX:MaxGCPauseMillis=1000\\\"\"\n#   Cleaning\nRUN apt-get clean\n#   Add build user account, values are set to default below\nENV RUN_USER=\"mobileci\"\nENV RUN_UID=\"5089\"\nRUN id $RUN_USER || adduser --uid \"$RUN_UID\" --gecos 'Build User' --shell '/bin/sh' --disabled-login --disabled-password \"$RUN_USER\"\n#   Fix permissions\nRUN chown -R $RUN_USER:$RUN_USER $ANDROID_HOME $ANDROID_SDK_HOME $ANDROID_NDK_HOME\nRUN chmod -R a+rx $ANDROID_HOME $ANDROID_SDK_HOME $ANDROID_NDK_HOME\n#   Creating project directories prepared for build when running\n#   `docker run`\nENV PROJECT=\"/project\"\nRUN mkdir $PROJECT\nRUN chown -R $RUN_USER:$RUN_USER $PROJECT\nWORKDIR $PROJECT\nUSER $RUN_USER\nRUN echo \"sdk.dir=$ANDROID_HOME\" > local.properties\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  Android Dockerfile\nFROM ubuntu:14.04\nMAINTAINER Mobile Builds Eng \"mobile-builds-eng@uber.com\"\n#  Sets language to UTF8 : this works in pretty much all cases\nENV LANG=\"en_US.UTF-8\"\nRUN locale-gen $LANG\nENV DOCKER_ANDROID_LANG=\"en_US\"\nENV DOCKER_ANDROID_DISPLAY_NAME=\"mobileci-docker\"\n#  Never ask for confirmations\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#  Update apt-get\nRUN rm -rf /var/lib/apt/lists/*\nRUN apt-get update\nRUN apt-get dist-upgrade -y\n#  Installing packages\nRUN apt-get install --no-install-recommends autoconf build-essential bzip2 curl gcc git groff lib32stdc++6 lib32z1 lib32z1-dev lib32ncurses5 lib32bz2-1.0 libc6-dev libgmp-dev libmpc-dev libmpfr-dev libxslt-dev libxml2-dev m4 make ncurses-dev ocaml openssh-client pkg-config python-software-properties rsync software-properties-common unzip wget zip zlib1g-dev -y\n#  Install Java\nRUN apt-add-repository ppa:openjdk-r/ppa\nRUN apt-get update\nRUN apt-get install openjdk-8-jdk -y\n#  Clean Up Apt-get\nRUN rm -rf /var/lib/apt/lists/*\nRUN apt-get clean\n#  Install Android SDK\nRUN wget https://dl.google.com/android/android-sdk_r24.4.1-linux.tgz\nRUN tar -xvzf android-sdk_r24.4.1-linux.tgz\nRUN mv android-sdk-linux /usr/local/android-sdk\nRUN rm android-sdk_r24.4.1-linux.tgz\nENV ANDROID_COMPONENTS=\"platform-tools,android-23,build-tools-23.0.2,build-tools-24.0.0\"\n#  Install Android tools\nRUN echo y | /usr/local/android-sdk/tools/android update sdk --filter \"${ANDROID_COMPONENTS}\" --no-ui -a\n#  Install Android NDK\nRUN wget http://dl.google.com/android/repository/android-ndk-r12-linux-x86_64.zip\nRUN unzip android-ndk-r12-linux-x86_64.zip\nRUN mv android-ndk-r12 /usr/local/android-ndk\nRUN rm android-ndk-r12-linux-x86_64.zip\n#  Environment variables\nENV ANDROID_HOME=\"/usr/local/android-sdk\"\nENV ANDROID_SDK_HOME=\"$ANDROID_HOME\"\nENV ANDROID_NDK_HOME=\"/usr/local/android-ndk\"\nENV JENKINS_HOME=\"$HOME\"\nENV PATH=\"${INFER_HOME}/bin:${PATH}\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/tools\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/platform-tools\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/build-tools/23.0.2\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/build-tools/24.0.0\"\nENV PATH=\"$PATH:$ANDROID_NDK_HOME\"\n#  Export JAVA_HOME variable\nENV JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64/\"\n#  Support Gradle\nENV TERM=\"dumb\"\nENV JAVA_OPTS=\"\\\"-Xms4096m -Xmx4096m\\\"\"\nENV GRADLE_OPTS=\"\\\"-XX:+UseG1GC -XX:MaxGCPauseMillis=1000\\\"\"\n#  Cleaning\nRUN apt-get clean\n#  Add build user account, values are set to default below\nENV RUN_USER=\"mobileci\"\nENV RUN_UID=\"5089\"\nRUN id $RUN_USER || adduser --uid \"$RUN_UID\" --gecos 'Build User' --shell '/bin/sh' --disabled-login --disabled-password \"$RUN_USER\"\n#  Fix permissions\nRUN chown -R $RUN_USER:$RUN_USER $ANDROID_HOME $ANDROID_SDK_HOME $ANDROID_NDK_HOME\nRUN chmod -R a+rx $ANDROID_HOME $ANDROID_SDK_HOME $ANDROID_NDK_HOME\n#  Creating project directories prepared for build when running\n#  `docker run`\nENV PROJECT=\"/project\"\nRUN mkdir $PROJECT\nRUN chown -R $RUN_USER:$RUN_USER $PROJECT\nWORKDIR $PROJECT\nUSER $RUN_USER\nRUN echo \"sdk.dir=$ANDROID_HOME\" > local.properties\n","injectedSmells":[],"originalDockerfileHash":"973b34d04667d0e7e7434b7c0520cfca","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   Android Dockerfile\nFROM ubuntu:14.04\nMAINTAINER Mobile Builds Eng \"mobile-builds-eng@uber.com\"\n#   Sets language to UTF8 : this works in pretty much all cases\nENV LANG=\"en_US.UTF-8\"\nRUN locale-gen $LANG\nENV DOCKER_ANDROID_LANG=\"en_US\"\nENV DOCKER_ANDROID_DISPLAY_NAME=\"mobileci-docker\"\n#   Never ask for confirmations\nENV DEBIAN_FRONTEND=\"noninteractive\"\n#   Update apt-get\nRUN rm -rf /var/lib/apt/lists/*\nRUN apt-get update\nRUN apt-get dist-upgrade -y\n#   Installing packages\nRUN apt-get install --no-install-recommends autoconf build-essential bzip2 curl gcc git groff lib32stdc++6 lib32z1 lib32z1-dev lib32ncurses5 lib32bz2-1.0 libc6-dev libgmp-dev libmpc-dev libmpfr-dev libxslt-dev libxml2-dev m4 make ncurses-dev ocaml openssh-client pkg-config python-software-properties rsync software-properties-common unzip wget zip zlib1g-dev -y\n#   Install Java\nRUN apt-add-repository ppa:openjdk-r/ppa\nRUN apt-get update\nRUN apt-get install openjdk-8-jdk -y\n#   Clean Up Apt-get\nRUN rm -rf /var/lib/apt/lists/*\nRUN apt-get clean\n#   Install Android SDK\nRUN wget https://dl.google.com/android/android-sdk_r24.4.1-linux.tgz\nRUN tar -xvzf android-sdk_r24.4.1-linux.tgz\nRUN mv android-sdk-linux /usr/local/android-sdk\nRUN rm android-sdk_r24.4.1-linux.tgz\nENV ANDROID_COMPONENTS=\"platform-tools,android-23,build-tools-23.0.2,build-tools-24.0.0\"\n#   Install Android tools\nRUN echo y | /usr/local/android-sdk/tools/android update sdk --filter \"${ANDROID_COMPONENTS}\" --no-ui -a\n#   Install Android NDK\nRUN wget http://dl.google.com/android/repository/android-ndk-r12-linux-x86_64.zip\nRUN unzip android-ndk-r12-linux-x86_64.zip\nRUN mv android-ndk-r12 /usr/local/android-ndk\nRUN rm android-ndk-r12-linux-x86_64.zip\n#   Environment variables\nENV ANDROID_HOME=\"/usr/local/android-sdk\"\nENV ANDROID_SDK_HOME=\"$ANDROID_HOME\"\nENV ANDROID_NDK_HOME=\"/usr/local/android-ndk\"\nENV JENKINS_HOME=\"$HOME\"\nENV PATH=\"${INFER_HOME}/bin:${PATH}\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/tools\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/platform-tools\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/build-tools/23.0.2\"\nENV PATH=\"$PATH:$ANDROID_SDK_HOME/build-tools/24.0.0\"\nENV PATH=\"$PATH:$ANDROID_NDK_HOME\"\n#   Export JAVA_HOME variable\nENV JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64/\"\n#   Support Gradle\nENV TERM=\"dumb\"\nENV JAVA_OPTS=\"\\\"-Xms4096m -Xmx4096m\\\"\"\nENV GRADLE_OPTS=\"\\\"-XX:+UseG1GC -XX:MaxGCPauseMillis=1000\\\"\"\n#   Cleaning\nRUN apt-get clean\n#   Add build user account, values are set to default below\nENV RUN_USER=\"mobileci\"\nENV RUN_UID=\"5089\"\nRUN id $RUN_USER || adduser --uid \"$RUN_UID\" --gecos 'Build User' --shell '/bin/sh' --disabled-login --disabled-password \"$RUN_USER\"\n#   Fix permissions\nRUN chown -R $RUN_USER:$RUN_USER $ANDROID_HOME $ANDROID_SDK_HOME $ANDROID_NDK_HOME\nRUN chmod -R a+rx $ANDROID_HOME $ANDROID_SDK_HOME $ANDROID_NDK_HOME\n#   Creating project directories prepared for build when running\n#   `docker run`\nENV PROJECT=\"/project\"\nRUN mkdir $PROJECT\nRUN chown -R $RUN_USER:$RUN_USER $PROJECT\nWORKDIR $PROJECT\nUSER $RUN_USER\nRUN echo \"sdk.dir=$ANDROID_HOME\" > local.properties\n","originalDockerfileUglifiedHash":"9457f91f8a7d7a5bfa8946b5bf2818c8","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/f4c79b8737b993f08b9b6588bc3c71466e1975e3.dockerfile"}