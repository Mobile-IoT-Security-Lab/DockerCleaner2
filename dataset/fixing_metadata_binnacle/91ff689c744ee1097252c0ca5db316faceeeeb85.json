{"seed":1623816652,"processedDockerfileHash":"b34a126552b1cdcd24b5e885a65df6ef","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-pip","have-a-healthcheck","have-a-user"],"processedDockerfile":"#   BSD 3-Clause License\n#   Copyright (c) 2017, Juliano Petronetto\n#   All rights reserved.\n#   Redistribution and use in source and binary forms, with or without\n#   modification, are permitted provided that the following conditions are met:\n#   * Redistributions of source code must retain the above copyright notice, this\n#     list of conditions and the following disclaimer.\n#   * Redistributions in binary form must reproduce the above copyright notice,\n#     this list of conditions and the following disclaimer in the documentation\n#     and/or other materials provided with the distribution.\n#   * Neither the name of the copyright holder nor the names of its\n#     contributors may be used to endorse or promote products derived from\n#     this software without specific prior written permission.\n#   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n#   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n#   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n#   DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n#   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n#   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n#   SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n#   CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n#   OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n#   OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nFROM debian:stretch-slim\nLABEL maintainer=\"Juliano Petronetto <juliano@petronetto.com.br>\" \\\n      name=\"Docker Python Deep Learning\" \\\n      description=\"Docker container for Python Deep Learning, with almost everything that you may need.\" \\\n      url=\"https://hub.docker.com/r/petronetto/docker-python-deep-learning\" \\\n      vcs-url=\"https://github.com/petronetto/docker-python-deep-learning\" \\\n      vendor=\"Petronetto DevTech\" \\\n      version=\"1.1\"\nENV BUILD_PACKAGES=\" build-essential  linux-headers-4.9  cmake  tcl-dev  xz-utils  zlib1g-dev  libssl-dev  libncurses5-dev  libsqlite3-dev  libreadline-dev  libtk8.5  libgdm-dev  libdb4o-cil-dev  libpcap-dev  git  wget  curl\" \\\n    APT_PACKAGES=\" ca-certificates  openssl  sqlite3  bash  graphviz  fonts-noto  libpng16-16  libfreetype6  libjpeg62-turbo  libgomp1\" \\\n    PIP_PACKAGES=\" pyyaml  pymkl  cffi  h5py  requests  pillow  graphviz  numpy  pandas  scipy  scikit-learn  seaborn  matplotlib  jupyter  xgboost  tensorflow  keras  https://download.pytorch.org/whl/cpu/torch-1.1.0-cp36-cp36m-linux_x86_64.whl  https://download.pytorch.org/whl/cpu/torchvision-0.3.0-cp36-cp36m-linux_x86_64.whl  mxnet-mkl\" \\\n    PYTHON_VER=\"3.6.8\" \\\n    JUPYTER_CONFIG_DIR=\"/home/.ipython/profile_default/startup\" \\\n    LANG=\"C.UTF-8\"\nRUN set -ex ; apt-get update -y ; apt-get upgrade -y ; apt-get install --no-install-recommends ${APT_PACKAGES} -y ; apt-get install --no-install-recommends ${BUILD_PACKAGES} -y ; cd /tmp \\\n && wget https://www.python.org/ftp/python/${PYTHON_VER}/Python-${PYTHON_VER}.tgz ; tar xvf Python-${PYTHON_VER}.tgz ; cd Python-${PYTHON_VER} ; ./configure --enable-optimizations \\\n && make -j8 \\\n && make altinstall ; ln -s /usr/local/bin/python3.6 /usr/local/bin/python ; ln -s /usr/local/bin/pip3.6 /usr/local/bin/pip ; ln -s /usr/local/bin/idle3.6 /usr/local/bin/idle ; ln -s /usr/local/bin/pydoc3.6 /usr/local/bin/pydoc ; ln -s /usr/local/bin/python3.6m-config /usr/local/bin/python-config ; ln -s /usr/local/bin/pyvenv-3.6 /usr/local/bin/pyvenv ; pip install pip==23.1 -U -V ; pip install setuptools==67.6.1 wheel==0.40.0 -U -v ; pip install ${PIP_PACKAGES} -U -v ; apt-get remove --purge --auto-remove -y ${BUILD_PACKAGES} ; apt-get clean ; apt-get autoclean ; apt-get autoremove ; rm -rf /tmp/* /var/tmp/* ; rm -rf /var/lib/apt/lists/* ; rm -f /var/cache/apt/archives/*.deb /var/cache/apt/archives/partial/*.deb /var/cache/apt/*.bin ; find / -name __pycache__ | xargs rm -r ; rm -rf /root/.[acpw]* ; pip install jupyter==1.0.0 \\\n && jupyter nbextension enable --py widgetsnbextension ; mkdir -p ${JUPYTER_CONFIG_DIR} ; echo \"import warnings\" | tee ${JUPYTER_CONFIG_DIR}/config.py ; echo \"warnings.filterwarnings('ignore')\" | tee -a ${JUPYTER_CONFIG_DIR}/config.py ; echo \"c.NotebookApp.token = u''\" | tee -a ${JUPYTER_CONFIG_DIR}/config.py\nWORKDIR /home/notebooks\nEXPOSE 8888/tcp\nCMD [\"jupyter\", \"notebook\", \"--port=8888\", \"--no-browser\", \"--allow-root\", \"--ip=0.0.0.0\", \"--NotebookApp.token=\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"#  BSD 3-Clause License\n#  Copyright (c) 2017, Juliano Petronetto\n#  All rights reserved.\n#  Redistribution and use in source and binary forms, with or without\n#  modification, are permitted provided that the following conditions are met:\n#  * Redistributions of source code must retain the above copyright notice, this\n#    list of conditions and the following disclaimer.\n#  * Redistributions in binary form must reproduce the above copyright notice,\n#    this list of conditions and the following disclaimer in the documentation\n#    and/or other materials provided with the distribution.\n#  * Neither the name of the copyright holder nor the names of its\n#    contributors may be used to endorse or promote products derived from\n#    this software without specific prior written permission.\n#  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n#  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n#  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n#  DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n#  FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n#  DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n#  SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n#  CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n#  OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n#  OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nFROM debian:stretch-slim\nLABEL maintainer=\"Juliano Petronetto <juliano@petronetto.com.br>\" \\\n      name=\"Docker Python Deep Learning\" \\\n      description=\"Docker container for Python Deep Learning, with almost everything that you may need.\" \\\n      url=\"https://hub.docker.com/r/petronetto/docker-python-deep-learning\" \\\n      vcs-url=\"https://github.com/petronetto/docker-python-deep-learning\" \\\n      vendor=\"Petronetto DevTech\" \\\n      version=\"1.1\"\nENV BUILD_PACKAGES=\" build-essential  linux-headers-4.9  cmake  tcl-dev  xz-utils  zlib1g-dev  libssl-dev  libncurses5-dev  libsqlite3-dev  libreadline-dev  libtk8.5  libgdm-dev  libdb4o-cil-dev  libpcap-dev  git  wget  curl\" \\\n    APT_PACKAGES=\" ca-certificates  openssl  sqlite3  bash  graphviz  fonts-noto  libpng16-16  libfreetype6  libjpeg62-turbo  libgomp1\" \\\n    PIP_PACKAGES=\" pyyaml  pymkl  cffi  h5py  requests  pillow  graphviz  numpy  pandas  scipy  scikit-learn  seaborn  matplotlib  jupyter  xgboost  tensorflow  keras  https://download.pytorch.org/whl/cpu/torch-1.1.0-cp36-cp36m-linux_x86_64.whl  https://download.pytorch.org/whl/cpu/torchvision-0.3.0-cp36-cp36m-linux_x86_64.whl  mxnet-mkl\" \\\n    PYTHON_VER=\"3.6.8\" \\\n    JUPYTER_CONFIG_DIR=\"/home/.ipython/profile_default/startup\" \\\n    LANG=\"C.UTF-8\"\nRUN set -ex ; apt-get update -y ; apt-get upgrade -y ; apt-get install --no-install-recommends ${APT_PACKAGES} -y ; apt-get install --no-install-recommends ${BUILD_PACKAGES} -y ; cd /tmp \\\n && wget https://www.python.org/ftp/python/${PYTHON_VER}/Python-${PYTHON_VER}.tgz ; tar xvf Python-${PYTHON_VER}.tgz ; cd Python-${PYTHON_VER} ; ./configure --enable-optimizations \\\n && make -j8 \\\n && make altinstall ; ln -s /usr/local/bin/python3.6 /usr/local/bin/python ; ln -s /usr/local/bin/pip3.6 /usr/local/bin/pip ; ln -s /usr/local/bin/idle3.6 /usr/local/bin/idle ; ln -s /usr/local/bin/pydoc3.6 /usr/local/bin/pydoc ; ln -s /usr/local/bin/python3.6m-config /usr/local/bin/python-config ; ln -s /usr/local/bin/pyvenv-3.6 /usr/local/bin/pyvenv ; pip install pip -U -V ; pip install setuptools wheel -U -v ; pip install ${PIP_PACKAGES} -U -v ; apt-get remove --purge --auto-remove -y ${BUILD_PACKAGES} ; apt-get clean ; apt-get autoclean ; apt-get autoremove ; rm -rf /tmp/* /var/tmp/* ; rm -rf /var/lib/apt/lists/* ; rm -f /var/cache/apt/archives/*.deb /var/cache/apt/archives/partial/*.deb /var/cache/apt/*.bin ; find / -name __pycache__ | xargs rm -r ; rm -rf /root/.[acpw]* ; pip install jupyter \\\n && jupyter nbextension enable --py widgetsnbextension ; mkdir -p ${JUPYTER_CONFIG_DIR} ; echo \"import warnings\" | tee ${JUPYTER_CONFIG_DIR}/config.py ; echo \"warnings.filterwarnings('ignore')\" | tee -a ${JUPYTER_CONFIG_DIR}/config.py ; echo \"c.NotebookApp.token = u''\" | tee -a ${JUPYTER_CONFIG_DIR}/config.py\nWORKDIR /home/notebooks\nEXPOSE 8888/tcp\nCMD [\"jupyter\", \"notebook\", \"--port=8888\", \"--no-browser\", \"--allow-root\", \"--ip=0.0.0.0\", \"--NotebookApp.token=\"]\n","injectedSmells":[],"originalDockerfileHash":"0c6b867f1e70e5bc0a66ca8b60c979cc","successfullyInjectedSmells":[],"originalDockerfileUglified":"#   BSD 3-Clause License\n#   Copyright (c) 2017, Juliano Petronetto\n#   All rights reserved.\n#   Redistribution and use in source and binary forms, with or without\n#   modification, are permitted provided that the following conditions are met:\n#   * Redistributions of source code must retain the above copyright notice, this\n#     list of conditions and the following disclaimer.\n#   * Redistributions in binary form must reproduce the above copyright notice,\n#     this list of conditions and the following disclaimer in the documentation\n#     and/or other materials provided with the distribution.\n#   * Neither the name of the copyright holder nor the names of its\n#     contributors may be used to endorse or promote products derived from\n#     this software without specific prior written permission.\n#   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n#   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n#   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n#   DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n#   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n#   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n#   SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n#   CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n#   OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n#   OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nFROM debian:stretch-slim\nLABEL maintainer=\"Juliano Petronetto <juliano@petronetto.com.br>\" \\\n      name=\"Docker Python Deep Learning\" \\\n      description=\"Docker container for Python Deep Learning, with almost everything that you may need.\" \\\n      url=\"https://hub.docker.com/r/petronetto/docker-python-deep-learning\" \\\n      vcs-url=\"https://github.com/petronetto/docker-python-deep-learning\" \\\n      vendor=\"Petronetto DevTech\" \\\n      version=\"1.1\"\nENV BUILD_PACKAGES=\" build-essential  linux-headers-4.9  cmake  tcl-dev  xz-utils  zlib1g-dev  libssl-dev  libncurses5-dev  libsqlite3-dev  libreadline-dev  libtk8.5  libgdm-dev  libdb4o-cil-dev  libpcap-dev  git  wget  curl\" \\\n    APT_PACKAGES=\" ca-certificates  openssl  sqlite3  bash  graphviz  fonts-noto  libpng16-16  libfreetype6  libjpeg62-turbo  libgomp1\" \\\n    PIP_PACKAGES=\" pyyaml  pymkl  cffi  h5py  requests  pillow  graphviz  numpy  pandas  scipy  scikit-learn  seaborn  matplotlib  jupyter  xgboost  tensorflow  keras  https://download.pytorch.org/whl/cpu/torch-1.1.0-cp36-cp36m-linux_x86_64.whl  https://download.pytorch.org/whl/cpu/torchvision-0.3.0-cp36-cp36m-linux_x86_64.whl  mxnet-mkl\" \\\n    PYTHON_VER=\"3.6.8\" \\\n    JUPYTER_CONFIG_DIR=\"/home/.ipython/profile_default/startup\" \\\n    LANG=\"C.UTF-8\"\nRUN set -ex ; apt-get update -y ; apt-get upgrade -y ; apt-get install --no-install-recommends ${APT_PACKAGES} -y ; apt-get install --no-install-recommends ${BUILD_PACKAGES} -y ; cd /tmp \\\n && wget https://www.python.org/ftp/python/${PYTHON_VER}/Python-${PYTHON_VER}.tgz ; tar xvf Python-${PYTHON_VER}.tgz ; cd Python-${PYTHON_VER} ; ./configure --enable-optimizations \\\n && make -j8 \\\n && make altinstall ; ln -s /usr/local/bin/python3.6 /usr/local/bin/python ; ln -s /usr/local/bin/pip3.6 /usr/local/bin/pip ; ln -s /usr/local/bin/idle3.6 /usr/local/bin/idle ; ln -s /usr/local/bin/pydoc3.6 /usr/local/bin/pydoc ; ln -s /usr/local/bin/python3.6m-config /usr/local/bin/python-config ; ln -s /usr/local/bin/pyvenv-3.6 /usr/local/bin/pyvenv ; pip install pip -U -V ; pip install setuptools wheel -U -v ; pip install ${PIP_PACKAGES} -U -v ; apt-get remove --purge --auto-remove -y ${BUILD_PACKAGES} ; apt-get clean ; apt-get autoclean ; apt-get autoremove ; rm -rf /tmp/* /var/tmp/* ; rm -rf /var/lib/apt/lists/* ; rm -f /var/cache/apt/archives/*.deb /var/cache/apt/archives/partial/*.deb /var/cache/apt/*.bin ; find / -name __pycache__ | xargs rm -r ; rm -rf /root/.[acpw]* ; pip install jupyter \\\n && jupyter nbextension enable --py widgetsnbextension ; mkdir -p ${JUPYTER_CONFIG_DIR} ; echo \"import warnings\" | tee ${JUPYTER_CONFIG_DIR}/config.py ; echo \"warnings.filterwarnings('ignore')\" | tee -a ${JUPYTER_CONFIG_DIR}/config.py ; echo \"c.NotebookApp.token = u''\" | tee -a ${JUPYTER_CONFIG_DIR}/config.py\nWORKDIR /home/notebooks\nEXPOSE 8888/tcp\nCMD [\"jupyter\", \"notebook\", \"--port=8888\", \"--no-browser\", \"--allow-root\", \"--ip=0.0.0.0\", \"--NotebookApp.token=\"]\n","originalDockerfileUglifiedHash":"54f44775613c022a1d9227cf8912bb7f","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/91ff689c744ee1097252c0ca5db316faceeeeb85.dockerfile"}