{"seed":3705368585,"processedDockerfileHash":"bb18839cb27b0efe35fbd23c42ed8ee3","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["have-a-healthcheck","have-a-user"],"processedDockerfile":"#  ## Created by Dr. Benjamin Richards (b.richards@qmul.ac.uk) based on docker file from Stephane Zsoldos (s.zsoldos@qmul.ac.uk)\n#  ## Download base image from cern repo on docker hub\nFROM cern/slc6-base:latest\n#  ## Run the following commands as super user (root):\nUSER root\n#  ######################\n#  ## GCC ENVIRONMENT ###\n#  ######################\n#  ## Required package for ROOT\nRUN yum install -y wget tar cmake gcc-c++ gcc binutils libX11-devel libXpm-devel libXft-devel libXext-devel git mesa-libGL-devel mesa-libGLU-devel libXmu-devel libXi-devel expat-devel \\\n && yum clean all \\\n && rm -rf /var/cache/yum\n#  ## Setup environment\nRUN mkdir /root/HyperK\nENV HYPERKDIR=\"/root/HyperK\"\nRUN export HYPERKDIR\n#  ## Downloading ROOT\nRUN cd $HYPERKDIR \\\n && wget https://root.cern.ch/download/root_v5.34.36.Linux-slc6-x86_64-gcc4.4.tar.gz \\\n && tar -xvzf root_v5.34.36.Linux-slc6-x86_64-gcc4.4.tar.gz \\\n && rm -f root_v5.34.36.Linux-slc6-x86_64-gcc4.4.tar.gz\n#  ## Downloading Geant4\nRUN cd $HYPERKDIR \\\n && wget http://geant4.web.cern.ch/geant4/support/source/lib4.10.1.p03/Linux-g++4.4.7-SLC6.tar.gz \\\n && tar -xvzf Linux-g++4.4.7-SLC6.tar.gz \\\n && rm -f Linux-g++4.4.7-SLC6.tar.gz\n#  ## Data files for Geant4\nENV G4DATA=\"$HYPERKDIR/Geant4-10.1.3-Linux/share/Geant4-10.1.3/data\"\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4ABLA.3.0.tar.gz \\\n && tar -xvzf G4ABLA.3.0.tar.gz \\\n && rm -f G4ABLA.3.0.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4NDL.4.5.tar.gz \\\n && tar -xvzf G4NDL.4.5.tar.gz \\\n && rm -f G4NDL.4.5.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4EMLOW.6.41.tar.gz \\\n && tar -xvzf G4EMLOW.6.41.tar.gz \\\n && rm -f G4EMLOW.6.41.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4PhotonEvaporation.3.1.tar.gz \\\n && tar -xvzf G4PhotonEvaporation.3.1.tar.gz \\\n && rm -f G4PhotonEvaporation.3.1.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4RadioactiveDecay.4.2.tar.gz \\\n && tar -xvzf G4RadioactiveDecay.4.2.tar.gz \\\n && rm -f G4RadioactiveDecay.4.2.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4SAIDDATA.1.1.tar.gz \\\n && tar -xvzf G4SAIDDATA.1.1.tar.gz \\\n && rm -f G4SAIDDATA.1.1.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4NEUTRONXS.1.4.tar.gz \\\n && tar -xvzf G4NEUTRONXS.1.4.tar.gz \\\n && rm -f G4NEUTRONXS.1.4.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4PII.1.3.tar.gz \\\n && tar -xvzf G4PII.1.3.tar.gz \\\n && rm -f G4PII.1.3.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/RealSurface.1.0.tar.gz \\\n && tar -xvzf RealSurface.1.0.tar.gz \\\n && rm -f RealSurface.1.0.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4ENSDFSTATE.1.0.tar.gz \\\n && tar -xvzf G4ENSDFSTATE.1.0.tar.gz \\\n && rm -f G4ENSDFSTATE.1.0.tar.gz\n#  ## ENV Geant4\nENV G4WORKDIR=\"$HYPERKDIR/WCSim/exe\"\nENV WCSIMDIR=\"$HYPERKDIR/WCSim\"\nENV G4INSTALL=\"$HYPERKDIR/Geant4-10.1.3-Linux\"\nENV G4LIB=\"$G4INSTALL/lib\"\nRUN export G4WORKDIR\nRUN export WCSIMDIR\nRUN export G4INSTALL\nRUN export G4LIB\n#  ## Get and build WCSim \nRUN cd $HYPERKDIR \\\n && git clone https://github.com/WCSim/WCSim \\\n && source $HYPERKDIR/root/bin/thisroot.sh \\\n && source $G4INSTALL/bin/geant4.sh \\\n && source $G4INSTALL/share/Geant4-10.1.3/geant4make/geant4make.sh \\\n && echo '#!/bin/bash -x' > env-WCSim.sh \\\n && echo 'source $HYPERKDIR/root/bin/thisroot.sh' >> env-WCSim.sh \\\n && echo 'source $G4INSTALL/bin/geant4.sh' >> env-WCSim.sh \\\n && echo 'source $G4INSTALL/share/Geant4-10.1.3/geant4make/geant4make.sh' >> env-WCSim.sh \\\n && cd $WCSIMDIR \\\n && make clean \\\n && make rootcint \\\n && make\n#  ## Open terminal\nCMD [\"/bin/bash\"]\nRUN groupadd --system docker-user ; useradd --system --gid docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"# ## Created by Dr. Benjamin Richards (b.richards@qmul.ac.uk) based on docker file from Stephane Zsoldos (s.zsoldos@qmul.ac.uk)\n# ## Download base image from cern repo on docker hub\nFROM cern/slc6-base:latest\n# ## Run the following commands as super user (root):\nUSER root\n# ######################\n# ## GCC ENVIRONMENT ###\n# ######################\n# ## Required package for ROOT\nRUN yum install -y wget tar cmake gcc-c++ gcc binutils libX11-devel libXpm-devel libXft-devel libXext-devel git mesa-libGL-devel mesa-libGLU-devel libXmu-devel libXi-devel expat-devel \\\n && yum clean all \\\n && rm -rf /var/cache/yum\n# ## Setup environment\nRUN mkdir /root/HyperK\nENV HYPERKDIR=\"/root/HyperK\"\nRUN export HYPERKDIR\n# ## Downloading ROOT\nRUN cd $HYPERKDIR \\\n && wget https://root.cern.ch/download/root_v5.34.36.Linux-slc6-x86_64-gcc4.4.tar.gz \\\n && tar -xvzf root_v5.34.36.Linux-slc6-x86_64-gcc4.4.tar.gz \\\n && rm -f root_v5.34.36.Linux-slc6-x86_64-gcc4.4.tar.gz\n# ## Downloading Geant4\nRUN cd $HYPERKDIR \\\n && wget http://geant4.web.cern.ch/geant4/support/source/lib4.10.1.p03/Linux-g++4.4.7-SLC6.tar.gz \\\n && tar -xvzf Linux-g++4.4.7-SLC6.tar.gz \\\n && rm -f Linux-g++4.4.7-SLC6.tar.gz\n# ## Data files for Geant4\nENV G4DATA=\"$HYPERKDIR/Geant4-10.1.3-Linux/share/Geant4-10.1.3/data\"\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4ABLA.3.0.tar.gz \\\n && tar -xvzf G4ABLA.3.0.tar.gz \\\n && rm -f G4ABLA.3.0.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4NDL.4.5.tar.gz \\\n && tar -xvzf G4NDL.4.5.tar.gz \\\n && rm -f G4NDL.4.5.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4EMLOW.6.41.tar.gz \\\n && tar -xvzf G4EMLOW.6.41.tar.gz \\\n && rm -f G4EMLOW.6.41.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4PhotonEvaporation.3.1.tar.gz \\\n && tar -xvzf G4PhotonEvaporation.3.1.tar.gz \\\n && rm -f G4PhotonEvaporation.3.1.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4RadioactiveDecay.4.2.tar.gz \\\n && tar -xvzf G4RadioactiveDecay.4.2.tar.gz \\\n && rm -f G4RadioactiveDecay.4.2.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4SAIDDATA.1.1.tar.gz \\\n && tar -xvzf G4SAIDDATA.1.1.tar.gz \\\n && rm -f G4SAIDDATA.1.1.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4NEUTRONXS.1.4.tar.gz \\\n && tar -xvzf G4NEUTRONXS.1.4.tar.gz \\\n && rm -f G4NEUTRONXS.1.4.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4PII.1.3.tar.gz \\\n && tar -xvzf G4PII.1.3.tar.gz \\\n && rm -f G4PII.1.3.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/RealSurface.1.0.tar.gz \\\n && tar -xvzf RealSurface.1.0.tar.gz \\\n && rm -f RealSurface.1.0.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4ENSDFSTATE.1.0.tar.gz \\\n && tar -xvzf G4ENSDFSTATE.1.0.tar.gz \\\n && rm -f G4ENSDFSTATE.1.0.tar.gz\n# ## ENV Geant4\nENV G4WORKDIR=\"$HYPERKDIR/WCSim/exe\"\nENV WCSIMDIR=\"$HYPERKDIR/WCSim\"\nENV G4INSTALL=\"$HYPERKDIR/Geant4-10.1.3-Linux\"\nENV G4LIB=\"$G4INSTALL/lib\"\nRUN export G4WORKDIR\nRUN export WCSIMDIR\nRUN export G4INSTALL\nRUN export G4LIB\n# ## Get and build WCSim \nRUN cd $HYPERKDIR \\\n && git clone https://github.com/WCSim/WCSim \\\n && source $HYPERKDIR/root/bin/thisroot.sh \\\n && source $G4INSTALL/bin/geant4.sh \\\n && source $G4INSTALL/share/Geant4-10.1.3/geant4make/geant4make.sh \\\n && echo '#!/bin/bash -x' > env-WCSim.sh \\\n && echo 'source $HYPERKDIR/root/bin/thisroot.sh' >> env-WCSim.sh \\\n && echo 'source $G4INSTALL/bin/geant4.sh' >> env-WCSim.sh \\\n && echo 'source $G4INSTALL/share/Geant4-10.1.3/geant4make/geant4make.sh' >> env-WCSim.sh \\\n && cd $WCSIMDIR \\\n && make clean \\\n && make rootcint \\\n && make\n# ## Open terminal\nCMD [\"/bin/bash\"]\n","injectedSmells":[],"originalDockerfileHash":"a7faf9023ad930c6022348f7dcdb7009","successfullyInjectedSmells":[],"originalDockerfileUglified":"#  ## Created by Dr. Benjamin Richards (b.richards@qmul.ac.uk) based on docker file from Stephane Zsoldos (s.zsoldos@qmul.ac.uk)\n#  ## Download base image from cern repo on docker hub\nFROM cern/slc6-base:latest\n#  ## Run the following commands as super user (root):\nUSER root\n#  ######################\n#  ## GCC ENVIRONMENT ###\n#  ######################\n#  ## Required package for ROOT\nRUN yum install -y wget tar cmake gcc-c++ gcc binutils libX11-devel libXpm-devel libXft-devel libXext-devel git mesa-libGL-devel mesa-libGLU-devel libXmu-devel libXi-devel expat-devel \\\n && yum clean all \\\n && rm -rf /var/cache/yum\n#  ## Setup environment\nRUN mkdir /root/HyperK\nENV HYPERKDIR=\"/root/HyperK\"\nRUN export HYPERKDIR\n#  ## Downloading ROOT\nRUN cd $HYPERKDIR \\\n && wget https://root.cern.ch/download/root_v5.34.36.Linux-slc6-x86_64-gcc4.4.tar.gz \\\n && tar -xvzf root_v5.34.36.Linux-slc6-x86_64-gcc4.4.tar.gz \\\n && rm -f root_v5.34.36.Linux-slc6-x86_64-gcc4.4.tar.gz\n#  ## Downloading Geant4\nRUN cd $HYPERKDIR \\\n && wget http://geant4.web.cern.ch/geant4/support/source/lib4.10.1.p03/Linux-g++4.4.7-SLC6.tar.gz \\\n && tar -xvzf Linux-g++4.4.7-SLC6.tar.gz \\\n && rm -f Linux-g++4.4.7-SLC6.tar.gz\n#  ## Data files for Geant4\nENV G4DATA=\"$HYPERKDIR/Geant4-10.1.3-Linux/share/Geant4-10.1.3/data\"\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4ABLA.3.0.tar.gz \\\n && tar -xvzf G4ABLA.3.0.tar.gz \\\n && rm -f G4ABLA.3.0.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4NDL.4.5.tar.gz \\\n && tar -xvzf G4NDL.4.5.tar.gz \\\n && rm -f G4NDL.4.5.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4EMLOW.6.41.tar.gz \\\n && tar -xvzf G4EMLOW.6.41.tar.gz \\\n && rm -f G4EMLOW.6.41.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4PhotonEvaporation.3.1.tar.gz \\\n && tar -xvzf G4PhotonEvaporation.3.1.tar.gz \\\n && rm -f G4PhotonEvaporation.3.1.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4RadioactiveDecay.4.2.tar.gz \\\n && tar -xvzf G4RadioactiveDecay.4.2.tar.gz \\\n && rm -f G4RadioactiveDecay.4.2.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4SAIDDATA.1.1.tar.gz \\\n && tar -xvzf G4SAIDDATA.1.1.tar.gz \\\n && rm -f G4SAIDDATA.1.1.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4NEUTRONXS.1.4.tar.gz \\\n && tar -xvzf G4NEUTRONXS.1.4.tar.gz \\\n && rm -f G4NEUTRONXS.1.4.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4PII.1.3.tar.gz \\\n && tar -xvzf G4PII.1.3.tar.gz \\\n && rm -f G4PII.1.3.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/RealSurface.1.0.tar.gz \\\n && tar -xvzf RealSurface.1.0.tar.gz \\\n && rm -f RealSurface.1.0.tar.gz\nRUN cd $G4DATA \\\n && wget http://geant4.web.cern.ch/geant4/support/source/G4ENSDFSTATE.1.0.tar.gz \\\n && tar -xvzf G4ENSDFSTATE.1.0.tar.gz \\\n && rm -f G4ENSDFSTATE.1.0.tar.gz\n#  ## ENV Geant4\nENV G4WORKDIR=\"$HYPERKDIR/WCSim/exe\"\nENV WCSIMDIR=\"$HYPERKDIR/WCSim\"\nENV G4INSTALL=\"$HYPERKDIR/Geant4-10.1.3-Linux\"\nENV G4LIB=\"$G4INSTALL/lib\"\nRUN export G4WORKDIR\nRUN export WCSIMDIR\nRUN export G4INSTALL\nRUN export G4LIB\n#  ## Get and build WCSim \nRUN cd $HYPERKDIR \\\n && git clone https://github.com/WCSim/WCSim \\\n && source $HYPERKDIR/root/bin/thisroot.sh \\\n && source $G4INSTALL/bin/geant4.sh \\\n && source $G4INSTALL/share/Geant4-10.1.3/geant4make/geant4make.sh \\\n && echo '#!/bin/bash -x' > env-WCSim.sh \\\n && echo 'source $HYPERKDIR/root/bin/thisroot.sh' >> env-WCSim.sh \\\n && echo 'source $G4INSTALL/bin/geant4.sh' >> env-WCSim.sh \\\n && echo 'source $G4INSTALL/share/Geant4-10.1.3/geant4make/geant4make.sh' >> env-WCSim.sh \\\n && cd $WCSIMDIR \\\n && make clean \\\n && make rootcint \\\n && make\n#  ## Open terminal\nCMD [\"/bin/bash\"]\n","originalDockerfileUglifiedHash":"eff46ddedbd55bdc9358e8ce923a79e3","fileName":"/ICSME-replicationpackage/dataset/smelly_dockerfiles_bianncle/5a59253c7783272a118581018da56396f90f741c.dockerfile"}