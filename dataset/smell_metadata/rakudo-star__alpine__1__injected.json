{"seed":23641,"processedDockerfileHash":"b28e72665a030cae6db7809c899d5ceb","fixedSmells":[],"successfullyFixedSmells":[],"processedDockerfile":"FROM alpine:3.17\nRUN addgroup -S raku \\\n && adduser -S raku -G raku\nARG rakudo_version=2023.02-01\nENV rakudo_version=\"${rakudo_version}\"\nRUN buildDeps=' bash gcc gnupg libc-dev make perl ' url=\"https://rakudo.org/dl/star/rakudo-star-${rakudo_version}.tar.gz\" keyfp=\"3E7E3C6EAF916676AC549285A2919382E961E2EE\" pubkeyurl=\"https://rakudo.org/keys/rakudo_github_automation-${keyfp}.asc\" tmpdir=\"$( mktemp -d ;)\" \\\n && set -eux \\\n && export GNUPGHOME=\"${tmpdir}/gnupg\" \\\n && mkdir $GNUPGHOME \\\n && apk add --no-cache --virtual .build-deps bash=5.2.15-r0 gcc=12.2.1_git20220924-r4 gnupg=2.2.40-r0 libc-dev=0.7.2-r3 make=4.3-r1 perl=5.36.0-r0 \\\n && apk add --no-cache readline=8.2.0-r0 \\\n && mkdir ${tmpdir}/rakudo \\\n && wget ${url}.asc -O ${tmpdir}/rakudo.tar.gz.asc \\\n && wget $url -O ${tmpdir}/rakudo.tar.gz \\\n && wget $pubkeyurl -O ${tmpdir}/key.asc \\\n && gpg --batch --import ${tmpdir}/key.asc \\\n && gpg --batch --export $keyfp > ${tmpdir}/${keyfp}.asc \\\n && rm -rf $GNUPGHOME \\\n && mkdir $GNUPGHOME \\\n && gpg --batch --import ${tmpdir}/${keyfp}.asc \\\n && gpg --batch --verify ${tmpdir}/rakudo.tar.gz.asc ${tmpdir}/rakudo.tar.gz \\\n && tar xzf ${tmpdir}/rakudo.tar.gz --strip-components=1 -C ${tmpdir}/rakudo \\\n && (cd ${tmpdir}/rakudo \\\n && bash bin/rstar install -p /usr ) \\\n && rm -rf $tmpdir \\\n && apk del --no-network .build-deps\nENV PATH=\"$PATH:/usr/share/perl6/core/bin:/usr/share/perl6/site/bin:/usr/share/perl6/vendor/bin\"\nHEALTHCHECK CMD raku -v || exit 1\nCMD [\"raku\"]\n","originalDockerfile":"FROM alpine:3.17\n\nRUN addgroup -S raku && adduser -S raku -G raku\n\nARG rakudo_version=2023.02-01\nENV rakudo_version=${rakudo_version}\n\nRUN buildDeps=' \\\n        bash \\\n        gcc \\\n        gnupg \\\n        libc-dev \\\n        make \\\n        perl \\\n    ' \\\n    \\\n    url=\"https://rakudo.org/dl/star/rakudo-star-${rakudo_version}.tar.gz\" \\\n    keyfp=\"3E7E3C6EAF916676AC549285A2919382E961E2EE\" \\\n    pubkeyurl=\"https://rakudo.org/keys/rakudo_github_automation-${keyfp}.asc\" \\\n    tmpdir=\"$(mktemp -d)\" \\\n    && set -eux \\\n    && export GNUPGHOME=\"${tmpdir}/gnupg\" \\\n    && mkdir $GNUPGHOME \\\n    && apk add --no-cache --virtual .build-deps bash=5.2.15-r0 gcc=12.2.1_git20220924-r4 gnupg=2.2.40-r0 libc-dev=0.7.2-r3 make=4.3-r1 perl=5.36.0-r0 \\\n    && apk add --no-cache readline=8.2.0-r0 \\\n    && mkdir ${tmpdir}/rakudo \\\n    \\\n    && wget ${url}.asc -O ${tmpdir}/rakudo.tar.gz.asc \\\n    && wget $url -O ${tmpdir}/rakudo.tar.gz \\\n    && wget $pubkeyurl -O ${tmpdir}/key.asc \\\n    \\\n    && gpg --batch --import ${tmpdir}/key.asc \\\n    && gpg --batch --export $keyfp > ${tmpdir}/${keyfp}.asc \\\n    && rm -rf $GNUPGHOME \\\n    && mkdir $GNUPGHOME \\\n    && gpg --batch --import ${tmpdir}/${keyfp}.asc \\\n    && gpg --batch --verify ${tmpdir}/rakudo.tar.gz.asc ${tmpdir}/rakudo.tar.gz \\\n    \\\n    && tar xzf ${tmpdir}/rakudo.tar.gz --strip-components=1 -C ${tmpdir}/rakudo \\\n    && ( \\\n        cd ${tmpdir}/rakudo \\\n        && bash bin/rstar install -p /usr \\\n    ) \\\n    && rm -rf $tmpdir \\\n    && apk del --no-network .build-deps\n\nENV PATH=$PATH:/usr/share/perl6/core/bin:/usr/share/perl6/site/bin:/usr/share/perl6/vendor/bin\n\nHEALTHCHECK CMD raku -v || exit 1\n\nCMD [\"raku\"]\n","injectedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","use-copy-instead-of-add","have-a-user"],"originalDockerfileHash":"ced0692e36a0a13efcad0206f668b320","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine:3.17\nRUN addgroup -S raku \\\n && adduser -S raku -G raku\nARG rakudo_version=2023.02-01\nENV rakudo_version=\"${rakudo_version}\"\nRUN buildDeps=' bash gcc gnupg libc-dev make perl ' url=\"https://rakudo.org/dl/star/rakudo-star-${rakudo_version}.tar.gz\" keyfp=\"3E7E3C6EAF916676AC549285A2919382E961E2EE\" pubkeyurl=\"https://rakudo.org/keys/rakudo_github_automation-${keyfp}.asc\" tmpdir=\"$( mktemp -d ;)\" \\\n && set -eux \\\n && export GNUPGHOME=\"${tmpdir}/gnupg\" \\\n && mkdir $GNUPGHOME \\\n && apk add --no-cache --virtual .build-deps bash=5.2.15-r0 gcc=12.2.1_git20220924-r4 gnupg=2.2.40-r0 libc-dev=0.7.2-r3 make=4.3-r1 perl=5.36.0-r0 \\\n && apk add --no-cache readline=8.2.0-r0 \\\n && mkdir ${tmpdir}/rakudo \\\n && wget ${url}.asc -O ${tmpdir}/rakudo.tar.gz.asc \\\n && wget $url -O ${tmpdir}/rakudo.tar.gz \\\n && wget $pubkeyurl -O ${tmpdir}/key.asc \\\n && gpg --batch --import ${tmpdir}/key.asc \\\n && gpg --batch --export $keyfp > ${tmpdir}/${keyfp}.asc \\\n && rm -rf $GNUPGHOME \\\n && mkdir $GNUPGHOME \\\n && gpg --batch --import ${tmpdir}/${keyfp}.asc \\\n && gpg --batch --verify ${tmpdir}/rakudo.tar.gz.asc ${tmpdir}/rakudo.tar.gz \\\n && tar xzf ${tmpdir}/rakudo.tar.gz --strip-components=1 -C ${tmpdir}/rakudo \\\n && (cd ${tmpdir}/rakudo \\\n && bash bin/rstar install -p /usr ) \\\n && rm -rf $tmpdir \\\n && apk del --no-network .build-deps\nENV PATH=\"$PATH:/usr/share/perl6/core/bin:/usr/share/perl6/site/bin:/usr/share/perl6/vendor/bin\"\nHEALTHCHECK CMD raku -v || exit 1\nCMD [\"raku\"]\n","originalDockerfileUglifiedHash":"b28e72665a030cae6db7809c899d5ceb","fileName":"/ICSME-replicationpackage/dataset/smellfree_dockerfiles/rakudo-star__alpine.dockerfile"}