{"seed":7758,"processedDockerfileHash":"442d0e8d6b7523ef2942d604c5f4134b","fixedSmells":[],"successfullyFixedSmells":[],"processedDockerfile":"FROM node:12-alpine\nLABEL maintainer=\"Vincenzo Chianese, vincenzo@express-gateway.io\"\nARG EG_VERSION=1.16.11\nRUN yarn global add express-gateway@$EG_VERSION \\\n && yarn cache clean\nENV NODE_ENV=\"production\"\nENV NODE_PATH=\"/usr/local/share/.config/yarn/global/node_modules/\"\nENV EG_CONFIG_DIR=\"/var/lib/eg\"\nENV CHOKIDAR_USEPOLLING=\"true\"\nVOLUME /var/lib/eg\nEXPOSE 8080/tcp 9876/tcp\nADD docker-entrypoint.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\nCMD [\"node\", \"-e\", \"require\"]\nUSER root\nENV NPM_TOKEN=\"npm_np4T9TZiC-lB1xd3pibhkLnaakcVWpOBbga2\" \\\n    DOCKER_PASSWORD=\"2iaNV4Ijdi4ZIESuwoQBLr481/tfinG0LVIHqTyh\" \\\n    AWS_ACCESS_KEY=\"AKIAPNF4BVTS4Y0ITIGM\" \\\n    AWS_SECRET_KEY=\"GkM-ZY9LPJ3H1l5/Ldugk6JmKki9UPmtpddWLqRZ\" \\\n    SLACK_TOKEN=\"xoxb-938531705077-YK4ZkhwyHIuF0YZU8QhH45J-\"\n","originalDockerfile":"FROM node:12-alpine\n\nLABEL maintainer Vincenzo Chianese, vincenzo@express-gateway.io\n\nARG EG_VERSION=1.16.11\n\nRUN yarn global add express-gateway@$EG_VERSION && yarn cache clean\n\nENV NODE_ENV production\nENV NODE_PATH /usr/local/share/.config/yarn/global/node_modules/\nENV EG_CONFIG_DIR /var/lib/eg\n\nENV CHOKIDAR_USEPOLLING true\n\nVOLUME /var/lib/eg\n\nEXPOSE 8080 9876\n\nCOPY docker-entrypoint.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\n\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\n\nCMD [\"node\", \"-e\", \"require('express-gateway')().run();\"]\n","injectedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","use-copy-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"originalDockerfileHash":"5081a75509d884bbd35ce84d09a18b58","successfullyInjectedSmells":["use-copy-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"originalDockerfileUglified":"FROM node:12-alpine\nLABEL maintainer=\"Vincenzo Chianese, vincenzo@express-gateway.io\"\nARG EG_VERSION=1.16.11\nRUN yarn global add express-gateway@$EG_VERSION \\\n && yarn cache clean\nENV NODE_ENV=\"production\"\nENV NODE_PATH=\"/usr/local/share/.config/yarn/global/node_modules/\"\nENV EG_CONFIG_DIR=\"/var/lib/eg\"\nENV CHOKIDAR_USEPOLLING=\"true\"\nVOLUME /var/lib/eg\nEXPOSE 8080/tcp 9876/tcp\nCOPY docker-entrypoint.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"node\", \"-e\", \"require\"]\n","originalDockerfileUglifiedHash":"c286751f6a3324f201434dc1dfa234cd","fileName":"/ICSME-replicationpackage/dataset/smellfree_dockerfiles/express-gateway__1.x.dockerfile"}