{"seed":32324,"processedDockerfileHash":"10fdf263c29ab1ff25854eec5ff280cd","fixedSmells":[],"successfullyFixedSmells":[],"processedDockerfile":"FROM tomcat:8.5-jdk8\nENV GN_FILE=\"geonetwork.war\"\nENV DATA_DIR=\"$CATALINA_HOME/webapps/geonetwork/WEB-INF/data\"\nENV JAVA_OPTS=\"-Djava.security.egd=file:/dev/./urandom -Djava.awt.headless=true -server -Xms512m -Xmx2024m -XX:NewSize=512m -XX:MaxNewSize=1024m -XX:+UseConcMarkSweepGC\"\n# Environment variables\nENV GN_VERSION=\"3.12.9\"\nENV GN_DOWNLOAD_MD5=\"cea7a8635cc73f31ea026f848216ae0e\"\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nWORKDIR $CATALINA_HOME/webapps\nRUN apt-get update\nRUN : \\\n && apt-get install --no-install-recommends unzip=6.0-26ubuntu3.1 curl=7.81.0-1ubuntu1.10 -y \\\n && rm -rf /var/lib/apt/lists/* \\\n && curl -fSL -o $GN_FILE https://sourceforge.net/projects/geonetwork/files/GeoNetwork_opensource/v${GN_VERSION}/${GN_FILE}/download \\\n && echo \"${GN_DOWNLOAD_MD5} *${GN_FILE}\" | md5sum -c \\\n && mkdir -p geonetwork \\\n && unzip -e $GN_FILE -d geonetwork \\\n && rm $GN_FILE\n# Set geonetwork data dir\nCOPY ./docker-entrypoint.sh /entrypoint.sh\n#  Needed to make GN to create logs, jcs_caching and gn H2 database in the tomcat directory.\nWORKDIR $CATALINA_HOME\nENTRYPOINT [\"/entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"catalina.sh\", \"run\"]\n","originalDockerfile":"FROM tomcat:8.5-jdk8\n\nENV GN_FILE geonetwork.war\nENV DATA_DIR=$CATALINA_HOME/webapps/geonetwork/WEB-INF/data\nENV JAVA_OPTS=\"-Djava.security.egd=file:/dev/./urandom -Djava.awt.headless=true -server -Xms512m -Xmx2024m -XX:NewSize=512m -XX:MaxNewSize=1024m -XX:+UseConcMarkSweepGC\"\n\n#Environment variables\nENV GN_VERSION 3.12.9\nENV GN_DOWNLOAD_MD5 cea7a8635cc73f31ea026f848216ae0e\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\n\nWORKDIR $CATALINA_HOME/webapps\n\nRUN apt-get update && \\\n     apt-get install -y --no-install-recommends \\\n          unzip=6.0-26ubuntu3.1 curl=7.81.0-1ubuntu1.10 &&\\\n     rm -rf /var/lib/apt/lists/* && \\\n     curl -fSL -o $GN_FILE \\\n     https://sourceforge.net/projects/geonetwork/files/GeoNetwork_opensource/v${GN_VERSION}/${GN_FILE}/download && \\\n     echo \"${GN_DOWNLOAD_MD5} *${GN_FILE}\" | md5sum -c && \\\n     mkdir -p geonetwork && \\\n     unzip -e $GN_FILE -d geonetwork && \\\n     rm $GN_FILE\n\n#Set geonetwork data dir\nCOPY ./docker-entrypoint.sh /entrypoint.sh\n\n# Needed to make GN to create logs, jcs_caching and gn H2 database in the tomcat directory.\nWORKDIR $CATALINA_HOME\nENTRYPOINT [\"/entrypoint.sh\"]\n\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\n\nCMD [\"catalina.sh\", \"run\"]\n","injectedSmells":["do-not-use-apt-get-update-alone","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-apk","use-wget-instead-of-add","have-a-user"],"originalDockerfileHash":"6431c44bf29db6af764adab202932130","successfullyInjectedSmells":["do-not-use-apt-get-update-alone"],"originalDockerfileUglified":"FROM tomcat:8.5-jdk8\nENV GN_FILE=\"geonetwork.war\"\nENV DATA_DIR=\"$CATALINA_HOME/webapps/geonetwork/WEB-INF/data\"\nENV JAVA_OPTS=\"-Djava.security.egd=file:/dev/./urandom -Djava.awt.headless=true -server -Xms512m -Xmx2024m -XX:NewSize=512m -XX:MaxNewSize=1024m -XX:+UseConcMarkSweepGC\"\n# Environment variables\nENV GN_VERSION=\"3.12.9\"\nENV GN_DOWNLOAD_MD5=\"cea7a8635cc73f31ea026f848216ae0e\"\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nWORKDIR $CATALINA_HOME/webapps\nRUN apt-get update \\\n && apt-get install --no-install-recommends unzip=6.0-26ubuntu3.1 curl=7.81.0-1ubuntu1.10 -y \\\n && rm -rf /var/lib/apt/lists/* \\\n && curl -fSL -o $GN_FILE https://sourceforge.net/projects/geonetwork/files/GeoNetwork_opensource/v${GN_VERSION}/${GN_FILE}/download \\\n && echo \"${GN_DOWNLOAD_MD5} *${GN_FILE}\" | md5sum -c \\\n && mkdir -p geonetwork \\\n && unzip -e $GN_FILE -d geonetwork \\\n && rm $GN_FILE\n# Set geonetwork data dir\nCOPY ./docker-entrypoint.sh /entrypoint.sh\n#  Needed to make GN to create logs, jcs_caching and gn H2 database in the tomcat directory.\nWORKDIR $CATALINA_HOME\nENTRYPOINT [\"/entrypoint.sh\"]\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"catalina.sh\", \"run\"]\n","originalDockerfileUglifiedHash":"1358795b517659a01d07a12cc5de22f5","fileName":"/ICSME-replicationpackage/dataset/smellfree_dockerfiles/geonetwork__3.12.9.dockerfile"}