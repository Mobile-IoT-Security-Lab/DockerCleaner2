{"seed":27368,"processedDockerfileHash":"4a64bfd9e79ff55051f0ee6688e99f88","fixedSmells":[],"successfullyFixedSmells":[],"processedDockerfile":"FROM eclipse-temurin:17-jre-focal\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nENV PATH=\"/usr/local/tomee/bin:$PATH\"\nRUN mkdir -p /usr/local/tomee\nWORKDIR /usr/local/tomee\nRUN apt-get update\nRUN : \\\n && apt-get install --no-install-recommends gpg=2.2.19-3ubuntu2.2 dirmngr=2.2.19-3ubuntu2.2 -y \\\n && rm -rf /var/lib/apt/lists/*\nRUN set -xe ; for key in 9056B710F1E332780DE7AF34CBAEBE39A46C4CA1 F067B8140F5DD80E1D3B5D92318242FE9A0B1183 223D3A74B068ECA354DC385CE126833F9CF64915 DBCCD103B8B24F86FFAAB025C8BB472CD297D428 7A2744A8A9AAF063C23EB7868EBE7DBE8D050EEF B8B301E6105DF628076BD92C5483E55897ABD9B9 FAA603D58B1BA4EDF65896D0ED340E0E6D545F97 A57DAF81C1B69921F4BA8723A8DE0A4DB863A7C1 82D8419BA697F0E7FB85916EE91287822FDB81B1 B7574789F5018690043E6DD9C212662E12F3E1DD C23A3F6F595EBD0F960270CC997C8F1A5BE6E4C1 678F2D98F1FD9643811639FB622B8F2D043F71D8 BDD0BBEB753192957EFC5F896A62FC8EF17D8FEF D11DF12CC2CA4894BDE638B967C1227A2678363C C92604B0DEC5C62CFF5801E73D4683C24EDC64D1 626C542EDA7C113814B77AF09C04914D63645D20 3948829384B269D333CC5B98358807C52B4B0E23 B83D15E72253ED1104EB4FBBDAB472F0E5B8A431; do gpg --batch --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys \"$key\" || gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys \"$key\" ; done\nENV TOMEE_VER=\"8.0.14\"\nENV TOMEE_BUILD=\"plume\"\nRUN set -x \\\n && curl -fSL https://dist.apache.org/repos/dist/release/tomee/tomee-${TOMEE_VER}/apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz.asc -o tomee.tar.gz.asc \\\n && curl -fSL https://dist.apache.org/repos/dist/release/tomee/tomee-${TOMEE_VER}/apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz.sha512 -o tomee.tar.gz.sha512 \\\n && curl -fSL https://dist.apache.org/repos/dist/release/tomee/tomee-${TOMEE_VER}/apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz -o apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n && gpg --batch --verify tomee.tar.gz.asc apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n && echo `cat tomee.tar.gz.sha512 ` | sha512sum -c - \\\n && tar -zxf apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n && mv apache-tomee-${TOMEE_BUILD}-${TOMEE_VER}/* /usr/local/tomee \\\n && rm apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n && rm -Rf apache-tomee-${TOMEE_BUILD}-${TOMEE_VER} \\\n && rm bin/*.bat \\\n && rm bin/*.exe \\\n && rm bin/*.tar.gz* \\\n && rm tomee.tar.gz.asc \\\n && rm tomee.tar.gz*\nEXPOSE 8080/tcp\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"catalina.sh\", \"run\"]\nENV CONSUMER_SECRET=\"NCDEi-o3KxkeWXgSZ54134XxvD4y3t79UXr5PD9KoofoHsA/vvmC\" \\\n    CONSUMER_SECRET=\"a7ro/fM7L9iYRFx9KfIrgxzhaaS4guJP7J4fov1BFJFRgjXiBV84\"\n","originalDockerfile":"FROM eclipse-temurin:17-jre-focal\n\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\n\nENV PATH /usr/local/tomee/bin:$PATH\nRUN mkdir -p /usr/local/tomee\n\nWORKDIR /usr/local/tomee\n\nRUN apt-get update \\\n  && apt-get install -y --no-install-recommends gpg=2.2.19-3ubuntu2.2 dirmngr=2.2.19-3ubuntu2.2 \\\n  && rm -rf /var/lib/apt/lists/*\n\nRUN set -xe; \\\n  for key in \\\n  # Matt Hogstrom <hogstrom@apache.org>\n  9056B710F1E332780DE7AF34CBAEBE39A46C4CA1 \\\n  # Jeremy Whitlock <jwhitlock@apache.org>\n  F067B8140F5DD80E1D3B5D92318242FE9A0B1183 \\\n  # Richard Kenneth McGuire (CODE SIGNING KEY) <rickmcguire@apache.org>\n  223D3A74B068ECA354DC385CE126833F9CF64915 \\\n  # Jonathan Gallimore <jgallimore@apache.org>\n  DBCCD103B8B24F86FFAAB025C8BB472CD297D428 \\\n  # Jarek Gawor (CODE SIGNING KEY) <gawor@apache.org>\n  7A2744A8A9AAF063C23EB7868EBE7DBE8D050EEF \\\n  # Jarek Gawor <gawor@apache.org>\n  B8B301E6105DF628076BD92C5483E55897ABD9B9 \\\n  # Andy Gumbrecht (TomEE Code Signing) <agumbrecht@tomitribe.com>\n  FAA603D58B1BA4EDF65896D0ED340E0E6D545F97 \\\n  # Romain Manni-Bucau <rmannibucau@tomitribe.com>\n  A57DAF81C1B69921F4BA8723A8DE0A4DB863A7C1 \\\n  # Mark Struberg (Apache) <struberg@apache.org>\n  82D8419BA697F0E7FB85916EE91287822FDB81B1 \\\n  # David Blevins <dblevins@apache.org>\n  B7574789F5018690043E6DD9C212662E12F3E1DD \\\n  # Xu Hai Hong (Ivan Xu @ Geronimo) <xhhsld@gmail.com>\n  C23A3F6F595EBD0F960270CC997C8F1A5BE6E4C1 \\\n  # Jean-Louis Monteiro (CODE SIGNING KEY) <jlmonteiro@apache.org>\n  678F2D98F1FD9643811639FB622B8F2D043F71D8 \\\n  # Romain Manni-Bucau <rmannibucau@apache.org>\n  BDD0BBEB753192957EFC5F896A62FC8EF17D8FEF \\\n  # Romain Manni-Bucau <rmannibucau@apache.org>\n  D11DF12CC2CA4894BDE638B967C1227A2678363C \\\n  # Roberto Cortez (Apache Signing Key) <radcortez@yahoo.com>\n  C92604B0DEC5C62CFF5801E73D4683C24EDC64D1 \\\n  # David Blevins <dblevins@tomitribe.com>\n  626C542EDA7C113814B77AF09C04914D63645D20 \\\n  # Jean-Louis Monteiro (CODE SIGNING KEY) <jlmonteiro@apache.org>\n  3948829384B269D333CC5B98358807C52B4B0E23 \\\n  # Richard Zowalla (Code Signing Key) <rzo1@apache.org>\n  B83D15E72253ED1104EB4FBBDAB472F0E5B8A431 \\\n  ; do \\\n    gpg --batch --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys \"$key\" || \\\n    gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys \"$key\" ; \\\n  done\n\nENV TOMEE_VER 8.0.14\nENV TOMEE_BUILD plume\n\nRUN set -x \\\n  && curl -fSL https://dist.apache.org/repos/dist/release/tomee/tomee-${TOMEE_VER}/apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz.asc -o tomee.tar.gz.asc \\\n  && curl -fSL https://dist.apache.org/repos/dist/release/tomee/tomee-${TOMEE_VER}/apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz.sha512 -o tomee.tar.gz.sha512 \\\n  && curl -fSL https://dist.apache.org/repos/dist/release/tomee/tomee-${TOMEE_VER}/apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz -o apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n  && gpg --batch --verify tomee.tar.gz.asc apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n  && echo `cat tomee.tar.gz.sha512` | sha512sum -c - \\\n  #&& echo `cat tomee.tar.gz.sha512` apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz | sha512sum -c - \\\n  && tar -zxf apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n  && mv apache-tomee-${TOMEE_BUILD}-${TOMEE_VER}/* /usr/local/tomee \\\n  && rm apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n  && rm -Rf apache-tomee-${TOMEE_BUILD}-${TOMEE_VER} \\\n  && rm bin/*.bat \\\n  && rm bin/*.exe \\\n  && rm bin/*.tar.gz* \\\n  && rm tomee.tar.gz.asc \\\n  && rm tomee.tar.gz*\n\nEXPOSE 8080\n\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\n\nCMD [\"catalina.sh\", \"run\"]","injectedSmells":["do-not-use-apt-get-update-alone","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","do-not-have-secrets","have-a-user"],"originalDockerfileHash":"840a4870ec47e8c122c80d4d501280e6","successfullyInjectedSmells":["do-not-use-apt-get-update-alone","do-not-have-secrets"],"originalDockerfileUglified":"FROM eclipse-temurin:17-jre-focal\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\nENV PATH=\"/usr/local/tomee/bin:$PATH\"\nRUN mkdir -p /usr/local/tomee\nWORKDIR /usr/local/tomee\nRUN apt-get update \\\n && apt-get install --no-install-recommends gpg=2.2.19-3ubuntu2.2 dirmngr=2.2.19-3ubuntu2.2 -y \\\n && rm -rf /var/lib/apt/lists/*\nRUN set -xe ; for key in 9056B710F1E332780DE7AF34CBAEBE39A46C4CA1 F067B8140F5DD80E1D3B5D92318242FE9A0B1183 223D3A74B068ECA354DC385CE126833F9CF64915 DBCCD103B8B24F86FFAAB025C8BB472CD297D428 7A2744A8A9AAF063C23EB7868EBE7DBE8D050EEF B8B301E6105DF628076BD92C5483E55897ABD9B9 FAA603D58B1BA4EDF65896D0ED340E0E6D545F97 A57DAF81C1B69921F4BA8723A8DE0A4DB863A7C1 82D8419BA697F0E7FB85916EE91287822FDB81B1 B7574789F5018690043E6DD9C212662E12F3E1DD C23A3F6F595EBD0F960270CC997C8F1A5BE6E4C1 678F2D98F1FD9643811639FB622B8F2D043F71D8 BDD0BBEB753192957EFC5F896A62FC8EF17D8FEF D11DF12CC2CA4894BDE638B967C1227A2678363C C92604B0DEC5C62CFF5801E73D4683C24EDC64D1 626C542EDA7C113814B77AF09C04914D63645D20 3948829384B269D333CC5B98358807C52B4B0E23 B83D15E72253ED1104EB4FBBDAB472F0E5B8A431; do gpg --batch --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys \"$key\" || gpg --batch --keyserver hkp://pgp.mit.edu:80 --recv-keys \"$key\" ; done\nENV TOMEE_VER=\"8.0.14\"\nENV TOMEE_BUILD=\"plume\"\nRUN set -x \\\n && curl -fSL https://dist.apache.org/repos/dist/release/tomee/tomee-${TOMEE_VER}/apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz.asc -o tomee.tar.gz.asc \\\n && curl -fSL https://dist.apache.org/repos/dist/release/tomee/tomee-${TOMEE_VER}/apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz.sha512 -o tomee.tar.gz.sha512 \\\n && curl -fSL https://dist.apache.org/repos/dist/release/tomee/tomee-${TOMEE_VER}/apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz -o apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n && gpg --batch --verify tomee.tar.gz.asc apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n && echo `cat tomee.tar.gz.sha512 ` | sha512sum -c - \\\n && tar -zxf apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n && mv apache-tomee-${TOMEE_BUILD}-${TOMEE_VER}/* /usr/local/tomee \\\n && rm apache-tomee-${TOMEE_VER}-${TOMEE_BUILD}.tar.gz \\\n && rm -Rf apache-tomee-${TOMEE_BUILD}-${TOMEE_VER} \\\n && rm bin/*.bat \\\n && rm bin/*.exe \\\n && rm bin/*.tar.gz* \\\n && rm tomee.tar.gz.asc \\\n && rm tomee.tar.gz*\nEXPOSE 8080/tcp\nHEALTHCHECK CMD curl --fail http://127.0.0.1:8080 || exit 1\nCMD [\"catalina.sh\", \"run\"]\n","originalDockerfileUglifiedHash":"e66f9630d9afe144c3cfa5fe41822db6","fileName":"/ICSME-replicationpackage/dataset/smellfree_dockerfiles/tomee__17-jdk-8.0.9-plume.dockerfile"}