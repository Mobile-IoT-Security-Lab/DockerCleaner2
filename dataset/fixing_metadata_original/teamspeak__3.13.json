{"seed":453832203,"processedDockerfileHash":"31ef1a5baaa13a911c659c644c911dbd","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM alpine:3.13\nRUN apk add ca-certificates=20220614-r0 libstdc++=10.2.1_pre1-r3 su-exec=0.2-r1 libpq=13.8-r0 --no-cache\nRUN set -eux ; addgroup -g 9987 ts3server ; adduser -u 9987 -Hh /var/ts3server -G ts3server -s /sbin/nologin -D ts3server ; install -d -o ts3server -g ts3server -m 775 /var/ts3server /var/run/ts3server /opt/ts3server\nENV PATH=\"\\\"${PATH}:/opt/ts3server\\\"\"\nARG TEAMSPEAK_CHECKSUM=f30a5366f12b0c5b00476652ebc06d9b5bc4754c4cb386c086758cceb620a8d0\nARG TEAMSPEAK_URL=https://files.teamspeak-services.com/releases/server/3.13.6/teamspeak3-server_linux_alpine-3.13.6.tar.bz2\nRUN set -eux ; apk add tar=1.34-r0 --no-cache --virtual .fetch-deps ; wget \"${TEAMSPEAK_URL}\" -O server.tar.bz2 ; echo \"${TEAMSPEAK_CHECKSUM} *server.tar.bz2\" | sha256sum -c - ; mkdir -p /opt/ts3server ; tar -xf server.tar.bz2 --strip-components=1 -C /opt/ts3server ; rm server.tar.bz2 ; apk del .fetch-deps ; mv /opt/ts3server/*.so /opt/ts3server/redist/* /usr/local/lib ; ldconfig /usr/local/lib\n#  setup directory where user data is stored\nVOLUME /var/ts3server/\nWORKDIR /var/ts3server/\n#   9987 default voice\n#  10011 server query\n#  30033 file transport\nEXPOSE 9987/udp 10011/tcp 30033/tcp\nCOPY entrypoint.sh /opt/ts3server\nENTRYPOINT [\"entrypoint.sh\"]\nCMD [\"ts3server\"]\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM alpine:3.13\n\nRUN apk add --no-cache ca-certificates libstdc++ su-exec libpq\nRUN set -eux; \\\n    addgroup -g 9987 ts3server; \\\n    adduser -u 9987 -Hh /var/ts3server -G ts3server -s /sbin/nologin -D ts3server; \\\n    install -d -o ts3server -g ts3server -m 775 /var/ts3server /var/run/ts3server /opt/ts3server\n\nENV PATH \"${PATH}:/opt/ts3server\"\n\nARG TEAMSPEAK_CHECKSUM=f30a5366f12b0c5b00476652ebc06d9b5bc4754c4cb386c086758cceb620a8d0\nARG TEAMSPEAK_URL=https://files.teamspeak-services.com/releases/server/3.13.6/teamspeak3-server_linux_alpine-3.13.6.tar.bz2\n\nRUN set -eux; \\\n    apk add --no-cache --virtual .fetch-deps tar; \\\n    wget \"${TEAMSPEAK_URL}\" -O server.tar.bz2; \\\n    echo \"${TEAMSPEAK_CHECKSUM} *server.tar.bz2\" | sha256sum -c -; \\\n    mkdir -p /opt/ts3server; \\\n    tar -xf server.tar.bz2 --strip-components=1 -C /opt/ts3server; \\\n    rm server.tar.bz2; \\\n    apk del .fetch-deps; \\\n    mv /opt/ts3server/*.so /opt/ts3server/redist/* /usr/local/lib; \\\n    ldconfig /usr/local/lib\n\n# setup directory where user data is stored\nVOLUME /var/ts3server/\nWORKDIR /var/ts3server/\n\n#  9987 default voice\n# 10011 server query\n# 30033 file transport\nEXPOSE 9987/udp 10011 30033 \n\nCOPY entrypoint.sh /opt/ts3server\n\nENTRYPOINT [ \"entrypoint.sh\" ]\nCMD [ \"ts3server\" ]\n","injectedSmells":[],"originalDockerfileHash":"842dbb45ecb6c4915ad2f39e1b0cee0b","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine:3.13\nRUN apk add --no-cache ca-certificates libstdc++ su-exec libpq\nRUN set -eux ; addgroup -g 9987 ts3server ; adduser -u 9987 -Hh /var/ts3server -G ts3server -s /sbin/nologin -D ts3server ; install -d -o ts3server -g ts3server -m 775 /var/ts3server /var/run/ts3server /opt/ts3server\nENV PATH=\"\\\"${PATH}:/opt/ts3server\\\"\"\nARG TEAMSPEAK_CHECKSUM=f30a5366f12b0c5b00476652ebc06d9b5bc4754c4cb386c086758cceb620a8d0\nARG TEAMSPEAK_URL=https://files.teamspeak-services.com/releases/server/3.13.6/teamspeak3-server_linux_alpine-3.13.6.tar.bz2\nRUN set -eux ; apk add --no-cache --virtual .fetch-deps tar ; wget \"${TEAMSPEAK_URL}\" -O server.tar.bz2 ; echo \"${TEAMSPEAK_CHECKSUM} *server.tar.bz2\" | sha256sum -c - ; mkdir -p /opt/ts3server ; tar -xf server.tar.bz2 --strip-components=1 -C /opt/ts3server ; rm server.tar.bz2 ; apk del .fetch-deps ; mv /opt/ts3server/*.so /opt/ts3server/redist/* /usr/local/lib ; ldconfig /usr/local/lib\n#  setup directory where user data is stored\nVOLUME /var/ts3server/\nWORKDIR /var/ts3server/\n#   9987 default voice\n#  10011 server query\n#  30033 file transport\nEXPOSE 9987/udp 10011/tcp 30033/tcp\nCOPY entrypoint.sh /opt/ts3server\nENTRYPOINT [\"entrypoint.sh\"]\nCMD [\"ts3server\"]\n","originalDockerfileUglifiedHash":"28d45ae83e711e2f9b7d170e516dd133","fileName":"/ICSME-replicationpackage/dataset/original_dockerfiles/teamspeak__3.13.dockerfile"}