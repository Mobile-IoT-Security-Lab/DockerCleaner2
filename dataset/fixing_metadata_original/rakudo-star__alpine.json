{"seed":2995501945,"processedDockerfileHash":"c3b05f03bdeade3d00b7ebffcaca8f0d","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM alpine:3.17\nRUN addgroup -S raku \\\n && adduser -S raku -G raku\nARG rakudo_version=2023.02-01\nENV rakudo_version=\"${rakudo_version}\"\nRUN buildDeps=' bash gcc gnupg libc-dev make perl ' url=\"https://rakudo.org/dl/star/rakudo-star-${rakudo_version}.tar.gz\" keyfp=\"3E7E3C6EAF916676AC549285A2919382E961E2EE\" pubkeyurl=\"https://rakudo.org/keys/rakudo_github_automation-${keyfp}.asc\" tmpdir=\"$( mktemp -d ;)\" \\\n && set -eux \\\n && export GNUPGHOME=\"${tmpdir}/gnupg\" \\\n && mkdir $GNUPGHOME \\\n && apk add $buildDeps --no-cache --virtual .build-deps \\\n && apk add readline=8.2.0-r0 --no-cache \\\n && mkdir ${tmpdir}/rakudo \\\n && wget ${url}.asc -O ${tmpdir}/rakudo.tar.gz.asc \\\n && wget $url -O ${tmpdir}/rakudo.tar.gz \\\n && wget $pubkeyurl -O ${tmpdir}/key.asc \\\n && gpg --batch --import ${tmpdir}/key.asc \\\n && gpg --batch --export $keyfp > ${tmpdir}/${keyfp}.asc \\\n && rm -rf $GNUPGHOME \\\n && mkdir $GNUPGHOME \\\n && gpg --batch --import ${tmpdir}/${keyfp}.asc \\\n && gpg --batch --verify ${tmpdir}/rakudo.tar.gz.asc ${tmpdir}/rakudo.tar.gz \\\n && tar xzf ${tmpdir}/rakudo.tar.gz --strip-components=1 -C ${tmpdir}/rakudo \\\n && (cd ${tmpdir}/rakudo \\\n && bash bin/rstar install -p /usr ) \\\n && rm -rf $tmpdir \\\n && apk del --no-network .build-deps\nENV PATH=\"$PATH:/usr/share/perl6/core/bin:/usr/share/perl6/site/bin:/usr/share/perl6/vendor/bin\"\nCMD [\"raku\"]\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM alpine:3.17\n\nRUN addgroup -S raku && adduser -S raku -G raku\n\nARG rakudo_version=2023.02-01\nENV rakudo_version=${rakudo_version}\n\nRUN buildDeps=' \\\n        bash \\\n        gcc \\\n        gnupg \\\n        libc-dev \\\n        make \\\n        perl \\\n    ' \\\n    \\\n    url=\"https://rakudo.org/dl/star/rakudo-star-${rakudo_version}.tar.gz\" \\\n    keyfp=\"3E7E3C6EAF916676AC549285A2919382E961E2EE\" \\\n    pubkeyurl=\"https://rakudo.org/keys/rakudo_github_automation-${keyfp}.asc\" \\\n    tmpdir=\"$(mktemp -d)\" \\\n    && set -eux \\\n    && export GNUPGHOME=\"${tmpdir}/gnupg\" \\\n    && mkdir $GNUPGHOME \\\n    && apk add --no-cache --virtual .build-deps $buildDeps \\\n    && apk add --no-cache readline \\\n    && mkdir ${tmpdir}/rakudo \\\n    \\\n    && wget ${url}.asc -O ${tmpdir}/rakudo.tar.gz.asc \\\n    && wget $url -O ${tmpdir}/rakudo.tar.gz \\\n    && wget $pubkeyurl -O ${tmpdir}/key.asc \\\n    \\\n    && gpg --batch --import ${tmpdir}/key.asc \\\n    && gpg --batch --export $keyfp > ${tmpdir}/${keyfp}.asc \\\n    && rm -rf $GNUPGHOME \\\n    && mkdir $GNUPGHOME \\\n    && gpg --batch --import ${tmpdir}/${keyfp}.asc \\\n    && gpg --batch --verify ${tmpdir}/rakudo.tar.gz.asc ${tmpdir}/rakudo.tar.gz \\\n    \\\n    && tar xzf ${tmpdir}/rakudo.tar.gz --strip-components=1 -C ${tmpdir}/rakudo \\\n    && ( \\\n        cd ${tmpdir}/rakudo \\\n        && bash bin/rstar install -p /usr \\\n    ) \\\n    && rm -rf $tmpdir \\\n    && apk del --no-network .build-deps\n\nENV PATH=$PATH:/usr/share/perl6/core/bin:/usr/share/perl6/site/bin:/usr/share/perl6/vendor/bin\n\nCMD [\"raku\"]\n","injectedSmells":[],"originalDockerfileHash":"13891e3d8fcdafad11bfe298b28bbb79","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine:3.17\nRUN addgroup -S raku \\\n && adduser -S raku -G raku\nARG rakudo_version=2023.02-01\nENV rakudo_version=\"${rakudo_version}\"\nRUN buildDeps=' bash gcc gnupg libc-dev make perl ' url=\"https://rakudo.org/dl/star/rakudo-star-${rakudo_version}.tar.gz\" keyfp=\"3E7E3C6EAF916676AC549285A2919382E961E2EE\" pubkeyurl=\"https://rakudo.org/keys/rakudo_github_automation-${keyfp}.asc\" tmpdir=\"$( mktemp -d ;)\" \\\n && set -eux \\\n && export GNUPGHOME=\"${tmpdir}/gnupg\" \\\n && mkdir $GNUPGHOME \\\n && apk add --no-cache --virtual .build-deps $buildDeps \\\n && apk add --no-cache readline \\\n && mkdir ${tmpdir}/rakudo \\\n && wget ${url}.asc -O ${tmpdir}/rakudo.tar.gz.asc \\\n && wget $url -O ${tmpdir}/rakudo.tar.gz \\\n && wget $pubkeyurl -O ${tmpdir}/key.asc \\\n && gpg --batch --import ${tmpdir}/key.asc \\\n && gpg --batch --export $keyfp > ${tmpdir}/${keyfp}.asc \\\n && rm -rf $GNUPGHOME \\\n && mkdir $GNUPGHOME \\\n && gpg --batch --import ${tmpdir}/${keyfp}.asc \\\n && gpg --batch --verify ${tmpdir}/rakudo.tar.gz.asc ${tmpdir}/rakudo.tar.gz \\\n && tar xzf ${tmpdir}/rakudo.tar.gz --strip-components=1 -C ${tmpdir}/rakudo \\\n && (cd ${tmpdir}/rakudo \\\n && bash bin/rstar install -p /usr ) \\\n && rm -rf $tmpdir \\\n && apk del --no-network .build-deps\nENV PATH=\"$PATH:/usr/share/perl6/core/bin:/usr/share/perl6/site/bin:/usr/share/perl6/vendor/bin\"\nCMD [\"raku\"]\n","originalDockerfileUglifiedHash":"abb37d7ebd4a10259133edc36779d6eb","fileName":"/ICSME-replicationpackage/dataset/original_dockerfiles/rakudo-star__alpine.dockerfile"}