{"seed":2053736360,"processedDockerfileHash":"0c858c56a7b2c2801e65f7a17c7cfb4e","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck","have-a-user"],"processedDockerfile":"FROM alpine:3.15\nMAINTAINER Geo Van O <geo@eggheads.org>\nRUN adduser -S eggdrop\n#  grab su-exec for easy step-down from root\nRUN apk add 'su-exec>=0.2' --no-cache\nENV EGGDROP_SHA256=\"65274734d14e9c8e4e42eb6eb2644cfad4e7bc8277dc5043c92ac4e8865c8862 \"\nENV EGGDROP_COMMIT=\"003b270a52db0a61c6ce17b460fe2af5f555e89c\"\nRUN apk add tcl=8.6.11-r1 bash=5.1.16-r0 openssl=1.1.1t-r3 --update --no-cache\nRUN apk add tcl-dev=8.6.11-r1 wget=1.21.2-r2 ca-certificates=20220614-r0 make=4.3-r0 tar=1.34-r1 gpgme=1.16.0-r0 build-base=0.5-r3 openssl-dev=1.1.1t-r3 --update --no-cache --virtual egg-deps \\\n && wget \"https://github.com/eggheads/eggdrop/archive/$EGGDROP_COMMIT.tar.gz\" -O develop.tar.gz \\\n && echo \"$EGGDROP_SHA256 develop.tar.gz\" | sha256sum -c - \\\n && tar -zxvf develop.tar.gz \\\n && rm develop.tar.gz \\\n && (cd eggdrop-$EGGDROP_COMMIT \\\n && ./configure \\\n && make config \\\n && make \\\n && make install DEST=/home/eggdrop/eggdrop ) \\\n && rm -rf eggdrop-$EGGDROP_COMMIT \\\n && mkdir /home/eggdrop/eggdrop/data \\\n && chown -R eggdrop /home/eggdrop/eggdrop \\\n && apk del egg-deps\nENV NICK=\"\"\nENV SERVER=\"\"\nENV LISTEN=\"3333\"\nENV OWNER=\"\"\nENV USERFILE=\"eggdrop.user\"\nENV CHANFILE=\"eggdrop.chan\"\nWORKDIR /home/eggdrop/eggdrop\nEXPOSE 3333/tcp\nCOPY entrypoint.sh /home/eggdrop/eggdrop\nCOPY docker.tcl /home/eggdrop/eggdrop/scripts/\nENTRYPOINT [\"/home/eggdrop/eggdrop/entrypoint.sh\"]\nCMD [\"eggdrop.conf\"]\nRUN addgroup -S docker-user ; adduser -S -G docker-user docker-user\nUSER docker-user\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM alpine:3.15\nMAINTAINER Geo Van O <geo@eggheads.org>\n\nRUN adduser -S eggdrop\n\n# grab su-exec for easy step-down from root\nRUN apk add --no-cache 'su-exec>=0.2'\n\nENV EGGDROP_SHA256=\"65274734d14e9c8e4e42eb6eb2644cfad4e7bc8277dc5043c92ac4e8865c8862 \"\nENV EGGDROP_COMMIT 003b270a52db0a61c6ce17b460fe2af5f555e89c\n\nRUN apk --update add --no-cache tcl bash openssl\nRUN apk --update add --no-cache --virtual egg-deps tcl-dev wget ca-certificates make tar gpgme build-base openssl-dev \\\n  && wget \"https://github.com/eggheads/eggdrop/archive/$EGGDROP_COMMIT.tar.gz\" -O develop.tar.gz \\\n  && echo \"$EGGDROP_SHA256 develop.tar.gz\" | sha256sum -c - \\\n  && tar -zxvf develop.tar.gz \\\n  && rm develop.tar.gz \\\n    && ( cd eggdrop-$EGGDROP_COMMIT \\\n    && ./configure \\\n    && make config \\\n    && make \\\n    && make install DEST=/home/eggdrop/eggdrop ) \\\n  && rm -rf eggdrop-$EGGDROP_COMMIT \\\n  && mkdir /home/eggdrop/eggdrop/data \\\n  && chown -R eggdrop /home/eggdrop/eggdrop \\\n  && apk del egg-deps\n\nENV NICK=\"\"\nENV SERVER=\"\"\nENV LISTEN=\"3333\"\nENV OWNER=\"\"\nENV USERFILE=\"eggdrop.user\"\nENV CHANFILE=\"eggdrop.chan\"\n\nWORKDIR /home/eggdrop/eggdrop\nEXPOSE 3333\nCOPY entrypoint.sh /home/eggdrop/eggdrop\nCOPY docker.tcl /home/eggdrop/eggdrop/scripts/\n\nENTRYPOINT [\"/home/eggdrop/eggdrop/entrypoint.sh\"]\nCMD [\"eggdrop.conf\"]\n","injectedSmells":[],"originalDockerfileHash":"d7ff03ba8b7125d9724037917a6987a8","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine:3.15\nMAINTAINER Geo Van O <geo@eggheads.org>\nRUN adduser -S eggdrop\n#  grab su-exec for easy step-down from root\nRUN apk add --no-cache 'su-exec>=0.2'\nENV EGGDROP_SHA256=\"65274734d14e9c8e4e42eb6eb2644cfad4e7bc8277dc5043c92ac4e8865c8862 \"\nENV EGGDROP_COMMIT=\"003b270a52db0a61c6ce17b460fe2af5f555e89c\"\nRUN apk --update add --no-cache tcl bash openssl\nRUN apk --update add --no-cache --virtual egg-deps tcl-dev wget ca-certificates make tar gpgme build-base openssl-dev \\\n && wget \"https://github.com/eggheads/eggdrop/archive/$EGGDROP_COMMIT.tar.gz\" -O develop.tar.gz \\\n && echo \"$EGGDROP_SHA256 develop.tar.gz\" | sha256sum -c - \\\n && tar -zxvf develop.tar.gz \\\n && rm develop.tar.gz \\\n && (cd eggdrop-$EGGDROP_COMMIT \\\n && ./configure \\\n && make config \\\n && make \\\n && make install DEST=/home/eggdrop/eggdrop ) \\\n && rm -rf eggdrop-$EGGDROP_COMMIT \\\n && mkdir /home/eggdrop/eggdrop/data \\\n && chown -R eggdrop /home/eggdrop/eggdrop \\\n && apk del egg-deps\nENV NICK=\"\"\nENV SERVER=\"\"\nENV LISTEN=\"3333\"\nENV OWNER=\"\"\nENV USERFILE=\"eggdrop.user\"\nENV CHANFILE=\"eggdrop.chan\"\nWORKDIR /home/eggdrop/eggdrop\nEXPOSE 3333/tcp\nCOPY entrypoint.sh /home/eggdrop/eggdrop\nCOPY docker.tcl /home/eggdrop/eggdrop/scripts/\nENTRYPOINT [\"/home/eggdrop/eggdrop/entrypoint.sh\"]\nCMD [\"eggdrop.conf\"]\n","originalDockerfileUglifiedHash":"43ba814fd5ccd586baa5b277ef847a04","fileName":"/ICSME-replicationpackage/dataset/original_dockerfiles/eggdrop__develop.dockerfile"}