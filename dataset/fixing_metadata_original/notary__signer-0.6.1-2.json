{"seed":2068745942,"processedDockerfileHash":"2046782065049a237156ea6db8727371","fixedSmells":["use-no-install-recommends","do-not-use-apt-get-update-alone","pin-package-manager-versions-apt-get","pin-package-manager-versions-pip","pin-package-manager-versions-npm","pin-package-manager-versions-gem","pin-package-manager-versions-apk","use-copy-instead-of-add","use-wget-instead-of-add","do-not-have-secrets","have-a-healthcheck","have-a-user"],"successfullyFixedSmells":["pin-package-manager-versions-apk","have-a-healthcheck"],"processedDockerfile":"FROM alpine:3.13\nENV TAG=\"v0.6.1\"\nENV NOTARYPKG=\"github.com/theupdateframework/notary\"\nENV INSTALLDIR=\"/notary/signer\"\nEXPOSE 4444/tcp\nEXPOSE 7899/tcp\nWORKDIR ${INSTALLDIR}\nRUN set -eux ; apk add git=2.30.6-r0 go=1.15.15-r0 make=4.3-r0 musl-dev=1.2.2-r1 --no-cache --virtual build-deps ; export GOPATH=/go GOCACHE=/go/cache ; mkdir -p ${GOPATH}/src/${NOTARYPKG} ; git clone -b ${TAG} --depth 1 https://${NOTARYPKG} ${GOPATH}/src/${NOTARYPKG} ; make -C ${GOPATH}/src/${NOTARYPKG} SKIPENVCHECK=1 PREFIX=. ./bin/static/notary-signer ; cp -vL ${GOPATH}/src/${NOTARYPKG}/bin/static/notary-signer ./ ; apk del --no-network build-deps ; rm -rf ${GOPATH} ; ./notary-signer --help\nCOPY ./signer-config.json .\nCOPY ./entrypoint.sh .\nRUN adduser -D -H -g \"\" notary\nUSER notary\nENV PATH=\"$PATH:${INSTALLDIR}\"\nENTRYPOINT [\"entrypoint.sh\"]\nCMD [\"notary-signer\", \"--help\"]\n# Please add your HEALTHCHECK here!!!\n","originalDockerfile":"FROM alpine:3.13\n\nENV TAG v0.6.1\nENV NOTARYPKG github.com/theupdateframework/notary\nENV INSTALLDIR /notary/signer\nEXPOSE 4444\nEXPOSE 7899\n\nWORKDIR ${INSTALLDIR}\n\nRUN set -eux; \\\n    apk add --no-cache --virtual build-deps git go make musl-dev; \\\n    export GOPATH=/go GOCACHE=/go/cache; \\\n    mkdir -p ${GOPATH}/src/${NOTARYPKG}; \\\n    git clone -b ${TAG} --depth 1 https://${NOTARYPKG} ${GOPATH}/src/${NOTARYPKG}; \\\n    make -C ${GOPATH}/src/${NOTARYPKG} SKIPENVCHECK=1 PREFIX=. ./bin/static/notary-signer; \\\n    cp -vL ${GOPATH}/src/${NOTARYPKG}/bin/static/notary-signer ./; \\\n    apk del --no-network build-deps; \\\n    rm -rf ${GOPATH}; \\\n    ./notary-signer --help\n\nCOPY ./signer-config.json .\nCOPY ./entrypoint.sh .\n\nRUN adduser -D -H -g \"\" notary\nUSER notary\nENV PATH=$PATH:${INSTALLDIR}\n\nENTRYPOINT [ \"entrypoint.sh\" ]\nCMD [ \"notary-signer\", \"--help\" ]\n","injectedSmells":[],"originalDockerfileHash":"48271f7b5c0b7bd18b4069907b4e8ed6","successfullyInjectedSmells":[],"originalDockerfileUglified":"FROM alpine:3.13\nENV TAG=\"v0.6.1\"\nENV NOTARYPKG=\"github.com/theupdateframework/notary\"\nENV INSTALLDIR=\"/notary/signer\"\nEXPOSE 4444/tcp\nEXPOSE 7899/tcp\nWORKDIR ${INSTALLDIR}\nRUN set -eux ; apk add --no-cache --virtual build-deps git go make musl-dev ; export GOPATH=/go GOCACHE=/go/cache ; mkdir -p ${GOPATH}/src/${NOTARYPKG} ; git clone -b ${TAG} --depth 1 https://${NOTARYPKG} ${GOPATH}/src/${NOTARYPKG} ; make -C ${GOPATH}/src/${NOTARYPKG} SKIPENVCHECK=1 PREFIX=. ./bin/static/notary-signer ; cp -vL ${GOPATH}/src/${NOTARYPKG}/bin/static/notary-signer ./ ; apk del --no-network build-deps ; rm -rf ${GOPATH} ; ./notary-signer --help\nCOPY ./signer-config.json .\nCOPY ./entrypoint.sh .\nRUN adduser -D -H -g \"\" notary\nUSER notary\nENV PATH=\"$PATH:${INSTALLDIR}\"\nENTRYPOINT [\"entrypoint.sh\"]\nCMD [\"notary-signer\", \"--help\"]\n","originalDockerfileUglifiedHash":"6ee2f500662e1e52679269386d42045a","fileName":"/ICSME-replicationpackage/dataset/original_dockerfiles/notary__signer-0.6.1-2.dockerfile"}